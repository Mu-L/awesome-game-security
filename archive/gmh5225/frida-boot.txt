Project Path: arc_gmh5225_frida-boot_mtapkdqm

Source Tree:

```txt
arc_gmh5225_frida-boot_mtapkdqm
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ README.md
â”œâ”€â”€ course
â”‚   â”œâ”€â”€ 0-getting-started
â”‚   â”‚   â”œâ”€â”€ code.md
â”‚   â”‚   â”œâ”€â”€ environment.md
â”‚   â”‚   â”œâ”€â”€ shells.md
â”‚   â”‚   â””â”€â”€ starting.md
â”‚   â”œâ”€â”€ 1-chapter-1
â”‚   â”‚   â”œâ”€â”€ compiling.md
â”‚   â”‚   â”œâ”€â”€ hooking.md
â”‚   â”‚   â”œâ”€â”€ internals.md
â”‚   â”‚   â”œâ”€â”€ ld_preload.md
â”‚   â”‚   â””â”€â”€ sample-app.md
â”‚   â”œâ”€â”€ 2-chapter-2
â”‚   â”‚   â”œâ”€â”€ arguments.md
â”‚   â”‚   â”œâ”€â”€ frida.md
â”‚   â”‚   â”œâ”€â”€ javascript.md
â”‚   â”‚   â”œâ”€â”€ repurposing.md
â”‚   â”‚   â”œâ”€â”€ return.md
â”‚   â”‚   â””â”€â”€ sleep.md
â”‚   â”œâ”€â”€ 3-chapter-3
â”‚   â”‚   â”œâ”€â”€ channels.md
â”‚   â”‚   â”œâ”€â”€ frida-tools.md
â”‚   â”‚   â”œâ”€â”€ lifecycle.md
â”‚   â”‚   â”œâ”€â”€ operating-modes.md
â”‚   â”‚   â”œâ”€â”€ rpc.md
â”‚   â”‚   â”œâ”€â”€ tools.md
â”‚   â”‚   â””â”€â”€ typescript.md
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ _coverpage.md
â”‚   â”œâ”€â”€ _media
â”‚   â”‚   â”œâ”€â”€ binja-1.png
â”‚   â”‚   â”œâ”€â”€ binja-2.jpg
â”‚   â”‚   â”œâ”€â”€ binja-3.png
â”‚   â”‚   â”œâ”€â”€ breakpoint-1.png
â”‚   â”‚   â”œâ”€â”€ code-stack.png
â”‚   â”‚   â”œâ”€â”€ docker-exec-bash.png
â”‚   â”‚   â”œâ”€â”€ docker-tmux.png
â”‚   â”‚   â”œâ”€â”€ edit-frida-index.png
â”‚   â”‚   â”œâ”€â”€ enter-puts.png
â”‚   â”‚   â”œâ”€â”€ frida-arch.excalidraw
â”‚   â”‚   â”œâ”€â”€ frida-arch.png
â”‚   â”‚   â”œâ”€â”€ frida-boot-prompt.png
â”‚   â”‚   â”œâ”€â”€ frida-jmp-patch.excalidraw
â”‚   â”‚   â”œâ”€â”€ frida-jmp-patch.png
â”‚   â”‚   â”œâ”€â”€ frida-new.png
â”‚   â”‚   â”œâ”€â”€ function-call-hooked.excalidraw
â”‚   â”‚   â”œâ”€â”€ function-call-hooked.png
â”‚   â”‚   â”œâ”€â”€ function-call.excalidraw
â”‚   â”‚   â”œâ”€â”€ function-call.png
â”‚   â”‚   â”œâ”€â”€ gdb-start.png
â”‚   â”‚   â”œâ”€â”€ got.png
â”‚   â”‚   â”œâ”€â”€ plt-got-ld_preload.excalidraw
â”‚   â”‚   â”œâ”€â”€ plt-got-ld_preload.png
â”‚   â”‚   â”œâ”€â”€ plt-got.excalidraw
â”‚   â”‚   â”œâ”€â”€ plt-got.png
â”‚   â”‚   â”œâ”€â”€ printf-args.png
â”‚   â”‚   â”œâ”€â”€ real-puts.png
â”‚   â”‚   â”œâ”€â”€ script-load-time.excalidraw
â”‚   â”‚   â”œâ”€â”€ script-load-time.png
â”‚   â”‚   â”œâ”€â”€ sleep-proxy.excalidraw
â”‚   â”‚   â”œâ”€â”€ sleep-proxy.png
â”‚   â”‚   â”œâ”€â”€ vscode-autocompelte.png
â”‚   â”‚   â”œâ”€â”€ vscode-index.jpg
â”‚   â”‚   â””â”€â”€ vscode-project.jpg
â”‚   â”œâ”€â”€ _navbar.md
â”‚   â”œâ”€â”€ _sidebar.md
â”‚   â”œâ”€â”€ course.js
â”‚   â”œâ”€â”€ credits.md
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ web
â”‚       â”œâ”€â”€ docsify-copy-code.js
â”‚       â”œâ”€â”€ docsify-pagination.min.js
â”‚       â”œâ”€â”€ docsify-themeable.js
â”‚       â”œâ”€â”€ docsify.min.js
â”‚       â”œâ”€â”€ prism-bash.min.js
â”‚       â”œâ”€â”€ prism-c.min.js
â”‚       â”œâ”€â”€ prism-python.min.js
â”‚       â”œâ”€â”€ prism-typescript.min.js
â”‚       â”œâ”€â”€ theme-simple-dark.css
â”‚       â””â”€â”€ vue.css
â”œâ”€â”€ docker.d
â”‚   â””â”€â”€ docker-entrypoint.sh
â”œâ”€â”€ docker.sh
â”œâ”€â”€ images
â”‚   â””â”€â”€ frida-boot-web.png
â”œâ”€â”€ slides
â”‚   â””â”€â”€ frida-boot ðŸ‘¢.pdf
â””â”€â”€ software
    â”œâ”€â”€ Makefile
    â”œâ”€â”€ crypt.c
    â”œâ”€â”€ crypt.js.1
    â”œâ”€â”€ crypt.js.2
    â”œâ”€â”€ crypt.js.3
    â”œâ”€â”€ crypt.js.4
    â”œâ”€â”€ embedded-agent.js
    â”œâ”€â”€ fake_sleep.c
    â”œâ”€â”€ fake_sleep.c.1
    â”œâ”€â”€ fake_sleep.c.2
    â”œâ”€â”€ frida-gadget.config.1
    â”œâ”€â”€ frida-gadget.config.2
    â”œâ”€â”€ index.js.1
    â”œâ”€â”€ index.js.2
    â”œâ”€â”€ index.js.3
    â”œâ”€â”€ index.js.4
    â”œâ”€â”€ index.js.5
    â”œâ”€â”€ index.js.6
    â”œâ”€â”€ index.ts.1
    â”œâ”€â”€ index.ts.2
    â”œâ”€â”€ interceptor-attach.js.1
    â”œâ”€â”€ interceptor-attach.js.2
    â”œâ”€â”€ interceptor-attach.js.3
    â”œâ”€â”€ interceptor-attach.js.4
    â”œâ”€â”€ interceptor-attach.js.5
    â”œâ”€â”€ pew.c
    â”œâ”€â”€ tool.py.1
    â”œâ”€â”€ tool.py.2
    â”œâ”€â”€ tool.py.3
    â”œâ”€â”€ tool.py.4
    â”œâ”€â”€ tool.py.5
    â”œâ”€â”€ tool.py.6
    â”œâ”€â”€ tool.py.7
    â”œâ”€â”€ tool.py.8
    â””â”€â”€ tool.py.9

```

`Dockerfile`:

```
FROM debian:bullseye-slim

LABEL maintainer="@leonjza"
LABEL github="https://github.com/leonjza/frida-boot"

ENV FRIDA_VERSION 12.9.4

# https://unix.stackexchange.com/a/480460
# We need those man pages for frida-trace
RUN sed -i '/path-exclude \/usr\/share\/man/d' /etc/dpkg/dpkg.cfg.d/docker && \
    sed -i '/path-exclude \/usr\/share\/groff/d' /etc/dpkg/dpkg.cfg.d/docker

RUN export DEBIAN_FRONTEND=noninteractive \
  && apt-get update \
  && apt-get install -y --no-install-recommends \
    # course documentation \
    nginx-light \
    # frida and compiler stuff \
    python3-pip build-essential \
    # to debug stuff \
    gdb locales procps file ltrace patchelf \
    # so that frida-trace can populate args \
    man manpages-dev \
    # typescript \
    npm \
    # utils \
    git vim tmux curl \
  && rm -rf /var/lib/apt/lists/*

# Configure the locale for UTF8 support.
RUN sed -i -e 's/# en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen && \
    locale-gen
ENV LANG en_US.UTF-8
ENV LANGUAGE en_US:en
ENV LC_ALL en_US.UTF-8

# Install Frida
RUN pip3 install frida-tools

# GEF Setup aka: Pretty debugging.
RUN curl -fsSL https://github.com/hugsy/gef/raw/master/gef.py -o ~/.gdbinit-gef.py && \
    echo source ~/.gdbinit-gef.py >> ~/.gdbinit

# Frida Server
RUN curl -fsSL https://github.com/frida/frida/releases/download/${FRIDA_VERSION}/frida-server-${FRIDA_VERSION}-linux-x86_64.xz -o /tmp/frida-server.xz && \
    unxz /tmp/frida-server.xz && \
    mv /tmp/frida-server /usr/local/bin && \
    chmod +x /usr/local/bin/frida-server

# Frida Gadget
RUN curl -fsSL https://github.com/frida/frida/releases/download/${FRIDA_VERSION}/frida-gadget-${FRIDA_VERSION}-linux-x86_64.so.xz -o /root/frida-gadget.so.xz && \
    unxz /root/frida-gadget.so.xz

# frida-agent-example
RUN cd /root && \
    git clone https://github.com/oleavr/frida-agent-example.git && \
    cd frida-agent-example && \
    npm install

# Configure the documentation
RUN rm -Rf /var/www/html
ADD course/ /var/www/html

# Add code snippets
ADD software /root/software

# Defaults
VOLUME /root/code
WORKDIR /root

ADD docker.d/.bashrc /root/.bashrc
ADD docker.d/.motd /root/.motd
ADD docker.d/.vimrc /root/.vimrc
ADD docker.d/docker-entrypoint.sh /docker-entrypoint.sh

# nginx serving docs
EXPOSE 80

ENTRYPOINT ["/docker-entrypoint.sh"]

```

`README.md`:

```md

<h1 align="center">
  <br>
  <br>
  frida-boot ðŸ‘¢
  <br>
</h1>

<h4 align="center">
  A binary instrumentation workshop, using <a href="https://frida.re" target="_blank">Frida</a>, for beginners!
  <br />
  <p align="center">
    <a href="https://twitter.com/leonjza"><img src="https://img.shields.io/badge/twitter-%40leonjza-blue.svg" alt="@leonjza" height="18"></a>
    <a href="https://hub.docker.com/r/leonjza/frida-boot"><img alt="Docker Cloud Build Status" src="https://img.shields.io/docker/cloud/build/leonjza/frida-boot"></a>
  </p>
 </h4>

## quickstart

<img align="right" src="./images/frida-boot-web.png" height="320" alt="frida-boot">

- `git clone https://github.com/leonjza/frida-boot`
- `cd frida-boot`
- `./docker.sh pull`
- `./docker.sh run`

After running the container, all of the offline workshop content will be available at <http://localhost:9999>.

## slides & stream

This workshop was streamed on YouTube [here](https://www.youtube.com/watch?v=CLpW1tZCblo).

The slides for the workshop can be found on Google Slides [here](https://docs.google.com/presentation/d/1BK4CsGChSKI8BCVsg9Rlv0lY5AfsrbanhIRWnKaP0TI/edit?usp=sharing), with a PDF copy available in the `slides/` directory of this repository.

## manually building

The `Dockerfile` in this repository can be used to manually build the container. Feel free to edit it to suit your needs.

```bash
docker build -t frida-boot:local .
```

```

`course/0-getting-started/code.md`:

```md
# Workshop Code

In this workshop you are going to be a polyglot programmer. That means, you will be writing code (or modifying snippets) in a wide variety in programming languages (sometimes more than one language in a file). Embrace it, it really is a lot of fun! All of the code you write needs to eventually run in the container. Depending on your preference, there are a few options to help you with the development workflow.

## Code inside the container

The container has `vim` installed. So, if you are comfortable with that, simply edit away in there. The only exercise where this approach will probably not work great will be when we get to building more complex Frida agents with `frida-compile`.

## Code outside of the container, but mounted

The recommended approach would be to have a folder outside of the container, mounted in. This way you may use any editing tools you have on your host (such as `vim`, `vscode` etc.) to modify files, but also have them available inside of the container.

To do this, start the docker container with the `-v` flag, specifying the local path to the code to be available at `/root/code` inside of the container. For example:

```bash
docker run --rm -it -p9999:80 -v $(pwd)/code:/root/code
```

?> The `$(pwd)` section will automatically expand to the current working directory as the `-v` flag expects a full path.

```

`course/0-getting-started/environment.md`:

```md
# Environment

This workshop will be run from within a single docker container that you either downloaded, or built yourself from this workshop's repository. All of the tools required have been pre-installed and configured for you to try and make this easy as possible.

The following core tooling should be available:

- GNU Debugger [`gdb`](https://www.gnu.org/software/gdb/) with the awesome GDB Enhanced Features [`gef`](http://gef.rtfd.io/) assistance tooling.
- The [Frida](https://frida.re/) python command line utilities, [`frida-tools`](https://github.com/frida/frida-tools) which also includes [`frida`](https://github.com/frida/frida) itself.

Other programs / helpers include:

- `vim`, I mean, what else.
- `tmux`, we are going to do a few things at once. You can always just spawn more shells from your host into the container.

Some sample code to play with is also provided, but this needs to be mounted into the container. More information about that can be found in a later section [here](0-getting-started/code).

```

`course/0-getting-started/shells.md`:

```md
# Shells

Most of the commands used in this workshop are going to be run _inside_ your docker container. So, getting a shell inside the container is pretty important ^_^

There are a few options and you are free to choose how you want to go about that. Regardless of which route you choose, the initial launch of the container will always be the same. For more information, please see [starting](0-getting-started/starting).

## tmux

Once you have started the container, you should see a prompt with the words `frida-boot` in it. The container comes with `tmux` installed. If you are familiar with using `tmux` simply run it. The `tmux` configuration uses the default configuration, with the `ctrl+b` binding.

![shell](../_media/docker-tmux.png)

## docker exec

If you are not comfortable with `tmux`, thatâ€™s ok. You can simply execute more shells in the running container. Given that we specified the `--name` flag as `frida-boot` when we started the container, you can get another `bash` shell in the container with:

```bash
docker exec -it frida-boot /bin/bash
```

![shell](../_media/docker-exec-bash.png)

!> If the container is not running (or you got the name wrong), you can expect an error similar to: `Error: No such container: frida-boot`. The `docker ps` command should shed some light on which containers are running and what their names are!

```

`course/0-getting-started/starting.md`:

```md
# Starting the environment

The recommended way to start the environment is with the following command:

```bash
docker run --cap-add SYS_PTRACE --rm -it --name frida-boot -p 9999:80 -v $(pwd)/program:/root/code leonjza/frida-boot
```

This will:

- Start the workshop container using the `leonjza/frida-boot` image on Dockerhub
- Give the container the `SYS_PTRACE` ability so that we can attach a debugger to processes inside of the container.
- Name the resultant container `frida-boot`
- Expose port `9999` on your host OS, forwarding it to port `80` inside the container for the documentation
- Mount the `./program` directory on your host to the `/root/code` directory inside the container
- Clean-up the container when you are finished

## Building yourself

If you would prefer to build the container yourself, you can do that with:

- `git clone https://github.com/leonjza/frida-boot`
- Make modifications if you need to.
- Decide on a name and tag for the container. I usually tag locally built images with `:local`.
- Build the image (from the projects root) with `docker build -t frida-boot:local .`

!> **Note** If you built the image yourself, you need to use the tag name you used in the `docker build` command to start the image.

In either case, the documentation server should be available on port `9999` (unless you change that ofc.).

```

`course/1-chapter-1/compiling.md`:

```md
# Compiling the application

Having familiarised ourselves with our sample application a little, we can go ahead and compile it in the container.

## Performing the compile

Inside of the docker container in the `/root/code` directory you should have the new `pew.c` file from the previous section. Let's compile the program using `gcc`. We will tell `gcc` we want to compile the `pew.c` source file and output the result to a program called `pew`. Do this by running `gcc pew.c -o pew`:

```bash
~/code$ gcc pew.c -o pew
~/code$
```

Once the compilation is done, you should have a new ELF binary called `pew` in the same folder. You can run it with `./pew` now.

```bash
~/code$ ./pew
[+] Starting up!
[+] Sleeping for 3 seconds
[+] Sleeping for 4 seconds
[+] Sleeping for 2 seconds
^C
```

If you want to exit the program before the interations complete, simply hit <kbd>ctrl</kbd> + <kbd>c</kbd>.

```

`course/1-chapter-1/hooking.md`:

```md
# Hooking 101

Hooking function calls in a program provides us with an incredibly powerful ability to see whatâ€™s happening "under the hood" of a running program. With hooking, we can "spy" on parts of a programs logic, or modify logic so that the program behaves completely differently. We can even reuse parts of the program against itself :) Let's look at an example.

Imagine some C functions for a moment that is responsible crypto related work. Ignoring the actual crypto implementation, they may look something like this:

```c
// Encrypt a buffer using key
void encrypt(int *data, char *key) {
    // encryption routine
}

// Get an encryption key
char * getKey() {
    // returns a key
}
```

When a program makes a call to `encrypt()`, `key` will be passed to it as an argument. Using hooking the idea would be to reveal what the value of `key` is as the function is called. Practically depending on how the hooking is performed, one may simply echo the `key` value to screen and allow the function to continue normally.

Considering the `getKey()` function for a moment, hooking to reveal arguments may be less interesting, whereas the `return` value is. When hooking we can possibly reveal the key when the function returns, or, we can provide our own key value instead.

## Typical hooking flow

Conceptually, when you are hooking a function, the method of hooking intercept the call to a function and redirect to a piece of code that you control. When done, it would typically return. Calling the original function is many times optional.

To help visualise this, consider the following diagrams. Without any funny business (read: hooking) going on, a normal function call would occur something like this:

![function-call-1](../_media/function-call.png)

Now, if we were to introduce a hook, we would update the code flow to something like this:

![function-call-1](../_media/function-call-hooked.png)

Don't worry if that wasn't perfectly clear yet. You are going to do this soon yourself.

```

`course/1-chapter-1/internals.md`:

```md
# Internals

So far we have seen how we can use `LD_PRELOAD` to hook the function call to `sleep()`. But what happens under the hood when we do this? To try and get a better view of the internals of this in preparation for playing with Frida, lets attach a debugger and step through the process of resolving a function.

## gdb quick start

The debugger we are going to use is the GNU Debugger, `gdb`. It's super popular and not too hard to use. Here are some basic commands we are going to use:

- `r` to "run" our program.
- `b` to set a "breakpoint".
- `s` to "step" a function.
- `si` to "step instruction".
- `info functions` to "list functions" in the binary.
- `info break` to list our breakpoints.
- `del <index>` to delete a breakpoint with the index obtained with `info break`.

To start the debugging session on our test binary called `pew`, simply run `gdb -q ./pew`. You should pre presented with a prompt, similar to this:

?> `-q` just silences some default banners.

![gdb-start](../_media/gdb-start.png)

Look at you! Already debugging! ðŸŽ‰ To quit, just type `q` and hit enter.

## Enumerate the app

While we have the source code for this application (given that we wrote it), this will very rarely be the case. So, imagine for a moment you did not write the application you are debugging (or have the source code) and need to figure out what's inside the app.

### Using nm

Before we use the debugger again, letâ€™s see how we can get an idea of which _symbols_ exists in the binary using the `nm` tool. Type `nm -D pew` and check the output:

```bash
$ nm -D pew
   w __cxa_finalize
   w __gmon_start__
   w _ITM_deregisterTMCloneTable
   w _ITM_registerTMCloneTable
   U __libc_start_main
   U printf
   U puts
   U rand
   U sleep
   U srand
   U time
```

Here we asked `nm` to dump the _Dynamic Symbol Table_ of the binary, which in our case translates to all of the functions that will be resolved at runtime. Try `nm` on some other programs like `bash`. `nm` expects a full path, so you can use something like `nm -D $(which bash)`.

```bash
$ nm -D $(which bash)
                 U abort
000000000003e500 T absolute_pathname
000000000003e560 T absolute_program
                 U access
0000000000079040 T add_alias
00000000000d4850 T add_history
00000000000d4790 T add_history_time

[... snip ...]
```

You will notice `bash` has many, many more symbols with a wide variety of flags a well! Lots of hooking opportunities :)

?> To learn more about what the flags like `U`/`T`/`w` etc. mean, check out `man nm`.

Symbols with the `U` flag mean "The symbol is undefined." (from `man nm`). This means that the dynamic linker will at runtime try and find the location for the function in any linked libraries (most often in libc) and use that function going forward.

### Using gdb

After opening our program in `gdb`, we could ask for the available function symbols there too. We can do this with `info functions`:

```text
gefâž¤  info functions
All defined functions:

Non-debugging symbols:
0x0000000000001000  _init
0x0000000000001030  puts@plt
0x0000000000001040  printf@plt
0x0000000000001050  srand@plt
0x0000000000001060  time@plt
0x0000000000001070  sleep@plt
0x0000000000001080  rand@plt
0x0000000000001090  __cxa_finalize@plt
0x00000000000010a0  _start
0x00000000000010d0  deregister_tm_clones
0x0000000000001100  register_tm_clones
0x0000000000001140  __do_global_dtors_aux
0x0000000000001180  frame_dummy
0x0000000000001185  rand_range
0x00000000000011ad  main
0x0000000000001210  __libc_csu_init
0x0000000000001270  __libc_csu_fini
0x0000000000001274  _fini
```

Great. We have a few symbols to work with. The first function we will be interested in would be `main()` which is effectively the entry point for our program. While itâ€™s not the first code that gets executed when the program starts, for now just know that this is where the code we wrote starts. Next, we can see `printf@plt` and `sleep@plt`. Let's focus on these two for now.

When we used `nm` in the previous section, we saw that these symbols were marked as `U` (undefined). Within `gdb` however we get this `@plt` section. The Procedure Linkage Table (PLT) is essentially just a marker to tell the program that when we compiled the program, we did not know where `sleep` or `printf` was, and the dynamic linker should find those at runtime. The PLT is the entry point for that function resolution logic which will reference a section called the Global Offset Table (GOT) for addresses. The GOT is updated after the dynamic linker successfully resolved a functions' address the first time. Once resolved, the program will jump to the real `printf` and continue as normal. Next time the program wants to use `printf`, the offset in the GOT will be used.

![plt-got](../_media/plt-got.png)

Let's watch this in action using `gdb`

## debugging pew

Fire up `gdb`, specifying `pew` as the target to debug.

```bash
$ gdb -q ./pew
GEF for linux ready, type `gef' to start, `gef config' to configure
75 commands loaded for GDB 9.1 using Python engine 3.8
[*] 5 commands could not be loaded, run `gef missing` to know why.
Reading symbols from ./sleep_test...
(No debugging symbols found in ./sleep_test)
gefâž¤
```

Next, let's disassemble the `main` function and see what the machine code for it looks like.

```bash
gefâž¤  disas main
Dump of assembler code for function main:
   0x00000000000011ad <+0>: push   rbp
   0x00000000000011ae <+1>: mov    rbp,rsp
   0x00000000000011b1 <+4>: sub    rsp,0x10
   0x00000000000011b5 <+8>: lea    rdi,[rip+0xe48]        # 0x2004
   0x00000000000011bc <+15>: call   0x1030 <puts@plt>
   0x00000000000011c1 <+20>: mov    edi,0x0
   0x00000000000011c6 <+25>: call   0x1060 <time@plt>
   0x00000000000011cb <+30>: mov    edi,eax
   0x00000000000011cd <+32>: call   0x1050 <srand@plt>
   0x00000000000011d2 <+37>: mov    esi,0x5
   0x00000000000011d7 <+42>: mov    edi,0x1
   0x00000000000011dc <+47>: call   0x1185 <rand_range>
   0x00000000000011e1 <+52>: mov    DWORD PTR [rbp-0x4],eax
   0x00000000000011e4 <+55>: mov    eax,DWORD PTR [rbp-0x4]
   0x00000000000011e7 <+58>: mov    esi,eax
   0x00000000000011e9 <+60>: lea    rdi,[rip+0xe25]        # 0x2015
   0x00000000000011f0 <+67>: mov    eax,0x0
   0x00000000000011f5 <+72>: call   0x1040 <printf@plt>
   0x00000000000011fa <+77>: mov    eax,DWORD PTR [rbp-0x4]
   0x00000000000011fd <+80>: mov    edi,eax
   0x00000000000011ff <+82>: call   0x1070 <sleep@plt>
   0x0000000000001204 <+87>: jmp    0x11d2 <main+37>
End of assembler dump.
```

We don't have to dive into what the assembly actually means line by line. Instead, the lines containing a `call` to a function with the `@plt` suffix is of interest to us now.

```text
   0x00000000000011bc <+15>: call   0x1030 <puts@plt>
   0x00000000000011c6 <+25>: call   0x1060 <time@plt>
   0x00000000000011cd <+32>: call   0x1050 <srand@plt>
   0x00000000000011dc <+47>: call   0x1185 <rand_range>
   0x00000000000011f5 <+72>: call   0x1040 <printf@plt>
   0x00000000000011ff <+82>: call   0x1070 <sleep@plt>
```

?> Notice the call to `puts`. This is for the first line where we wrote the string "Starting up!", but because of compiler optimisations, the function got replaced to a `puts`.

Let's go ahead and put a breakpoint on the `main` function of our program. We can do this with:

```bash
gefâž¤  b *main
Breakpoint 1 at 0x11ad
```

You can see the list of breakpoints you have with `info br`.

```bash
gefâž¤  info br
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x00000000000011ad <main>
```

If you wanted to, you could delete that breakpoint now with `del 1`.

Alright, next, we run the program with `r`. Hitting `r` and pressing enter should almost immediately hit our breakpoint as `main` is invoked quite early in the programs execution flow. It is a lot of information to digest, especially if this is the first time you are seeing this. Don't worry, we don't need to understand everything now ;)

The first parts of the output you will get when hitting a breakpoint is the CPU register and 'stack' region of memory.

![breakpoint](../_media/breakpoint-1.png)

Scrolling down towards the end of the output, we should see the _code_ and _trace_ sections. These are the only sections we are really going to be interested in. The _code_ section contains the instructions the CPU is going to perform. The _trace_ section is a dynamic view that tries and show context of the functions that have been called. For many reasons this view can be incorrect or have trouble showing accurate data, but its useful nonetheless.

![code-stack](../_media/code-stack.png)

The view you are looking at now can be retrieved at any time while a program is running by issuing the `context` command.

### libc function resolution

With our program paused at the start of the `main` function, let's step through the machine code and observe how libc functions gets resolved. We are not going to step through the entire process, but rather just watch how it does get resolved once, and not again.

To step to the next instruction in the `main` function, enter `si` (step instruction) in the debugger, and watch as the context is updated with instruction pointer moving from `push rbp` to `mov rbp, rsp`.

For example:

```bash
# code section
   0x555e9e1a31a9 <rand_range+36>  add    eax, edx
   0x555e9e1a31ab <rand_range+38>  leave
   0x555e9e1a31ac <rand_range+39>  ret
 â†’ 0x555e9e1a31ad <main+0>         push   rbp
   0x555e9e1a31ae <main+1>         mov    rbp, rsp
   0x555e9e1a31b1 <main+4>         sub    rsp, 0x10
   0x555e9e1a31b5 <main+8>         lea    rdi, [rip+0xe48]        # 0x555e9e1a4004
   0x555e9e1a31bc <main+15>        call   0x555e9e1a3030 <puts@plt>
   0x555e9e1a31c1 <main+20>        mov    edi, 0x03
```

Type `si` and hit `enter`:

```bash
# code section
   0x555e9e1a31aa <rand_range+37>  ror    cl, 1
   0x555e9e1a31ac <rand_range+39>  ret
   0x555e9e1a31ad <main+0>         push   rbp
 â†’ 0x555e9e1a31ae <main+1>         mov    rbp, rsp
   0x555e9e1a31b1 <main+4>         sub    rsp, 0x10
   0x555e9e1a31b5 <main+8>         lea    rdi, [rip+0xe48]        # 0x555e9e1a4004
   0x555e9e1a31bc <main+15>        call   0x555e9e1a3030 <puts@plt>
   0x555e9e1a31c1 <main+20>        mov    edi, 0x0
   0x555e9e1a31c6 <main+25>        call   0x555e9e1a3060 <time@plt>
```

Neat, you have stepped one instruction in the debugger. Many of the context views updated doing this, but again we are only really interested in the _code_ and _trace_ sections. Since we have not called any functions outside of `main`, the trace will currently just show that we are still in the `main()` function.

?> After entering `si` and hitting `enter`, the next time you hit `enter`, the last command (`si` in this case) will be run again.

Continue stepping until you enter the `puts@plt` function (that is after the `call <puts@plt>` was executed). This will be the case after a few `si` invocations and will eventually look like this:

![puts](../_media/enter-puts.png)

At this point you should see that the _trace_ section now has two entries; `#0 puts@plt()` -> `#1 main()`. This means we are in the `puts@plt` function, called from the `main()` function.

We are not really interested in `puts` right now (even though the same thing as what is going to happen to `printf` is about to happen here), lets continue out of this function. Do so with a single run of the `s` (step) command.

![puts](../_media/real-puts.png)

Notice how the trace changed the current from `puts@plt` to `puts`. You are now in the _real_ `puts` function after the Dynamic Linker resolved it. One more time, step out of it with `s` so that we end up in main again right after the call to `puts@plt`.

```bash
   0x555e9e1a31b1 <main+4>         sub    rsp, 0x10
   0x555e9e1a31b5 <main+8>         lea    rdi, [rip+0xe48]        # 0x555e9e1a4004
   0x555e9e1a31bc <main+15>        call   0x555e9e1a3030 <puts@plt>
 â†’ 0x555e9e1a31c1 <main+20>        mov    edi, 0x0
   0x555e9e1a31c6 <main+25>        call   0x555e9e1a3060 <time@plt>
   0x555e9e1a31cb <main+30>        mov    edi, eax
   0x555e9e1a31cd <main+32>        call   0x555e9e1a3050 <srand@plt>
   0x555e9e1a31d2 <main+37>        mov    esi, 0x5
   0x555e9e1a31d7 <main+42>        mov    edi, 0x1
```

#### the global offset table

At this stage it probably makes sense to have a look at the Global Offset Table (GOT) we have so far. The GOT should contain all of the resolved function addresses that have been through the dynamic linker. The `gdb` setup you have makes use of `gef` that has a pretty neat GOT status tool. Invoke it by running `got`.

![got](../_media/got.png)

The output shows us that `puts` has been resolved (in the green colour) and `printf` and `sleep` has not yet been resolved (yellow colour). While the colours are a nice indicator, the memory addresses for these functions also serve as a hint on the status. Running the `vmmmap` command should show you the memory ranges applicable to this program, and by checking the current address for the functions you can also deduce if they have been resolved yet.

```text
gefâž¤  vmmap
[ Legend:  Code | Heap | Stack ]
Start              End                Offset             Perm Path
0x0000555e9e1a2000 0x0000555e9e1a3000 0x0000000000000000 r-- /root/code/pew
[ ... ]
0x0000555e9efaf000 0x0000555e9efd0000 0x0000000000000000 rw- [heap]
0x00007fafbc51b000 0x00007fafbc540000 0x0000000000000000 r-- /lib/x86_64-linux-gnu/libc-2.30.soo
[ ... ]
```

You can also just run something like `info symbol 0x7fafbc591000` to get symbol information about a specific memory address.

```text
gefâž¤  info symbol 0x7fafbc591000
puts in section .text of /lib/x86_64-linux-gnu/libc.so.6
gefâž¤  info symbol 0x555e9e1a3046
printf@plt + 6 in section .plt of /root/code/pew
```

### following printf

Let's continue though `main` until we reach the `call printf@plt` instruction. There is quite a bit of code which could make stepping confusing, so instead, we can add another breakpoint on the location we are interested in. To do this, lets first disassemble the `main()` function, and then add the breakpoint on the location where `ptrintf()` is going to be called.

Get the disassembly for the `main()` function with `disas main`:

```text
gefâž¤  disas main
Dump of assembler code for function main:
   0x0000555e9e1a31ad <+0>: push   rbp
   0x0000555e9e1a31ae <+1>: mov    rbp,rsp
   0x0000555e9e1a31b1 <+4>: sub    rsp,0x10
   0x0000555e9e1a31b5 <+8>: lea    rdi,[rip+0xe48]        # 0x555e9e1a4004
   0x0000555e9e1a31bc <+15>: call   0x555e9e1a3030 <puts@plt>
   0x0000555e9e1a31c1 <+20>: mov    edi,0x0
   0x0000555e9e1a31c6 <+25>: call   0x555e9e1a3060 <time@plt>
   0x0000555e9e1a31cb <+30>: mov    edi,eax
   0x0000555e9e1a31cd <+32>: call   0x555e9e1a3050 <srand@plt>
   0x0000555e9e1a31d2 <+37>: mov    esi,0x5
   0x0000555e9e1a31d7 <+42>: mov    edi,0x1
   0x0000555e9e1a31dc <+47>: call   0x555e9e1a3185 <rand_range>
   0x0000555e9e1a31e1 <+52>: mov    DWORD PTR [rbp-0x4],eax
=> 0x0000555e9e1a31e4 <+55>: mov    eax,DWORD PTR [rbp-0x4]
   0x0000555e9e1a31e7 <+58>: mov    esi,eax
   0x0000555e9e1a31e9 <+60>: lea    rdi,[rip+0xe25]        # 0x555e9e1a4015
   0x0000555e9e1a31f0 <+67>: mov    eax,0x0
   0x0000555e9e1a31f5 <+72>: call   0x555e9e1a3040 <printf@plt>
   0x0000555e9e1a31fa <+77>: mov    eax,DWORD PTR [rbp-0x4]
   0x0000555e9e1a31fd <+80>: mov    edi,eax
   0x0000555e9e1a31ff <+82>: call   0x555e9e1a3070 <sleep@plt>
   0x0000555e9e1a3204 <+87>: jmp    0x555e9e1a31d2 <main+37>
End of assembler dump.
```

?> The `=>` character indicates the location of the instruction pointer which is the next instruction that will be executed if we continued through the program.

Next, we set a breakpoint on the line that shows `call   0x555e9e1a3040 <printf@plt>`. The address for this line for the current run of `pew` is `0x0000555e9e1a31f5`, so we set a breakpoint with `b *0x0000555e9e1a31f5`.

```text
gefâž¤  b *0x0000555e9e1a31f5
Breakpoint 2 at 0x555e9e1a31f5
```

That's it! We can now continue running the program with `c`, and watch as we hit the new breakpoint.

![printf-args](../_media/printf-args.png)

?> Notice the new "arguments (guessed)" section. This is something `gef` does for you to try and help debugging. It's pretty spot on in this case given that we gave `printf` a format string and the value `3`.

The very first instruction after the `call` is a jump to the GOT region with `jmp    QWORD PTR [rip+0x2fda]`. The next is to push `0x1` to the stack and then jump to another address. Stepping through this code you will notice the first jump to the GOT section is not taken. Instead, the `0x1` is pushed to the stack and the following jump _is_ taken.

This process is really the beginning of the Dynamic linker doing its thing. You can step quite a few instructions to get a feel for how complex this process really is. :D Just keep going with `si`. Even though `gef` shows a nice trace in the context output, you can ask `gdb` to generate you a back trace as well. Do this with `bt`.

```text
gefâž¤  bt
#0  0x00007fafbc6ee2e0 in ?? () from /lib64/ld-linux-x86-64.so.2
#1  0x00007fafbc6f2af3 in ?? () from /lib64/ld-linux-x86-64.so.2
#2  0x00007fafbc6f944a in ?? () from /lib64/ld-linux-x86-64.so.2
#3  0x0000555e9e1a31fa in main ()
gefâž¤
```

After running `si` a few times, you are probably going to be pretty deep into the dynamic linker doing its thing. We don't have to understand all of that, just that itâ€™s a complex process. Let's return all the way back to `main` again. We can do this by entering the `finish` command which should break on return of the current function. Depending on how far you stepped, you may need to `finish` a few times before you will be back to `main` right after the call to `printf@plt`.

```text
# Code
   0x555e9e1a31e9 <main+60>        lea    rdi, [rip+0xe25]        # 0x555e9e1a4015
   0x555e9e1a31f0 <main+67>        mov    eax, 0x0
   0x555e9e1a31f5 <main+72>        call   0x555e9e1a3040 <printf@plt>
 â†’ 0x555e9e1a31fa <main+77>        mov    eax, DWORD PTR [rbp-0x4]
   0x555e9e1a31fd <main+80>        mov    edi, eax
   0x555e9e1a31ff <main+82>        call   0x555e9e1a3070 <sleep@plt>
   0x555e9e1a3204 <main+87>        jmp    0x555e9e1a31d2 <main+37>
   0x555e9e1a3206                  nop    WORD PTR cs:[rax+rax*1+0x0]
   0x555e9e1a3210 <__libc_csu_init+0> push   r15]
# Trace
[#0] 0x555e9e1a31fa â†’ main()
```

Given that our program is in the infinite loop at this stage with the call to jump back in the program (with `jmp    0x555e9e1a31d2 <main+37>`), lets continue with `c` so that we hit the breakpoint before `printf@plt` gets called again. Enter the `call` and step the instruction `jmp    QWORD PTR [rip+0x2fda]`. You should notice that this time we are immediately in the real `printf`. Pretty cool eh? The `got` command show now show that all of the libc calls we make are fully resolved.

## debugging pew with LD_PRELOAD

So far we have seen how the dynamic linker resolved libc functions (sort-of), storing the results in the GOT so that the next time the same function is called it knows where it is. How does that process look when we are using `LD_PRELOAD`?

Not much different to be honest. Let's take a look. We are going to start up a new debugging session for `pew` and like before, set a breakpoint on `main` too. However, before we run the program (with `r`), we are going to set the `LD_PRELOAD` environment variable within `gdb` first. Do this with `set environment LD_PRELOAD ./fake_sleep.so`. For example:

```text
gefâž¤  b *main
Breakpoint 1 at 0x1155
gefâž¤  set environment LD_PRELOAD ./fake_sleep.so
gefâž¤  r
```

After running the program and hitting the first breakpoint, you can inspect the current processes' environment variables with `show env`.

```bash
gefâž¤  show env
HOSTNAME=565eac426e0d

[ ... snip ... ]

LINES=39
COLUMNS=138
LD_PRELOAD=./fake_sleep.so
gefâž¤
```

Checking the processes virtual memory mapping should also show our extra shared library was loaded and is ready to use:

```bash
gefâž¤  vmmap fake_sleep
[ Legend:  Code | Heap | Stack ]
Start              End                Offset             Perm Path
0x00007f7115e60000 0x00007f7115e61000 0x0000000000000000 r-- /root/code/fake_sleep.so
0x00007f7115e61000 0x00007f7115e62000 0x0000000000001000 r-x /root/code/fake_sleep.so
0x00007f7115e62000 0x00007f7115e63000 0x0000000000002000 r-- /root/code/fake_sleep.so
0x00007f7115e63000 0x00007f7115e64000 0x0000000000002000 r-- /root/code/fake_sleep.so
0x00007f7115e64000 0x00007f7115e65000 0x0000000000003000 rw- /root/code/fake_sleep.so
```

We don't have to go through all of the detail again to see how the first time something like `printf` is called first invokes the dynamic linker. Instead, lets place a breakpoint at the end of the _while_ loop we have in the program, and inspect the GOT from there. With `gdb` paused at the breakpoint we set at `main`, lets disassemble the `main()` function again.

```bash
gefâž¤  disas main
Dump of assembler code for function main:
=> 0x000055b6bc0411ad <+0>: push   rbp
   0x000055b6bc0411ae <+1>: mov    rbp,rsp
   0x000055b6bc0411b1 <+4>: sub    rsp,0x10
   0x000055b6bc0411b5 <+8>: lea    rdi,[rip+0xe48]        # 0x55b6bc042004
   0x000055b6bc0411bc <+15>: call   0x55b6bc041030 <puts@plt>
   0x000055b6bc0411c1 <+20>: mov    edi,0x0
   0x000055b6bc0411c6 <+25>: call   0x55b6bc041060 <time@plt>
   0x000055b6bc0411cb <+30>: mov    edi,eax
   0x000055b6bc0411cd <+32>: call   0x55b6bc041050 <srand@plt>
   0x000055b6bc0411d2 <+37>: mov    esi,0x5
   0x000055b6bc0411d7 <+42>: mov    edi,0x1
   0x000055b6bc0411dc <+47>: call   0x55b6bc041185 <rand_range>
   0x000055b6bc0411e1 <+52>: mov    DWORD PTR [rbp-0x4],eax
   0x000055b6bc0411e4 <+55>: mov    eax,DWORD PTR [rbp-0x4]
   0x000055b6bc0411e7 <+58>: mov    esi,eax
   0x000055b6bc0411e9 <+60>: lea    rdi,[rip+0xe25]        # 0x55b6bc042015
   0x000055b6bc0411f0 <+67>: mov    eax,0x0
   0x000055b6bc0411f5 <+72>: call   0x55b6bc041040 <printf@plt>
   0x000055b6bc0411fa <+77>: mov    eax,DWORD PTR [rbp-0x4]
   0x000055b6bc0411fd <+80>: mov    edi,eax
   0x000055b6bc0411ff <+82>: call   0x55b6bc041070 <sleep@plt>
   0x000055b6bc041204 <+87>: jmp    0x55b6bc0411d2 <main+37>
End of assembler dump.
```

The instruction at the end of our while loop is the `jmp` call back to a position in `main`, which in my case was at `0x000055b6bc041204`. So, set a breakpoint on that address with `b *0x000055b6bc041204`.

!> Your address will probably be different, so update it with the correct location in the `b` command.

Next, we continue the program's execution with the `c` command.

```text
gefâž¤  c
Continuing.
[+] Starting up!
[+] Sleeping for 5 seconds
[-] sleep goes brrr

Breakpoint 2, 0x000055b6bc041204 in main ()
[ ... ]
```

At this point, we should be at the `jmp` instruction. Entries in the GOT should also have all been resolved. Let's check out the GOT.

```bash
gefâž¤  got

GOT protection: Partial RelRO | GOT functions: 6

[0x55b6bc044018] puts@GLIBC_2.2.5  â†’  0x7f7115d0f000
[0x55b6bc044020] printf@GLIBC_2.2.5  â†’  0x7f7115cef440
[0x55b6bc044028] srand@GLIBC_2.2.5  â†’  0x7f7115cd79f0
[0x55b6bc044030] time@GLIBC_2.2.5  â†’  0x7ffea31fbee0
[0x55b6bc044038] sleep@GLIBC_2.2.5  â†’  0x7f7115e61115
[0x55b6bc044040] rand@GLIBC_2.2.5  â†’  0x7f7115cd80f0
```

In `gdb`, we can ask for information about symbols. We can do this with the `info symbol` command, which takes one argument. Letâ€™s check out some values from the GOT to see where they are.

```bash
gefâž¤  info symbol puts
puts in section .text of /lib/x86_64-linux-gnu/libc.so.6

gefâž¤  info symbol rand
rand in section .text of /lib/x86_64-linux-gnu/libc.so.6

gefâž¤  info symbol sleep
sleep in section .text of ./fake_sleep.so
```

As you can see, all of the function's except for `sleep` correctly resolved to their `libc` locations. As mentioned in the [`LD_PRELOAD`](1-chapter-1/ld_preload) section, libraries in the `LD_PRELOAD` environment variable get preference when the dynamic linker resolves functions. We just saw that happen!

### using the real sleep

One last thing. Remember the code we wrote to call `dlsym` to get the real address of `sleep` (hopefully in libc)? Let's see what that looks like as well. You know, while we have been getting super comfortable with a debugger :)

From the output of the `got` command, we could see that `sleep` resolved to an address that lives in our `fake_sleep.so` shared library. We can ask `gdb` to disassemble that function so that we can see what it's machine code looks like. For example:

```bash
gefâž¤  got

GOT protection: Partial RelRO | GOT functions: 6

[0x55b6bc044018] puts@GLIBC_2.2.5  â†’  0x7f7115d0f000
[0x55b6bc044020] printf@GLIBC_2.2.5  â†’  0x7f7115cef440
[0x55b6bc044028] srand@GLIBC_2.2.5  â†’  0x7f7115cd79f0
[0x55b6bc044030] time@GLIBC_2.2.5  â†’  0x7ffea31fbee0
[0x55b6bc044038] sleep@GLIBC_2.2.5  â†’  0x7f7115e61115
[0x55b6bc044040] rand@GLIBC_2.2.5  â†’  0x7f7115cd80f0

# we got sleep @ 0x7f7115e61115
gefâž¤  disas 0x7f7115e61115
Dump of assembler code for function sleep:
   0x00007f7115e61115 <+0>: push   rbp
   0x00007f7115e61116 <+1>: mov    rbp,rsp
   0x00007f7115e61119 <+4>: sub    rsp,0x20
   0x00007f7115e6111d <+8>: mov    DWORD PTR [rbp-0x14],edi
   0x00007f7115e61120 <+11>: lea    rdi,[rip+0xed9]        # 0x7f7115e62000
   0x00007f7115e61127 <+18>: call   0x7f7115e61030 <puts@plt>
   0x00007f7115e6112c <+23>: mov    DWORD PTR [rbp-0x14],0x1
   0x00007f7115e61133 <+30>: lea    rsi,[rip+0xeda]        # 0x7f7115e62014
   0x00007f7115e6113a <+37>: mov    rdi,0xffffffffffffffff
   0x00007f7115e61141 <+44>: call   0x7f7115e61040 <dlsym@plt>
   0x00007f7115e61146 <+49>: mov    QWORD PTR [rbp-0x8],rax
   0x00007f7115e6114a <+53>: mov    eax,DWORD PTR [rbp-0x14]
   0x00007f7115e6114d <+56>: mov    rdx,QWORD PTR [rbp-0x8]
   0x00007f7115e61151 <+60>: mov    edi,eax
   0x00007f7115e61153 <+62>: call   rdx   # <--------
   0x00007f7115e61155 <+64>: leave
   0x00007f7115e61156 <+65>: ret
End of assembler dump.
gefâž¤
```

?> You can also just run `disas sleep` here, `gdb` will resolve the function in the background for you.

Again, we don't have to know an awful lot about what all of this assembly means. The parts we are interested in are usually the `call` commands, and here we can see there is an instruction that says `call rdx`. So, whatever value is in the `RDX` register, this code will make a call to that.

To watch that happen, lets add another breakpoint on this instruction. I will do it with `b *0x00007f7115e61153`, but you need to use the address you have for the same instruction. Remember you can check the breakpoints you have with `info br`.

```bash
gefâž¤  info br
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x000055b6bc0411ad <main>
   breakpoint already hit 1 time
2       breakpoint     keep y   0x000055b6bc041204 <main+87>
   breakpoint already hit 1 time
3       breakpoint     keep y   0x00007f7115e61153 <sleep+62>
```

With our breakpoint set, we can continue the execution of the program with `c`. This time round, the program should stop right before the `call rdx` instruction is executed.

```bash
# Code section
   0x7f7115e6114a <sleep+53>       mov    eax, DWORD PTR [rbp-0x14]
   0x7f7115e6114d <sleep+56>       mov    rdx, QWORD PTR [rbp-0x8]
   0x7f7115e61151 <sleep+60>       mov    edi, eax
 â†’ 0x7f7115e61153 <sleep+62>       call   rdx
   0x7f7115e61155 <sleep+64>       leave
   0x7f7115e61156 <sleep+65>       ret
   0x7f7115e61157                  add    BYTE PTR [rax-0x7d], cl
   0x7f7115e6115a <_fini+2>        in     al, dx
   0x7f7115e6115b <_fini+3>        or     BYTE PTR [rax-0x7d], cl
```

We can inspect that value of the `RDX` register from the context view `gef` gives us here, or, we can dump it with `x $rdx`.

```bash
gefâž¤  x $rdx
0x7f7115d63d60 <sleep>: 0x83485355
```

In my case, `RDX` contained the value `0x7f7115d63d60`. Using the `info symbol` command, we can see where that points to. You can use either the address that you just revealed in `RDX` as an argument, or dynamically refer to it with the `$rdx` variable.

```bash
gefâž¤  info symbol 0x7f7115d63d60
sleep in section .text of /lib/x86_64-linux-gnu/libc.so.6
```

The real address for `sleep` in libc!

## summary

In the last example, what you hopefully took from that was that with our own shared library combined with `LD_PRELOAD`, we made the dynamic linker resolve *our* `sleep` function instead of the one available in libc. Then, inside of our own `sleep`, we used `dlsym` to resolve the real `sleep` function in libc.

![plt-got-ld_preload](../_media/plt-got-ld_preload.png)

```

`course/1-chapter-1/ld_preload.md`:

```md
# LD_PRELOAD

Before we get our hands dirty with Frida, let's take a detour implement some hooking ourselves. We will do this by making use of the Linux `LD_PRELOAD` environment variable. From `man ld.so` we can read about this variable (and its many, many friends):

```text
LD_PRELOAD
    A list of additional, user-specified, ELF shared objects to be loaded  
    before all others. This feature can be used to selectively override  
    functions in other shared objects.
```

Basically, what that means is that we can build our own shared library and specify it with the `LD_PRELOAD` environment variable to be loaded when our program starts up. Our shared object can contain a function that already exists in another shared object, but our function will get preference when called.

Under the hood, when a call to something like `printf` is made for the first time, the C standard library actually dynamically resolves the address of where the code for `printf` really lives. It is possible to avoid this behaviour by compiling an executable with the `-static` flag, meaning all of the logic will be contained in the executable without any external dependencies. The `ldd` tool can be used to see which libraries an executable depends on.

```bash
# Dynamic executable
$ gcc *.c -o pew
$ ldd pew
    linux-vdso.so.1 (0x00007fff904a2000)
    libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fd35b18e000)
    /lib64/ld-linux-x86-64.so.2 (0x00007fd35b35c000)

# Static executable
$ gcc *.c -static -o pew # note the -static flag
$ ldd pew
    not a dynamic executable
```

When a dynamic executable encounters a function like `printf` for the first time, the libraries in the output of `ldd` will be searched for a function with that name. When we specify the `LD_PRELOAD` variable, we add a new library to that list that will be searched _before_ those in the list shown with `ldd`. Pretty cool eh.

## Exercise

Let's see this in action. Our `pew` program already makes use of functions from the libc shared library. Those functions are ones like `printf` and `sleep`.

```c
int main() {

    printf("[+] Starting up!\n");

    // ... snip
    while(1) {
        d = rand_range(1, 5);

        printf("[+] Sleeping for %d seconds\n", d);
        sleep(d);
    }
}
```

Compiling and running the `pew` program now means an infinite loop would be started, sleeping for a random number of seconds between `1` and `5`.

## sleeps arguments

If you were to write `pew.c` yourself, at some stage you may wonder which headers to use, and which arguments a function like sleep uses. For this information you can have a look at section 3 of the target functions manual page. i.e. `man 3 sleep`.

```text
SLEEP(3)    Linux Programmer's Manual   SLEEP(3)

NAME
       sleep - sleep for a specified number of seconds

SYNOPSIS
       #include <unistd.h>

       unsigned int sleep(unsigned int seconds);

DESCRIPTION
       sleep() causes the calling thread to sleep either until the number of real-time seconds specified in seconds have elapsed or until a signal arrives which is not ignored.
```

?> The `3` refers to the manual page section we want. Section 3 is typically for library functions from the C standard library.

The `SYNOPSIS` section tells us exactly which headers to include in our program, and what the function signature for `sleep()` is.

But what if we wanted to override the number of seconds we sleep for? Well, our one option is to change the source code and make it whatever the new value should be. Then, recompile and test. Or, we can use a shared library with `LD_PRELOAD`.

Here comes the fun part! ðŸŽ‰

## Shared libraries

The man page for `ld.so`, explaining the `LD_PRELOAD` environment variable says we need to use a shared library for this, so letâ€™s build one ourselves. Using the man page in the previous section as reference, we need to implement _exactly_ the same function signature in our library. So, create a new file called `fake_sleep.c` and implement the new and improved `sleep()` function. For now, we will just print a string indicating that our sleep was called and not the one from libc! (_Hint:_ Get the function signature/heads from `man 3 printf`).

```c
#include <stdio.h>

// man 3 sleep
//  unsigned int sleep(unsigned int seconds);
unsigned int sleep(unsigned int seconds) {

    // you've never slept the well in your life!
    printf("[-] sleep goes brrr\n");
    return 0;
}
```

This shared library will effectively replace what `sleep()` is supposed to do and actually not sleep at all!

Compiling a shared library is a _little_ different to a normal program. This time round we need to give `gcc` some new flags indicating that we want Position Independent Code (PIC) and more specifically a `shared` library. With that in mind we can compile the shared library with:

```bash
gcc -fPIC -shared fake_sleep.c -o fake_sleep.so
```

?> *Note* The output file name ends with an `.so`. `LD_PRELOAD` will ignore files that do not end with that extension.

With our shared library implementing `sleep()` ready, its time to hook the real `sleep()`! Do that now with `LD_PRELOAD=./fake_sleep.so ./pew`.

?> By running `LD_PRELOAD=./lib.so ./program`, we are specifying the `LD_PRELOAD` value for this run only. You can change that to be for any program started in the current shell with `export LD_PRELOAD=./lib.so`. Alternatively, if you have a library you want to be preloaded with any program, you can add a line to `/etc/ld.so.preload` (which can be pretty dangerous!).

```text
$ LD_PRELOAD=./fake_sleep.so ./pew
[+] Starting up!
[+] Sleeping for 3 seconds
[-] sleep goes brrr
[+] Sleeping for 2 seconds
[-] sleep goes brrr
[+] Sleeping for 2 seconds
[-] sleep goes brrr
[+] Sleeping for 2 seconds
[-] sleep goes brrr
[+] Sleeping for 2 seconds

[...]
```

## Detours

You may not always want to completely replace a function though. Instead, you may want to just add some logging to a function call to sniff arguments for example, just like a detour on your way somewhere nice. In that case, we will need to update the shared library to actually call the _real_ sleep once we are done with what we want to do.

!> This is a bit of a more advanced topic. Don't stress if everything isn't perfectly clear.

![sleep-proxy](../_media/sleep-proxy.png)

With our shared library overriding the call to `sleep()`, we need to figure out where the real `sleep()` is if we want to make use of it. One way to do that is call `dlsym` to dynamically try and determine the address of a symbol (in our case the real `sleep()`). With the address, we can proceed to call the original `sleep()` directly, without relying on the linker to resolve it. So how do we call `dlsym()`? `man 3 dlsym`!

```text
DLSYM(3)    Linux Programmer's Manual   DLSYM(3)

NAME
       dlsym, dlvsym - obtain address of a symbol in a shared object or executable

SYNOPSIS
       #include <dlfcn.h>

       void *dlsym(void *handle, const char *symbol);
```

Seems simple enough but truthfully, itâ€™s a bit more tricky than that and you are better off reading the larger man page to understand the intricacies of how `dlsym` works. For the purpose of this exercise though, itâ€™s just important to know that a handle to the real function should be created, and that handle should be resolved with `dlsym`.

One last thing, lets update the sleep to just sleep for `1` second in the library, and not for the amount of time that is actually requests. With all that coming together, our `fake_sleep.c` detour should now look something like:

```c
#define _GNU_SOURCE

#include <stdio.h>
#include <dlfcn.h>

// man 3 sleep
//  unsigned int sleep(unsigned int seconds);
unsigned int sleep(unsigned int seconds) {

    // you've never slept the well in your life!
    printf("[-] sleep goes brrr\n");

    seconds = 1;

    unsigned int (*original_sleep)(unsigned int);
    original_sleep = dlsym(RTLD_NEXT, "sleep");

    return (original_sleep)(seconds);
}
```

We are almost there! The last step would be to recompile our shared library, but because we are going to lookup symbols at runtime, we should also link a dynamic linker, `libdl`. It's a mouthful I know, but all that means is you need to add the `-ldl` flag at the end of your `gcc` command. For example:

```bash
gcc -fPIC -shared fake_sleep.c -o fake_sleep.so -ldl
```

That's it! Run the program again with the `LD_PRELOAD` environment variable set and watch as the three second sleep becomes only one second, with a nice message.

```bash
$ LD_PRELOAD=./fake_sleep.so ./pew
[+] Starting up!
[+] Sleeping for 3 seconds
[-] sleep goes brrr
[+] Sleeping for 3 seconds
[-] sleep goes brrr

[ ... actually sleeps for 1 second ... ]
```

Neat! You have just build a shared library that creates a detour for the `sleep()` function, logging when its invoked and altering the time to sleep to `1` second. All without touching the source code of the original program.

```

`course/1-chapter-1/sample-app.md`:

```md
# The Sample Application

All of the programs that we are going to build in their final state can be found in the [`software/`](https://github.com/leonjza/frida-boot/tree/master/software) folder. If ever you need to quickly refer to a snippet of code for any reason, this would be a good place to look.

One of the main programs we will be using will be referred to as `pew`, with its source code available in the `software/` folder as well as in the snippet below. Copy the source code and save it in a file called `pew.c` in the `code/` folder.

```c
#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <time.h>

int rand_range(int min, int max) {
    return min + rand() % (max+1 - min);
}

int main() {

    printf("[+] Starting up!\n");

    int d;
    srand(time(NULL));

    while(1) {
        d = rand_range(1, 5);

        printf("[+] Sleeping for %d seconds\n", d);
        sleep(d);
    }
}
```

```

`course/2-chapter-2/arguments.md`:

```md
# interceptor arguments

So far we have written a simple function hook that allows us to spy on calls to `sleep()`. According to `man 3 sleep`, `sleep()` takes one integer argument signalling for how long the should sleep occur. In the `LD_PRELOAD` example we modified that sleep duration, so letâ€™s replicate that with Frida.

We should already have a Frida script from the [previous section](2-chapter-2/sleep#attaching-to-sleep), so let's continue editing that.

## the args variable

Using the `Interceptor`, the `onEnter` call back receives a single argument typically called `args`. This variable is actually an array of the arguments the function received. That means that `arg[0]` would be the first argument, `arg[1]` the second and so forth.

There is one gotcha with the `args` variable though. It has no idea how many arguments the original function received. `args.length()` is not valid. Taking `sleep()` as an example, we should get the argument it received with `arg[0]`. However, if we try and work with say `arg[1]` or `arg[9]`, those are not arguments but other values from the stack.

One more tip, values returned by dereferencing `args` by index are actually `NativePointer`'s meaning you can call any of the methods available on the `NativePointer` Frida API on the argument values themselves.

Update the Frida script to print out the first argument we got for `sleep()`. Notice how as soon as you save the file, the Frida REPL automatically reloaded the script and the instrumentation updated. A little faster than that `LD_PRELOAD` method eh? Syntax errors while you are writing your Frida script is also ok. Frida won't crash the target process and instead just let you know something is wrong.

```javascript
var sleep = Module.getExportByName(null, "sleep");

Interceptor.attach(sleep, {
    onEnter: function(args) {
        console.log("[*] Argument for sleep() => " + parseInt(args[0]));
        console.log("[*] Sleep from Frida!");
    },
    onLeave: function(retval) {
        console.log("[*] Done sleeping from Frida!");
    }
});
```

## overriding arguments

Modifying argument values is just as simple as printing them! All you need to do is assign them. Given that we are working with the first argument, let's update the sleep to only one second. We can do that by saying `args[0] = ptr("0x1")`. That's really it.

With `Interceptor.attach()`, the code in our `onEnter` callback is called _before_ the real function is called. This is why we can modify the argument's to affect how the real target function behaves.

```javascript
var sleep = Module.getExportByName(null, "sleep");

Interceptor.attach(sleep, {
    onEnter: function(args) {
        console.log("[*] Argument for sleep() => " + parseInt(args[0]));
        console.log("[*] Overriding argument to 1");
        args[0] = ptr("0x1");   // short for new NativePointer("0x1");
    },
    onLeave: function(retval) {
        console.log("[*] Done sleeping from Frida!");
    }
});
```

This way you should see that the program no longer sleeps for random intervals, but rather just for one second. ðŸŽ‰

## overriding string arguments

Just like how we have made changes to `sleep()` by modifying its arguments, we can do the same to `printf`. One argument gets passed to `printf()` which is the string to print. However, under the hood this is actually a pointer to a character array. If we wanted to override what we see in `pew`, we would hook `printf()` like this:

```javascript
var printf = Module.getExportByName(null, "printf");

// Allocate a new memory region, returning the pointer to the string.
var buf = Memory.allocUtf8String("Frida sleep! :D\n");

Interceptor.attach(printf, {
    onEnter: function(args) {
        console.log("printf(\"" + args[0].readCString().trim() + "\")");
        args[0] = buf;  // update the argument to printf
    }
});
```

## register access

While a bit of a more advanced topic, you actually also have access to the execution context of the function in terms of the programs registers, return address and much more. You can even set new values to registers by assigning them, for example: `this.context.eax = ptr("0x0")`

```javascript
var printf = Module.getExportByName(null, "printf");

Interceptor.attach(printf, {
    onEnter: function(args) {
        console.log('Context information:');
        console.log('Context  : ' + JSON.stringify(this.context, null, 4));
        console.log('Return   : ' + this.returnAddress);
        console.log('ThreadId : ' + this.threadId);
        console.log('Errornr  : ' + this.err);
    }
});
```

```

`course/2-chapter-2/frida.md`:

```md
# Frida

Finally, the real reason you are here, right! Frida!

Using `LD_PRELOAD` is definitely an incredibly powerful debugging tool. However, I don't know about you but developing hooks in C does not sound too exciting to me. The feedback loop is also pretty long. Write code -> compile -> start target with `LD_PRELOAD` -> test. Repeat.

Frida is an alternative solution to this that I am sure is about to blow you away. So let's get into it.

## obligatory, what is frida

Imagine you could inject something like Google Chrome's JavaScript engine into a process, and perform all of the stuff we had just done using the `LD_PRELOAD` environment variable with small JavaScript snippets, all without stopping the target process.

With Frida, this is possible, developed primarily by the Wizard himself, [Ole AndrÃ© V. RavnÃ¥s](https://twitter.com/oleavr).

![new](../_media/frida-new.png)

Today on the [frida.re](https://frida.re) website, the tool is described as:

> Dynamic instrumentation toolkit for developers, reverse-engineers, and security researchers.

A bit different to the first time I read it when it still said:

> Inject JavaScript to explore native apps on Windows, Mac, Linux and iOS.

I had no clue what that meant back then, but even today, both descriptions remain true.

We are not really going to dive into the internals of Frida itself. While I absolutely want to encourage you to do so (and to contribute to the project), that won't be necessary for now.

## frida components

The Frida project is pretty large, and there are many moving parts to it.

The first, and most important part is the Frida core, written in C. This component is responsible for injecting a JavaScript engine like V8 or Duktape into the target process and runs the JavaScript that you wrote in the target process.

The next component would be the Frida language bindings. It is possible to communicate with the Frida core using anyone one of the following languages; C, Python, Node Swift and .NET. For this workshop we will be using the Python bindings, but really you are free to choose whichever you prefer.

Next, there are language runtime bridges (or gum). These bridges make use of metadata rich runtimes such as Objective-C and Java on mobile devices that allows you to instrument these higher-level languages without the need to know the intricacies of the target runtimes themselves. While Objective-C and Java bridges are part of Frida, community bridges for runtimes like Swift and Mono (.NET) also exist.

Finally, there are a set of command line tools that make use of the Python bindings, available when you install the `frida-tool` pip package. The `frida-tools` package includes the base `frida` Read Evaluate Print Loop (REPL) tool, but also utilities such as `frida-ps`, `frida-trace` and `frida-discover`.

## modes of operation

Frida can operate in three primary modes:

- Injected (how we're going to use it most of the time)
- Embedded (basically a shared library that you can make part of a project)
- Preload (a combination of embedded mode with JavaScript already built to autonomously instrument applications)

## our usage of frida

The way we are going to use Frida in this workshop will be by using the Python bindings to inject scripts into programs to perform the instrumentation we want. The diagram below showcases an example where we enumerate where `puts` is. The parts in green are the ones we will be writing.

?> If this does not make sense yet, don't worry, we are going to do it all shortly! It's pretty easy.

![frida-arch](../_media/frida-arch.png)

A more elaborate diagram can be found [here](https://frida.re/docs/hacking/).

## example usage

Just running the `frida` command (remember, this is the Python `frida-tools` package) should give you an indication on how to use it.

```bash
$ frida
Usage: frida [options] target

frida: error: target file, process name or pid must be specified
```

?> Try running `frida --help` to get an idea of all of the flags and options available to you.

At this stage you have two options to launch Frida. You can either use Frida to spawn and attach to a target program, or inject into an already running program.

### frida spawn

To spawn and attach, simply run `frida ./pew` as an example:

```text
~/code$ frida ./pew
     ____
    / _  |   Frida 12.8.20 - A world-class dynamic instrumentation toolkit
   | (_| |
    > _  |   Commands:
   /_/ |_|       help      -> Displays the help system
   . . . .       object?   -> Display information about 'object'
   . . . .       exit/quit -> Exit
   . . . .
   . . . .   More info at https://www.frida.re/docs/home/
Spawned `./pew`. Use %resume to let the main thread start executing!
[Local::pew]->
```

Thatâ€™s it! `pew` spawned, paused and now has Frida connected to it. Behind the scenes you just injected a JavaScript engine into the process too. l33t! ðŸŽ‰ To resume `pew` to continue normal operations, just type `%resume` and hit `enter`. You should notice the sweet auto suggestions and tab completion there is too.

Normally the `frida` REPL can be used to quickly prototype small scripts and test things out. For example, in the REPL you can execute any valid JavaScript such as `console.log("poo");`, and the after pressing `enter`, that will get sent to the Frida agent running inside of the process and evaluated. Standard out should be sent back too, resulting in the word `poo` displaying in your shell.

To quit the REPL, simply hit `ctrl + d`. You may notice that `pew` is still running after you quit, and this is because quitting Frida simply means it detaches from the target process, not killing it. You should be able to see `pew` still running in the process list, and you can safely kill it with `kill -9 $(pidof pew)`.

### frida attach

Attaching to a running process is just as easy. For this you are going to need two shells in the docker container, so either spawn another or use `tmux`, whichever you prefer.

?> Refer to the [getting shells](0-getting-started/shells) section if you are unsure how to get another shell in the Docker environment.

Run the `pew` program in one shell so that it sleeps, printing its status along the way.

```bash
$ ./pew
[+] Starting up!
[+] Sleeping for 2 seconds
[+] Sleeping for 4 seconds
[+] Sleeping for 1 seconds
```

In a new shell, attach Frida to the process with `frida pew`. Note that we use the process name here, not the full path to the process signalled with a `./` in front of `pew`.

```text
$ frida pew
     ____
    / _  |   Frida 12.8.20 - A world-class dynamic instrumentation toolkit
   | (_| |
    > _  |   Commands:
   /_/ |_|       help      -> Displays the help system
   . . . .       object?   -> Display information about 'object'
   . . . .       exit/quit -> Exit
   . . . .
   . . . .   More info at https://www.frida.re/docs/home/

[Local::pew]->
```

This time round the process is not paused, but instead allowed to continue as normal with Frida attached. We are now ready to start instrumentation!

```

`course/2-chapter-2/javascript.md`:

```md
# JavaScript api

As mentioned a few times now, Frida injects a JavaScript engine which can be either Chrome's V8 engine, or the smaller Duktape engine. Both engines have their pro's and con's and whichever you choose will most probably depend on the resources you have available to you. Resources aside, the only real difference to keep in mind is that Duktape does not support modern ES6 syntax, whereas V8 does. This is not too important for now, but keep it in mind when we get to the later parts of this workshop.

## documentation

JavaScript engines aside, the next most important thing you need to know about is the JavaScript API documentation that lives [here](https://frida.re/docs/javascript-api/). Bookmark it!

?> The documentation link refers to the TypeScript bindings, but ignore those for now. We have a section specifically on that later.

From the documentation one can quickly see the wide range of features Frida has. Each of these features are broken up into modules that when combined, can make from incredibly powerful instrumentation. Examples of interesting modules include `Process`, `Module`, `Memory` and `NativeFunction` and all start with an upper case. There are some `global` functions as well such as `hexdump`, `ptr`, `send` and `recv`.

## repl

The Frida REPL can autocomplete most of the Frida modules as well. This makes prototyping very fast from inside the Frida REPL. For example, with the `frida` tool attached to the already running `pew` program, we can start playing with the API right away.

?> Try and hit `TAB` as often as you can, there are plenty of places where it works!

```text
[Local::pew]-> Process.id;
31
```

```text
[Local::pew]-> Process.getModuleByName("libc-2.30.so");
{
    "base": "0x7fe5d9644000",
    "name": "libc-2.30.so",
    "path": "/lib/x86_64-linux-gnu/libc-2.30.so",
    "size": 1830912
}
[Local::pew]->
```

All of this is happening while the target process, `pew` is still running...

```

`course/2-chapter-2/repurposing.md`:

```md
# repurposing code

We have scratched the surface with a number of Frida features thus far, reusing our `pew.c` program to explore them. In this section we are going to shift focus to a new program called `crypt`. The source code for `crypt` is also available in the `software/` folder, but I want to encourage you to not peek at it :)

In the docker container, make a copy of the `crypt.c` file from the `software/` folder and move it to your `code/` folder. Next, compile it with `gcc crypt.c -o crypt`. Once you have compiled it, try and run it.

```text
~/code$ cp ../software/crypt.c .
~/code$ gcc crypt.c -o crypt
~/code$ ./crypt
Pin: 1234
Pin:
```

Playing with the program you will see that it continuously asks for a pin. We need to guess the right pin!

## understanding crypt

Now we can totally just open the `crypt.c` source code and have a look at how it works. We are not going to do that and instead (and just like how it would often be the case for closed source software) we will need to reverse the program first.

There are _plenty_ of options available to you to decompile software. I want to take this opportunity to introduce you to [BinaryNinja](https://binary.ninja/), more specifically their [cloud](https://cloud.binary.ninja/) decompiler that is free to use, and perfect for little crackmes / CTF's.

To use it, register an account over at [https://cloud.binary.ninja/](https://cloud.binary.ninja/) and sign in. Next, start a new session and upload the `crypt` binary. Once the analysis is completed, you should see the entry point of the binary.

![binja-1](../_media/binja-1.png)

On the left you should see the functions in the binary. Double click on `main`, and then click on the word _Disassembly_ on the right until it says _HLIL_

![binja-2](../_media/binja-2.jpg)

_HLIL_ is their new High Level Interpreter Language, and as you can see it looks pretty great!

You should see the Control Flow Graph for the `main()` function of `crypt`, where a `while(var_c == 0)` loop exists. In the true case (green leg), we can see the a `printf("Pin: ")` followed by an `fgets()` call.

Next, a call to `test_pin` is made, taking `var_16` as an argument. If `test_pin` returned `1`, `var_c` becomes 1, meaning the next run of the `while` block, we will have `printf("Pwnd!!")`!

Ok neat, so we are definitely interested in the `test_pin` function it calls. Double click it either in the block, or on the name on the left. This should take you to the CFG for `test_pin`.

![binja-3](../_media/binja-3.png)

## spying on test_pin

While static reverse engineering is interesting, let's take all of the tricks we have learnt using Frida, and spy on the `test_pin` function. We want to use the `Interceptor.attach()` API, and dump the argument and return value of `test_pin()`.

Run `crypt` in one shell, prepare a JavaScript file called `pin.js` and then inject Frida using `frida crypt -l ping.js` in another shell.

Now, write the Frida script that will let you spy on the `test_pin` function, dumping its arguments.

<details>
<summary>The script (Click to expand)</summary>

```javascript
var testPin = DebugSymbol.getFunctionByName("test_pin");

Interceptor.attach(testPin, {
    onEnter: function(args) {
        console.log("test_pin(" + args[0] + ")");
    },
    onLeave: function(retval) {
        console.log(" => ret: " + retval);
    }
});
```

</details>

In the Frida console, that script should output the following:

```text
test_pin(0x7ffcf8673602)
 => ret: 0x0
test_pin(0x7ffcf8673602)
 => ret: 0x0
test_pin(0x7ffcf8673602)
 => ret: 0x0
 ```

From that we can deduce that `test_pin` gets an address as an argument, and returns a value such as `0x0`. From the static analysis we did we could see that the return would have either been a `0`, or a `1`, where a `1` is a success.

Seeing what the pointer in the argument to `test_pin` refers to is a little bit trickier. One way to see what data is there is to do a hexdump of the data at the pointer. For example:

```javascript
onEnter: function(args) {
    console.log(hexdump(args[0]));
}
```

The Frida REPL should now give a hexdump of the data that is at `args[0]`.

```text
[Local::crypt]-> test_pin(0x7ffe789bee12)
               0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F  0123456789ABCDEF
7ffe789bee12  31 31 31 31 0a 00 0a 00 00 00 00 00 00 00 10 92  1111............
7ffe789bee22  90 1c 02 56 00 00 0b ce 8d 99 08 7f 00 00 00 00  ...V............
7ffe789bee32  00 00 00 00 00 00 08 ef 9b 78 fe 7f 00 00 00 00  .........x......
7ffe789bee42  04 00 01 00 00 00 98 91 90 1c 02 56 00 00 00 00  ...........V....
7ffe789bee52  00 00 00 00 00 00 fb 8a 40 c9 14 78 09 f7 80 90  ........@..x....
7ffe789bee62  90 1c 02 56 00 00 00 ef 9b 78 fe 7f 00 00 00 00  ...V.....x......
7ffe789bee72  00 00 00 00 00 00 00 00 00 00 00 00 00 00 fb 8a  ................
7ffe789bee82  00 31 02 b0 f1 a4 fb 8a e6 76 2e 72 1c a5 00 00  .1.......v.r....
7ffe789bee92  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ................
7ffe789beea2  00 00 00 00 00 00 18 ef 9b 78 fe 7f 00 00 90 91  .........x......
7ffe789beeb2  aa 99 08 7f 00 00 69 e4 a8 99 08 7f 00 00 00 00  ......i.........
7ffe789beec2  00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 90  ................
7ffe789beed2  90 1c 02 56 00 00 00 ef 9b 78 fe 7f 00 00 00 00  ...V.....x......
7ffe789beee2  00 00 00 00 00 00 aa 90 90 1c 02 56 00 00 f8 ee  ...........V....
7ffe789beef2  9b 78 fe 7f 00 00 1c 00 00 00 00 00 00 00 01 00  .x..............
7ffe789bef02  00 00 00 00 00 00 b2 fe 9b 78 fe 7f 00 00 00 00  .........x......
 => ret: 0x0
```

The values `31 31 31 31 0a` correspond with the `1111` I entered in the program, and the line feed byte `0a` suggests that the data type is actually a string. We can safely print the value by updating the script to `log()` `args[0].readCString()`.

```javascript
onEnter: function(args) {
    console.log("test_pin(" + args[0].readCString().trim() + ")");
}
```

## forcing success

We can force the application to enter the win state by modifying the return of `test_pin`.  Using the script you have already written, replace the return value to return a `1`/

<details>
<summary>The script (Click to expand)</summary>

```javascript
var testPin = DebugSymbol.getFunctionByName("test_pin");

Interceptor.attach(testPin, {
    onEnter: function(args) {
        console.log("test_pin(" + args[0] + ")");
    },
    onLeave: function(retval) {
        console.log(" => ret: " + retval);
        retval.replace(ptr("0x1")); // <-- replace the return value to 1
    }
});
```

</details>

Entering any value into the `Pin:` field now should force the program to take the successful condition, which is to print `Pwnd!!`.

```text
~/code$ ./crypt
Pin: 12
Pwnd!!
```

That is one way to manipulate the code flow, but itâ€™s not there yet. We don't really know what the pin is yet (well, you probably do from the static analysis, but let's try different way anyways).

## reusing internal code

Let's image for a moment that `test_pin` was a really complex function, and the only way to proceed was to actually know what the pin code was. Instead of reversing all of the internal logic of the target function, we can make Frida call the function internally letting us guess the PIN number with each invocation.

For example, imagine we had some pseudo JavaScript that would do this:

```javascript
var test_pin_function = getFunction("test_pin");

for (var i = 0; i < 1000; i++) {
    var res = test_pin_function(i);
    if (res == 1) {
        console.log("pin is: " + res);
    }
}
```

With Frida it is possible to get a "handle" on `test_pin` and then call it arbitrarily at any time to brute the real PIN. Mind... blown... ðŸ¤¯

To do this, there is a new API we need to learn called `NativeFunction` with its documentation available [here](https://frida.re/docs/javascript-api/#nativefunction). A `NativeFunction` is a way to bind a JavaScript object to a C function like `test_pin`. A `NativeFunction` needs to be instantiated, and takes an address of the function in question, together with hints on what the function's return type and arguments are.

```text
new NativeFunction(address, returnType, argTypes[, abi])
```

?> Remember, you can get all of the information about arguments and return types for the C standard lib using manual pages. For example, `man 3 rand` will tell you all of the information you need for a `NativeFunction`.

Let's remove the code for the `Interceptor.attach()` we used to spy on `test_pin`, and replace it with a new section to instantiate a `NativeFunction` and get it ready to call. There are a few moving parts here, but stick with me, it's going to be awesome. We need a few things for this to work, those are:

- The address of `test_pin`.
- A `NativeFunction` instantiated.
- Because `test_pin` takes a pointer, we need to create one with the string candidate we want to brute with.

The address for `test_pin` is easy, we can use the `DebugSymbol` API for that. Instantiating a `NativeFunction` will take that address, and we know that `test_pin` will return a `0` or a `1`, so the return type is `int`. As for arguments, a pointer to a string is passed, so that argument will be a single entry array of `["pointer"]`.

To get a pointer to a new string we need to introduce another API. `Memory.allocUtf8String(s)`. This API takes a JavaScript string argument of `s`, allocates it in the process and returns a pointer to it. Perfect, we have everything we need! Let's write the script

```javascript
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

// Try a PIN of 1111
var pin = Memory.allocUtf8String("1111");
var r = testPin(pin);

console.log(r);
```

After saving this script, the Frida REPL should output a `0`, indicating that the pin was incorrect. Notice how we did not even interact with the original program now! :)

The only thing that is left to do is to loop this so that we can try 9999 entries until we get a `1` response.

```javascript
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);


for (var i = 0; i < 9999; i++) {
    console.log("Trying: " + i.toString());
    var pin = Memory.allocUtf8String(i.toString());
    var r = testPin(pin);

    if (r == 1) {
        console.log("Pin is: " + i.toString());
        break;
    }
}
```

The Frida REPL should have a lot of output, but should end with what the PIN value is!

```text
[ ... ]

Trying: 3419
Trying: 3420
Trying: 3421
Trying: 3422
Trying: 3423
Trying: 3424
Trying: 3425
Trying: 3426
Trying: 3427
Trying: 3428
Pin is: 3428
```

Let's try that PIN in the real program now.

```text
~/code$ ./crypt
Pin: 3428
Pwnd!!
```

ðŸŽ‰

```

`course/2-chapter-2/return.md`:

```md
# interceptor return values

Much like arguments, we can update return values as well. To demonstrate this we will hook the function used to get the time intervals to sleep for in `pew` called `rand_range`. There is only one problem though, `rand_range` is not an exported function in a shared library. Instead, it is part of `pew` itself.

## debugsymbol api

Symbols in shared libraries are easily enumerated using API's such as `Module.findExportByName()`. However, when functions are not exported the `Module` API may fail to resolve addresses. Instead, an alternative API exists called `DebugSymbol` that can try and resolve addresses using information in the symbol table. Have a look at the documentation [here](https://frida.re/docs/javascript-api/#debugsymbol).

Let's try and resolve `rand_range` using the Frida REPL. First, try running `Module.getExportByName(null, "rand_range");`.

```text
[Local::pew]-> Module.getExportByName(null, "rand_range");
Error: unable to find export 'rand_range'
    at frida/runtime/core.js:231
```

This should result in an error as no loaded shared library has a function with the name `rand_range`. So, we use the `DebugSymbol` API instead to try and resolve it.

```text
[Local::pew]-> DebugSymbol.getFunctionByName("rand_range");
"0x55d855faa185"
```

?> Try using `gdb` to verify that Frida correctly discovered the address of `rand_range`.

## stripped binaries

It may often happen that you have a stripped binary. That means a binary that has all symbols stripped. If that is the case, even the `DebugSymbol` API will not be able to help you. An alternative strategy in this case would be to determine the offset of the function you are interested in using reverse engineering efforts and calculating the targets functions location after leaking a modules base address with Frida.

For example, let's quickly go back to `gdb` and ask for the address of `rand_range`. Note, if your binary is stripped, this wonâ€™t be possible. You will only have the assembly to work with!

```text
~/code$ gdb -q ./pew
gefâž¤  info functions rand_range
All functions matching regular expression "rand_range":

Non-debugging symbols:
0x0000000000001185  rand_range
```

Alright, `rand_range` is at `0x1185`. That means that if we know the base address of where `pew` is loaded at runtime and we add `0x1185` to that, we should be at the `rand_range` function.

To test this, lets write a small Frida script.

```javascript
var b = Process.getModuleByName("pew").base;
var rand_range = b.add(0x1185);

Interceptor.attach(rand_range, {
    onEnter: function(args) {
        console.log("rand_range(" + args[0] + ", " + args[1] +")");
    }
});
```

After updating our `index.js` with the above snippet, we should see that we have attached to `rand_range()`.

```text
[Local::pew]-> rand_range(0x1, 0x5)
[Local::pew]-> rand_range(0x1, 0x5)
rand_range(0x1, 0x5)
rand_range(0x1, 0x5)
rand_range(0x1, 0x5)
```

Given that we do have symbols, lets update the script to rather use the `DebugSymbol` API instead of manually calculating offsets. The final script should look something like this:

```javascript
var rand_range = DebugSymbol.getFunctionByName("rand_range");

Interceptor.attach(rand_range, {
    onEnter: function(args) {
        console.log("rand_range(" + args[0] + ", " + args[1] +")");
    }
});
```

## modifying return values

From source code we know that `rand_range` returned an integer. Using the optional `onLeave` callback we can see what the return value will be before it returned to the caller. This is because at this stage the original function would have completed.

Let's implement an `onLeave` call back that prints the return value of `rand_range`:

```javascript
var rand_range = DebugSymbol.getFunctionByName("rand_range");

Interceptor.attach(rand_range, {
    onLeave: function(retval) {
        console.log(retval);
    }
});
```

Running this script, the output should be similar to this, logging the return value of `rand_range`:

```text
[Local::pew]-> 0x3
0x3
0x1
0x5
```

We can update the value using `retval.replace()` within the `onLeave` call back. For example:

```javascript
var rand_range = DebugSymbol.getFunctionByName("rand_range");

Interceptor.attach(rand_range, {
    onLeave: function(retval) {
        console.log(retval);
        retval.replace(ptr("0x1"));
    }
});
```

Notice how `pew` only waits one second now :)

## data binding in onenter and onleave

Depending on what your hook does, you may want to affect the return value of a function based on arguments you received. However, both the `onEnter` and `onLeave` call backs have different arguments and by extension has access to different parts of a hooked function.

Using the `this` context within the call backs itâ€™s possible to bind data in the `onEnter` call back and make it available in the `onLeave` callback. For example, if we wanted to make the return value of `rand_range` to be the same as the first argument the function gets:

```javascript
var rand_range = DebugSymbol.getFunctionByName("rand_range");

Interceptor.attach(rand_range, {
    onEnter: function(args) {
        this.arg1 = args[0];
    },
    onLeave: function(retval) {
        console.log(retval);
        retval.replace(ptr(this.arg1));
    }
});
```

```

`course/2-chapter-2/sleep.md`:

```md
# sleep hook, v2

Let's replicate the instrumentation we did for the `sleep` function in the [previous section](1-chapter-1/ld_preload), but this time using Frida. Previously we were effectively just spying on the `sleep()` function, having a place to run some code before and after the real sleep was called.

We are going to concentrate on the JavaScript component for this. We will write a small JavaScript file that we will load using the `frida` tool and the `-l`/`--load` flag.

## setup

For this to work (and to demonstrate) we need three things. The target program, `pew` in our case, to run. An empty JavaScript file, letâ€™s call it `index.js` and finally the `frida` tool booted to inject into `pew`, loading the (empty for now) `index.js`. So:

- Run `pew` in a shell.
- Run `touch index.js` in another shell.
- Run `frida pew -l index.js` in a third shell.

With those three steps done, you want to leave the target program `pew` and the `frida` tool running. All we need to do now is edit the `index.js` file.

I use `tmux`, so my environment at this stage would have 3 panes open at the moment.

![tmux](../_media/edit-frida-index.png)

## the index.js script

We will be referring to the Frida JavaScript API documentation a lot for this section. I highly recommend you give it a thorough read through at some stage.

Using the `LD_PRELOAD` method, we replaced the real implementation of `sleep` with our own one by relying on some dynamic linker foolery. More specifically, given that libraries loaded with `LD_PRELOAD` get preference over other's, by just defining the same symbol as libc we got ours loaded thanks to library preference. This time round though, the application is already running. So how can we replace what `sleep` does?

I'll save you some reading for now and hint that we are interested in the `Interceptor` API here. More specifically, the `attach()` method on the `Interceptor` module. Remember that using the `LD_PRELOAD` we finally called the real `sleep()`. The program flow was directed to our custom `sleep()` implementation, but we in turn continued the flow to the real `sleep()`. Using the `Interceptor.attach()` method, we can achieve the same thing.

Take a moment and have a look at the [Interceptor](https://frida.re/docs/javascript-api/#interceptor) documentation now. `Interceptor.attach()` is described as:

```text
Interceptor.attach(target, callbacks[, data]):
    Intercept calls to function at target. This is a NativePointer specifying the address of the function you would like to intercept calls to.
```

We need to pass along a `NativePointer` as the first argument to `attach()`. Next, the call backs for `attach()` are `onEnter` and `onLeave`. As the names say, `onEnter` will be called as soon as the _target_ function is entered, and `onLeave` will be called as the _target_ function is returned. The call backs also have access to the original arguments and return value for the _target_ function. More on this later.

Practically our script would look something like this:

```javascript
Interceptor.attach(target, {
    onEnter: function(args) { },
    onLeave: function(retval) { }
});
```

Before we can go ahead and implement our script, the first piece to solve here is _target_. The documentation for `attach()` states that it wants a `NativePointer`, and reading the [documentation](https://frida.re/docs/javascript-api/#nativepointer) for a `NativePointer` we can see that we can create one from a string (such as `s`). i.e. `new NativePointer(s)` / `ptr(s)`. However, `s` needs to be a hex value to construct the pointer from, and given that we are interested in `sleep()`, we can't just use any string.

## resolving sleep statically

Frida has a wide range of helper functions available to resolve symbols such as `sleep`. Before we dive into those, let's take a look at how we could manually determine the location for it.

The `nm` tool can be used to show the contents of symbol tables in binaries. Running it against the `pew` binary should look something like this:

```text
$ nm pew
0000000000004040 B __bss_start
0000000000004040 b completed.7452

[ ... ]

0000000000001185 T rand_range
0000000000001100 t register_tm_clones
                 U sleep@@GLIBC_2.2.5
                 U srand@@GLIBC_2.2.5
00000000000010a0 T _start
                 U time@@GLIBC_2.2.5
0000000000004058 D __TMC_END__
```

?> You can also use `readelf -Ws pew` to display similar output, sometimes more readable than `nm`.

The output shows us that `sleep@@GLIBC_2.2.5` has the `U` (undefined) flag, which should be resolved at runtime using the linker (making things like the `LD_PRELOAD` hack possible). The `G_LIBC` is a hint as to which library should have it. Alright, let's take a look at the shared libraries our binary depends on. This can be done with the `ldd` tool:

```text
$ ldd pew
        linux-vdso.so.1 (0x00007ffffddf9000)
        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f9de7cb9000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f9de7e87000)
```

?> Try running `ldd pew` a few times. You should see the base address for the library changes on every run. This is as a result of ASLR.

We know that the `sleep()` function we are targeting here is part of libc, so let's run `nm -D` on `libc.so.6`. The output will be very large (more than 2000 symbols), so letâ€™s filter for `sleep()` as well:

```text
$ nm -D /lib/x86_64-linux-gnu/libc-2.30.so | grep sleep
000000000010a390 T __clock_nanosleep
000000000010a390 W clock_nanosleep
00000000000cae50 T __nanosleep
00000000000cae50 W nanosleep
00000000000f35a0 T __nanosleep_nocancel
00000000000cad60 W sleep
0000000000084d40 T thrd_sleep
00000000000f5840 T usleep
```

?> We add the `-D` flag to check the dynamic symbols that will be available at runtime when using `libc`. By default, `nm` will read the `.symtab` section, which is usually stripped.

Neat, a weak symbol (`W` flag) to `sleep` at `0xcad60`. Unfortunately that is not the value we will use for `s` when invoking `new NativePointer()` as the value is the relative address to the code in libc. Thanks to ASLR, this will be different every time our program runs. Don't worry about it though, we can resolve these at runtime.

Let's verify that we got the address of `0xcad60` right using `gdb` quickly:

```text
$ gdb -q /lib/x86_64-linux-gnu/libc-2.30.so

[ ... ]

gefâž¤  info address sleep
Symbol "sleep" is at 0xcad60 in a file compiled without debugging.
```

In `gdb` we have the same address for `sleep`. Neat! Now again, ASLR will make this address change every time a binary is run, so let's see if using `0xcad60` as an offset for the function from libc's base address will get us at the same location.

To do this start `gdb` on the `pew` binary again and set a breakpoint on the `main` function with `b *main`. Next, run the binary with `r` and the program should pause after hitting the breakpoint. At this point the shared libraries should all have been loaded. Next, have a look at the processes memory map with `info proc map` (or `vmmap`):

```text
gefâž¤  info proc map
process 610
Mapped address spaces:

          Start Addr           End Addr       Size     Offset objfile
      0x556e7ef63000     0x556e7ef64000     0x1000        0x0 /root/code/pew
      0x556e7ef64000     0x556e7ef65000     0x1000     0x1000 /root/code/pew
      0x556e7ef65000     0x556e7ef66000     0x1000     0x2000 /root/code/pew
      0x556e7ef66000     0x556e7ef67000     0x1000     0x2000 /root/code/pew
      0x556e7ef67000     0x556e7ef68000     0x1000     0x3000 /root/code/pew
      0x7ff47c343000     0x7ff47c368000    0x25000        0x0 /lib/x86_64-linux-gnu/libc-2.30.so
      0x7ff47c368000     0x7ff47c4b2000   0x14a000    0x25000 /lib/x86_64-linux-gnu/libc-2.30.so

[ ... ]
```

?> You can see the same information for a process outside of `gdb` with `cat /proc/<pid>/maps`.

We can see libc's start address is `0x7ff47c343000` with a zero offset. So, letâ€™s see what is at `0x7ff47c343000` + `0xcad60`:

```text
gefâž¤  info symbol 0x7ff47c343000+0xcad60
sleep in section .text of /lib/x86_64-linux-gnu/libc.so.6
```

## resolving sleep with frida

Much like `gdb` is able to quickly resolve symbols to addresses, Frida can do this too. Depending on if your target has exported functions (or the symbol is exported), the way you will resolve the address dynamically with Frida will change.

Let's play with some of the Frida API's available to us to resolve addresses. Much like with `ldd` we can see which modules a program depends on, we can use the `Process.enumerateModulesSync()` function to get information about the modules loaded in the current process.

Try that now in your Frida REPL, attached to `pew`.

```text
[Local::pew]-> Process.enumerateModulesSync();
[
    {
        "base": "0x55d855fa9000",
        "name": "pew",
        "path": "/root/code/pew",
        "size": 20480
    },
    {
        "base": "0x7ffe7f930000",
        "name": "linux-vdso.so.1",
        "path": "linux-vdso.so.1",
        "size": 8192
    },
    {
        "base": "0x7fa233651000",
        "name": "libc-2.30.so",
        "path": "/lib/x86_64-linux-gnu/libc-2.30.so",
        "size": 1830912
    },

    [ ... ]
]
```

?> Many functions in the Frida API have synchronous and asynchronous versions. The one you use highly depends on the program you are writing. For example, `enumerateModules()` responds to call backs as modules are discovered, whereas `enumerateModulesSync()` blocks until module resolution is complete, returning an array of discovered modules. Keep this in mind as you read the documentation and write your code!

The `enumerateModulesSync()` gave us an array of modules available in the target process. If we were interested in only a single module, we could use the `getModuleByName()` call. A variation of the same function exists called `getModuleByAddress()` which does exactly what you think it does. The return to `getModuleByName()` in the Frida world is a `Module` object.

Try getting libc now.

```text
[Local::pew]-> Process.getModuleByName("libc-2.30.so");
{
    "base": "0x7fa233651000",
    "name": "libc-2.30.so",
    "path": "/lib/x86_64-linux-gnu/libc-2.30.so",
    "size": 1830912
}
```

!> A variation of the `getModuleByName()` function exists called `findModuleByName()` which will return `null` of the module could not be found. The `get*` variant will return an error if the target module is not found.

Now imagine we wanted to know which exports existed in libc. We can do that with the `Module.enumerateExports()` API where `Module` is the resolved module we already had in the previous step. Typically in a script you would do that as follows:

```javascript
var libc = Process.getModuleByName("libc-2.30.so");
var exports = libc.enumerateExports();

console.log(exports);   // print results
```

In our case, we are just going to do it in one line by calling `enumerateExports()` after we called `getModuleByName()`. Do that now.

```text
[Local::pew]-> Process.getModuleByName("libc-2.30.so").enumerateExports();
[
    [ ... ]

    {
        "address": "0x7f9a3e6b8ec0",
        "name": "vwarn",
        "type": "function"
    },
    {
        "address": "0x7f9a3e6b1340",
        "name": "fts64_close",
        "type": "function"
    },

    [ ... ]
]
```

The return of that should be a pretty large list! Thankfully we could use JavaScript to filter the results down using the `filter()` function on the array that `enumerateExports()` returns.

```text
[Local::pew]-> Process.getModuleByName("libc-2.30.so").enumerateExports().filter(function(n) { return n.name == "sleep"; } );
[
    {
        "address": "0x7f9a3e689d60",
        "name": "sleep",
        "type": "function"
    }
]
```

As a pretty printed script, that would have looked as follows:

```javascript
Process.getModuleByName("libc-2.30.so")
    .enumerateExports()
        .filter(function(n) {
            return n.name == "sleep";
        });
```

Amazing! The `.address` property in that response is exactly what we need to create a valid `NativePointer` for `attach()`! Go ahead and attach `gdb` to the process and confirm it with `info address sleep`!

That was quite a few API calls to make to get the address of sleep though. There is a simple way, and we are going to use that now. Take a look at `Module.getExportByName()`. The function has the following signature from the documentation:

```text
Module.getExportByName(moduleName|null, exportName)
```

`getExportByName` takes two arguments where `moduleName` is the module name as per `Process.enumerateModules()` and `exportName` would be the name of the function we are interested in; `sleep` in our case. Notice how `moduleName` could be `null` as well. Passing `null` here signals Frida to look for the symbol in *any* module, and depending on if you use `getExportByName()` or `findExportByName()`, you may be presented with more than one result of more than one function by that name is found.

Let's use the simplified API now to resolve the address of `sleep()` at runtime.

```javascript
// Passing null for the module
[Local::pew]-> Module.getExportByName(null, "sleep");
"0x7f9a3e689d60"

// Explicitly specifying the module name
[Local::pew]-> Module.getExportByName("libc-2.30.so", "sleep");
"0x7f9a3e689d60"
```

A little simpler than the previous run, and gets us that address we need! ðŸŽ‰

## attaching to sleep

We know enough now to be dangerous! Let's return to that `index.js` file and write the code to attach to the `sleep()` function. To recap, we need to resolve the address of `sleep()`, create a `NativePointer` and pass the result to `Interceptor.attach()`.

Give that a try.

```javascript
var sleep = Module.getExportByName(null, "sleep");

Interceptor.attach(sleep, {
    onEnter: function(args) {
        console.log("[*] Sleep from Frida!");
    },
    onLeave: function(retval) {
        console.log("[*] Done sleeping from Frida!");
    }
});
```

With that saved to the `index.js` file, loaded with the Frida command line tool, you should start seeing output as follows in the REPL:

```text
[Local::pew]-> [*] Sleep from Frida!
[*] Done sleeping from Frida!
[*] Sleep from Frida!
[*] Done sleeping from Frida!
```

Whoa, you just instrumented your first application using Frida! Pretty easy huh?

## attach under the hood

Let's try and see how that was different from the `LD_PRELOAD` method. Attach `gdb` to the running instance of `pew` with `gdb -q -p $(pidof pew)`.

If we were to check what the `sleep()` function looked like before and after Frida was attached, we would see the following differences to the prologue of the function.

Before Frida:

```text
gefâž¤  disas sleep
Dump of assembler code for function sleep:
   0x00007fe04b024d60 <+0>:     push   rbp
   0x00007fe04b024d61 <+1>:     push   rbx
   0x00007fe04b024d62 <+2>:     sub    rsp,0x28
   0x00007fe04b024d66 <+6>:     mov    rbx,QWORD PTR [rip+0xf1103]
   0x00007fe04b024d6d <+13>:    mov    rax,QWORD PTR fs:0x28
   0x00007fe04b024d76 <+22>:    mov    QWORD PTR [rsp+0x18],rax
   0x00007fe04b024d7b <+27>:    xor    eax,eax

[ ... ]
```

After running `Interceptor.attach()`, we should see the prologue modified with a new `jmp` instruction:

```text
gefâž¤  disas sleep
Dump of assembler code for function sleep:
   0x00007fe04b024d60 <+0>:     jmp    0x7fe048d23708
   0x00007fe04b024d65 <+5>:     nop
   0x00007fe04b024d66 <+6>:     mov    rbx,QWORD PTR [rip+0xf1103]
   0x00007fe04b024d6d <+13>:    mov    rax,QWORD PTR fs:0x28
   0x00007fe04b024d76 <+22>:    mov    QWORD PTR [rsp+0x18],rax
   0x00007fe04b024d7b <+27>:    xor    eax,eax

[ ... ]
```

If we were to picture the code flow when we use `Interceptor.attach()` on `sleep()`, consider the following diagram. At _1_, a call to `sleep()` is made. At this point the dynamic linker has already resolved the address for it, so the real `sleep()` gets called. Once inside `sleep()`, the first instruction for the function is to `jmp` to an arbitrary address (and not the normal function prologue) which is a result of Frida. So, at _2_ we effectively enter the Frida world, which eventually will call the `onEnter` function we defined. In our case, we are just logging that we entered the function. Next, at _3_, the real `sleep()` is called, doing whatever it should do. Finally, when we `ret` from `sleep()`, control is passed back to Frida because we defined an `onLeave` function. If you omit this call back, the function would have returned back to the instruction after the caller. Finally, when all of that is done, control is passed back to the original caller at _5_.

![frida-jmp-patch](../_media/frida-jmp-patch.png)

```

`course/3-chapter-3/channels.md`:

```md
# channels

Let's update our tool so that we implement the previous exercisesâ€™ PIN brute forcer in `crypt` in our own python tool.

```python
import frida
import sys

session = frida.attach("crypt")
script = session.create_script("""
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

for (var i = 0; i < 9999; i++) {
    console.log("Trying: " + i.toString());
    var pin = Memory.allocUtf8String(i.toString());
    var r = testPin(pin);

    if (r == 1) {
        console.log("Pin is: " + i.toString());
        break;
    }
}
""")
script.load()

# block so that the program does not quit.
sys.stdin.read()
```

Running our tool on an instance of `crypt` should yield exactly the same results as in the previous chapters.

## a small refactor

Now one of the big things that you should see in this script is that we have both JavaScript and Python in a single file. That's fine for small scripts, but not so much for larger programs, so, let's refactor our tool to read the JavaScript from a file instead. This way, we have the Python code in a single file, and the JavaScript code in another. For example:

```javascript
// index.js
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

for (var i = 0; i < 9999; i++) {
    console.log("Trying: " + i.toString());
    var pin = Memory.allocUtf8String(i.toString());
    var r = testPin(pin);

    if (r == 1) {
        console.log("Pin is: " + i.toString());
        break;
    }
}
```

```python
# tool.py
import frida
import sys

with open("index.js", "r") as f:
    agent = f.read()

session = frida.attach("crypt")
script = session.create_script(agent)
script.load()

# block so that the program does not quit.
sys.stdin.read()
```

Excellent. We now have a logical separation between our agent and the injector. Test your tool to make sure it is still able to brute force the password as expected!

## communication channels

So far, our injector and the agent are completely decoupled from each other. That is that both are technically unaware of what the other is doing, and for the most part that is ok. However, it will often happen that you may need to send data between your Python program and the agent. A few options are available to us for this. Let's start by looking at `send()` and `recv()`.

### send()

With `send()`, we can take arbitrary data from the agent, and send it to the Python injector. The most common use for this case is to use `send()` send some feedback output to the injector, but, you can send any JSON serialisable content with it. If you need to send arbitrary blobs of data that cannot be serialised, the second argument to `send()` can be used for that. For example:

```javascript
var message = '42';
var blob = new Uint8Array(100);
send(message, blob);
```

Edit your agent now, adding a `send()` call to signal when the brute force of the PIN starts, and when it ends.

```javascript
// index.js
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

send("Starting brute");

for (var i = 0; i < 9999; i++) {
    // snip
}

send("Finished brute");
```

If you were to run your tool now it should still function expected, except you wonâ€™t see the messages you are `send()`-ing! That is because we need to write a small handler that tells our injector what to do when a message comes in from `send()`.

A handler can be added on the `script` object we have in our injector, using the `.on()` method. We are going to respond to messages, so the syntax will be `script.on("message", func)` where `func` is the function to call when we get a message. For example:

```python
# tool.py
import frida
import sys

with open("index.js", "r") as f:
    agent = f.read()

def incoming(message, data):
    print(message)

session = frida.attach("crypt")
script = session.create_script(agent)
script.on("message", incoming)
script.load()

# block so that the program does not quit.
sys.stdin.read()
```

In the snippet above, we have defined a new function called `incoming` that takes two arguments. The `message` and the `data`. These are the same two arguments you would have used in the `send()` call in the agent.  Finally, we defined a `script.on("message", incoming)` line, saying that when a message is received, run the `incoming` function.

Update your script now with this handler, and run it again. You should see the messages are handles correctly.

```text
[ ... ]
Trying: 3427
Trying: 3428
Pin is: 3428
{'type': 'send', 'payload': 'Done with brute force'}
```

?> You can extract only the message by printing the `message["payload"]` in your `incoming` function. Beware though, not all messages have this set, so you will need to check for that as well.

### recv()

Similar to how we can send data from the agent to the injector, the inverse is possible. Using the `recv()` function, your agent can expect input from the Python based program. We can send data from our Python tool to the agent by using the `.post()` function, passing in a JSON formatted payload. One thing to keep in mind when using `recv()` is that it is not a blocking operation by default; i.e. your script will not wait for the Python program to `post()` a message before continuing. You can change this if you want by assigning the response to `recv()` to a variable and calling `.wait()` on it.

Just like how we need a handler in the Python world to receive messages, the same is necessary in the JavaScript agent.

Let's update our tool and see what this looks like.

```javascript
// index.js
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

recv(function(message) {
    console.log("Received message: " + message);
});

send('Starting brute force');

for (var i = 0; i < 9999; i++) {
    // snip
}

send('Done with brute force');
```

Running our tool again, we should see the data we sent with the `.post()` method appear in the agent.

```text
[ ... ]
Trying: 3427
Trying: 3428
Pin is: 3428
{'type': 'send', 'payload': 'Done with brute force'}
Received message: hello from python!
```

```

`course/3-chapter-3/frida-tools.md`:

```md
# frida tools

When installing the `frida-tools` pip package, you get a number of command line applications. At the time of writing this workshop, those were:

- `frida` - The Frida REPL
- `frida-discover` - Discover function calls made in a process
- `frida-kill` - Kill a process using Frida
- `frida-ls-devices` - Show devices that have a running Frida server (including USB devices)
- `frida-ps` - A Frida powered `ps` tool
- `frida-trace` - Trace function calls in a process

Feel free to explore some of these tools as they can be useful in different scenarios.

## frida-trace

Sometimes you just don't have the time to write the scripts necessary to quickly instrument an application. Tracing function calls (where you can dump arguments or return values) is such a common action, that the `frida-trace` tool is purpose built for this.

When you run `frida-trace` against a target process, specifying some filters such as module or function names, `frida-trace` will dynamically create the hooks necessary and run the `Interceptor.attach()` function using them.

If the calls that you are tracing are C functions, the operating systems man pages will be consulted to try and determine what the arguments for that function would be and auto populate those for you. Remember, by design Frida makes no assumptions on the arguments for a function, but man page parsing is a neat trick for it!

Let's try it out on our `crypt` binary by tracing the `atoi` call. From `frida-trace --help`, we can see a number of flags can be used to filter the modules and functions you are interested in. In our case, we want the `atoi` function, so we can use the `-i ato*` flag which means any function starting with `ato` should be traced.

```bash
~/code$ frida-trace crypt -i "ato*"
Instrumenting functions...
atof: Auto-generated handler at "/root/code/__handlers__/libc_2.30.so/atof.js"
atoll: Auto-generated handler at "/root/code/__handlers__/libc_2.30.so/atoll.js"
atoi: Auto-generated handler at "/root/code/__handlers__/libc_2.30.so/atoi.js"
atol: Auto-generated handler at "/root/code/__handlers__/libc_2.30.so/atol.js"
Started tracing 4 functions. Press Ctrl+C to stop.

```

Going back to the `crypt` program and entering a number should have the `frida-trace` prompt update with the arguments passed to `atoi`.

```text
Started tracing 4 functions. Press Ctrl+C to stop.
           /* TID 0x152e */
  3803 ms  atoi(nptr="1337
")
```

Pretty cool huh, and pretty easy too! Now you would have also noticed that `frida-trace` said that it auto-generated some handlers, placing them in the `__handlers__` folder. This is a feature of `frida-trace` where any functions that match the filter will have the auto-generated handler placed in the _library name_ -> _function name_ file. In the case of `atoi`, the location is `libc_2.30.so/atoi.js`. If a handler is already defined, `frida-trace` will not auto-generate a new one. Instead, the existing one will get loaded. This means you can quickly make edits if needed.

Open the `atoi.js` file now and you should see the `onEnter` handler defined as:

```javascript
onEnter: function (log, args, state) {
log('atoi(' +
    'nptr="' + args[0].readUtf8String() + '"' +
')');
},
```

The arguments were auto populated with information from `man 3 atoi`. ðŸ˜Ž

```

`course/3-chapter-3/lifecycle.md`:

```md
# lifecycle

You may have noticed the line `sys.stdin.read()` we used in the previous examples. This is actually just a small hack to keep the Python program alive. Depending on what your script does, you may not need this. Before we understand why, letâ€™s take a closer look at the lifecycle of loading a script.

## load timeout

The PIN brute forcer we have implemented finished relatively quickly, and is implemented by reusing the target program's logic. When you make a call to `script.load()`, the script you have provided in the `create_script()` call is sent to the Frida agent in the process and evaluated. Frida gives this the call to `script.load()` about 30 seconds to complete. If it took longer than that, Frida would raise an exception stating that a timeout was reached.

![script-load-time](../_media/script-load-time.png)

Once loaded, the `script` object on the Python side of things can remain alive for a long time. Technically speaking, we can remove the `sys.stdin.read()` line and our script will work just fine. That is because we are sort of abusing the initialisation phase of the script which completes pretty fast. For longer living instrumentation though, this will be necessary.

The PIN brute forcer we have going here is just us reusing the target programs code for other purposes. That is not the only type of instrumentation you may want to do though. Instead, what if you used something like `Interceptor.attach()`? In that case, without the `sys.stdin.read()` line, the `Interceptor.attach()` may attach, but because the Python program exists shortly after the `script.load()` call (without the `sys.stdin.read()` line), everything is undone.

Give it try now. Attach to the `atoi` function in your agent, and remove the `sys.stdin.read()` line. Your JavaScript may look something like this:

```javascript
var atoi = Module.getExportByName(null, "atoi");

Interceptor.attach(atoi, {
    onEnter: function(args) {
        console.log("in atoi!");
    }
});
```

Without the `sys.stdin.read()` line, the script will exit and the instrumentation would do nothing. Not ideal :P

```text
~/code$ tail tool.py
    print(message)

session = frida.attach("crypt")
script = session.create_script(agent)
script.on("message", incoming)
script.load()

# block so that the program does not quit.
#sys.stdin.read()

~/code$ python3 tool.py
```

Now, there are hacks around this (like the one you are already seeing) as well as other async JavaScript invocations. Instead of those, let's take a look at another way, using the Frida RPC interface.

```

`course/3-chapter-3/operating-modes.md`:

```md
# other operating modes

So far we have used Frida in a way that it gets injected externally using the Python bindings. This was mostly because the both the process we wanted to instrument and the Frida tools were on the same computer. This is not always the case like when using Frida on a process running on a mobile phone. In that case you will need to explore other solutions.

Let's take a quick look at the other operating modes; frida-server and frida-gadget.

## frida-server

The `frida-server` binary that you can download from the GitHub [releases](https://github.com/frida/frida/releases) page is a standalone program. When run, it will create a TCP socket listening on localhost on port 27042 where client tools can connect to. You can change this with the `-l` flag to make it listen on a different interface and port combination. For example `./frida-server -l 0.0.0.0:1337`.

The docker container you have using for this workshop has the `frida-server` command available for you to experiment with.

```text
~$ frida-server -h
Usage:
  frida [OPTIONâ€¦]

Help Options:
  -h, --help                    Show help options

Application Options:
  --version                     Output version information and exit
  -l, --listen=ADDRESS          Listen on ADDRESS
  -d, --directory=DIRECTORY     Store binaries in DIRECTORY
  -D, --daemonize               Detach and become a daemon
  -v, --verbose                 Be verbose
```

If you want to see it in action, rerun the docker container adding a new port mapping with `-p 27042:27042`. Once the container is up, start the server with `frida-server -l 0.0.0.0`. Next, with `frida-tools` installed locally via `pip` (`pip install frida-tools`), try and connect to the server running in the container with `frida-ps -R`.

```bash
# inside the container
~$ frida-server -l 0.0.0.0

```

```bash
# on your host where the container is running
~ Â» frida-ps -R
PID  Name
--  ---------------------------
 1  bash
11  bash
28  frida-server
 7  nginx: master process nginx
 8  nginx: worker process
 9  nginx: worker process
10  nginx: worker process
12  nginx: worker process
13  nginx: worker process
14  nginx: worker process
15  nginx: worker process
16  nginx: worker process
```

You should see all of the processes running in your container, from your host! Once you know the name of the remote process, you can now connect the `frida` client, attaching to a specific process either by name or by PID.

?> Note, you may try to connect to an `nginx` process in the container, but there are a few problems where. First, there are multiple processes with the same name. Secondly, the `nginx` worker processes are not just called `nginx`, but instead `nginx: worker process`. As a result, you will need to specify the process ID of the target process with the `-p` flag.

```text
~ Â» frida -R -p 15
     ____
    / _  |   Frida 12.8.19 - A world-class dynamic instrumentation toolkit
   | (_| |
    > _  |   Commands:
   /_/ |_|       help      -> Displays the help system
   . . . .       object?   -> Display information about 'object'
   . . . .       exit/quit -> Exit
   . . . .
   . . . .   More info at https://www.frida.re/docs/home/

[Remote::PID::15]->
[Remote::PID::15]-> Process.enumerateModulesSync();
[
    {
        "base": "0x55a889119000",
        "name": "nginx",
        "path": "/usr/sbin/nginx",
        "size": 1118208
    },

[ ... ]
```

Let your imagination go wild! Naturally, the language binding support the same remote targets as the `frida` REPL does (given that its build on top of the same Python bindings).

## frida-gadget

The other form Frida comes in is called the Gadget. Fundamentally it behaves just like the Frida server does with the key difference being that is is a shared library with a constructor that boots it up. When the library is initialised, it also opens a TCP port on local host (more on the configuration later) where one can connect the Frida command line tools.

The Gadget is particularly powerful in the sense that it could be patched into say a mobile application to be loaded early during the applications' startup, allowing for the Frida command line tools to be connected to it and the process it is attached to, instrumented.

In the case of a Linux binary, we can "boot" the gadget using an `LD_PRELOAD` environment variable, or by patching the gadget into the binary as a required shared library. Let's try both.

## frida gadget LD_PRELOAD

We have already spend an extensive amount of time on `LD_PRELOAD` tricks in Chapter 1. We know that we just have to specify the full path to the shared library we want to load as we invoke our program, so let's do that.

The `frida-gadget.so` is located in the `/root` directory in the Docker container.

```text
~/code$ LD_PRELOAD=./../frida-gadget.so ./crypt
[Frida INFO] Listening on 127.0.0.1 TCP port 27042

```

Notice how we don't see the `Pin:` prompt we have come to expect from the `crypt` program, but instead we are shown a new line that Frida is now listening on localhost port 27042. At this stage the program is actually _paused_, waiting for a Frida client to tell it to resume.

This pausing behaviour is the default when it comes to the Gadget, but can be changed (more on that later.).

Alright, lets open another shell in the Docker container and get to a point where we can resume the app. Remember that we are now working on a remote gadget (as in over a TCP socket), so for the Frida command line tools we will be providing the `-R` flag. Try and connect the Frida REPL to the `crypt` program that is already running now.

```text
~$ frida -R crypt
     ____
    / _  |   Frida 12.8.20 - A world-class dynamic instrumentation toolkit
   | (_| |
    > _  |   Commands:
   /_/ |_|       help      -> Displays the help system
   . . . .       object?   -> Display information about 'object'
   . . . .       exit/quit -> Exit
   . . . .
   . . . .   More info at https://www.frida.re/docs/home/
Failed to spawn: unable to find process with name 'crypt'
```

The error we get states that it could not find a process called `crypt`. That is because when launched in Gadget mode, the process name from a Frida perspective is also different. Let's check what that is.

```text
~$ frida-ps -R
PID  Name
---  ------
114  Gadget
```

The process is called `Gadget`! Aha, so try and connect the REPL again, but instead of sayin you want to connect to `crypt`, use `Gadget` instead.

```text
~$ frida -R Gadget
     ____
    / _  |   Frida 12.8.20 - A world-class dynamic instrumentation toolkit
   | (_| |
    > _  |   Commands:
   /_/ |_|       help      -> Displays the help system
   . . . .       object?   -> Display information about 'object'
   . . . .       exit/quit -> Exit
   . . . .
   . . . .   More info at https://www.frida.re/docs/home/

[Remote::Gadget]->
[Remote::Gadget]-> Process.enumerateModulesSync();
[
    {
        "base": "0x55561e900000",
        "name": "crypt",
        "path": "/root/code/crypt",
        "size": 20480
    },

[ ... ]
```

Notice how when you connected the Frida REPL, the real process also resumed and the `Pin:` prompt is now displayed.

```text
~/code$ LD_PRELOAD=./../frida-gadget.so ./crypt
[Frida INFO] Listening on 127.0.0.1 TCP port 27042
Pin:
```

## frida-gadget patching

Depending on your target environment, using `LD_PRELOAD` may not always be an option. An alternative is to "patch" the target binary, telling it to load the shared library as part of the binaries initialisation routine. The process of patching will heavily depend on your target Operating System. For Linux, we can use a tool called `patchelf` to achieve this.

Before we patch, lets take a look at the libraries `crypt` depends on.

```text
~/code$ ldd crypt
        linux-vdso.so.1 (0x00007ffd5633b000)
        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f39a9977000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f39a9b45000)
```

Now, with `patchelf` we can use the `--add-needed` flag to add the `frida-gadget.so` as a needed library with `patchelf --add-needed ../frida-gadget.so crypt`. After the modification, check out the libraries `crypt` depends on:

```text
~/code$ patchelf --add-needed ../frida-gadget.so crypt
~/code$ ldd crypt
        linux-vdso.so.1 (0x00007ffcdd57b000)
        ../frida-gadget.so (0x00007fc52ef03000)
        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fc52ed3c000)
        libresolv.so.2 => /lib/x86_64-linux-gnu/libresolv.so.2 (0x00007fc52ed24000)
        libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fc52ed1f000)
        librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007fc52ed14000)
        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fc52ebcd000)
        libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fc52ebac000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fc530751000)
```

Now when you run crypt, you should seed Frida boot up as well!

```text
~/code$ ./crypt
[Frida INFO] Listening on 127.0.0.1 TCP port 27042

```

?> In case you were curious, this `patchelf` method is the basic premise of how the "patching" phase works in [objection](https://github.com/sensepost/objection).

## frida-gadget configuration

The Gadget can be configured to behave in different ways. For example, you can make the Gadget listen on all interface, not just localhost, open a port other than 27042 or, make it load a script and run it by default, all without a Frida client connected.

From the [docs](https://frida.re/docs/gadget/) we can see the format the configuration file takes. In a nut shell, the file should contain one JSON object with a few key/value pairs. An example configuration which is also the default configuration for the gadget is:

```json
{
  "interaction": {
    "type": "listen",
    "address": "127.0.0.1",
    "port": 27042,
    "on_load": "wait"
  }
}
```

If we wanted to change the behaviour of the Gadget to not pause the program until a Frida tool resumes it, we can change the `on_load` key to `resume`.

```json
{
  "interaction": {
    "type": "listen",
    "address": "127.0.0.1",
    "port": 27042,
    "on_load": "resume"
  }
}
```

The configuration file itself needs to live next to the Gadget's `.so` file and have the same name with the extension being `.config` instead of `.so`. Save a file with this contents called `frida-gadget.config` and run the patched `crypt` binary again.

```text
~/code$ ./crypt
Pin: [Frida INFO] Listening on 127.0.0.1 TCP port 27042

Pin:
Pin:
```

You should now see the Gadget booted and the application is ready to accept input without first connecting the Frida REPL.

Check out the documentation or more interesting configuration options!

```

`course/3-chapter-3/rpc.md`:

```md
# remote procedure call interface

I'll be honest, all of the things about the `load()` timeout and the intricacies with `send()` and `recv()` are not a lot of fun to work with. Especially given the async nature of JavaScript, if you are not careful you can cause yourself a ton of headaches with these. Instead, Frida also exposes an RPC interface which in my honest opinion is the way to go about building custom tools.

Before we go about refactoring our PIN brute forcer, let's get the basics down first.

## rpc 101

The RPC interface has two key components. The first being the `rpc` object in the JavaScript agent, and the second being the `script.exports` property in the Python world.

?> The `script.exports` property is also available in other language bindings.

In the agent you can define an object such as this after your initialisation code.

```javascript
rpc.exports = {
    brute: function() {
        console.log("Brute function");
    }
}
```

This will define the `brute` function in the agent, and expose it as an RPC export that language bindings such as python can access. Next, after calling `load()` in your injector script, it is possible to access the `brute()` function from Python by calling the function by name on the `script.exports` property. For example:

```python
script.exports.brute()
```

This pattern comes with a wide array of benefits. First, you won't be reaching any timeout errors as nothing is executing during script load. Second, we can now make use of the `brute` function from our Python code which gives us much better control over the code where we can define arguments and act on the return value. In fact, we can implement the brute force script multiple ways now.

## using brute as an RPC function

Let's refactor our brute force script one more time. This time round we will be making use of the RPC interface. The first approach would be to just move all of the logic we already have to the new `brute()` function. For example:

```javascript
rpc.exports = {
    brute: function() {
        var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
        var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

        for (var i = 0; i < 9999; i++) {
            console.log("Trying: " + i.toString());
            var pin = Memory.allocUtf8String(i.toString());
            var r = testPin(pin);

            if (r == 1) {
                console.log("Pin is: " + i.toString());
                break;
            }
        }
    }
}
```

Our Python injector will also receive a minor modification to get a handle on the `exports` that our agent exposes.

```python
import frida
import time

with open('index.js', 'r') as f:
    agent = f.read()

def incoming(message, data):
    print(message)

session = frida.attach("crypt")
script = session.create_script(agent)
script.on("message", incoming)
script.load()

rpc = script.exports    # get a handle on the exports

rpc.brute()
```

Notice how I have removed the `sys.stdin.read()` call. When we call `brute()`, the program will wait until it returns. Run this program now and see how the same output we have seen this far is returned.

## implementing brute in python

With the RPC pattern we can modify how we actually perform the brute force. Remember, the brute force is based on the return of `testPin` when given a specific argument. Right now we just loop over a range of numbers in the JavaScript agent, but we can move this to the Python world if we wish.

To do this, lets create a new RPC exports called `tryPin`, that accepts one argument. We will pass this argument from the Python program. Next, we will call the real `testPin()` function with that argument, and return the result back to the Python world.

Add a new RPC function called `tryPin` now.

```javascript
rpc.exports = {
    brute: function() {
        // snip
    },
    testPin: function(n) {
        // new logic
    }
}
```

As for the logic for `tryPin`, let's think about this for a moment. The `brute` function currently has all the parts we need to get a handle on the real `testPin` function. We can either copy and paste that into the `tryPin` method, or, we can extract it entirely out of the `rpc.exports` object and make it available globally. Getting a handle is a really quick operation too, so there is no risk in hitting a timeout when the script loads. With the handle available, we can simply call the real `testPin` and return the results.

So, our agent with the new `tryPin` function would now look something like this:

```javascript
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

rpc.exports = {
    brute: function() {
        for (var i = 0; i < 9999; i++) {
            console.log("Trying: " + i.toString());
            var pin = Memory.allocUtf8String(i.toString());
            var r = testPin(pin);

            if (r == 1) {
                console.log("Pin is: " + i.toString());
                break;
            }
        }
    },
    tryPin: function(n) {
        var pin = Memory.allocUtf8String(n.toString());
        return testPin(pin);
    }
}
```

In the Python world we now need to implement the loop that will call `tryPin` on different values. That would look something like this:

```python
import frida
import time

with open('index.js', 'r') as f:
    agent = f.read()

def incoming(message, data):
    print(message)

session = frida.attach("crypt")
script = session.create_script(agent)
script.on("message", incoming)
script.load()

rpc = script.exports

for x in range(0,9999):
    r = rpc.try_pin(x)
    if r != 0:
        print('Pin is: ' + str(x))
        break
```

Give that a run and check that you get the same PIN is the previous pure JavaScript implement. Then, pause for a moment and ponder about what is actually happening here.... :D

```

`course/3-chapter-3/tools.md`:

```md
# building python tools

Up until now we have written some simple Frida scripts. There is nothing wrong with the approach we have taken so far, however, in the longer term as your project or tool grows, it may be hard to maintain it this way.

There are a number of approaches to go about more longer term tool development. Let's take a look at some of those. We will be focussing on using the Frida [Python bindings](https://github.com/frida/frida-python)to inject instrumentation into a target process, however you can also have a look at the NodeJS, Swift, C or even .NET bindings if you prefer those.

!> Don't confuse Frida bindings with language interoperability. For example, the .NET bindings simply allow you to interact with Frida programmatically to inject into and instrument a target process from a .NET program. Having .NET language interop is a completely different topic.

Let's explore some options do built python based tools.

## simple python tool

Wrapping your instrumentation logic into a simple python script is most probably the second most popular method to write Frida based tools (vs. just providing the JavaScript and loading with `frida -l script.js`). Before we write the instrumentation JavaScript, let's setup a small skeleton to use.

?> There are some great examples [here](https://github.com/frida/frida-python/tree/master/examples)

```python
import frida
import sys

session = frida.attach("pew")
script = session.create_script("""
// JavaScript
""")
script.load()

# block so that the program does not quit.
sys.stdin.read()
```

This skeleton will attach to the local process called `pew`, inject a script (that has no logic at the moment) and load it causing it to be run in the target process. Finally, a small hack is done to block the program so that it does not exit. Without this our tool would simply exit. No idea if we have some heavy lifting to do still!

Add some logic to your script now. Maybe something simple to log the version of Frida in use.

```javascript
console.log("Frida version is: " + Frida.version);
```

Run your tool after starting the `pew` program and you should see something like this:

```text
~/code$ python3 tool.py
Frida version is: 12.8.20
^C
KeyboardInterrupt
~/code$
```

?> It is also possible to `spawn()` using the Frida Python bindings.

Neat! Now you can add any logic you want really, and it obviously depends a bit on your tool what you do.

```

`course/3-chapter-3/typescript.md`:

```md
# typescript

Frida has official TypeScript [types](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/frida-gum), which when combined with [VSCode](https://code.visualstudio.com/) make for an incredibly neat development experience.

The documentation website will always serve as a quick reference for how to use Frida modules, or, simply as a place to discover the myriad of crazy things it can do. However, when using TypeScript you may never have to refer to them again. Instead, the documentation would live right inside your editor.

## typescript intro for us mere mortals

Don't be scared when you read about TypeScript. The JavaScript syntax you know today is also valid TypeScript. The difference is that TypeScript offers extra, optional syntax sugar that turns JavaScript in to a typed language. That means, instead of you realising at runtime you are using the wrong object type, TypeScript will give you the error that that will happen before you run!

The other really great thing this offers is the ability to use any package available in the NodeJS ecosystem in your agent! That means you can do crazy things like embed a webserver into your target process. Additionally, you can make use of the latest and greatest JavaScript syntax (like ES6), and easily transpile it for runtimes that do not support that (like Duktape).

As far as "what is the minimum amount of things I need to know to use it" goes, it's really just two things.

1. You need to transpile your TypeScript to JavaScript. That means there is a process that needs to run to take the TypeScript you have written and translate it into the JavaScript version of your choosing.
2. Once transpiled, the resultant agent file (usually `_agent.js`) is what you load with your tool.

Really, thatâ€™s it! The setup to use TypeScript is also really easy. You need three things which we will go through in detail in the next section.

1. Get [VSCode](https://code.visualstudio.com/).
2. Make sure you have the `npm` command (this is already setup for you in the Docker container, but now you know).
3. The sample agent repository to use as a skeleton. Clone it with `git clone https://github.com/oleavr/frida-agent-example.git`.

## environment setup for frida & typescript

As far as VScode goes, you need to head over to the download page and get it. How that process works sort of depends in your OS. Good luck.

Next, make sure you have the `npm` command available. On Debian based OS's you can get it with a simple `apt install npm`.

Finally, clone the example Typescript agent repository. You can do this with `git cone https://github.com/oleavr/frida-agent-example.git` from the `code/` directory you have. Once cloned, `cd` into the `frida-agent-example` repository and run `npm install`. Thatâ€™s it, you are ready to start developing using TypeScript!

!> This is the only place where if you chose to code using `vim` inside of the container, you will need to work outside the container for VSCode to see the files.

## using vscode

With the project prepared on disc, you should now be ready to open it in VSCode. To load the project in VSCode, head over to File -> Add folder to workspace. Then, select the `frida-agent-example` directory.

![vscode-project](../_media/vscode-project.jpg)

Next, navigate to the `agent/index.ts` file. There should be some content already populated for you, which you can remove and replace with the RPC example from the previous chapter. The only difference is we will replace our `console.log()` statements to make use of the `log` function that comes with the example:

```typescript
import { log } from "./logger";

var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

rpc.exports = {
    brute: function() {
        for (var i = 0; i < 9999; i++) {
            log("Trying: " + i.toString());
            var pin = Memory.allocUtf8String(i.toString());
            var r = testPin(pin);

            if (r == 1) {
                log("Pin is: " + i.toString());
                break;
            }
        }
    },
    tryPin: function(n) {
        var pin = Memory.allocUtf8String(n.toString());
        return testPin(pin);
    }
}
```

Take a moment to explore some of the auto complete you have available now. For example, right at the top of the script, after the `testPin` declaration, start typing something like `Process.enu` and watch the suggestions come up!

![vscode-autocomplete](../_media/vscode-autocompelte.png)

The only thing that is left to do is to "build" the agent. In the `frida-agent-example` directory, simply run `npm run build`. Once done, you should have a new `_agent.js` file!

?> You can also run `npm run watch` which will watch your sources and as soon as a change is detected, your agent will automatically be recompiled!

```text
~/code/frida-agent-example$ npm run build

> frida-agent-example@1.0.0 build /root/code/frida-agent-example
> frida-compile agent/index.ts -o _agent.js

~/code/frida-agent-example$ ls -la _agent.js
-rw-r--r-- 1 root root 14819 May 10 16:35 _agent.js
```

Using the Python tool you have already built, you can now just load this `_agent.js` file and everything should function as normal.

In my opinion, this is the correct way to write agent code simply because you get to explore the Frida API in your editor, but also because you get instant feedback on errors that may cost you hours of debugging time!

```

`course/README.md`:

```md
# Frida Boot ðŸ‘¢

Welcome to Frida Boot! A binary instrumentation workshop, using [frida](https://frida.re/), for beginners! While the workshop absolutely has a strong security-related flavour, folks new to the idea of binary instrumentation with either a security or development background may find this useful.

I hope that this workshop gets you excited about using Frida, and accelerates your learning to go from wondering about, to crafting your own spoils! "WTF" to "IDKFA".

## What you will not learn

This workshop will **not** cover the wildly popular mobile application uses of Frida. Instead, the idea is to teach simple, core concepts that can be applied to any runtime (albeit with their nuances) that Frida supports.

## Using this documentation

If you are not already doing so, make sure you browse to the port exposed by the docker container to view this documentation.

Please see [starting](0-getting-started/starting) for information on starting the container.

## Ready for the next step

![frida-boot](_media/frida-boot-prompt.png)

If you can see the `frida-boot` prompt in your terminal and browse to <http://localhost:9999> then you are ready to continue! Head over to the [Environment](0-getting-started/environment) page!

YES, LET'S GOOOOOOOOO!! [HACKER GO BRRR!](0-getting-started/environment)

```

`course/_coverpage.md`:

```md
# Frida Boot ðŸ‘¢

> A binary instrumentation workshop, using [Frida](https://frida.re/), for beginners!

Built with â™¥ï¸ by [@leonjza](https://www.twitter.com/leonjza)

[The Code](https://github.com/leonjza/frida-boot)
[Let's Hack!](#main)

```

`course/_media/frida-arch.excalidraw`:

```excalidraw
{
  "type": "excalidraw",
  "version": 1,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "kANfrbKN5QQAD_YgO4vET",
      "type": "rectangle",
      "x": 549.22265625,
      "y": 326.5078125,
      "width": 540.23828125,
      "height": 269.80859375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 545114850,
      "version": 755,
      "versionNonce": 2117014782,
      "isDeleted": false
    },
    {
      "id": "SxmaajA2r9STzxpon4WCZ",
      "type": "rectangle",
      "x": 551.01171875,
      "y": 197.453125,
      "width": 533,
      "height": 76.2578125,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 706042942,
      "version": 480,
      "versionNonce": 1405339198,
      "isDeleted": false
    },
    {
      "id": "gAo3YNo7Qh0OKU6rAJsJL",
      "type": "text",
      "x": 711.078125,
      "y": 285.55859375,
      "width": 59,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 297394338,
      "version": 37,
      "versionNonce": 430741538,
      "isDeleted": false,
      "text": "DBUS",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "8OWVKGDewrsr7EKKmOVU_",
      "type": "arrow",
      "x": 805.94921875,
      "y": 284.140625,
      "width": 1.78515625,
      "height": 30.1953125,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 108281826,
      "version": 55,
      "versionNonce": 1409709438,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -1.78515625,
          30.1953125
        ]
      ],
      "lastCommittedPoint": null
    },
    {
      "id": "1XeZQBm8EKDxdUKbZoLj_",
      "type": "arrow",
      "x": 827.328125,
      "y": 312.6015625,
      "width": 1.2421875,
      "height": 29.453125,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 423834338,
      "version": 50,
      "versionNonce": 1795563810,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -1.2421875,
          -29.453125
        ]
      ],
      "lastCommittedPoint": null
    },
    {
      "id": "UVoKptowXbRFoQtsC8RBH",
      "type": "rectangle",
      "x": 574.984375,
      "y": 368.1171875,
      "width": 231.9140625,
      "height": 210.19140625,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 410212450,
      "version": 470,
      "versionNonce": 1686957026,
      "isDeleted": false
    },
    {
      "id": "FJLnTEtmn6EV2hQs20Wx_",
      "type": "text",
      "x": 588.81640625,
      "y": 376.59765625,
      "width": 189,
      "height": 25,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 370080610,
      "version": 297,
      "versionNonce": 1733700350,
      "isDeleted": false,
      "text": "frida-agent session",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "MJdM_erwPiIDQ5AZL0Mhz",
      "type": "rectangle",
      "x": 585.62109375,
      "y": 412.6015625,
      "width": 207.67578125000003,
      "height": 100.37890625,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1031516606,
      "version": 474,
      "versionNonce": 1435049890,
      "isDeleted": false
    },
    {
      "id": "krKMc-JQpHAisQ3HpwRVZ",
      "type": "text",
      "x": 592.30078125,
      "y": 424.23828125,
      "width": 192,
      "height": 75,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 452638562,
      "version": 459,
      "versionNonce": 1321276125,
      "isDeleted": false,
      "text": "var p = Module.\n findExportByName(\n  \"libc.so.6\", \"puts\");",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 68
    },
    {
      "id": "6ixLqnB4KWyZ99nE-_bN1",
      "type": "text",
      "x": 730.39453125,
      "y": 332.89453125,
      "width": 176,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1413863330,
      "version": 78,
      "versionNonce": 931365474,
      "isDeleted": false,
      "text": "target application",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "TlSRtyzk6SVlf35LEclqE",
      "type": "text",
      "x": 829.90234375,
      "y": 365.0546875,
      "width": 235,
      "height": 150,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1873259134,
      "version": 361,
      "versionNonce": 138992482,
      "isDeleted": false,
      "text": "push rbp\nmov  rbp,rsp\nsub  rsp,0x10\nlea  rdi,[rip+0xea0]\ncall 0x1030 <puts@plt>\nret",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 143
    },
    {
      "id": "RokgWYQ4mP1aro-8heHM0",
      "type": "rectangle",
      "x": 825.92578125,
      "y": 526.72265625,
      "width": 245.07421875,
      "height": 51.375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1816110050,
      "version": 484,
      "versionNonce": 567182270,
      "isDeleted": false
    },
    {
      "id": "7VhHk2wzD7DaJfqj4gMwB",
      "type": "text",
      "x": 992.3984375,
      "y": 531.8828125,
      "width": 70,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 281968034,
      "version": 242,
      "versionNonce": 186326818,
      "isDeleted": false,
      "text": "libc.so.6",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "kp4rEi7k9850e0jhTqSwR",
      "type": "text",
      "x": 834.8984375,
      "y": 537.0234375,
      "width": 125,
      "height": 25,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 679040866,
      "version": 284,
      "versionNonce": 520313854,
      "isDeleted": false,
      "text": "0x457a puts",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "Guf3D3Wa82joSx_fkVysV",
      "type": "rectangle",
      "x": 587.03125,
      "y": 526.48828125,
      "width": 206.53125,
      "height": 43.0703125,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1481018274,
      "version": 169,
      "versionNonce": 1248783074,
      "isDeleted": false
    },
    {
      "id": "hmSu4pyg0LGgG2yje0iC4",
      "type": "text",
      "x": 589.23046875,
      "y": 535.33203125,
      "width": 203,
      "height": 25,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1710794594,
      "version": 173,
      "versionNonce": 141765694,
      "isDeleted": false,
      "text": "** basically magic **",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "aajVtAbBw9NrBnLFlxaj7",
      "type": "text",
      "x": 559.59375,
      "y": 204.85546875,
      "width": 79,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1888742462,
      "version": 37,
      "versionNonce": 1491568866,
      "isDeleted": false,
      "text": "our tool",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "TxNsiMsM5AzP7zTPK26kV",
      "type": "rectangle",
      "x": 655.484375,
      "y": 204.78515625,
      "width": 414.27734375,
      "height": 60.81640624999999,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1446220862,
      "version": 103,
      "versionNonce": 21228798,
      "isDeleted": false
    },
    {
      "id": "sIn-0ARTo4u4WfMxI5uz4",
      "type": "text",
      "x": 672.5625,
      "y": 209.81640625,
      "width": 375,
      "height": 50,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1226608446,
      "version": 185,
      "versionNonce": 618452642,
      "isDeleted": false,
      "text": "script = session.create_script(source)\nscript.load()",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 43
    },
    {
      "id": "j8iTXwdOQNi2E69EqG64E",
      "type": "arrow",
      "x": 834.3125,
      "y": 534.765625,
      "width": 65.58203125,
      "height": 31.5703125,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 50,
      "seed": 552990782,
      "version": 173,
      "versionNonce": 1836876957,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -65.58203125,
          -31.5703125
        ]
      ],
      "lastCommittedPoint": [
        -85.80859375,
        -52.19140625
      ]
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
```

`course/_media/frida-jmp-patch.excalidraw`:

```excalidraw
{
  "type": "excalidraw",
  "version": 1,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "Gf0gY8IFlVu9YYeZNStjX",
      "type": "text",
      "x": 449.5,
      "y": 72.0234375,
      "width": 277,
      "height": 100,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1142536174,
      "version": 281,
      "versionNonce": 436579673,
      "isDeleted": false,
      "text": "...\ncall   0x3050 <sleep@plt>\njmp    0x3170 <main+27>\n...",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 93
    },
    {
      "id": "_bqqckQH1afbhxWIFRxGn",
      "type": "rectangle",
      "x": 327.875,
      "y": 198.40234375,
      "width": 430.10546875,
      "height": 223.703125,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1519881198,
      "version": 1254,
      "versionNonce": 217737655,
      "isDeleted": false
    },
    {
      "id": "RQldPqM2bocDVMnbq73NQ",
      "type": "text",
      "x": 338.578125,
      "y": 212.07421875,
      "width": 153,
      "height": 25,
      "angle": 0,
      "strokeColor": "#343a40",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1601024814,
      "version": 488,
      "versionNonce": 1502462190,
      "isDeleted": false,
      "text": "sleep@G_LIBC",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "trECBY0lzfQfLeXbs4Whd",
      "type": "text",
      "x": 359.14453125,
      "y": 262.8828125,
      "width": 379,
      "height": 150,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1356331054,
      "version": 535,
      "versionNonce": 276029614,
      "isDeleted": false,
      "text": "nop\nmov    rbx,QWORD PTR [rip+0xf1103]\nmov    rax,QWORD PTR fs:0x28\nmov    QWORD PTR [rsp+0x18],rax\n...\nret",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 143
    },
    {
      "id": "PKmGHjzjkW0IKjc4mGObR",
      "type": "rectangle",
      "x": 831.1796875,
      "y": 147.046875,
      "width": 192.1484375,
      "height": 79.89062500000001,
      "angle": 0,
      "strokeColor": "#e67700",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1795313390,
      "version": 465,
      "versionNonce": 1298047639,
      "isDeleted": false
    },
    {
      "id": "6gwmW6OInpOPqL9KL84mY",
      "type": "text",
      "x": 857.06640625,
      "y": 162.96875,
      "width": 133,
      "height": 50,
      "angle": 0,
      "strokeColor": "#d9480f",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1956207538,
      "version": 299,
      "versionNonce": 1238217006,
      "isDeleted": false,
      "text": "onEnter:\n console.log();",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 43
    },
    {
      "id": "tCfy0pMhvRNAxHJ2MRE0g",
      "type": "text",
      "x": 862.859375,
      "y": 367.5,
      "width": 133,
      "height": 50,
      "angle": 0,
      "strokeColor": "#d9480f",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 428274802,
      "version": 138,
      "versionNonce": 1837715246,
      "isDeleted": false,
      "text": "onLeave:\n console.log();",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 43
    },
    {
      "id": "tVdk8c1IZcyX9id4v_79Z",
      "type": "rectangle",
      "x": 433.3203125,
      "y": 66.8828125,
      "width": 312.6875,
      "height": 114.12890625,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1361468718,
      "version": 208,
      "versionNonce": 880357559,
      "isDeleted": false
    },
    {
      "id": "Ctx-eA8hfWRkTcG3xNUBl",
      "type": "text",
      "x": 361.12109375,
      "y": 237.453125,
      "width": 242,
      "height": 25,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 2068169902,
      "version": 101,
      "versionNonce": 27219822,
      "isDeleted": false,
      "text": "jmp    0x7fe048d23708",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "-KWdBewysGdCrUKpoind-",
      "type": "arrow",
      "x": 616.796875,
      "y": 237.1171875,
      "width": 207.33984375,
      "height": 59.2421875,
      "angle": 0,
      "strokeColor": "#a61e4d",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1458033113,
      "version": 79,
      "versionNonce": 1939897335,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          207.33984375,
          -59.2421875
        ]
      ],
      "lastCommittedPoint": [
        207.33984375,
        -59.2421875
      ]
    },
    {
      "id": "aMV-wZ_qazMOhlRpKNhqt",
      "type": "rectangle",
      "x": 832.9921875,
      "y": 357.0625,
      "width": 187.296875,
      "height": 79.85546875,
      "angle": 0,
      "strokeColor": "#e67700",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 73587159,
      "version": 75,
      "versionNonce": 1363556215,
      "isDeleted": false
    },
    {
      "id": "oeu-hF-3j2zYWPhS6hk1d",
      "type": "arrow",
      "x": 819.78125,
      "y": 217.2578125,
      "width": 137.0703125,
      "height": 63.65234375,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 881633241,
      "version": 179,
      "versionNonce": 797436759,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -137.0703125,
          63.65234375
        ]
      ],
      "lastCommittedPoint": [
        -137.0703125,
        63.65234375
      ]
    },
    {
      "id": "vxVL0X7QZJssGPUoVZ9JZ",
      "type": "arrow",
      "x": 408.93359375,
      "y": 396.99609375,
      "width": 415.4140625,
      "height": 18.28515625,
      "angle": 0,
      "strokeColor": "#862e9c",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 643329175,
      "version": 179,
      "versionNonce": 2085953239,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          415.4140625,
          -18.28515625
        ]
      ],
      "lastCommittedPoint": [
        415.4140625,
        -18.28515625
      ]
    },
    {
      "id": "etRdag0JAQrrilLc7DGX6",
      "type": "arrow",
      "x": 424.3046875,
      "y": 109.3203125,
      "width": 79.640625,
      "height": 94.49609375,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 882235129,
      "version": 168,
      "versionNonce": 806456567,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -58.0703125,
          32.9296875
        ],
        [
          -79.640625,
          94.49609375
        ]
      ],
      "lastCommittedPoint": [
        -79.640625,
        94.49609375
      ]
    },
    {
      "id": "GHIKlNALbUY66MX66Mkob",
      "type": "text",
      "x": 396.625,
      "y": 71.078125,
      "width": 12,
      "height": 35,
      "angle": 0,
      "strokeColor": "#0b7285",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 80721145,
      "version": 38,
      "versionNonce": 1057939385,
      "isDeleted": false,
      "text": "1.",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "I1k6xLLrQEyIOoEQ7eFLN",
      "type": "text",
      "x": 785.15625,
      "y": 135.296875,
      "width": 29,
      "height": 35,
      "angle": 0,
      "strokeColor": "#0b7285",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1594445337,
      "version": 46,
      "versionNonce": 933305271,
      "isDeleted": false,
      "text": "2.",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "sPZ4qw31ILkt9bvzanWXa",
      "type": "text",
      "x": 792.82421875,
      "y": 238.48828125,
      "width": 28,
      "height": 35,
      "angle": 0,
      "strokeColor": "#0b7285",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 942177881,
      "version": 55,
      "versionNonce": 1694464311,
      "isDeleted": false,
      "text": "3.",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "s0DwDH_GGFvEs7DGJZkIY",
      "type": "text",
      "x": 767.37109375,
      "y": 335.0390625,
      "width": 24,
      "height": 35,
      "angle": 0,
      "strokeColor": "#0b7285",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 448353143,
      "version": 22,
      "versionNonce": 1395426201,
      "isDeleted": false,
      "text": "4.",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "bnmF2Jit6SHosmuD9kM8f",
      "type": "text",
      "x": 835.94921875,
      "y": 117.1796875,
      "width": 182,
      "height": 25,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1978671223,
      "version": 108,
      "versionNonce": 1117415703,
      "isDeleted": false,
      "text": "// access to args",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "WNo8NJQphDxzvs3cVNVWR",
      "type": "arrow",
      "x": 1023,
      "y": 390.47265625,
      "width": 292.13671875,
      "height": 311.5546875,
      "angle": 0,
      "strokeColor": "#087f5b",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 611788439,
      "version": 331,
      "versionNonce": 822293527,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          21.35546875,
          -239.11328125
        ],
        [
          -40.8671875,
          -311.5546875
        ],
        [
          -270.78125,
          -260.5703125
        ]
      ],
      "lastCommittedPoint": [
        -270.78125,
        -260.5703125
      ]
    },
    {
      "id": "yAFtM7cPQFXDy1wP44spQ",
      "type": "text",
      "x": 814.1484375,
      "y": 70.5859375,
      "width": 27,
      "height": 35,
      "angle": 0,
      "strokeColor": "#0b7285",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 476278743,
      "version": 206,
      "versionNonce": 91571641,
      "isDeleted": false,
      "text": "5.",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "bNOQw91jolrI4Cd4fdYaI",
      "type": "text",
      "x": 508.75390625,
      "y": 3.30859375,
      "width": 281,
      "height": 35,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1227823639,
      "version": 62,
      "versionNonce": 2095948729,
      "isDeleted": false,
      "text": "Interceptor.attach()",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "uFgLxWx237wnaTwknRhUF",
      "type": "line",
      "x": 504.22265625,
      "y": 42.54296875,
      "width": 290.6640625,
      "height": 0.19921875,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 875074777,
      "version": 135,
      "versionNonce": 399768663,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          290.6640625,
          -0.19921875
        ]
      ],
      "lastCommittedPoint": [
        290.6640625,
        -0.19921875
      ]
    },
    {
      "id": "NgftkifFNp9xeRcsDwE0E",
      "type": "text",
      "x": 826.3203125,
      "y": 328.18359375,
      "width": 198,
      "height": 25,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 308553145,
      "version": 200,
      "versionNonce": 2045300919,
      "isDeleted": false,
      "text": "// access to retval",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
```

`course/_media/function-call-hooked.excalidraw`:

```excalidraw
{
  "type": "excalidraw",
  "version": 1,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "SZGeUdVU2BOvenQjHNxD_",
      "type": "rectangle",
      "x": 430.3046875,
      "y": 270.13671875,
      "width": 205.45703125,
      "height": 75.875,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1222120630,
      "version": 67,
      "versionNonce": 1578428342,
      "isDeleted": false
    },
    {
      "id": "O8L1w9IoEyJQC4cpCHQ7m",
      "type": "text",
      "x": 458.73046875,
      "y": 294.74609375,
      "width": 144,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 914300842,
      "version": 81,
      "versionNonce": 465454314,
      "isDeleted": false,
      "text": "function Caller",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "hXA0orBAs1EphmdfNwqOi",
      "type": "diamond",
      "x": 664.0546875,
      "y": 294.5625,
      "width": 210.41796875,
      "height": 236.48046875,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 766921898,
      "version": 511,
      "versionNonce": 309304490,
      "isDeleted": false
    },
    {
      "id": "9eZF-OTZ0_1CpesHAXQek",
      "type": "text",
      "x": 678.5546875,
      "y": 399.33203125,
      "width": 182,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1331454250,
      "version": 279,
      "versionNonce": 608215338,
      "isDeleted": false,
      "text": "encrypt(data, key)",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "Yz6Wa4E1GFUBCbG1nU1vH",
      "type": "text",
      "x": 702.42578125,
      "y": 250.79296875,
      "width": 58,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 757420022,
      "version": 110,
      "versionNonce": 732961270,
      "isDeleted": false,
      "text": "(args)",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "_n37JY4uIYc6gR0D680It",
      "type": "text",
      "x": 469.29296875,
      "y": 463.39453125,
      "width": 135,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1464464822,
      "version": 119,
      "versionNonce": 1022142774,
      "isDeleted": false,
      "text": "(return value)",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "OXhzYcOSRYmQVaUoewxX7",
      "type": "rectangle",
      "x": 984.4140625,
      "y": 323.44900404856776,
      "width": 375.3359375,
      "height": 161.18380845143224,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1358357290,
      "version": 975,
      "versionNonce": 138713974,
      "isDeleted": false
    },
    {
      "id": "xigmNKyqjt2FrAyy0fpQR",
      "type": "text",
      "x": 1007.4609375,
      "y": 333.703125,
      "width": 225,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1460496758,
      "version": 687,
      "versionNonce": 1665489834,
      "isDeleted": false,
      "text": "custom function detour",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "T2dM3kSL_e11VW67fAVop",
      "type": "arrow",
      "x": 637.52734375,
      "y": 300.51171875,
      "width": 379.72265625,
      "height": 55.18359375,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1694587958,
      "version": 398,
      "versionNonce": 729216106,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          82.109375,
          1.0859375
        ],
        [
          156.15234375,
          -28.2265625
        ],
        [
          249.90625,
          -41.94921875
        ],
        [
          337.43359375,
          -27.57421875
        ],
        [
          379.72265625,
          13.234375
        ]
      ],
      "lastCommittedPoint": [
        379.72265625,
        13.234375
      ]
    },
    {
      "id": "TvsqEw8QuRP5rMKh6VKIt",
      "type": "arrow",
      "x": 982.09765625,
      "y": 351.375,
      "width": 142.3046875,
      "height": 5.48828125,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1960115062,
      "version": 146,
      "versionNonce": 893253482,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -142.3046875,
          5.48828125
        ]
      ],
      "lastCommittedPoint": [
        -142.3046875,
        5.48828125
      ]
    },
    {
      "id": "LpA-zmdgy4DXBp7XbW3Wb",
      "type": "arrow",
      "x": 836.578125,
      "y": 455,
      "width": 141.1015625,
      "height": 12.85546875,
      "angle": 0,
      "strokeColor": "#5c940d",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1674149430,
      "version": 97,
      "versionNonce": 1965451498,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          141.1015625,
          -12.85546875
        ]
      ],
      "lastCommittedPoint": [
        141.1015625,
        -12.85546875
      ]
    },
    {
      "id": "HKaM3IWuCfiyHP5jLT-lo",
      "type": "arrow",
      "x": 1049.515625,
      "y": 491.07421875,
      "width": 528.55859375,
      "height": 208.80078125,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 209833654,
      "version": 370,
      "versionNonce": 204875242,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -303.84375,
          73.67578125
        ],
        [
          -434.87109375,
          -26.3046875
        ],
        [
          -514.828125,
          -77.3359375
        ],
        [
          -528.55859375,
          -135.125
        ]
      ],
      "lastCommittedPoint": [
        -528.55859375,
        -135.125
      ]
    },
    {
      "id": "anP1VCUTAaKvBG-qibrZp",
      "type": "text",
      "x": 1005.6484375,
      "y": 375.5625,
      "width": 330,
      "height": 75,
      "angle": 0,
      "strokeColor": "#343a40",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 895867690,
      "version": 165,
      "versionNonce": 568179126,
      "isDeleted": false,
      "text": "1. access to arguments\n2. (optionally) calls real function\n3. returns real, or modified value",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 68
    },
    {
      "id": "uiB1LnjfcTPP-KE6KeeCk",
      "type": "text",
      "x": 455.38671875,
      "y": 190.828125,
      "width": 28,
      "height": 25,
      "angle": 0,
      "strokeColor": "#343a40",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1611400950,
      "version": 74,
      "versionNonce": 735119030,
      "isDeleted": false,
      "text": "???",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "mZOreh_Zj-V0NF89OQ0Lu",
      "type": "ellipse",
      "x": 425.9609375,
      "y": 171.5078125,
      "width": 82.80859375,
      "height": 64.09375,
      "angle": 0,
      "strokeColor": "#343a40",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1755019114,
      "version": 137,
      "versionNonce": 2058381226,
      "isDeleted": false
    },
    {
      "id": "4MkiGds82AdX6JDaCv-bJ",
      "type": "ellipse",
      "x": 494.75,
      "y": 227.6328125,
      "width": 17.41015625,
      "height": 19.546875,
      "angle": 0,
      "strokeColor": "#343a40",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1061424746,
      "version": 114,
      "versionNonce": 346734582,
      "isDeleted": false
    },
    {
      "id": "ZGY6UJ4PeTYF28-cwUCVB",
      "type": "ellipse",
      "x": 517.53125,
      "y": 249.88671875,
      "width": 8.5546875,
      "height": 10.90234375,
      "angle": 0,
      "strokeColor": "#343a40",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 2137820022,
      "version": 112,
      "versionNonce": 1884938858,
      "isDeleted": false
    },
    {
      "id": "kZ-k9q2eOL9gyoCe8NW1z",
      "type": "ellipse",
      "x": 944.3359375,
      "y": 232.7890625,
      "width": 457.1328125,
      "height": 352.671875,
      "angle": 0,
      "strokeColor": "#e67700",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1717370346,
      "version": 107,
      "versionNonce": 184700842,
      "isDeleted": false
    },
    {
      "id": "8qICLvgNn1w7U_lWI9jZ1",
      "type": "text",
      "x": 1073.21875,
      "y": 269.16015625,
      "width": 178,
      "height": 25,
      "angle": 0,
      "strokeColor": "#e67700",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1152742070,
      "version": 89,
      "versionNonce": 1587351722,
      "isDeleted": false,
      "text": "effectively hooking",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
```

`course/_media/function-call.excalidraw`:

```excalidraw
{
  "type": "excalidraw",
  "version": 1,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "SZGeUdVU2BOvenQjHNxD_",
      "type": "rectangle",
      "x": 430.3046875,
      "y": 270.13671875,
      "width": 205.45703125,
      "height": 75.875,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1222120630,
      "version": 66,
      "versionNonce": 1578428342,
      "isDeleted": false
    },
    {
      "id": "O8L1w9IoEyJQC4cpCHQ7m",
      "type": "text",
      "x": 457.23046875,
      "y": 294.74609375,
      "width": 147,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 914300842,
      "version": 75,
      "versionNonce": 1045446378,
      "isDeleted": false,
      "text": "Function Caller",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "hXA0orBAs1EphmdfNwqOi",
      "type": "diamond",
      "x": 664.0546875,
      "y": 294.5625,
      "width": 210.41796875,
      "height": 236.48046875,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 766921898,
      "version": 510,
      "versionNonce": 309304490,
      "isDeleted": false
    },
    {
      "id": "9eZF-OTZ0_1CpesHAXQek",
      "type": "text",
      "x": 678.5546875,
      "y": 399.33203125,
      "width": 182,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1331454250,
      "version": 278,
      "versionNonce": 608215338,
      "isDeleted": false,
      "text": "encrypt(data, key)",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "Yz6Wa4E1GFUBCbG1nU1vH",
      "type": "text",
      "x": 702.42578125,
      "y": 250.79296875,
      "width": 58,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 757420022,
      "version": 109,
      "versionNonce": 732961270,
      "isDeleted": false,
      "text": "(args)",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "_n37JY4uIYc6gR0D680It",
      "type": "text",
      "x": 469.29296875,
      "y": 463.39453125,
      "width": 135,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1464464822,
      "version": 118,
      "versionNonce": 1022142774,
      "isDeleted": false,
      "text": "(return value)",
      "font": "20px Virgil",
      "textAlign": "center",
      "baseline": 18
    },
    {
      "id": "5jQXFLca_xg4s1QYDk6-d",
      "type": "arrow",
      "x": 639.29296875,
      "y": 291.47265625,
      "width": 101.26953125,
      "height": 27.48046875,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 1231485738,
      "version": 129,
      "versionNonce": 1292287594,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          72.484375,
          5.69921875
        ],
        [
          101.26953125,
          27.48046875
        ]
      ],
      "lastCommittedPoint": [
        101.26953125,
        27.48046875
      ]
    },
    {
      "id": "Jq5JEkO0izzYlSXc__Uez",
      "type": "arrow",
      "x": 700.94140625,
      "y": 458.4609375,
      "width": 199.09765625,
      "height": 109.8828125,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 2,
      "opacity": 100,
      "seed": 18501110,
      "version": 186,
      "versionNonce": 1104876982,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -92.3203125,
          0.859375
        ],
        [
          -186.4609375,
          -47.73046875
        ],
        [
          -199.09765625,
          -109.0234375
        ]
      ],
      "lastCommittedPoint": [
        -199.09765625,
        -109.0234375
      ]
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
```

`course/_media/plt-got-ld_preload.excalidraw`:

```excalidraw
{
  "type": "excalidraw",
  "version": 1,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "_mVyCXY_0Cd2lrbiNJutL",
      "type": "text",
      "x": 432.65234375,
      "y": 178.3125,
      "width": 228,
      "height": 100,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 797685854,
      "version": 173,
      "versionNonce": 149964674,
      "isDeleted": false,
      "text": "main:\n mov    esi,eax\n lea    rdi,[rip+0xea4]\n mov    eax,0x0",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 93
    },
    {
      "id": "5jXjwbWCSKFMp3mBnW8Dt",
      "type": "text",
      "x": 433.62890625,
      "y": 279.4453125,
      "width": 275,
      "height": 25,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1108419614,
      "version": 309,
      "versionNonce": 1892527001,
      "isDeleted": false,
      "text": " call   0x1030 <sleep@plt>",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "kLxs5mJYU6CUwVt1HupoR",
      "type": "text",
      "x": 687.3046875,
      "y": 251.83203125,
      "width": 9,
      "height": 25,
      "angle": 0,
      "strokeColor": "#364fc7",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 81164574,
      "version": 440,
      "versionNonce": 734068055,
      "isDeleted": false,
      "text": "?",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "oM80B7_29bwu8leigHPLL",
      "type": "text",
      "x": 1134.07421875,
      "y": 294.078125,
      "width": 70,
      "height": 25,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1010396894,
      "version": 707,
      "versionNonce": 75943641,
      "isDeleted": false,
      "text": "libc.so.6",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "UBonv9RuYcQ7QBZDY3IXx",
      "type": "text",
      "x": 1135.63671875,
      "y": 323.390625,
      "width": 155,
      "height": 25,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 320261890,
      "version": 857,
      "versionNonce": 120907575,
      "isDeleted": false,
      "text": "0x2432  sleep",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "_7-kEiWXqGNYb8sb-xde2",
      "type": "rectangle",
      "x": 1125.9609375,
      "y": 286.33203125,
      "width": 213.453125,
      "height": 68.5234375,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 234501250,
      "version": 747,
      "versionNonce": 1616481209,
      "isDeleted": false
    },
    {
      "id": "5h23NfcWCAaLyvQhXx5aJ",
      "type": "text",
      "x": 825.2421875,
      "y": 233.83984375,
      "width": 196,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 4,
      "roughness": 1,
      "opacity": 100,
      "seed": 207431774,
      "version": 223,
      "versionNonce": 43707550,
      "isDeleted": false,
      "text": "PLT (dynamic linker)",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "p8cyh2_d-q3F27OHSs_R-",
      "type": "rectangle",
      "x": 832.05078125,
      "y": 273.5859375,
      "width": 167.37890625,
      "height": 192.23828125,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1401063426,
      "version": 455,
      "versionNonce": 978203714,
      "isDeleted": false
    },
    {
      "id": "bXA7CiNhV5Nl_WbFagpON",
      "type": "text",
      "x": 846.35546875,
      "y": 291.171875,
      "width": 50,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 21815170,
      "version": 172,
      "versionNonce": 1026270,
      "isDeleted": false,
      "text": "GOT",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "N573ynZpjrWzc7ts3-d_5",
      "type": "text",
      "x": 842.84765625,
      "y": 342.05078125,
      "width": 143,
      "height": 100,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1094114526,
      "version": 247,
      "versionNonce": 1049455161,
      "isDeleted": false,
      "text": "...\n...\n...\n0x2356 sleep",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 93
    },
    {
      "id": "BwabP4wzFGZ_4P-YsO49r",
      "type": "arrow",
      "x": 1043.2890625,
      "y": 237.6015625,
      "width": 71.00390625,
      "height": 1.66015625,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 20588574,
      "version": 390,
      "versionNonce": 2118270201,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          71.00390625,
          -1.66015625
        ]
      ],
      "lastCommittedPoint": [
        71.00390625,
        -1.66015625
      ]
    },
    {
      "id": "n-E8xb20hSWRS1SPEqM87",
      "type": "arrow",
      "x": 1115.6015625,
      "y": 256.87109375,
      "width": 73.33203125,
      "height": 0.59375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 445235934,
      "version": 396,
      "versionNonce": 734456599,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -73.33203125,
          0.59375
        ]
      ],
      "lastCommittedPoint": [
        -73.33203125,
        0.59375
      ]
    },
    {
      "id": "FTNrxDTJ787-r8fA56HXO",
      "type": "rectangle",
      "x": 816.96484375,
      "y": 217.19140625,
      "width": 214.41015625,
      "height": 260.59375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1905446210,
      "version": 248,
      "versionNonce": 2017823070,
      "isDeleted": false
    },
    {
      "id": "SbH3V3_9wACVPj8QO91wL",
      "type": "rectangle",
      "x": 1060.8671875,
      "y": 382.33984375,
      "width": 262.74609375,
      "height": 221.671875,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1030203266,
      "version": 1221,
      "versionNonce": 351627383,
      "isDeleted": false
    },
    {
      "id": "OMGyLjh_MQEPJLL_6b9Ph",
      "type": "text",
      "x": 1067.93359375,
      "y": 391.3125,
      "width": 121,
      "height": 25,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 75801538,
      "version": 330,
      "versionNonce": 1731707447,
      "isDeleted": false,
      "text": "fake sleep()",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "XcHyWOM3WdeG7LwoSgdZd",
      "type": "text",
      "x": 1072.30078125,
      "y": 418.94140625,
      "width": 138,
      "height": 50,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1549753538,
      "version": 547,
      "versionNonce": 983707095,
      "isDeleted": false,
      "text": "sub  rsp,0xd8\nmov  r10,rdi",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 43
    },
    {
      "id": "ZG1X9a0bYK2LtNl6H0wrB",
      "type": "rectangle",
      "x": 418,
      "y": 168.35546875,
      "width": 314.515625,
      "height": 193.8125,
      "angle": 0,
      "strokeColor": "#364fc7",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 725412958,
      "version": 72,
      "versionNonce": 1463950530,
      "isDeleted": false
    },
    {
      "id": "M6V2fQlZtn5XVAT3niJiL",
      "type": "text",
      "x": 816.0625,
      "y": 172.59765625,
      "width": 462,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 450172702,
      "version": 266,
      "versionNonce": 1661874391,
      "isDeleted": false,
      "text": "function trampoline to sleep() in shared library",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "-7T-kB8iGd7xJeBOtDcRL",
      "type": "rectangle",
      "x": 805.3828125,
      "y": 162.671875,
      "width": 671.140625,
      "height": 453.09765625,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 764027842,
      "version": 869,
      "versionNonce": 1549964089,
      "isDeleted": false
    },
    {
      "id": "GTnot4nWzYUNgK0ATo-Hu",
      "type": "text",
      "x": 444.78125,
      "y": 303.83203125,
      "width": 129,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1034246942,
      "version": 121,
      "versionNonce": 256571586,
      "isDeleted": false,
      "text": "xor eax, eax",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "p1EdVxkCDmvyD3eA64Atl",
      "type": "arrow",
      "x": 723.08984375,
      "y": 286.296875,
      "width": 88.89453125,
      "height": 38.796875,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1087176514,
      "version": 131,
      "versionNonce": 450189826,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          88.89453125,
          -38.796875
        ]
      ],
      "lastCommittedPoint": [
        88.89453125,
        -38.796875
      ]
    },
    {
      "id": "XXx0ovpaAMtM-tClYwOxH",
      "type": "arrow",
      "x": 986.14453125,
      "y": 411.234375,
      "width": 83.28515625,
      "height": 7.41015625,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1438067202,
      "version": 73,
      "versionNonce": 208735774,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          83.28515625,
          -7.41015625
        ]
      ],
      "lastCommittedPoint": null
    },
    {
      "id": "QZD4czIp-W_zs6vF5mVdp",
      "type": "arrow",
      "x": 1046.84765625,
      "y": 507.0703125,
      "width": 648.76171875,
      "height": 190.73828125,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 2098826654,
      "version": 530,
      "versionNonce": 1185067742,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -262.734375,
          4.01953125
        ],
        [
          -296.7109375,
          -119.87109375
        ],
        [
          -588.828125,
          -122.42578125
        ],
        [
          -648.76171875,
          -170.43359375
        ],
        [
          -606.56640625,
          -186.71875
        ]
      ],
      "lastCommittedPoint": [
        -606.56640625,
        -186.71875
      ]
    },
    {
      "id": "VezqkUsmdBNtJYjU3KEmj",
      "type": "text",
      "x": 1133.62890625,
      "y": 215.49609375,
      "width": 139,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1765132055,
      "version": 817,
      "versionNonce": 929020825,
      "isDeleted": false,
      "text": "fake_sleep.so",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "gmJbxghTcs5P9LfZsZZ4Q",
      "type": "text",
      "x": 1135.83984375,
      "y": 245.796875,
      "width": 153,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1128208857,
      "version": 918,
      "versionNonce": 332151927,
      "isDeleted": false,
      "text": "0x592a  sleep",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "sJmBJRMe9xiGe5ALUnG2c",
      "type": "rectangle",
      "x": 1125.1640625,
      "y": 208.73828125,
      "width": 213.453125,
      "height": 68.5234375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1731906615,
      "version": 797,
      "versionNonce": 235905049,
      "isDeleted": false
    },
    {
      "id": "i7bJjM39nQsczdvevWJl4",
      "type": "arrow",
      "x": 1318.578125,
      "y": 477.4453125,
      "width": 97.26171875,
      "height": 143.71875,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 951598327,
      "version": 346,
      "versionNonce": 330033529,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          89.39453125,
          -3.83203125
        ],
        [
          89.734375,
          -143.71875
        ],
        [
          -7.52734375,
          -141.41015625
        ]
      ],
      "lastCommittedPoint": [
        -7.52734375,
        -141.41015625
      ]
    },
    {
      "id": "wCSwTJ7pMZvONGnttGr1O",
      "type": "text",
      "x": 1072.4921875,
      "y": 466.33984375,
      "width": 235,
      "height": 50,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 512256793,
      "version": 544,
      "versionNonce": 1362789529,
      "isDeleted": false,
      "text": "call  0x7f61 <dlsym@plt>\ncall  rdx",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 43
    },
    {
      "id": "_btIbFk_GURuF2zq6RFv3",
      "type": "text",
      "x": 1075.140625,
      "y": 515.7734375,
      "width": 31,
      "height": 50,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1720696473,
      "version": 627,
      "versionNonce": 1901976985,
      "isDeleted": false,
      "text": "...\nret",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 43
    },
    {
      "id": "gspahv5X_Ek0tqmJelLgY",
      "type": "text",
      "x": 1329.6953125,
      "y": 491.51171875,
      "width": 137,
      "height": 50,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 620132985,
      "version": 104,
      "versionNonce": 545240953,
      "isDeleted": false,
      "text": "real sleep()\nRTLD_NEXT",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 43
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
```

`course/_media/plt-got.excalidraw`:

```excalidraw
{
  "type": "excalidraw",
  "version": 1,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "_mVyCXY_0Cd2lrbiNJutL",
      "type": "text",
      "x": 432.65234375,
      "y": 178.3125,
      "width": 228,
      "height": 100,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 797685854,
      "version": 171,
      "versionNonce": 149964674,
      "isDeleted": false,
      "text": "main:\n mov    esi,eax\n lea    rdi,[rip+0xea4]\n mov    eax,0x0",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 93
    },
    {
      "id": "5jXjwbWCSKFMp3mBnW8Dt",
      "type": "text",
      "x": 434.47265625,
      "y": 279.67578125,
      "width": 277,
      "height": 25,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1108419614,
      "version": 285,
      "versionNonce": 957178334,
      "isDeleted": false,
      "text": " call   0x1030 <printf@plt>",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "kLxs5mJYU6CUwVt1HupoR",
      "type": "text",
      "x": 685.62890625,
      "y": 323.3359375,
      "width": 9,
      "height": 25,
      "angle": 0,
      "strokeColor": "#364fc7",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 81164574,
      "version": 412,
      "versionNonce": 943720258,
      "isDeleted": false,
      "text": "?",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "oM80B7_29bwu8leigHPLL",
      "type": "text",
      "x": 1165.76171875,
      "y": 242.41796875,
      "width": 70,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1010396894,
      "version": 489,
      "versionNonce": 1970863298,
      "isDeleted": false,
      "text": "libc.so.6",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "UBonv9RuYcQ7QBZDY3IXx",
      "type": "text",
      "x": 1165.28125,
      "y": 296.85546875,
      "width": 155,
      "height": 50,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 320261890,
      "version": 627,
      "versionNonce": 2016651358,
      "isDeleted": false,
      "text": "0x2356  printf\n0x2432  sleep",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 43
    },
    {
      "id": "_7-kEiWXqGNYb8sb-xde2",
      "type": "rectangle",
      "x": 1122.953125,
      "y": 220.484375,
      "width": 238,
      "height": 147.60546875,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 234501250,
      "version": 491,
      "versionNonce": 343938178,
      "isDeleted": false
    },
    {
      "id": "5h23NfcWCAaLyvQhXx5aJ",
      "type": "text",
      "x": 825.2421875,
      "y": 233.83984375,
      "width": 196,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 4,
      "roughness": 1,
      "opacity": 100,
      "seed": 207431774,
      "version": 221,
      "versionNonce": 43707550,
      "isDeleted": false,
      "text": "PLT (dynamic linker)",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "p8cyh2_d-q3F27OHSs_R-",
      "type": "rectangle",
      "x": 832.05078125,
      "y": 273.5859375,
      "width": 167.37890625,
      "height": 192.23828125,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1401063426,
      "version": 453,
      "versionNonce": 978203714,
      "isDeleted": false
    },
    {
      "id": "bXA7CiNhV5Nl_WbFagpON",
      "type": "text",
      "x": 846.35546875,
      "y": 291.171875,
      "width": 50,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 21815170,
      "version": 170,
      "versionNonce": 1026270,
      "isDeleted": false,
      "text": "GOT",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "N573ynZpjrWzc7ts3-d_5",
      "type": "text",
      "x": 841.84765625,
      "y": 342.05078125,
      "width": 145,
      "height": 100,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1094114526,
      "version": 231,
      "versionNonce": 146955266,
      "isDeleted": false,
      "text": "...\n...\n...\n0x2356 printf",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 93
    },
    {
      "id": "BwabP4wzFGZ_4P-YsO49r",
      "type": "arrow",
      "x": 1044.19921875,
      "y": 281.171875,
      "width": 71.00390625,
      "height": 1.66015625,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 20588574,
      "version": 321,
      "versionNonce": 539155742,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          71.00390625,
          -1.66015625
        ]
      ],
      "lastCommittedPoint": [
        71.00390625,
        -1.66015625
      ]
    },
    {
      "id": "n-E8xb20hSWRS1SPEqM87",
      "type": "arrow",
      "x": 1116.51171875,
      "y": 300.44140625,
      "width": 73.33203125,
      "height": 0.59375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 445235934,
      "version": 327,
      "versionNonce": 232491970,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -73.33203125,
          0.59375
        ]
      ],
      "lastCommittedPoint": [
        -73.33203125,
        0.59375
      ]
    },
    {
      "id": "FTNrxDTJ787-r8fA56HXO",
      "type": "rectangle",
      "x": 816.96484375,
      "y": 217.19140625,
      "width": 214.41015625,
      "height": 260.59375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1905446210,
      "version": 246,
      "versionNonce": 2017823070,
      "isDeleted": false
    },
    {
      "id": "SbH3V3_9wACVPj8QO91wL",
      "type": "rectangle",
      "x": 1060.8671875,
      "y": 382.33984375,
      "width": 182.62109375,
      "height": 147.06640625,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1030203266,
      "version": 723,
      "versionNonce": 453793822,
      "isDeleted": false
    },
    {
      "id": "OMGyLjh_MQEPJLL_6b9Ph",
      "type": "text",
      "x": 1069.93359375,
      "y": 391.3125,
      "width": 117,
      "height": 25,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 75801538,
      "version": 313,
      "versionNonce": 748372162,
      "isDeleted": false,
      "text": "real printf()",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "XcHyWOM3WdeG7LwoSgdZd",
      "type": "text",
      "x": 1071.5859375,
      "y": 419.015625,
      "width": 158,
      "height": 100,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1549753538,
      "version": 394,
      "versionNonce": 1850188894,
      "isDeleted": false,
      "text": "sub    rsp,0xd8\nmov    r10,rdi\n...\nret",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 93
    },
    {
      "id": "ZG1X9a0bYK2LtNl6H0wrB",
      "type": "rectangle",
      "x": 418,
      "y": 168.35546875,
      "width": 314.515625,
      "height": 193.8125,
      "angle": 0,
      "strokeColor": "#364fc7",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 725412958,
      "version": 70,
      "versionNonce": 1463950530,
      "isDeleted": false
    },
    {
      "id": "M6V2fQlZtn5XVAT3niJiL",
      "type": "text",
      "x": 819.21484375,
      "y": 174.44921875,
      "width": 383,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 450172702,
      "version": 180,
      "versionNonce": 1926974210,
      "isDeleted": false,
      "text": "function trampoline to the real printf()",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "-7T-kB8iGd7xJeBOtDcRL",
      "type": "rectangle",
      "x": 805.3828125,
      "y": 162.671875,
      "width": 562.421875,
      "height": 396.578125,
      "angle": 0,
      "strokeColor": "#1864ab",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 764027842,
      "version": 373,
      "versionNonce": 865361438,
      "isDeleted": false
    },
    {
      "id": "GTnot4nWzYUNgK0ATo-Hu",
      "type": "text",
      "x": 444.78125,
      "y": 303.83203125,
      "width": 129,
      "height": 25,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1034246942,
      "version": 119,
      "versionNonce": 256571586,
      "isDeleted": false,
      "text": "xor eax, eax",
      "font": "20px Virgil",
      "textAlign": "left",
      "baseline": 18
    },
    {
      "id": "p1EdVxkCDmvyD3eA64Atl",
      "type": "arrow",
      "x": 723.08984375,
      "y": 286.296875,
      "width": 88.89453125,
      "height": 38.796875,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1087176514,
      "version": 129,
      "versionNonce": 450189826,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          88.89453125,
          -38.796875
        ]
      ],
      "lastCommittedPoint": [
        88.89453125,
        -38.796875
      ]
    },
    {
      "id": "XXx0ovpaAMtM-tClYwOxH",
      "type": "arrow",
      "x": 986.14453125,
      "y": 411.234375,
      "width": 83.28515625,
      "height": 7.41015625,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 1438067202,
      "version": 71,
      "versionNonce": 208735774,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          83.28515625,
          -7.41015625
        ]
      ],
      "lastCommittedPoint": null
    },
    {
      "id": "QZD4czIp-W_zs6vF5mVdp",
      "type": "arrow",
      "x": 1046.84765625,
      "y": 507.0703125,
      "width": 648.76171875,
      "height": 190.73828125,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 2098826654,
      "version": 528,
      "versionNonce": 1185067742,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -262.734375,
          4.01953125
        ],
        [
          -296.7109375,
          -119.87109375
        ],
        [
          -588.828125,
          -122.42578125
        ],
        [
          -648.76171875,
          -170.43359375
        ],
        [
          -606.56640625,
          -186.71875
        ]
      ],
      "lastCommittedPoint": [
        -606.56640625,
        -186.71875
      ]
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
```

`course/_media/script-load-time.excalidraw`:

```excalidraw
{
  "type": "excalidraw",
  "version": 1,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "eAV0SujDD1U0d5DMuS_E0",
      "type": "text",
      "x": 544.53515625,
      "y": 158.69921875,
      "width": 163,
      "height": 35,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "roughness": 1,
      "opacity": 100,
      "seed": 548147496,
      "version": 50,
      "versionNonce": 1135243096,
      "isDeleted": false,
      "text": "script.load()",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "l-Fuuas0FdBj3WSj2oivm",
      "type": "text",
      "x": 588.83203125,
      "y": 212.21484375,
      "width": 468,
      "height": 210,
      "angle": 0,
      "strokeColor": "#d9480f",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 34996264,
      "version": 160,
      "versionNonce": 1219223080,
      "isDeleted": false,
      "text": "var testPinPtr = DebugSymbol\n   .getFunctionByName(\"test_pin\");\n\nfor (var i = 0; i < 9999; i++) {\n    doStuff();\n}",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 200
    },
    {
      "id": "vxP3CaU9K5nufK47O6tjv",
      "type": "line",
      "x": 581.1015625,
      "y": 205.8359375,
      "width": 28.33203125,
      "height": 2.2109375,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 557838888,
      "version": 83,
      "versionNonce": 1648749400,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -28.33203125,
          -2.2109375
        ]
      ],
      "lastCommittedPoint": [
        -28.33203125,
        -2.2109375
      ]
    },
    {
      "id": "yCC2EALJKMruU8YmTAkub",
      "type": "text",
      "x": 432.9296875,
      "y": 287.48046875,
      "width": 184,
      "height": 35,
      "angle": 4.71238898038469,
      "strokeColor": "#364fc7",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 592297256,
      "version": 280,
      "versionNonce": 1673858648,
      "isDeleted": false,
      "text": "~30 seconds",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "iouELfiY_yTGErVCc0VTs",
      "type": "line",
      "x": 553.79296875,
      "y": 201.16015625,
      "width": 0.8203125,
      "height": 231.1328125,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 551928872,
      "version": 94,
      "versionNonce": 953007912,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          -0.8203125,
          231.1328125
        ]
      ],
      "lastCommittedPoint": [
        -0.8203125,
        231.1328125
      ]
    },
    {
      "id": "sis6mlFDoqreaAE_NNqOL",
      "type": "line",
      "x": 554.1015625,
      "y": 431.578125,
      "width": 32.30859375,
      "height": 2.0390625,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1397696344,
      "version": 28,
      "versionNonce": 262208040,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          32.30859375,
          2.0390625
        ]
      ],
      "lastCommittedPoint": [
        32.30859375,
        2.0390625
      ]
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
```

`course/_media/sleep-proxy.excalidraw`:

```excalidraw
{
  "type": "excalidraw",
  "version": 1,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "bXqtGfqCWxPwvCkDyXps_",
      "type": "rectangle",
      "x": 382.94921875,
      "y": 216.1875,
      "width": 216.1015625,
      "height": 145.9140625,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 2094548911,
      "version": 133,
      "versionNonce": 1600991791,
      "isDeleted": false
    },
    {
      "id": "g1uyYPXX8OL1oAQBMIsh2",
      "type": "text",
      "x": 439.2578125,
      "y": 284.92578125,
      "width": 93,
      "height": 35,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1154957377,
      "version": 184,
      "versionNonce": 2128186433,
      "isDeleted": false,
      "text": "sleep()",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "HhaBW8qqRPdYArdeHmV00",
      "type": "text",
      "x": 394.04296875,
      "y": 231.90234375,
      "width": 62,
      "height": 35,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1862039727,
      "version": 45,
      "versionNonce": 512037967,
      "isDeleted": false,
      "text": "main:",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "MgaCDaTxVew7l_4OeinP9",
      "type": "rectangle",
      "x": 666.91015625,
      "y": 203.3046875,
      "width": 228.83203125,
      "height": 164.34375,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1940427727,
      "version": 221,
      "versionNonce": 197021569,
      "isDeleted": false
    },
    {
      "id": "0vy4g5oPIbUzhIfh8IO6P",
      "type": "text",
      "x": 681.7578125,
      "y": 222.37890625,
      "width": 163,
      "height": 35,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1201081505,
      "version": 147,
      "versionNonce": 1370563855,
      "isDeleted": false,
      "text": "fake_sleep:",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "LyUWcBF-ni-1wayoOrMm0",
      "type": "text",
      "x": 747.0546875,
      "y": 283.51171875,
      "width": 93,
      "height": 35,
      "angle": 0,
      "strokeColor": "#495057",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 69300143,
      "version": 248,
      "versionNonce": 959100769,
      "isDeleted": false,
      "text": "sleep()",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "9pIwyRizeYJgNcB_cEhs7",
      "type": "rectangle",
      "x": 964.92578125,
      "y": 197.71484375,
      "width": 176.77734375,
      "height": 174.91015625,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 102796847,
      "version": 216,
      "versionNonce": 426574657,
      "isDeleted": false
    },
    {
      "id": "W6fkxXLPaDHNDC6hSSLRs",
      "type": "text",
      "x": 996.765625,
      "y": 210.37109375,
      "width": 48,
      "height": 35,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 2101888481,
      "version": 37,
      "versionNonce": 1112051023,
      "isDeleted": false,
      "text": "libc:",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "YWRooedQeQjHnrg20e1Im",
      "type": "text",
      "x": 1017.7265625,
      "y": 261.2109375,
      "width": 93,
      "height": 35,
      "angle": 0,
      "strokeColor": "#2b8a3e",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 698455599,
      "version": 57,
      "versionNonce": 1313665825,
      "isDeleted": false,
      "text": "sleep()",
      "font": "28px Virgil",
      "textAlign": "left",
      "baseline": 25
    },
    {
      "id": "6odMYaHr3nxpBPfqJa9Zv",
      "type": "arrow",
      "x": 549.4140625,
      "y": 275.546875,
      "width": 96.765625,
      "height": 33.7734375,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 1794730785,
      "version": 122,
      "versionNonce": 943446913,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          96.765625,
          -33.7734375
        ]
      ],
      "lastCommittedPoint": [
        96.765625,
        -33.7734375
      ]
    },
    {
      "id": "2cqub38ZCB-JA3rLUK7AM",
      "type": "arrow",
      "x": 862.26953125,
      "y": 293.28125,
      "width": 106.44140625,
      "height": 55.71484375,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "transparent",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100,
      "seed": 2072285793,
      "version": 96,
      "versionNonce": 564214625,
      "isDeleted": false,
      "points": [
        [
          0,
          0
        ],
        [
          106.44140625,
          -55.71484375
        ]
      ],
      "lastCommittedPoint": [
        106.44140625,
        -55.71484375
      ]
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
```

`course/_sidebar.md`:

```md
* [Getting Started](README)
  - [Starting](0-getting-started/starting)
  - [Environment](0-getting-started/environment)
  - [Code](0-getting-started/code)
  - [Shells](0-getting-started/shells)

* Chapter One
  - [Sample Program](1-chapter-1/sample-app)
  - [Compiling](1-chapter-1/compiling)
  - [Hooking 101](1-chapter-1/hooking)
  - [LD_PRELOAD](1-chapter-1/ld_preload)
  - [Hook Internals](1-chapter-1/internals)

* Chapter Two
  - [Frida](2-chapter-2/frida)
  - [JavaScript API](2-chapter-2/javascript)
  - [Sleep Hook v2](2-chapter-2/sleep)
  - [Interceptor Arguments](2-chapter-2/arguments)
  - [Interceptor Return Values](2-chapter-2/return)
  - [Repurposing Code](2-chapter-2/repurposing)

* Chapter Three
  - [Building Python Tools](3-chapter-3/tools)
  - [Channels](3-chapter-3/channels)
  - [Script Lifecycle](3-chapter-3/lifecycle)
  - [Frida RPC](3-chapter-3/rpc)
  - [TypeScript](3-chapter-3/typescript)
  - [Frida Tools](3-chapter-3/frida-tools)
  - [Other Operating Modes](3-chapter-3/operating-modes)

```

`course/course.js`:

```js
window.$docsify = {
  el: '#main',
  repo: 'leonjza/frida-boot',
  auto2top: true,
  name: 'Frida Boot ðŸ‘¢',
  loadSidebar: true,
  loadNavbar: true,
  coverpage: true,
  onlyCover: false,
  maxLevel: 0,
  subMaxLevel: 5,
  pagination: {
    previousText: 'Previous',
    nextText: 'Next',
    crossChapter: true,
    crossChapterText: true,
  },
  copyCode: {
    buttonText: 'Copy to clipboard',
    errorText: 'Error',
    successText: 'Copied'
  }
} 
```

`course/credits.md`:

```md
# Credits

This workshop and materials would not have been possible without the following amazing resources &projects, in no particular order.

## Technical Resources

- https://catonmat.net/simple-ld-preload-tutorial-part-two
- https://www.ragestorm.net/blogs/?p=348
- https://stackoverflow.com/a/54052582 (Why nm libc.so reports no symbols?)
- https://www.youtube.com/watch?v=sBcLPLtqGYU (r2con 2017 - Intro to Frida and Dynamic Machine Code Transformations by Ole Andre)
- https://www.youtube.com/watch?v=uc1mbN9EJKQ (Ole AndrÃ© Vadla RavnÃ¥s - Frida: The engineering behind the reverse-engineering)
- https://github.com/frida/frida-gum/blob/c149c5fa85e81f209a0f36c49941c29ce25a3ab0/gum/backend-x86/guminterceptor-x86.c#L167-L185 (x86 backend trampoline writer)
https://github.com/frida/frida-gum/blob/2bea3a1ac581a4354a729bb55691342ccb4817f9/gum/guminterceptor.c#L1322 (ret override if onLeave is defined)

## Projects

- https://docsify.js.org/#/
- https://jhildenbiddle.github.io/docsify-themeable/#/
- https://excalidraw.com/

```

`course/index.html`:

```html
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta charset="UTF-8">
  <!-- <link rel="stylesheet" href="web/vue.css"> -->
  <link rel="stylesheet" href="web/theme-simple-dark.css">
</head>
<body>
  <div data-app id="main">Loading...</div>
  <script src="web/docsify.min.js"></script>
  <script src="web/docsify-themeable.js"></script>
  <script src="web/prism-bash.min.js"></script>
  <script src="web/prism-c.min.js"></script>
  <script src="web/prism-python.min.js"></script>
  <script src="web/prism-typescript.min.js"></script>
  <script src="course.js"></script>
  <script src="web/docsify-pagination.min.js"></script>
  <script src="web/docsify-copy-code.js"></script>
</body>
</html>

```

`course/web/docsify-copy-code.js`:

```js
/*!
 * docsify-copy-code
 * v2.1.0
 * https://github.com/jperasmus/docsify-copy-code
 * (c) 2017-2019 JP Erasmus <jperasmus11@gmail.com>
 * MIT license
 */
!function(){"use strict";function r(o){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}!function(o,e){void 0===e&&(e={});var t=e.insertAt;if(o&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css","top"===t&&n.firstChild?n.insertBefore(c,n.firstChild):n.appendChild(c),c.styleSheet?c.styleSheet.cssText=o:c.appendChild(document.createTextNode(o))}}(".docsify-copy-code-button,.docsify-copy-code-button span{cursor:pointer;transition:all .25s ease}.docsify-copy-code-button{position:absolute;z-index:1;top:0;right:0;overflow:visible;padding:.65em .8em;border:0;border-radius:0;outline:0;font-size:1em;background:grey;background:var(--theme-color,grey);color:#fff;opacity:0}.docsify-copy-code-button span{border-radius:3px;background:inherit;pointer-events:none}.docsify-copy-code-button .error,.docsify-copy-code-button .success{position:absolute;z-index:-100;top:50%;left:0;padding:.5em .65em;font-size:.825em;opacity:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.docsify-copy-code-button.error .error,.docsify-copy-code-button.success .success{opacity:1;-webkit-transform:translate(-115%,-50%);transform:translate(-115%,-50%)}.docsify-copy-code-button:focus,pre:hover .docsify-copy-code-button{opacity:1}"),document.querySelector('link[href*="docsify-copy-code"]')&&console.warn("[Deprecation] Link to external docsify-copy-code stylesheet is no longer necessary."),window.DocsifyCopyCodePlugin={init:function(){return function(o,e){o.ready(function(){console.warn("[Deprecation] Manually initializing docsify-copy-code using window.DocsifyCopyCodePlugin.init() is no longer necessary.")})}}},window.$docsify=window.$docsify||{},window.$docsify.plugins=[function(o,s){o.doneEach(function(){var o=Array.apply(null,document.querySelectorAll("pre[data-lang]")),c={buttonText:"Copy to clipboard",errorText:"Error",successText:"Copied"};s.config.copyCode&&Object.keys(c).forEach(function(t){var n=s.config.copyCode[t];"string"==typeof n?c[t]=n:"object"===r(n)&&Object.keys(n).some(function(o){var e=-1<location.href.indexOf(o);return c[t]=e?n[o]:c[t],e})});var e=['<button class="docsify-copy-code-button">','<span class="label">'.concat(c.buttonText,"</span>"),'<span class="error">'.concat(c.errorText,"</span>"),'<span class="success">'.concat(c.successText,"</span>"),"</button>"].join("");o.forEach(function(o){o.insertAdjacentHTML("beforeend",e)})}),o.mounted(function(){document.querySelector(".content").addEventListener("click",function(o){if(o.target.classList.contains("docsify-copy-code-button")){var e="BUTTON"===o.target.tagName?o.target:o.target.parentNode,t=document.createRange(),n=e.parentNode.querySelector("code"),c=window.getSelection();t.selectNode(n),c.removeAllRanges(),c.addRange(t);try{document.execCommand("copy")&&(e.classList.add("success"),setTimeout(function(){e.classList.remove("success")},1e3))}catch(o){console.error("docsify-copy-code: ".concat(o)),e.classList.add("error"),setTimeout(function(){e.classList.remove("error")},1e3)}"function"==typeof(c=window.getSelection()).removeRange?c.removeRange(t):"function"==typeof c.removeAllRanges&&c.removeAllRanges()}})})}].concat(window.$docsify.plugins||[])}();
//# sourceMappingURL=docsify-copy-code.min.js.map

```

`course/web/docsify-pagination.min.js`:

```js
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var t,p=(function(t,e){function n(t,e){return e.querySelector(t)}(e=t.exports=function(t,e){return n(t,e=e||document)}).all=function(t,e){return(e=e||document).querySelectorAll(t)},e.engine=function(t){if(!t.one)throw new Error(".one callback required");if(!t.all)throw new Error(".all callback required");return n=t.one,e.all=t.all,e}}(t={exports:{}},t.exports),t.exports);p.all,p.engine;try{var a=p}catch(t){a=p}var e=Element.prototype,r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,u=function(t,e){if(!t||1!==t.nodeType)return!1;if(r)return r.call(t,e);for(var n=a.all(e,t.parentNode),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1};try{var i=u}catch(t){i=u}var f=function(t,e,n){n=n||document.documentElement;for(;t&&t!==n;){if(i(t,e))return t;t=t.parentNode}return i(t,e)?t:null};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}(".docsify-pagination-container{display:flex;flex-wrap:wrap;justify-content:space-between;overflow:hidden;margin:5em 0 1em;border-top:1px solid rgba(0,0,0,.07)}.pagination-item{margin-top:2.5em}.pagination-item a,.pagination-item a:hover{text-decoration:none}.pagination-item a{color:currentColor}.pagination-item a:hover .pagination-item-title{text-decoration:underline}.pagination-item:not(:last-child) a .pagination-item-label,.pagination-item:not(:last-child) a .pagination-item-subtitle,.pagination-item:not(:last-child) a .pagination-item-title{opacity:.3;transition:all .2s}.pagination-item:last-child .pagination-item-label,.pagination-item:not(:last-child) a:hover .pagination-item-label{opacity:.6}.pagination-item:not(:last-child) a:hover .pagination-item-title{opacity:1}.pagination-item-label{font-size:.8em}.pagination-item-label>*{line-height:1;vertical-align:middle}.pagination-item-label svg{height:.8em;width:auto;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1px}.pagination-item--next{margin-left:auto;text-align:right}.pagination-item--next svg{margin-left:.5em}.pagination-item--previous svg{margin-right:.5em}.pagination-item-title{font-size:1.6em}.pagination-item-subtitle{text-transform:uppercase;opacity:.3}");var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d={HASH:"hash",HISTORY:"history"},s=function(t){return{previousText:"PREVIOUS",nextText:"NEXT",crossChapter:!1,crossChapterText:!1,routerMode:t.routerMode||d.HASH}},h="docsify-pagination-container";function g(t){return Array.prototype.slice.call(t)}function m(t){return t.href?t:p("a",t)}function v(e,t){return 1===arguments.length?function(t){return v(e,t)}:decodeURIComponent(t.getAttribute("href").split("?")[0])===decodeURIComponent(e)}var y=function(){function n(t){var e;(o(this,n),t)&&(this.chapter=(e=f(t,"div > ul > li"),p("p",e)),this.hyperlink=m(t))}return l(n,[{key:"toJSON",value:function(){if(this.hyperlink)return{name:this.hyperlink.innerText,href:this.hyperlink.getAttribute("href"),chapterName:this.chapter&&this.chapter.innerText||""}}}]),n}();var x={container:function(){return'<div class="'+h+'"></div>'},inner:function(t,e){return[t.prev&&'\n        <div class="pagination-item pagination-item--previous">\n          <a href="'+t.prev.href+'">\n            <div class="pagination-item-label">\n              <svg class="icon" width="10" height="16" viewBox="0 0 10 16" xmlns="http://www.w3.org/2000/svg">\n                <polyline fill="none" vector-effect="non-scaling-stroke" points="8,2 2,8 8,14"/>\n              </svg>\n              <span>'+e.previousText+'</span>\n            </div>\n            <div class="pagination-item-title">'+t.prev.name+"</div>\n      ",t.prev&&e.crossChapterText&&'<div class="pagination-item-subtitle">'+t.prev.chapterName+"</div>",t.prev&&"</a>\n        </div>\n      ",t.next&&'\n        <div class="pagination-item pagination-item--next">\n          <a href="'+t.next.href+'">\n            <div class="pagination-item-label">\n              <span>'+e.nextText+'</span>\n              <svg width="10" height="16" viewBox="0 0 10 16" xmlns="http://www.w3.org/2000/svg">\n                <polyline fill="none" vector-effect="non-scaling-stroke" points="2,2 8,8 2,14"/>\n              </svg>\n            </div>\n            <div class="pagination-item-title">'+t.next.name+"</div>\n      ",t.next&&e.crossChapterText&&'<div class="pagination-item-subtitle">'+t.next.chapterName+"</div>",t.next&&"</a>\n        </div>\n      "].filter(Boolean).join("")}};window.$docsify=window.$docsify||{},window.$docsify.plugins=[function(t,e){var n=c({},s(e.config),e.config.pagination||{});function i(){var t=p("."+h);t&&(t.innerHTML=x.inner(function(t,e){var n=e.crossChapter,i=e.routerMode;try{var a=i===d.HISTORY?t.route.path:"#"+t.route.path,r=g(p.all(".sidebar li a")).filter(function(t){return!u(t,".section-link")}),o=r.find(v(a)),l=g((f(o,"ul")||{}).children).filter(function(t){return"LI"===t.tagName.toUpperCase()}),c=n?r.findIndex(v(a)):l.findIndex(function(t){var e=m(t);return e&&v(a,e)}),s=n?r:l;return{prev:new y(s[c-1]).toJSON(),next:new y(s[c+1]).toJSON()}}catch(t){return{}}}(e,n),n))}t.afterEach(function(t){return t+x.container()}),t.doneEach(function(){return i()})}].concat(window.$docsify.plugins||[])});
```

`course/web/docsify-themeable.js`:

```js
/*!
 * docsify-themeable
 * v0.8.0
 * https://jhildenbiddle.github.io/docsify-themeable/
 * (c) 2018-2020 John Hildenbiddle
 * MIT license
 */
!function(){"use strict";function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){var n=1<arguments.length&&void 0!==t?t:{},o={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.isArray(e)?e:[e],a=Array.apply(null,Array(r.length)).map(function(e){return null});function s(e){return!("<"===(0<arguments.length&&void 0!==e?e:"").trim().charAt(0))}function c(e,t){o.onError(e,r[t],t)}function i(e,t){var n=o.onSuccess(e,r[t],t);e=!1===n?"":n||e,a[t]=e,-1===a.indexOf(null)&&o.onComplete(a)}var u=document.createElement("a");r.forEach(function(e,t){if(u.setAttribute("href",e),u.href=String(u.href),Boolean(document.all&&!window.atob)&&u.host.split(":")[0]!==location.host.split(":")[0]){if(u.protocol===location.protocol){var n=new XDomainRequest;n.open("GET",e),n.timeout=0,n.onprogress=Function.prototype,n.ontimeout=Function.prototype,n.onload=function(){s(n.responseText)?i(n.responseText,t):c(n,t)},n.onerror=function(e){c(n,t)},setTimeout(function(){n.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(e,")")),c(null,t)}else{var r=new XMLHttpRequest;r.open("GET",e),o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.onBeforeSend(r,e,t),r.onreadystatechange=function(){4===r.readyState&&(200===r.status&&s(r.responseText)?i(r.responseText,t):c(r,t))},r.send()}})}function r(e){var r={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},d={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},t=Array.apply(null,d.rootElement.querySelectorAll(d.include)).filter(function(e){return t=e,n=d.exclude,!(t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector).call(t,n);var t,n}),c=Array.apply(null,Array(t.length)).map(function(e){return null});function i(){if(-1===c.indexOf(null)){var e=c.join("");d.onComplete(e,c,t)}}function u(e,n,r,t){var o=d.onSuccess(e,r,t);(function r(o,a,s,c){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];var u=5<arguments.length&&void 0!==arguments[5]?arguments[5]:[];var l=f(o,s,u);l.rules.length?m(l.absoluteUrls,{onBeforeSend:function(e,t,n){d.onBeforeSend(e,a,t)},onSuccess:function(n,e,t){var r=d.onSuccess(n,a,e),o=f(n=!1===r?"":r||n,e,u);return o.rules.forEach(function(e,t){n=n.replace(e,o.absoluteRules[t])}),n},onError:function(e,t,n){i.push({xhr:e,url:t}),u.push(l.rules[n]),r(o,a,s,c,i,u)},onComplete:function(e){e.forEach(function(e,t){o=o.replace(l.rules[t],e)}),r(o,a,s,c,i,u)}}):c(o,i)})(e=void 0!==o&&!1===Boolean(o)?"":o||e,r,t,function(e,t){null===c[n]&&(t.forEach(function(e){return d.onError(e.xhr,r,e.url)}),!d.filter||d.filter.test(e)?c[n]=e:c[n]="",i())})}function f(e,o,t){var n=2<arguments.length&&void 0!==t?t:[],a={};return a.rules=(e.replace(r.cssComments,"").match(r.cssImports)||[]).filter(function(e){return-1===n.indexOf(e)}),a.urls=a.rules.map(function(e){return e.replace(r.cssImports,"$1")}),a.absoluteUrls=a.urls.map(function(e){return l(e,o)}),a.absoluteRules=a.rules.map(function(e,t){var n=a.urls[t],r=l(a.absoluteUrls[t],o);return e.replace(n,r)}),a}t.length?t.forEach(function(n,r){var o=n.getAttribute("href"),e=n.getAttribute("rel"),t="LINK"===n.nodeName&&o&&e&&"stylesheet"===e.toLowerCase(),a="STYLE"===n.nodeName;if(t)m(o,{mimeType:"text/css",onBeforeSend:function(e,t){d.onBeforeSend(e,n,t)},onSuccess:function(e){var t=l(o,location.href);u(e,r,n,t)},onError:function(e,t){c[r]="",d.onError(e,n,t),i()}});else if(a){var s=n.textContent;d.useCSSOM&&(s=Array.apply(null,n.sheet.cssRules).map(function(e){return e.cssText}).join("")),u(s,r,n,location.href)}else c[r]="",i()}):d.onComplete("",[])}function l(e,t){var n=1<arguments.length&&void 0!==t?t:location.href,r=document.implementation.createHTMLDocument(""),o=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(o),r.body.appendChild(a),o.href=n,a.href=e,a.href}var b=e;function e(e,t,n){e instanceof RegExp&&(e=o(e,n)),t instanceof RegExp&&(t=o(t,n));var r=a(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function o(e,t){var n=t.match(e);return n?n[0]:null}function a(e,t,n){var r,o,a,s,c,i=n.indexOf(e),u=n.indexOf(t,i+1),l=i;if(0<=i&&0<u){for(r=[],a=n.length;0<=l&&!c;)l==i?(r.push(l),i=n.indexOf(e,l+1)):1==r.length?c=[r.pop(),u]:((o=r.pop())<a&&(a=o,s=u),u=n.indexOf(t,l+1)),l=i<u&&0<=i?i:u;r.length&&(c=[a,s])}return c}function y(a,e){var s=g({},{preserveStatic:!0,removeComments:!1},1<arguments.length&&void 0!==e?e:{});function c(e){throw new Error("CSS parse error: ".concat(e))}function i(e){var t=e.exec(a);if(t)return a=a.slice(t[0].length),t}function u(){return i(/^{\s*/)}function l(){return i(/^}/)}function n(){i(/^\s*/)}function r(){if(n(),"/"===a[0]&&"*"===a[1]){for(var e=2;a[e]&&("*"!==a[e]||"/"!==a[e+1]);)e++;if(!a[e])return c("end of comment is missing");var t=a.slice(2,e);return a=a.slice(e+2),{type:"comment",comment:t}}}function d(){for(var e,t=[];e=r();)t.push(e);return s.removeComments?[]:t}function f(){for(n();"}"===a[0];)c("extra closing bracket");var e=i(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(e)return e[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"â€Œ")}).split(/\s*(?![^(]*\)),\s*/).map(function(e){return e.replace(/\u200C/g,",")})}function o(){i(/^([;\s]*)+/);var e=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//g,t=i(/^(\*?[-#\/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=t[0].trim(),!i(/^:\s*/))return c("property missing ':'");var n=i(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),r={type:"declaration",property:t.replace(e,""),value:n?n[0].replace(e,"").trim():""};return i(/^[;\s]*/),r}}function m(){if(!u())return c("missing '{'");for(var e,t=d();e=o();)t.push(e),t=t.concat(d());return l()?t:c("missing '}'")}function p(){n();for(var e,t=[];e=i(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),i(/^,\s*/);if(t.length)return{type:"keyframe",values:t,declarations:m()}}function v(){if(n(),"@"===a[0]){var e=function(){var e=i(/^@([-\w]+)?keyframes\s*/);if(e){var t=e[1];if(!(e=i(/^([-\w]+)\s*/)))return c("@keyframes missing name");var n,r=e[1];if(!u())return c("@keyframes missing '{'");for(var o=d();n=p();)o.push(n),o=o.concat(d());return l()?{type:"keyframes",name:r,vendor:t,keyframes:o}:c("@keyframes missing '}'")}}()||function(){var e=i(/^@supports *([^{]+)/);if(e)return{type:"supports",supports:e[1].trim(),rules:y()}}()||function(){if(i(/^@host\s*/))return{type:"host",rules:y()}}()||function(){var e=i(/^@media([^{]+)*/);if(e)return{type:"media",media:(e[1]||"").trim(),rules:y()}}()||function(){var e=i(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(e)return{type:"custom-media",name:e[1].trim(),media:e[2].trim()}}()||function(){if(i(/^@page */))return{type:"page",selectors:f()||[],declarations:m()}}()||function(){var e=i(/^@([-\w]+)?document *([^{]+)/);if(e)return{type:"document",document:e[2].trim(),vendor:e[1]?e[1].trim():null,rules:y()}}()||function(){if(i(/^@font-face\s*/))return{type:"font-face",declarations:m()}}()||function(){var e=i(/^@(import|charset|namespace)\s*([^;]+);/);if(e)return{type:e[1],name:e[2].trim()}}();if(!e||s.preserveStatic)return e;var t=!1;if(e.declarations)t=e.declarations.some(function(e){return/var\(/.test(e.value)});else t=(e.keyframes||e.rules||[]).some(function(e){return(e.declarations||[]).some(function(e){return/var\(/.test(e.value)})});return t?e:{}}}function h(){if(!s.preserveStatic){var e=b("{","}",a);if(e){var t=/:(?:root|host)(?![.:#(])/.test(e.pre)&&/--\S*\s*:/.test(e.body),n=/var\(/.test(e.body);if(!t&&!n)return a=a.slice(e.end+1),{}}}var r=f()||[],o=s.preserveStatic?m():m().filter(function(e){var t=r.some(function(e){return/:(?:root|host)(?![.:#(])/.test(e)})&&/^--\S/.test(e.property),n=/var\(/.test(e.value);return t||n});return r.length||c("selector missing"),{type:"rule",selectors:r,declarations:o}}function y(e){if(!e&&!u())return c("missing '{'");for(var t,n=d();a.length&&(e||"}"!==a[0])&&(t=v()||h());)t.type&&n.push(t),n=n.concat(d());return e||l()?n:c("missing '}'")}return{type:"stylesheet",stylesheet:{rules:y(!0),errors:[]}}}function S(e,t){var o=g({},{parseHost:!1,store:{},onWarning:function(){}},1<arguments.length&&void 0!==t?t:{}),n=new RegExp(":".concat(o.parseHost?"host":"root","(?![.:#(])"));return"string"==typeof e&&(e=y(e,o)),e.stylesheet.rules.forEach(function(e){"rule"===e.type&&e.selectors.some(function(e){return n.test(e)})&&e.declarations.forEach(function(e,t){var n=e.property,r=e.value;n&&0===n.indexOf("--")&&(o.store[n]=r)})}),o.store}function w(e,t,n){var a=1<arguments.length&&void 0!==t?t:"",s=2<arguments.length?n:void 0,c={charset:function(e){return"@charset "+e.name+";"},comment:function(e){return 0===e.comment.indexOf("__CSSVARSPONYFILL")?"/*"+e.comment+"*/":""},"custom-media":function(e){return"@custom-media "+e.name+" "+e.media+";"},declaration:function(e){return e.property+":"+e.value+";"},document:function(e){return"@"+(e.vendor||"")+"document "+e.document+"{"+r(e.rules)+"}"},"font-face":function(e){return"@font-face{"+r(e.declarations)+"}"},host:function(e){return"@host{"+r(e.rules)+"}"},import:function(e){return"@import "+e.name+";"},keyframe:function(e){return e.values.join(",")+"{"+r(e.declarations)+"}"},keyframes:function(e){return"@"+(e.vendor||"")+"keyframes "+e.name+"{"+r(e.keyframes)+"}"},media:function(e){return"@media "+e.media+"{"+r(e.rules)+"}"},namespace:function(e){return"@namespace "+e.name+";"},page:function(e){return"@page "+(e.selectors.length?e.selectors.join(", "):"")+"{"+r(e.declarations)+"}"},rule:function(e){var t=e.declarations;if(t.length)return e.selectors.join(",")+"{"+r(t)+"}"},supports:function(e){return"@supports "+e.supports+"{"+r(e.rules)+"}"}};function r(e){for(var t="",n=0;n<e.length;n++){var r=e[n];s&&s(r);var o=c[r.type](r);o&&(t+=o,o.length&&r.selectors&&(t+=a))}return t}return r(e.stylesheet.rules)}e.range=a;var u="--",d="var";function E(e,t){var i=g({},{preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},1<arguments.length&&void 0!==t?t:{});return"string"==typeof e&&(e=y(e,i)),function e(n,r){n.rules.forEach(function(t){t.rules?e(t,r):t.keyframes?t.keyframes.forEach(function(e){"keyframe"===e.type&&r(e.declarations,t)}):t.declarations&&r(t.declarations,n)})}(e.stylesheet,function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.type,a=r.property,s=r.value;if("declaration"===o)if(i.preserveVars||!a||0!==a.indexOf(u)){if(-1!==s.indexOf(d+"(")){var c=p(s,i);c!==r.value&&(c=f(c),i.preserveVars?(e.splice(n,0,{type:o,property:a,value:c}),n++):r.value=c)}}else e.splice(n,1),n--}}),w(e)}function f(n){return(n.match(/calc\(([^)]+)\)/g)||[]).forEach(function(e){var t="calc".concat(e.split("calc").join(""));n=n.replace(e,t)}),n}function p(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},o=2<arguments.length?n:void 0;if(-1===e.indexOf("var("))return e;var a,s,c,i,u,l,d=b("(",")",e);return d?"var"!==d.pre.slice(-3)?d.pre+"(".concat(p(d.body,r),")")+p(d.post,r):0===d.body.trim().length?(r.onWarning("var() must contain a non-whitespace string"),e):d.pre.slice(0,-3)+(a=d.body,s=a.split(",")[0].replace(/[\s\n\t]/g,""),c=(a.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],i=Object.prototype.hasOwnProperty.call(r.variables,s)?String(r.variables[s]):void 0,u=i||(c?String(c):void 0),l=o||a,i||r.onWarning('variable "'.concat(s,'" is undefined')),u&&"undefined"!==u&&0<u.length?p(u,r,l):"var(".concat(l,")"))+p(d.post,r):(-1!==e.indexOf("var(")&&r.onWarning('missing closing ")" in the value "'.concat(e,'"')),e)}var s="undefined"!=typeof window,c=s&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),A={group:0,job:0},i={rootElement:s?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onWarning:function(){},onError:function(){},onSuccess:function(){},onComplete:function(){}},C={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},x={dom:{},job:{},user:{}},O=!1,L=null,k=0,M=null,T=!1;function j(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o="cssVars(): ",m=g({},i,n);function p(e,t,n,r){!m.silent&&window.console&&console.error("".concat(o).concat(e,"\n"),t),m.onError(e,t,n,r)}function v(e){!m.silent&&window.console&&console.warn("".concat(o).concat(e)),m.onWarning(e)}if(s){if(m.watch)return m.watch=i.watch,function(c){function o(e){return"LINK"===e.tagName&&-1!==(e.getAttribute("rel")||"").indexOf("stylesheet")&&!e.disabled}function r(e){return Array.apply(null,e).some(function(e){var t,n=1===e.nodeType&&e.hasAttribute("data-cssvars"),r="STYLE"===(t=e).tagName&&!t.disabled&&C.cssVars.test(e.textContent);return!n&&(o(e)||r)})}if(!window.MutationObserver)return;L&&(L.disconnect(),L=null);(L=new MutationObserver(function(e){e.some(function(e){var t,n=!1;return"attributes"===e.type?n=o(e.target):"childList"===e.type&&(n=r(e.addedNodes)||(t=e.removedNodes,Array.apply(null,t).some(function(e){var t=1===e.nodeType,n=t&&"out"===e.getAttribute("data-cssvars"),r=t&&"src"===e.getAttribute("data-cssvars"),o=r;if(r||n){var a=e.getAttribute("data-cssvars-group"),s=c.rootElement.querySelector('[data-cssvars-group="'.concat(a,'"]'));r&&(_(c.rootElement),x.dom={}),s&&s.parentNode.removeChild(s)}return o}))),n})&&j(c)})).observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0})}(m),void j(m);if(!1===m.watch&&L&&(L.disconnect(),L=null),!m.__benchmark){if(O===m.rootElement)return void function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;clearTimeout(M),M=setTimeout(function(){e.__benchmark=null,j(e)},t)}(n);if(m.__benchmark=q(),m.exclude=[L?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',m.exclude].filter(function(e){return e}).join(","),m.variables=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=/^-{2}/;return Object.keys(n).reduce(function(e,t){return e[r.test(t)?t:"--".concat(t.replace(/^-+/,""))]=n[t],e},{})}(m.variables),!L)if(Array.apply(null,m.rootElement.querySelectorAll('[data-cssvars="out"]')).forEach(function(e){var t=e.getAttribute("data-cssvars-group");(t?m.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(t,'"]')):null)||e.parentNode.removeChild(e)}),k){var e=m.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])');e.length<k&&(k=e.length,x.dom={})}}if("loading"!==document.readyState)if(c&&m.onlyLegacy){if(m.updateDOM){var t=m.rootElement.host||(m.rootElement===document?document.documentElement:m.rootElement);Object.keys(m.variables).forEach(function(e){t.style.setProperty(e,m.variables[e])})}}else!T&&(m.shadowDOM||m.rootElement.shadowRoot||m.rootElement.host)?r({rootElement:i.rootElement,include:i.include,exclude:m.exclude,onSuccess:function(e){return(e=((e=e.replace(C.cssComments,"").replace(C.cssMediaQueries,"")).match(C.cssVarDeclRules)||[]).join(""))||!1},onComplete:function(e){S(e,{store:x.dom,onWarning:v}),T=!0,j(m)}}):(O=m.rootElement,r({rootElement:m.rootElement,include:m.include,exclude:m.exclude,onBeforeSend:m.onBeforeSend,onError:function(e,t,n){var r=e.responseURL||N(n,location.href),o=e.statusText?"(".concat(e.statusText,")"):"Unspecified Error"+(0===e.status?" (possibly CORS related)":"");p("CSS XHR Error: ".concat(r," ").concat(e.status," ").concat(o),t,e,r)},onSuccess:function(e,t,n){var r,o,a=m.onSuccess(e,t,n);return e=void 0!==a&&!1===Boolean(a)?"":a||e,m.updateURLs&&(o=n,((r=e).replace(C.cssComments,"").match(C.cssUrls)||[]).forEach(function(e){var t=e.replace(C.cssUrls,"$1"),n=N(t,o);r=r.replace(e,e.replace(t,n))}),e=r),e},onComplete:function(e,r,t){var n,o=2<arguments.length&&void 0!==t?t:[],a={},s=m.updateDOM?x.dom:Object.keys(x.job).length?x.job:x.job=JSON.parse(JSON.stringify(x.dom));if(o.forEach(function(t,e){if(C.cssVars.test(r[e]))try{var n=y(r[e],{preserveStatic:m.preserveStatic,removeComments:!0});S(n,{parseHost:Boolean(m.rootElement.host),store:a,onWarning:v}),t.__cssVars={tree:n}}catch(e){p(e.message,t)}}),m.updateDOM&&g(x.user,m.variables),g(a,m.variables),n=Boolean((document.querySelector("[data-cssvars]")||Object.keys(x.dom).length)&&Object.keys(a).some(function(e){return a[e]!==s[e]})),g(s,x.user,a),n)_(m.rootElement),j(m);else{var c=[],i=[],u=!1;if(x.job={},m.updateDOM&&A.job++,o.forEach(function(t){var e=!t.__cssVars;if(t.__cssVars)try{E(t.__cssVars.tree,g({},m,{variables:s,onWarning:v}));var n=w(t.__cssVars.tree);if(m.updateDOM){if(t.getAttribute("data-cssvars")||t.setAttribute("data-cssvars","src"),n.length){var r=t.getAttribute("data-cssvars-group")||++A.group,o=n.replace(/\s/g,""),a=m.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(r,'"]'))||document.createElement("style");u=u||C.cssKeyframes.test(n),a.hasAttribute("data-cssvars")||a.setAttribute("data-cssvars","out"),o===t.textContent.replace(/\s/g,"")?(e=!0,a&&a.parentNode&&(t.removeAttribute("data-cssvars-group"),a.parentNode.removeChild(a))):o!==a.textContent.replace(/\s/g,"")&&([t,a].forEach(function(e){e.setAttribute("data-cssvars-job",A.job),e.setAttribute("data-cssvars-group",r)}),a.textContent=n,c.push(n),i.push(a),a.parentNode||t.parentNode.insertBefore(a,t.nextSibling))}}else t.textContent.replace(/\s/g,"")!==n&&c.push(n)}catch(e){p(e.message,t)}e&&t.setAttribute("data-cssvars","skip"),t.hasAttribute("data-cssvars-job")||t.setAttribute("data-cssvars-job",A.job)}),k=m.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,m.shadowDOM)for(var l,d=[m.rootElement].concat(h(m.rootElement.querySelectorAll("*"))),f=0;l=d[f];++f){if(l.shadowRoot&&l.shadowRoot.querySelector("style"))j(g({},m,{rootElement:l.shadowRoot}))}m.updateDOM&&u&&function(e){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(e){return getComputedStyle(document.body)[e]})[0];if(t){for(var n=e.getElementsByTagName("*"),r=[],o="__CSSVARSPONYFILL-KEYFRAMES__",a=0,s=n.length;a<s;a++){var c=n[a];"none"!==getComputedStyle(c)[t]&&(c.style[t]+=o,r.push(c))}document.body.offsetHeight;for(var i=0,u=r.length;i<u;i++){var l=r[i].style;l[t]=l[t].replace(o,"")}}}(m.rootElement),O=!1,m.onComplete(c.join(""),i,JSON.parse(JSON.stringify(s)),q()-m.__benchmark)}}}));else document.addEventListener("DOMContentLoaded",function e(t){j(n),document.removeEventListener("DOMContentLoaded",e)})}}function N(e,t){var n=1<arguments.length&&void 0!==t?t:location.href,r=document.implementation.createHTMLDocument(""),o=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(o),r.body.appendChild(a),o.href=n,a.href=e,a.href}function q(){return s&&(window.performance||{}).now?window.performance.now():(new Date).getTime()}function _(e){Array.apply(null,e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]')).forEach(function(e){return e.setAttribute("data-cssvars","")})}function v(e,t,n){var r=2<arguments.length&&void 0!==n?n:null,o=3===e.childNodes[0].nodeType,a=e.querySelector("ul");if(o&&a&&!Array.apply(null,e.children).some(function(e){return-1<e.tabIndex}).length){var s=document.createElement("span");for(null!==r&&s.setAttribute("tabindex",r),e.insertBefore(s,a);e.childNodes[0]!==s;)s.appendChild(e.childNodes[0])}}j.reset=function(){for(var e in O=!1,L&&(L.disconnect(),L=null),k=0,M=null,T=!1,x)x[e]={}};function t(e,t){return Number("0."+((window.Docsify||{}).version||"0").replace(/\./g,""))<Number("0."+e.replace(/\./g,""))?t:null}if(window){var n={onlyLegacy:!/Edge\/1[5678]/i.test(navigator.userAgent),silent:!0};j(n),document.body.setAttribute("data-platform",navigator.platform),window.$docsify=window.$docsify||{},window.$docsify.plugins=[].concat([function(e,t){e.init(function(){!1!==((window.$docsify||{}).themeable||{}).readyTransition&&(document.body.classList.add("ready-transition"),setTimeout(function(){document.body.classList.add("ready-spinner")},1),e.ready(function(){var n=document.querySelector("main");n.addEventListener("transitionend",function e(t){document.body.classList.remove("ready-transition"),document.body.classList.remove("ready-spinner"),n.removeEventListener("transitionend",e)})}))})},function(e,t){e.doneEach(function(){var e=document.querySelector(".cover h1 > a");e&&(e.parentNode.innerHTML=e.innerHTML)})},function(e,t){e.doneEach(function(){var e=Array.apply(null,document.querySelectorAll("body > nav.app-nav > ul > li")),t=Array.apply(null,document.querySelectorAll(".sidebar > nav > ul > li"));e.forEach(function(t){var n="focus-within";v(t,"span",0),t.addEventListener("focusin",function(e){t.contains(document.activeElement)&&t.classList.add(n)}),t.addEventListener("focusout",function(e){t.contains(document.activeElement)||t.classList.remove(n)})}),t.forEach(function(e){v(e,"span")})})},function(e,t){e.doneEach(function(){Array.apply(null,document.querySelectorAll("pre[data-lang]")).forEach(function(e){var t=e.querySelector("code"),n="language-".concat(e.getAttribute("data-lang"));e.classList.add(n),t.classList.add(n)})})},function(e,t){e.mounted(function(){var e=document.querySelector(".content"),t=setInterval(function(){e.textContent.length&&(document.body.classList.add("ready-fix"),clearInterval(t))},250)}),e.ready(function(){document.body.classList.add("ready-fix")})},function(e,t){e.init(function(){if(!1!==((window.$docsify||{}).themeable||{}).responsiveTables){var e=window.$docsify.markdown=window.$docsify.markdown||{},t=e.renderer=e.renderer||{};e.smartypants=e.smartypants||!0,t.table=t.table||function(e,t){var n='\n                    <div class="table-wrapper">\n                        <table>\n                            <thead>'.concat(e,"</thead>\n                            <tbody>").concat(t,"</tbody>\n                        </table>\n                    </div>");try{var r=document.createElement("div"),o=document.head.appendChild(document.createElement("style")).sheet,a="_"+Math.random().toString(36).substr(2,9);r.innerHTML=n;var s=r.querySelector("table");Array.apply(null,s.getElementsByTagName("th")).map(function(e){return e.innerHTML.replace("&nbsp;"," ")}).forEach(function(e,t){var n="#".concat(a," td:nth-child(").concat(t+1,')::before{content:"').concat(e,'";}');o.insertRule(n,o.cssRules.length)}),s.id=a,n=r.innerHTML}catch(e){console.log("Failed to render responsive table: "+e)}return n}}})}],window.$docsify.plugins||[],[function(e,t){e.ready(function(){var e=document.querySelector(".sidebar .search .clear-button");if(e){var t=document.createElement("button");t.className="clear-button",t.setAttribute("aria-label","Clear search"),t.innerHTML='\n                <svg width="16" height="16" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n                    <circle cx="8" cy="8" r="8" fill="black"></circle>\n                    <path stroke="white" stroke-width="1.5" d="M4.5,4.5,11.5,11.5" vector-effect="non-scaling-stroke"></path>\n                    <path stroke="white" stroke-width="1.5" d="M4.5,11.5,11.5,4.5" vector-effect="non-scaling-stroke"></path>\n                </svg>\n            ',e.parentNode.replaceChild(t,e)}})},t("4.8.0",function(e,t){e.ready(function(){var t=document.querySelector(".sidebar .search"),n=document.querySelector(".sidebar .search input[type=search]"),r=document.querySelector(".sidebar .search .clear-button");t&&t.addEventListener("click",function(e){e.target!==r&&!r.contains(e.target)||(t.classList.remove("show"),n.focus())}),n&&n.addEventListener("input",function(e){n.value.length?t.classList.add("show"):t.classList.remove("show")})})}),t("4.8.0",function(e,t){var a=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector;e.doneEach(function(){var o="medium-zoom-image";Array.apply(null,document.querySelectorAll(".".concat(o))).forEach(function(e){var t=a.call(e,"a img"),n=a.call(e,".content img");if(t||!n){var r=e.cloneNode(!0);e.parentNode.replaceChild(r,e),r.classList.remove(o)}})})})]).filter(function(e){return null!==e}),window.$docsify.search=window.$docsify.search||{},window.$docsify.search.hideOtherSidebarContent=!0,window.$docsify.themeable=window.$docsify.themeable||{},window.$docsify.themeable.version="0.8.0",window.$docsify.themeable.util={cssVars:function(e){j(0<arguments.length&&void 0!==e?e:n)}}}}();
//# sourceMappingURL=docsify-themeable.min.js.map

```

`course/web/docsify.min.js`:

```js
!function(){function o(n){var r=Object.create(null);return function(e){var t=c(e)?e:JSON.stringify(e);return r[t]||(r[t]=n(e))}}var i=o(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),l=Object.prototype.hasOwnProperty,d=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;n++){var r=Object(t[n]);for(var i in r)l.call(r,i)&&(e[i]=r[i])}return e};function c(e){return"string"==typeof e||"number"==typeof e}function h(){}function r(e){return"function"==typeof e}var a=document.currentScript;function s(){var e=d({el:"#app",repo:"",maxLevel:6,subMaxLevel:0,loadSidebar:null,loadNavbar:null,homepage:"README.md",coverpage:"",basePath:"",auto2top:!1,name:"",themeColor:"",nameLink:window.location.pathname,autoHeader:!1,executeScript:null,noEmoji:!1,ga:"",ext:".md",mergeNavbar:!1,formatUpdated:"",externalLinkTarget:"_blank",cornerExternalLinkTarget:"_blank",externalLinkRel:"noopener",routerMode:"hash",noCompileLinks:[],relativePath:!1,topMargin:0},window.$docsify),t=a||[].slice.call(document.getElementsByTagName("script")).filter(function(e){return/docsify\./.test(e.src)})[0];if(t)for(var n in e)if(l.call(e,n)){var r=t.getAttribute("data-"+i(n));c(r)&&(e[n]=""===r||r)}return!0===e.loadSidebar&&(e.loadSidebar="_sidebar"+e.ext),!0===e.loadNavbar&&(e.loadNavbar="_navbar"+e.ext),!0===e.coverpage&&(e.coverpage="_coverpage"+e.ext),!0===e.repo&&(e.repo=""),!0===e.name&&(e.name=""),window.$docsify=e}var g=document.body.clientWidth<=600,u=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),n={};function m(e,t){if(void 0===t&&(t=!1),"string"==typeof e){if(void 0!==window.Vue)return b(e);e=t?b(e):n[e]||(n[e]=b(e))}return e}var p=document,v=p.body,f=p.head;function b(e,t){return t?e.querySelector(t):p.querySelector(e)}function y(e,t){return[].slice.call(t?e.querySelectorAll(t):p.querySelectorAll(e))}function k(e,t){return e=p.createElement(e),t&&(e.innerHTML=t),e}function w(e,t){return e.appendChild(t)}function x(e,t){return e.insertBefore(t,e.children[0])}function _(e,t,n){r(t)?window.addEventListener(e,t):e.addEventListener(t,n)}function S(e,t,n){r(t)?window.removeEventListener(e,t):e.removeEventListener(t,n)}function A(e,t,n){e&&e.classList[n?t:"toggle"](n||t)}var $,E,e=Object.freeze({__proto__:null,getNode:m,$:p,body:v,head:f,find:b,findAll:y,create:k,appendTo:w,before:x,on:_,off:S,toggleClass:A,style:function(e){w(f,k("style",e))}});function C(e){var t,n=e.loaded,r=e.total,i=e.step;$||function(){var e=k("div");e.classList.add("progress"),w(v,e),$=e}(),t=i?80<(t=parseInt($.style.width||0,10)+i)?80:t:Math.floor(n/r*100),$.style.opacity=1,$.style.width=95<=t?"100%":t+"%",95<=t&&(clearTimeout(E),E=setTimeout(function(e){$.style.opacity=0,$.style.width="0%"},200))}var F={};function L(a,e,t){void 0===e&&(e=!1),void 0===t&&(t={});function n(){s.addEventListener.apply(s,arguments)}var s=new XMLHttpRequest,r=F[a];if(r)return{then:function(e){return e(r.content,r.opt)},abort:h};for(var i in s.open("GET",a),t)l.call(t,i)&&s.setRequestHeader(i,t[i]);return s.send(),{then:function(r,i){if(void 0===i&&(i=h),e){var t=setInterval(function(e){return C({step:Math.floor(5*Math.random()+1)})},500);n("progress",C),n("loadend",function(e){C(e),clearInterval(t)})}n("error",i),n("load",function(e){var t=e.target;if(400<=t.status)i(t);else{var n=F[a]={content:t.response,opt:{updatedAt:s.getResponseHeader("last-modified")}};r(n.content,n.opt)}})},abort:function(e){return 4!==s.readyState&&s.abort()}}}function T(e,t){e.innerHTML=e.innerHTML.replace(/var\(\s*--theme-color.*?\)/g,t)}function R(e,t,r,i){void 0===i&&(i=h);var a=e._hooks[t],s=function(t){var e=a[t];if(t>=a.length)i(r);else if("function"==typeof e)if(2===e.length)e(r,function(e){r=e,s(t+1)});else{var n=e(r);r=void 0===n?r:n,s(t+1)}else s(t+1)};s(0)}var O=p.title;function P(){var e=m("section.cover");if(e){var t=e.getBoundingClientRect().height;window.pageYOffset>=t||e.classList.contains("hidden")?A(v,"add","sticky"):A(v,"remove","sticky")}}function z(e,t,r,n){var i=[];null!=(t=m(t))&&(i=y(t,"a"));var a,s=decodeURI(e.toURL(e.getCurrentPath()));return i.sort(function(e,t){return t.href.length-e.href.length}).forEach(function(e){var t=e.getAttribute("href"),n=r?e.parentNode:e;0!==s.indexOf(t)||a?A(n,"remove","active"):(a=e,A(n,"add","active"))}),n&&(p.title=a?a.title||a.innerText+" - "+O:O),a}var j=decodeURIComponent,N=encodeURIComponent;function M(e){var n={};return(e=e.trim().replace(/^(\?|#|&)/,""))&&e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("=");n[t[0]]=t[1]&&j(t[1])}),n}function q(e,t){void 0===t&&(t=[]);var n=[];for(var r in e)-1<t.indexOf(r)||n.push(e[r]?(N(r)+"="+N(e[r])).toLowerCase():N(r));return n.length?"?"+n.join("&"):""}var H=o(function(e){return/(:|(\/{2}))/g.test(e)}),I=o(function(e){if(/\/$/g.test(e))return e;var t=e.match(/(\S*\/)[^/]+$/);return t?t[1]:""}),B=o(function(e){return e.replace(/^\/+/,"/").replace(/([^:])\/{2,}/g,"$1/")}),Z=o(function(e){for(var t=e.replace(/^\//,"").split("/"),n=[],r=0,i=t.length;r<i;r++){var a=t[r];".."===a?n.pop():"."!==a&&n.push(a)}return"/"+n.join("/")});function D(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return B(e.join("/"))}var U=o(function(e){return e.replace("#","?id=")});function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=(function(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),e}(W,[{key:"getIntermediateValue",value:function(e){return this.decimal?e:Math.round(e)}},{key:"getFinalValue",value:function(){return this.end}}]),W);function W(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,W),this.start=e.start,this.end=e.end,this.decimal=e.decimal}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=(function(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}(X,[{key:"begin",value:function(){return this.isRunning||this.next===this.end||(this.frame=window.requestAnimationFrame(this._tick.bind(this))),this}},{key:"stop",value:function(){return window.cancelAnimationFrame(this.frame),this.isRunning=!1,this.frame=null,this.timeStart=null,this.next=null,this}},{key:"on",value:function(e,t){return this.events[e]=this.events[e]||[],this.events[e].push(t),this}},{key:"_emit",value:function(e,t){var n=this,r=this.events[e];r&&r.forEach(function(e){return e.call(n,t)})}},{key:"_tick",value:function(e){this.isRunning=!0;var t=this.next||this.start;this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=this.ease(this.timeElapsed,this.start,this.end-this.start,this.duration),this._shouldTick(t)?(this._emit("tick",this.tweener.getIntermediateValue(this.next)),this.frame=window.requestAnimationFrame(this._tick.bind(this))):(this._emit("tick",this.tweener.getFinalValue()),this._emit("done",null))}},{key:"_shouldTick",value:function(e){return{up:this.next<this.end&&e<=this.next,down:this.next>this.end&&e>=this.next}[this.direction]}},{key:"_defaultEase",value:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}}]),X);function X(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,X),this.duration=e.duration||1e3,this.ease=e.easing||this._defaultEase,this.tweener=e.tweener||new t(e),this.start=this.tweener.start,this.end=this.tweener.end,this.frame=null,this.next=null,this.isRunning=!1,this.events={},this.direction=this.start<this.end?"up":"down"}var Q={},J=!1,K=null,ee=!0,te=0;function ne(e){if(ee){for(var t,n=m(".sidebar"),r=y(".anchor"),i=b(n,".sidebar-nav"),a=b(n,"li.active"),s=document.documentElement,o=(s&&s.scrollTop||document.body.scrollTop)-te,l=0,c=r.length;l<c;l+=1){var u=r[l];if(u.offsetTop>o){t=t||u;break}t=u}if(t){var h=Q[re(decodeURIComponent(e),t.getAttribute("data-id"))];if(h&&h!==a&&(a&&a.classList.remove("active"),h.classList.add("active"),a=h,!J&&v.classList.contains("sticky"))){var p=n.clientHeight,d=a.offsetTop+a.clientHeight+40,g=d-0<p,f=a.offsetTop>=i.scrollTop&&d<=i.scrollTop+p?i.scrollTop:g?0:d-p;n.scrollTop=f}}}}function re(e,t){return e+"?id="+t}function ie(e,t){if(t){var n=s().topMargin,r=b("#"+t);r&&function(e,t){void 0===t&&(t=0),K&&K.stop(),ee=!1,K=new V({start:window.pageYOffset,end:e.getBoundingClientRect().top+window.pageYOffset-t,duration:500}).on("tick",function(e){return window.scrollTo(0,e)}).on("done",function(){ee=!0,K=null}).begin()}(r,n);var i=Q[re(e,t)],a=b(m(".sidebar"),"li.active");a&&a.classList.remove("active"),i&&i.classList.add("active")}}var ae=p.scrollingElement||p.documentElement;function se(e,t){if(void 0===t&&(t='<ul class="app-sub-sidebar">{inner}</ul>'),!e||!e.length)return"";var n="";return e.forEach(function(e){n+='<li><a class="section-link" href="'+e.slug+'">'+e.title+"</a></li>",e.children&&(n+=se(e.children,t))}),t.replace("{inner}",n)}function oe(e,t){return'<p class="'+e+'">'+t.slice(5).trim()+"</p>"}function le(e,r){var i=[],a={};return e.forEach(function(e){var t=e.level||1,n=t-1;r<t||(a[n]?a[n].children=(a[n].children||[]).concat(e):i.push(e),a[t]=e)}),i}var ce={},ue=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g;function he(e){return e.toLowerCase()}function pe(e){if("string"!=typeof e)return"";var t=e.trim().replace(/[A-Z]+/g,he).replace(/<[^>\d]+>/g,"").replace(ue,"").replace(/\s/g,"-").replace(/-+/g,"-").replace(/^(\d)/,"_$1"),n=ce[t];return n=l.call(ce,t)?n+1:0,(ce[t]=n)&&(t=t+"-"+n),t}function de(e,t){return'<img class="emoji" src="https://github.githubassets.com/images/icons/emoji/'+t+'.png" alt="'+t+'" />'}function ge(e){void 0===e&&(e="");var r={};return{str:e=e&&e.replace(/^'/,"").replace(/'$/,"").replace(/(?:^|\s):([\w-]+:?)=?([\w-]+)?/g,function(e,t,n){return-1===t.indexOf(":")?(r[t]=n&&n.replace(/&quot;/g,"")||!0,""):e}).trim(),config:r}}pe.clear=function(){ce={}};var fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function me(e,t){return e(t={exports:{}},t.exports),t.exports}var ve,be=me(function(e){var c=function(c){var u=/\blang(?:uage)?-([\w-]+)\b/i,t=0,T={manual:c.Prism&&c.Prism.manual,disableWorkerMessageHandler:c.Prism&&c.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof R?new R(e.type,T.util.encode(e.content),e.alias):Array.isArray(e)?e.map(T.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function n(e,r){var i,t,a=T.util.type(e);switch(r=r||{},a){case"Object":if(t=T.util.objId(e),r[t])return r[t];for(var s in i={},r[t]=i,e)e.hasOwnProperty(s)&&(i[s]=n(e[s],r));return i;case"Array":return t=T.util.objId(e),r[t]?r[t]:(i=[],r[t]=i,e.forEach(function(e,t){i[t]=n(e,r)}),i);default:return e}},getLanguage:function(e){for(;e&&!u.test(e.className);)e=e.parentElement;return e?(e.className.match(u)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(e){var t=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(e.stack)||[])[1];if(t){var n=document.getElementsByTagName("script");for(var r in n)if(n[r].src==t)return n[r]}return null}}},languages:{extend:function(e,t){var n=T.util.clone(T.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(n,e,t,r){var i=(r=r||T.languages)[n],a={};for(var s in i)if(i.hasOwnProperty(s)){if(s==e)for(var o in t)t.hasOwnProperty(o)&&(a[o]=t[o]);t.hasOwnProperty(s)||(a[s]=i[s])}var l=r[n];return r[n]=a,T.languages.DFS(T.languages,function(e,t){t===l&&e!=n&&(this[e]=a)}),a},DFS:function e(t,n,r,i){i=i||{};var a=T.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var o=t[s],l=T.util.type(o);"Object"!==l||i[a(o)]?"Array"!==l||i[a(o)]||(i[a(o)]=!0,e(o,n,s,i)):(i[a(o)]=!0,e(o,n,null,i))}}},plugins:{},highlightAll:function(e,t){T.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};T.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),T.hooks.run("before-all-elements-highlight",r);for(var i,a=0;i=r.elements[a++];)T.highlightElement(i,!0===t,r.callback)},highlightElement:function(e,t,n){var r=T.util.getLanguage(e),i=T.languages[r];e.className=e.className.replace(u,"").replace(/\s+/g," ")+" language-"+r;var a=e.parentNode;a&&"pre"===a.nodeName.toLowerCase()&&(a.className=a.className.replace(u,"").replace(/\s+/g," ")+" language-"+r);var s={element:e,language:r,grammar:i,code:e.textContent};function o(e){s.highlightedCode=e,T.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,T.hooks.run("after-highlight",s),T.hooks.run("complete",s),n&&n.call(s.element)}if(T.hooks.run("before-sanity-check",s),!s.code)return T.hooks.run("complete",s),void(n&&n.call(s.element));if(T.hooks.run("before-highlight",s),s.grammar)if(t&&c.Worker){var l=new Worker(T.filename);l.onmessage=function(e){o(e.data)},l.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else o(T.highlight(s.code,s.grammar,s.language));else o(T.util.encode(s.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};return T.hooks.run("before-tokenize",r),r.tokens=T.tokenize(r.code,r.grammar),T.hooks.run("after-tokenize",r),R.stringify(T.util.encode(r.tokens),r.language)},matchGrammar:function(e,t,n,r,i,a,s){for(var o in n)if(n.hasOwnProperty(o)&&n[o]){var l=n[o];l=Array.isArray(l)?l:[l];for(var c=0;c<l.length;++c){if(s&&s==o+","+c)return;var u=l[c],h=u.inside,p=!!u.lookbehind,d=!!u.greedy,g=0,f=u.alias;if(d&&!u.pattern.global){var m=u.pattern.toString().match(/[imsuy]*$/)[0];u.pattern=RegExp(u.pattern.source,m+"g")}u=u.pattern||u;for(var v=r,b=i;v<t.length;b+=t[v].length,++v){var y=t[v];if(t.length>e.length)return;if(!(y instanceof R)){if(d&&v!=t.length-1){if(u.lastIndex=b,!(A=u.exec(e)))break;for(var k=A.index+(p&&A[1]?A[1].length:0),w=A.index+A[0].length,x=v,_=b,S=t.length;x<S&&(_<w||!t[x].type&&!t[x-1].greedy);++x)(_+=t[x].length)<=k&&(++v,b=_);if(t[v]instanceof R)continue;$=x-v,y=e.slice(b,_),A.index-=b}else{u.lastIndex=0;var A=u.exec(y),$=1}if(A){p&&(g=A[1]?A[1].length:0);w=(k=A.index+g)+(A=A[0].slice(g)).length;var E=y.slice(0,k),C=y.slice(w),F=[v,$];E&&(++v,b+=E.length,F.push(E));var L=new R(o,h?T.tokenize(A,h):A,f,A,d);if(F.push(L),C&&F.push(C),Array.prototype.splice.apply(t,F),1!=$&&T.matchGrammar(e,t,n,v,b,!0,o+","+c),a)break}else if(a)break}}}}},tokenize:function(e,t){var n=[e],r=t.rest;if(r){for(var i in r)t[i]=r[i];delete t.rest}return T.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=T.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=T.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:R};function R(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(c.Prism=T,R.stringify=function(e,t){if("string"==typeof e)return e;if(Array.isArray(e))return e.map(function(e){return R.stringify(e,t)}).join("");var n={type:e.type,content:R.stringify(e.content,t),tag:"span",classes:["token",e.type],attributes:{},language:t};if(e.alias){var r=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(n.classes,r)}T.hooks.run("wrap",n);var i=Object.keys(n.attributes).map(function(e){return e+'="'+(n.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(i?" "+i:"")+">"+n.content+"</"+n.tag+">"},!c.document)return c.addEventListener&&(T.disableWorkerMessageHandler||c.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,r=t.code,i=t.immediateClose;c.postMessage(T.highlight(r,T.languages[n],n)),i&&c.close()},!1)),T;var e=T.util.currentScript();if(e&&(T.filename=e.src,e.hasAttribute("data-manual")&&(T.manual=!0)),!T.manual){function n(){T.manual||T.highlightAll()}var r=document.readyState;"loading"===r||"interactive"===r&&e&&e.defer?document.addEventListener("DOMContentLoaded",n):window.requestAnimationFrame?window.requestAnimationFrame(n):window.setTimeout(n,16)}return T}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=c),void 0!==fe&&(fe.Prism=c),c.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:(?!<!--)[^"'\]]|"[^"]*"|'[^']*'|<!--[\s\S]*?-->)*\]\s*)?>/i,greedy:!0},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},c.languages.markup.tag.inside["attr-value"].inside.entity=c.languages.markup.entity,c.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(c.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:c.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:c.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:r},c.languages.insertBefore("markup","cdata",i)}}),c.languages.xml=c.languages.extend("markup",{}),c.languages.html=c.languages.markup,c.languages.mathml=c.languages.markup,c.languages.svg=c.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+t.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(c),c.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},c.languages.javascript=c.languages.extend("clike",{"class-name":[c.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&|\|\||[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?[.?]?|[~:]/}),c.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,c.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*[\s\S]*?\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:c.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:c.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:c.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:c.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),c.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:c.languages.javascript}},string:/[\s\S]+/}}}),c.languages.markup&&c.languages.markup.tag.addInlined("script","javascript"),c.languages.js=c.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach(function(e){if(!e.hasAttribute("data-src-loaded")){for(var t,n=e.getAttribute("data-src"),r=e,i=/\blang(?:uage)?-([\w-]+)\b/i;r&&!i.test(r.className);)r=r.parentNode;if(r&&(t=(e.className.match(i)||[,""])[1]),!t){var a=(n.match(/\.(\w+)$/)||[,""])[1];t=l[a]||a}var s=document.createElement("code");s.className="language-"+t,e.textContent="",s.textContent="Loadingâ€¦",e.appendChild(s);var o=new XMLHttpRequest;o.open("GET",n,!0),o.onreadystatechange=function(){4==o.readyState&&(o.status<400&&o.responseText?(s.textContent=o.responseText,c.highlightElement(s),e.setAttribute("data-src-loaded","")):400<=o.status?s.textContent="âœ– Error "+o.status+" while fetching file: "+o.statusText:s.textContent="âœ– Error: File does not exist or is empty")},o.send(null)}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))});function ye(e,t){return"___"+e.toUpperCase()+t+"___"}ve=Prism,Object.defineProperties(ve.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,i,e,a){if(r.language===i){var s=r.tokenStack=[];r.code=r.code.replace(e,function(e){if("function"==typeof a&&!a(e))return e;for(var t,n=s.length;-1!==r.code.indexOf(t=ye(i,n));)++n;return s[n]=e,t}),r.grammar=ve.languages.markup}}},tokenizePlaceholders:{value:function(d,g){if(d.language===g&&d.tokenStack){d.grammar=ve.languages[g];var f=0,m=Object.keys(d.tokenStack);!function e(t){for(var n=0;n<t.length&&!(f>=m.length);n++){var r=t[n];if("string"==typeof r||r.content&&"string"==typeof r.content){var i=m[f],a=d.tokenStack[i],s="string"==typeof r?r:r.content,o=ye(g,i),l=s.indexOf(o);if(-1<l){++f;var c=s.substring(0,l),u=new ve.Token(g,ve.tokenize(a,d.grammar),"language-"+g,a),h=s.substring(l+o.length),p=[];c&&p.push.apply(p,e([c])),p.push(u),h&&p.push.apply(p,e([h])),"string"==typeof r?t.splice.apply(t,[n,1].concat(p)):r.content=p}}else r.content&&e(r.content)}return t}(d.tokens)}}}});var ke=me(function(v,e){!function(){var y={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:h,table:h,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function l(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||m.defaults,this.rules=y.normal,this.options.pedantic?this.rules=y.pedantic:this.options.gfm&&(this.rules=y.gfm)}y._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,y.def=e(y.def).replace("label",y._label).replace("title",y._title).getRegex(),y.bullet=/(?:[*+-]|\d{1,9}\.)/,y.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,y.item=e(y.item,"gm").replace(/bull/g,y.bullet).getRegex(),y.list=e(y.list).replace(/bull/g,y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+y.def.source+")").getRegex(),y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",y._comment=/<!--(?!-?>)[\s\S]*?-->/,y.html=e(y.html,"i").replace("comment",y._comment).replace("tag",y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y.paragraph=e(y._paragraph).replace("hr",y.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",y._tag).getRegex(),y.blockquote=e(y.blockquote).replace("paragraph",y.paragraph).getRegex(),y.normal=d({},y),y.gfm=d({},y.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),y.pedantic=d({},y.normal,{html:e("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:h,paragraph:e(y.normal._paragraph).replace("hr",y.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",y.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),l.rules=y,l.lex=function(e,t){return new l(t).lex(e)},l.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},l.prototype.token=function(e,t){var n,r,i,a,s,o,l,c,u,h,p,d,g,f,m,v;for(e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),1<i[0].length&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e)){var b=this.tokens[this.tokens.length-1];e=e.substring(i[0].length),b&&"paragraph"===b.type?b.text+="\n"+i[0].trimRight():(i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?i:x(i,"\n")}))}else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if((i=this.rules.nptable.exec(e))&&(o={type:"table",header:w(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===o.align.length){for(e=e.substring(i[0].length),p=0;p<o.align.length;p++)/^ *-+: *$/.test(o.align[p])?o.align[p]="right":/^ *:-+: *$/.test(o.align[p])?o.align[p]="center":/^ *:-+ *$/.test(o.align[p])?o.align[p]="left":o.align[p]=null;for(p=0;p<o.cells.length;p++)o.cells[p]=w(o.cells[p],o.header.length);this.tokens.push(o)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l={type:"list_start",ordered:f=1<(a=i[2]).length,start:f?+a:"",loose:!1},this.tokens.push(l),n=!(c=[]),g=(i=i[0].match(this.rules.item)).length,p=0;p<g;p++)h=(o=i[p]).length,~(o=o.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(h-=o.length,o=this.options.pedantic?o.replace(/^ {1,4}/gm,""):o.replace(new RegExp("^ {1,"+h+"}","gm"),"")),p!==g-1&&(s=y.bullet.exec(i[p+1])[0],(1<a.length?1===s.length:1<s.length||this.options.smartLists&&s!==a)&&(e=i.slice(p+1).join("\n")+e,p=g-1)),r=n||/\n\n(?!\s*$)/.test(o),p!==g-1&&(n="\n"===o.charAt(o.length-1),r=r||n),r&&(l.loose=!0),v=void 0,(m=/^\[[ xX]\] /.test(o))&&(v=" "!==o[1],o=o.replace(/^\[[ xX]\] +/,"")),u={type:"list_item_start",task:m,checked:v,loose:r},c.push(u),this.tokens.push(u),this.token(o,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(g=c.length,p=0;p<g;p++)c[p].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):k(i[0]):i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),d=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[d]||(this.tokens.links[d]={href:i[2],title:i[3]});else if((i=this.rules.table.exec(e))&&(o={type:"table",header:w(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===o.align.length){for(e=e.substring(i[0].length),p=0;p<o.align.length;p++)/^ *-+: *$/.test(o.align[p])?o.align[p]="right":/^ *:-+: *$/.test(o.align[p])?o.align[p]="center":/^ *:-+ *$/.test(o.align[p])?o.align[p]="left":o.align[p]=null;for(p=0;p<o.cells.length;p++)o.cells[p]=w(o.cells[p].replace(/^ *\| *| *\| *$/g,""),o.header.length);this.tokens.push(o)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2].charAt(0)?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var n={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:h,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:h,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function u(e,t){if(this.options=t||m.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.breaks?this.rules=n.breaks:this.rules=n.gfm)}function r(e){this.options=e||m.defaults}function i(){}function c(e){this.tokens=[],this.token=null,this.options=e||m.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new t}function t(){this.seen={}}function k(e,t){if(t){if(k.escapeTest.test(e))return e.replace(k.escapeReplace,function(e){return k.replacements[e]})}else if(k.escapeTestNoEncode.test(e))return e.replace(k.escapeReplaceNoEncode,function(e){return k.replacements[e]});return e}function p(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function e(n,e){return n=n.source||n,e=e||"",{replace:function(e,t){return t=(t=t.source||t).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(e,t),this},getRegex:function(){return new RegExp(n,e)}}}function a(e,t,n){if(e){try{var r=decodeURIComponent(p(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!o.test(n)&&(n=function(e,t){s[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?s[" "+e]=e+"/":s[" "+e]=x(e,"/",!0));return e=s[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}n._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",n.em=e(n.em).replace(/punctuation/g,n._punctuation).getRegex(),n._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=e(n.autolink).replace("scheme",n._scheme).replace("email",n._email).getRegex(),n._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,n.tag=e(n.tag).replace("comment",y._comment).replace("attribute",n._attribute).getRegex(),n._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,n._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,n._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,n.link=e(n.link).replace("label",n._label).replace("href",n._href).replace("title",n._title).getRegex(),n.reflink=e(n.reflink).replace("label",n._label).getRegex(),n.normal=d({},n),n.pedantic=d({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:e(/^!?\[(label)\]\((.*?)\)/).replace("label",n._label).getRegex(),reflink:e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",n._label).getRegex()}),n.gfm=d({},n.normal,{escape:e(n.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),n.gfm.url=e(n.gfm.url,"i").replace("email",n.gfm._extended_email).getRegex(),n.breaks=d({},n.gfm,{br:e(n.br).replace("{2,}","*").getRegex(),text:e(n.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),u.rules=n,u.output=function(e,t,n){return new u(t,n).output(e)},u.prototype.output=function(e){for(var t,n,r,i,a,s,o="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),o+=k(a[1]);else if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),e=e.substring(a[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):k(a[0]):a[0];else if(a=this.rules.link.exec(e)){var l=g(a[2],"()");if(-1<l){var c=4+a[1].length+l;a[2]=a[2].substring(0,l),a[0]=a[0].substring(0,c).trim(),a[3]=""}e=e.substring(a[0].length),this.inLink=!0,r=a[2],i=this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],t[3]):"":a[3]?a[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),o+=this.outputLink(a,{href:u.escapes(r),title:u.escapes(i)}),this.inLink=!1}else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(a,t),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),o+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),o+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),o+=this.renderer.codespan(k(a[2].trim(),!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),o+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),o+=this.renderer.del(this.output(a[1]));else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),r="@"===a[2]?"mailto:"+(n=k(this.mangle(a[1]))):n=k(a[1]),o+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.inRawBlock?o+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):k(a[0]):a[0]):o+=this.renderer.text(k(this.smartypants(a[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===a[2])r="mailto:"+(n=k(a[0]));else{for(;s=a[0],a[0]=this.rules._backpedal.exec(a[0])[0],s!==a[0];);n=k(a[0]),r="www."===a[1]?"http://"+n:n}e=e.substring(a[0].length),o+=this.renderer.link(r,null,n)}return o},u.escapes=function(e){return e?e.replace(u.rules._escapes,"$1"):e},u.prototype.outputLink=function(e,t){var n=t.href,r=t.title?k(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,k(e[1]))},u.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"â€”").replace(/--/g,"â€“").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â€˜").replace(/'/g,"â€™").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â€œ").replace(/"/g,"â€").replace(/\.{3}/g,"â€¦"):e},u.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),.5<Math.random()&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return r?'<pre><code class="'+this.options.langPrefix+k(r,!0)+'">'+(n?e:k(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:k(e,!0))+"</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(null===(e=a(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+k(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},r.prototype.image=function(e,t,n){if(null===(e=a(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(e){return e},i.prototype.link=i.prototype.image=function(e,t,n){return""+n},i.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new u(e.links,this.options),this.inlineText=new u(e.links,d({},this.options,{renderer:new i})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop(),this.token},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,p(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",a="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});a+=this.renderer.tablerow(n)}return this.renderer.table(i,a);case"blockquote_start":for(a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":a="";for(var s=this.token.ordered,o=this.token.start;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,s,o);case"list_item_start":a="";var l=this.token.loose,c=this.token.checked,u=this.token.task;for(this.token.task&&(a+=this.renderer.checkbox(c));"list_item_end"!==this.next().type;)a+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(a,u,c);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},t.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t))for(var n=t;this.seen[n]++,t=n+"-"+this.seen[n],this.seen.hasOwnProperty(t););return this.seen[t]=0,t},k.escapeTest=/[&<>"']/,k.escapeReplace=/[&<>"']/g,k.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,k.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var s={},o=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(){}function d(e){for(var t,n,r=arguments,i=1;i<arguments.length;i++)for(n in t=r[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function w(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,i=t;0<=--i&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function x(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var i=e.charAt(e.length-r-1);if(i!==t||n){if(i===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function g(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function f(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function m(e,n,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof n){r||(r=n,n=null),f(n=d({},m.defaults,n||{}));var i,a,s=n.highlight,t=0;try{i=l.lex(e,n)}catch(e){return r(e)}a=i.length;function o(t){if(t)return n.highlight=s,r(t);var e;try{e=c.parse(i,n)}catch(e){t=e}return n.highlight=s,t?r(t):r(null,e)}if(!s||s.length<3)return o();if(delete n.highlight,!a)return o();for(;t<i.length;t++)!function(n){"code"!==n.type?--a||o():s(n.text,n.lang,function(e,t){return e?o(e):null==t||t===n.text?--a||o():(n.text=t,n.escaped=!0,void(--a||o()))})}(i[t])}else try{return f(n=n&&d({},m.defaults,n)),c.parse(l.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||m.defaults).silent)return"<p>An error occurred:</p><pre>"+k(e.message+"",!0)+"</pre>";throw e}}h.exec=h,m.options=m.setOptions=function(e){return d(m.defaults,e),m},m.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new r,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},m.defaults=m.getDefaults(),m.Parser=c,m.parser=c.parse,m.Renderer=r,m.TextRenderer=i,m.Lexer=l,m.lexer=l.lex,m.InlineLexer=u,m.inlineLexer=u.output,m.Slugger=t,m.parse=m,v.exports=m}()}),we={},xe={markdown:function(e){return{url:e}},mermaid:function(e){return{url:e}},iframe:function(e,t){return{html:'<iframe src="'+e+'" '+(t||"width=100% height=400")+"></iframe>"}},video:function(e,t){return{html:'<video src="'+e+'" '+(t||"controls")+">Not Support</video>"}},audio:function(e,t){return{html:'<audio src="'+e+'" '+(t||"controls")+">Not Support</audio>"}},code:function(e,t){var n=e.match(/\.(\w+)$/);return"md"===(n=t||n&&n[1])&&(n="markdown"),{url:e,lang:n}}},_e=function(i,e){var a=this;this.config=i,this.router=e,this.cacheTree={},this.toc=[],this.cacheTOC={},this.linkTarget=i.externalLinkTarget||"_blank",this.linkRel="_blank"===this.linkTarget?i.externalLinkRel||"noopener":"",this.contentBase=e.getBasePath();var s,t=this._initRenderer();this.heading=t.heading;var n=i.markdown||{};s=r(n)?n(ke,t):(ke.setOptions(d(n,{renderer:d(t,n.renderer)})),ke),this._marked=s,this.compile=function(n){var r=!0,e=o(function(e){r=!1;var t="";return n?(t=c(n)?s(n):s.parser(n),t=i.noEmoji?t:function(e){return e.replace(/<(pre|template|code)[^>]*?>[\s\S]+?<\/(pre|template|code)>/g,function(e){return e.replace(/:/g,"__colon__")}).replace(/:(\w+?):/gi,window.emojify||de).replace(/__colon__/g,":")}(t),pe.clear(),t):n})(n),t=a.router.parse().file;return r?a.toc=a.cacheTOC[t]:a.cacheTOC[t]=[].concat(a.toc),e}};_e.prototype.compileEmbed=function(e,t){var n,r=ge(t),i=r.str,a=r.config;if(t=i,a.include){var s;if(H(e)||(e=D(this.contentBase,I(this.router.getCurrentPath()),e)),a.type&&(s=xe[a.type]))(n=s.call(this,e,t)).type=a.type;else{var o="code";/\.(md|markdown)/.test(e)?o="markdown":/\.mmd/.test(e)?o="mermaid":/\.html?/.test(e)?o="iframe":/\.(mp4|ogg)/.test(e)?o="video":/\.mp3/.test(e)&&(o="audio"),(n=xe[o].call(this,e,t)).type=o}return n.fragment=a.fragment,n}},_e.prototype._matchNotCompileLink=function(e){for(var t=this.config.noCompileLinks||[],n=0;n<t.length;n++){var r=t[n];if((we[r]||(we[r]=new RegExp("^"+r+"$"))).test(e))return e}},_e.prototype._initRenderer=function(){var e=new ke.Renderer,t=this.linkTarget,l=this.router,n=this.contentBase,c=this,r={};return r.heading=e.heading=function(e,t){var n=ge(e),r=n.str,i=n.config,a={level:t,title:r};/{docsify-ignore}/g.test(r)&&(r=r.replace("{docsify-ignore}",""),a.title=r,a.ignoreSubHeading=!0),/{docsify-ignore-all}/g.test(r)&&(r=r.replace("{docsify-ignore-all}",""),a.title=r,a.ignoreAllSubs=!0);var s=pe(i.id||r),o=l.toURL(l.getCurrentPath(),{id:s});return a.slug=o,c.toc.push(a),"<h"+t+' id="'+s+'"><a href="'+o+'" data-id="'+s+'" class="anchor"><span>'+r+"</span></a></h"+t+">"},r.code=function(e){return e.renderer.code=function(e,t){void 0===t&&(t="");var n=be.languages[t]||be.languages.markup;return'<pre v-pre data-lang="'+t+'"><code class="lang-'+t+'">'+be.highlight(e.replace(/@DOCSIFY_QM@/g,"`"),n)+"</code></pre>"}}({renderer:e}),r.link=function(e){var t=e.renderer,o=e.router,l=e.linkTarget,c=e.compilerClass;return t.link=function(e,t,n){void 0===t&&(t="");var r=[],i=ge(t),a=i.str,s=i.config;return t=a,H(e)||c._matchNotCompileLink(e)||s.ignore?(!H(e)&&e.startsWith("./")&&(e=document.URL.replace(/\/(?!.*\/).*/,"/").replace("#/./","")+e),r.push(0===e.indexOf("mailto:")?"":'target="'+l+'"')):(e===c.config.homepage&&(e="README"),e=o.toURL(e,null,o.getCurrentPath())),s.target&&r.push('target="'+s.target+'"'),s.disabled&&(r.push("disabled"),e="javascript:void(0)"),s.class&&r.push('class="'+s.class+'"'),s.id&&r.push('id="'+s.id+'"'),t&&r.push('title="'+t+'"'),'<a href="'+e+'" '+r.join(" ")+">"+n+"</a>"}}({renderer:e,router:l,linkTarget:t,compilerClass:c}),r.paragraph=function(e){return e.renderer.paragraph=function(e){return/^!&gt;/.test(e)?oe("tip",e):/^\?&gt;/.test(e)?oe("warn",e):"<p>"+e+"</p>"}}({renderer:e}),r.image=function(e){var t=e.renderer,h=e.contentBase,p=e.router;return t.image=function(e,t,n){var r=e,i=[],a=ge(t),s=a.str,o=a.config;if(t=s,o["no-zoom"]&&i.push("data-no-zoom"),t&&i.push('title="'+t+'"'),o.size){var l=o.size.split("x"),c=l[0],u=l[1];u?i.push('width="'+c+'" height="'+u+'"'):i.push('width="'+c+'" height="'+c+'"')}return o.class&&i.push('class="'+o.class+'"'),o.id&&i.push('id="'+o.id+'"'),H(e)||(r=D(h,I(p.getCurrentPath()),e)),0<i.length?'<img src="'+r+'" data-origin="'+e+'" alt="'+n+'" '+i.join(" ")+" />":'<img src="'+r+'" data-origin="'+e+'" alt="'+n+'"'+i+">"}}({renderer:e,contentBase:n,router:l}),r.list=function(e){return e.renderer.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+" "+[/<li class="task-list-item">/.test(e.split('class="task-list"')[0])?'class="task-list"':"",n&&1<n?'start="'+n+'"':""].join(" ").trim()+">"+e+"</"+r+">"}}({renderer:e}),r.listitem=function(e){return e.renderer.listitem=function(e){return/^(<input.*type="checkbox"[^>]*>)/.test(e)?'<li class="task-list-item"><label>'+e+"</label></li>":"<li>"+e+"</li>"}}({renderer:e}),e.origin=r,e},_e.prototype.sidebar=function(e,t){var n=this.toc,r=this.router.getCurrentPath(),i="";if(e)i=this.compile(e);else{for(var a=0;a<n.length;a++)if(n[a].ignoreSubHeading){var s=n[a].level;n.splice(a,1);for(var o=a;s<n[o].level&&o<n.length;o++)n.splice(o,1)&&o--&&a++;a--}var l=this.cacheTree[r]||le(n,t);i=se(l,"<ul>{inner}</ul>"),this.cacheTree[r]=l}return i},_e.prototype.subSidebar=function(e){if(e){var t=this.router.getCurrentPath(),n=this.cacheTree,r=this.toc;r[0]&&r[0].ignoreAllSubs&&r.splice(0),r[0]&&1===r[0].level&&r.shift();for(var i=0;i<r.length;i++)r[i].ignoreSubHeading&&r.splice(i,1)&&i--;var a=n[t]||le(r,e);return n[t]=a,this.toc=[],se(a)}this.toc=[]},_e.prototype.header=function(e,t){return this.heading(e,t)},_e.prototype.article=function(e){return this.compile(e)},_e.prototype.cover=function(e){var t=this.toc.slice(),n=this.compile(e);return this.toc=t.slice(),n};var Se=function(e){var t=function(e){var t=e.match(/^[ \t]*(?=\S)/gm);return t?Math.min.apply(Math,t.map(function(e){return e.length})):0}(e);if(0===t)return e;var n=new RegExp("^[ \\t]{"+t+"}","gm");return e.replace(n,"")},Ae={};function $e(e,i){var s=e.compiler,a=e.raw;void 0===a&&(a="");var t=e.fetch,n=Ae[a];if(n){var r=n.slice();return r.links=n.links,i(r)}var o=s._marked,l=o.lexer(a),c=[],u=o.InlineLexer.rules.link,h=l.links;l.forEach(function(e,a){"paragraph"===e.type&&(e.text=e.text.replace(new RegExp(u.source,"g"),function(e,t,n,r){var i=s.compileEmbed(n,r);return i&&c.push({index:a,embed:i}),e}))});var p=0;!function(e,s){var t,n=e.embedTokens,o=e.compile,l=(e.fetch,0),c=1;if(!n.length)return s({});for(;t=n[l++];){var r=function(a){return function(e){var t;if(e)if("markdown"===a.embed.type){var n=a.embed.url.split("/");n.pop(),n=n.join("/"),e=e.replace(/\[([^[\]]+)\]\(([^)]+)\)/g,function(e){var t=e.indexOf("(");return e.substring(t).startsWith("(.")?e.substring(0,t)+"("+window.location.protocol+"//"+window.location.host+n+"/"+e.substring(t+1,e.length-1)+")":e}),t=o.lexer(e)}else if("code"===a.embed.type){if(a.embed.fragment){var r=a.embed.fragment,i=new RegExp("(?:###|\\/\\/\\/)\\s*\\["+r+"\\]([\\s\\S]*)(?:###|\\/\\/\\/)\\s*\\["+r+"\\]");e=Se((e.match(i)||[])[1]||"").trim()}t=o.lexer("```"+a.embed.lang+"\n"+e.replace(/`/g,"@DOCSIFY_QM@")+"\n```\n")}else"mermaid"===a.embed.type?(t=[{type:"html",text:'<div class="mermaid">\n'+e+"\n</div>"}]).links={}:(t=[{type:"html",text:e}]).links={};s({token:a,embedToken:t}),++c>=l&&s({})}}(t);t.embed.url?L(t.embed.url).then(r):r(t.embed.html)}}({compile:o,embedTokens:c,fetch:t},function(e){var t=e.embedToken,n=e.token;if(n){var r=n.index+p;d(h,t.links),l=l.slice(0,r).concat(t,l.slice(r+1)),p+=t.length-1}else Ae[a]=l.concat(),l.links=Ae[a].links=h,i(l)})}var Ee=/([^{]*?)\w(?=\})/g,Ce={YYYY:"getFullYear",YY:"getYear",MM:function(e){return e.getMonth()+1},DD:"getDate",HH:"getHours",mm:"getMinutes",ss:"getSeconds",fff:"getMilliseconds"};function Fe(){var e=y(".markdown-section>script").filter(function(e){return!/template/.test(e.type)})[0];if(!e)return!1;var t=e.innerText.trim();if(!t)return!1;setTimeout(function(e){window.__EXECUTE_RESULT__=new Function(t)()},0)}function Le(e,t,n){return t="function"==typeof n?n(t):"string"==typeof n?function(r,i){var a=[],s=0;return r.replace(Ee,function(t,e,n){a.push(r.substring(s,n-1)),s=n+=t.length+1,a.push(i&&i[t]||function(e){return("00"+("string"==typeof Ce[t]?e[Ce[t]]():Ce[t](e))).slice(-t.length)})}),s!==r.length&&a.push(r.substring(s)),function(e){for(var t="",n=0,r=e||new Date;n<a.length;n++)t+="string"==typeof a[n]?a[n]:a[n](r);return t}}(n)(new Date(t)):t,e.replace(/{docsify-updated}/g,t)}function Te(e){e=e||"<h1>404 - Not found</h1>",this._renderTo(".markdown-section",e),this.config.loadSidebar||this._renderSidebar(),!1===this.config.executeScript||void 0===window.Vue||Fe()?this.config.executeScript&&Fe():setTimeout(function(e){var t=window.__EXECUTE_RESULT__;t&&t.$destroy&&t.$destroy(),window.__EXECUTE_RESULT__=(new window.Vue).$mount("#main")},0)}function Re(e){var t=e.config;e.compiler=new _e(t,e.router),window.__current_docsify_compiler__=e.compiler;var n=t.el||"#app",r=b("nav")||k("nav"),i=b(n),a="",s=v;if(i){if(t.repo&&(a+=function(e,t){return e?(/\/\//.test(e)||(e="https://github.com/"+e),'<a href="'+(e=e.replace(/^git\+/,""))+'" target="'+(t=t||"_blank")+'" class="github-corner" aria-label="View source on Github"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>'):""}(t.repo,t.cornerExternalLinkTarge)),t.coverpage&&(a+=function(){var e=", 100%, 85%";return'<section class="cover show" style="background: '+("linear-gradient(to left bottom, hsl("+Math.floor(255*Math.random())+e+") 0%,hsl("+Math.floor(255*Math.random())+e+") 100%)")+'"><div class="cover-main">\x3c!--cover--\x3e</div><div class="mask"></div></section>'}()),t.logo){var o=/^data:image/.test(t.logo),l=/(?:http[s]?:)?\/\//.test(t.logo),c=/^\./.test(t.logo);o||l||c||(t.logo=D(e.router.getBasePath(),t.logo))}a+=function(e){var t=e.name?e.name:"",n='<button class="sidebar-toggle" aria-label="Menu"><div class="sidebar-toggle-button"><span></span><span></span><span></span></div></button><aside class="sidebar">'+(e.name?'<h1 class="app-name"><a class="app-name-link" data-nosearch>'+(e.logo?'<img alt="'+t+'" src='+e.logo+">":t)+"</a></h1>":"")+'<div class="sidebar-nav">\x3c!--sidebar--\x3e</div></aside>';return(g?n+"<main>":"<main>"+n)+'<section class="content"><article class="markdown-section" id="main">\x3c!--main--\x3e</article></section></main>'}(t),e._renderTo(i,a,!0)}else e.rendered=!0;t.mergeNavbar&&g?s=b(".sidebar"):(r.classList.add("app-nav"),t.repo||r.classList.add("no-badge")),t.loadNavbar&&x(s,r),t.themeColor&&(p.head.appendChild(k("div",function(e){return"<style>:root{--theme-color: "+e+";}</style>"}(t.themeColor)).firstElementChild),function(n){if(!(window.CSS&&window.CSS.supports&&window.CSS.supports("(--v:red)"))){var e=y("style:not(.inserted),link");[].forEach.call(e,function(e){if("STYLE"===e.nodeName)T(e,n);else if("LINK"===e.nodeName){var t=e.getAttribute("href");if(!/\.css$/.test(t))return;L(t).then(function(e){var t=k("style",e);f.appendChild(t),T(t,n)})}})}}(t.themeColor)),e._updateRender(),A(v,"ready")}var Oe={};function Pe(e){this.config=e}function ze(e){var t=location.href.indexOf("#");location.replace(location.href.slice(0,0<=t?t:0)+"#"+e)}Pe.prototype.getBasePath=function(){return this.config.basePath},Pe.prototype.getFile=function(e,t){void 0===e&&(e=this.getCurrentPath());var n=this.config,r=this.getBasePath(),i="string"==typeof n.ext?n.ext:".md";return e=(e=function(e,t){return new RegExp("\\.("+t.replace(/^\./,"")+"|html)$","g").test(e)?e:/\/$/g.test(e)?e+"README"+t:""+e+t}(e=n.alias?function e(t,n,r){var i=Object.keys(n).filter(function(e){return(Oe[e]||(Oe[e]=new RegExp("^"+e+"$"))).test(t)&&t!==r})[0];return i?e(t.replace(Oe[i],n[i]),n,t):t}(e,n.alias):e,i))==="/README"+i&&n.homepage||e,e=H(e)?e:D(r,e),t&&(e=e.replace(new RegExp("^"+r),"")),e},Pe.prototype.onchange=function(e){void 0===e&&(e=h),e()},Pe.prototype.getCurrentPath=function(){},Pe.prototype.normalize=function(){},Pe.prototype.parse=function(){},Pe.prototype.toURL=function(e,t,n){var r=n&&"#"===e[0],i=this.parse(U(e));if(i.query=d({},i.query,t),e=(e=i.path+q(i.query)).replace(/\.md(\?)|\.md$/,"$1"),r){var a=n.indexOf("?");e=(0<a?n.substring(0,a):n)+e}if(this.config.relativePath&&0!==e.indexOf("/")){var s=n.substring(0,n.lastIndexOf("/")+1);return B(Z(s+e))}return B("/"+e)};var je=function(r){function e(e){r.call(this,e),this.mode="hash"}return r&&(e.__proto__=r),((e.prototype=Object.create(r&&r.prototype)).constructor=e).prototype.getBasePath=function(){var e=window.location.pathname||"",t=this.config.basePath;return/^(\/|https?:)/g.test(t)?t:B(e+"/"+t)},e.prototype.getCurrentPath=function(){var e=location.href,t=e.indexOf("#");return-1===t?"":e.slice(t+1)},e.prototype.onchange=function(n){void 0===n&&(n=h);var r=!1;_("click",function(e){var t="A"===e.target.tagName?e.target:e.target.parentNode;"A"!==t.tagName||/_blank/.test(t.target)||(r=!0)}),_("hashchange",function(e){var t=r?"navigate":"history";r=!1,n({event:e,source:t})})},e.prototype.normalize=function(){var e=this.getCurrentPath();if("/"===(e=U(e)).charAt(0))return ze(e);ze("/"+e)},e.prototype.parse=function(e){void 0===e&&(e=location.href);var t="",n=e.indexOf("#");0<=n&&(e=e.slice(n+1));var r=e.indexOf("?");return 0<=r&&(t=e.slice(r+1),e=e.slice(0,r)),{path:e,file:this.getFile(e,!0),query:M(t)}},e.prototype.toURL=function(e,t,n){return"#"+r.prototype.toURL.call(this,e,t,n)},e}(Pe),Ne=function(t){function e(e){t.call(this,e),this.mode="history"}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.getCurrentPath=function(){var e=this.getBasePath(),t=window.location.pathname;return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash},e.prototype.onchange=function(r){void 0===r&&(r=h),_("click",function(e){var t="A"===e.target.tagName?e.target:e.target.parentNode;if("A"===t.tagName&&!/_blank/.test(t.target)){e.preventDefault();var n=t.href;window.history.pushState({key:n},"",n),r({event:e,source:"navigate"})}}),_("popstate",function(e){r({event:e,source:"history"})})},e.prototype.parse=function(e){void 0===e&&(e=location.href);var t="",n=e.indexOf("?");0<=n&&(t=e.slice(n+1),e=e.slice(0,n));var r=D(location.origin),i=e.indexOf(r);return-1<i&&(e=e.slice(i+r.length)),{path:e,file:this.getFile(e),query:M(t)}},e}(Pe);var Me={};function qe(e){e.router.normalize(),e.route=e.router.parse(),v.setAttribute("data-page",e.route.file)}function He(e){!function(e){function t(e){return v.classList.toggle("close")}null!=(e=m(e))&&(_(e,"click",function(e){e.stopPropagation(),t()}),g&&_(v,"click",function(e){return v.classList.contains("close")&&t()}))}("button.sidebar-toggle",e.router),function(e){null!=(e=m(e))&&_(e,"click",function(e){var t=e.target;"A"===t.nodeName&&t.nextSibling&&t.nextSibling.classList.contains("app-sub-sidebar")&&A(t.parentNode,"collapse")})}(".sidebar",e.router),e.config.coverpage?g||_("scroll",P):v.classList.add("sticky")}function Ie(t,n,r,i,a,e){t=e?t:t.replace(/\/$/,""),(t=I(t))&&L(a.router.getFile(t+r)+n,!1,a.config.requestHeaders).then(i,function(e){return Ie(t,n,r,i,a)})}var Be=Object.freeze({__proto__:null,cached:o,hyphenate:i,hasOwn:l,merge:d,isPrimitive:c,noop:h,isFn:r,inBrowser:!0,isMobile:g,supportsPushState:u,parseQuery:M,stringifyQuery:q,isAbsolutePath:H,getParentPath:I,cleanPath:B,resolvePath:Z,getPath:D,replaceSlug:U});function Ze(){this._init()}var De,Ue,Ye,We=Ze.prototype;function Ge(e,t,n){return Ye&&Ye.abort&&Ye.abort(),Ye=L(e,!0,n)}We._init=function(){var e=this;e.config=s(),function(n){n._hooks={},n._lifecycle={},["init","mounted","beforeEach","afterEach","doneEach","ready"].forEach(function(e){var t=n._hooks[e]=[];n._lifecycle[e]=function(e){return t.push(e)}})}(e),function(t){[].concat(t.config.plugins).forEach(function(e){return r(e)&&e(t._lifecycle,t)})}(e),R(e,"init"),function(t){var e,n=t.config;e="history"===(n.routerMode||"hash")&&u?new Ne(n):new je(n),t.router=e,qe(t),Me=t.route,e.onchange(function(e){qe(t),t._updateRender(),Me.path!==t.route.path?(t.$fetch(h,t.$resetEvents.bind(t,e.source)),Me=t.route):t.$resetEvents(e.source)})}(e),Re(e),He(e),function(t){var e=t.config.loadSidebar;if(t.rendered){var n=z(t.router,".sidebar-nav",!0,!0);e&&n&&(n.parentNode.innerHTML+=window.__SUB_SIDEBAR__),t._bindEventOnRendered(n),t.$resetEvents(),R(t,"doneEach"),R(t,"ready")}else t.$fetch(function(e){return R(t,"ready")})}(e),R(e,"mounted")},We.route={},(De=We)._renderTo=function(e,t,n){var r=m(e);r&&(r[n?"outerHTML":"innerHTML"]=t)},De._renderSidebar=function(e){var t=this.config,n=t.maxLevel,r=t.subMaxLevel,i=t.loadSidebar;if(t.hideSidebar)return document.querySelector("aside.sidebar").remove(),document.querySelector("button.sidebar-toggle").remove(),document.querySelector("section.content").style.right="unset",document.querySelector("section.content").style.left="unset",document.querySelector("section.content").style.position="relative",document.querySelector("section.content").style.width="100%",null;this._renderTo(".sidebar-nav",this.compiler.sidebar(e,n));var a=z(this.router,".sidebar-nav",!0,!0);i&&a?a.parentNode.innerHTML+=this.compiler.subSidebar(r)||"":this.compiler.subSidebar(),this._bindEventOnRendered(a)},De._bindEventOnRendered=function(e){var t=this.config.autoHeader;if(function(e){var t=b(".cover.show");te=t?t.offsetHeight:0;var n=m(".sidebar"),r=[];null!=n&&(r=y(n,"li"));for(var i=0,a=r.length;i<a;i+=1){var s=r[i],o=s.querySelector("a");if(o){var l=o.getAttribute("href");if("/"!==l){var c=e.parse(l),u=c.query.id,h=c.path;u&&(l=re(h,u))}l&&(Q[decodeURIComponent(l)]=s)}}if(!g){var p=e.getCurrentPath();S("scroll",function(){return ne(p)}),_("scroll",function(){return ne(p)}),_(n,"mouseover",function(){J=!0}),_(n,"mouseleave",function(){J=!1})}}(this.router),t&&e){var n=m("#main"),r=n.children[0];r&&"H1"!==r.tagName&&x(n,k("div",this.compiler.header(e.innerText,1)).children[0])}},De._renderNav=function(e){e&&this._renderTo("nav",this.compiler.compile(e)),this.config.loadNavbar&&z(this.router,"nav")},De._renderMain=function(r,i,a){var s=this;if(void 0===i&&(i={}),!r)return Te.call(this,r);R(this,"beforeEach",r,function(e){function t(){i.updatedAt&&(n=Le(n,i.updatedAt,s.config.formatUpdated)),R(s,"afterEach",n,function(e){return Te.call(s,e)})}var n;s.isHTML?(n=s.result=r,t(),a()):$e({compiler:s.compiler,raw:e},function(e){n=s.compiler.compile(e),t(),a()})})},De._renderCover=function(e,t){var n=m(".cover");if(A(m("main"),t?"add":"remove","hidden"),e){A(n,"add","show");var r=this.coverIsHTML?e:this.compiler.cover(e),i=r.trim().match('<p><img.*?data-origin="(.*?)"[^a]+alt="(.*?)">([^<]*?)</p>$');if(i){if("color"===i[2])n.style.background=i[1]+(i[3]||"");else{var a=i[1];A(n,"add","has-mask"),H(i[1])||(a=D(this.router.getBasePath(),i[1])),n.style.backgroundImage="url("+a+")",n.style.backgroundSize="cover",n.style.backgroundPosition="center center"}r=r.replace(i[0],"")}this._renderTo(".cover-main",r),P()}else A(n,"remove","show")},De._updateRender=function(){!function(e){var t=m(".app-name-link"),n=e.config.nameLink,r=e.route.path;if(t)if(c(e.config.nameLink))t.setAttribute("href",n);else if("object"==typeof n){var i=Object.keys(n).filter(function(e){return-1<r.indexOf(e)})[0];t.setAttribute("href",n[i])}}(this)},(Ue=We)._loadSideAndNav=function(e,t,n,r){var i=this;return function(){if(!n)return r();Ie(e,t,n,function(e){i._renderSidebar(e),r()},i,!0)}},Ue._fetch=function(n){var r=this;void 0===n&&(n=h);var e=this.route,i=e.path,a=q(e.query,["id"]),t=this.config,s=t.loadNavbar,o=t.requestHeaders,l=t.loadSidebar,c=this.router.getFile(i),u=Ge(c+a,0,o);this.isHTML=/\.html$/g.test(c),u.then(function(e,t){return r._renderMain(e,t,r._loadSideAndNav(i,a,l,n))},function(e){r._fetchFallbackPage(c,a,n)||r._fetch404(c,a,n)}),s&&Ie(i,a,s,function(e){return r._renderNav(e)},this,!0)},Ue._fetchCover=function(){var t=this,e=this.config,n=e.coverpage,r=e.requestHeaders,i=this.route.query,a=I(this.route.path);if(n){var s=null,o=this.route.path;if("string"==typeof n)"/"===o&&(s=n);else if(Array.isArray(n))s=-1<n.indexOf(o)&&"_coverpage";else{var l=n[o];s=!0===l?"_coverpage":l}var c=Boolean(s)&&this.config.onlyCover;return s?(s=this.router.getFile(a+s),this.coverIsHTML=/\.html$/g.test(s),L(s+q(i,["id"]),!1,r).then(function(e){return t._renderCover(e,c)})):this._renderCover(null,c),c}},Ue.$fetch=function(e,t){var n=this;function r(){R(n,"doneEach"),e()}void 0===e&&(e=h),void 0===t&&(t=this.$resetEvents.bind(this)),this._fetchCover()?r():this._fetch(function(){t(),r()})},Ue._fetchFallbackPage=function(n,r,i){var a=this;void 0===i&&(i=h);var e=this.config,t=e.requestHeaders,s=e.fallbackLanguages,o=e.loadSidebar;if(!s)return!1;var l=n.split("/")[1];if(-1===s.indexOf(l))return!1;var c=n.replace(new RegExp("^/"+l),"");return Ge(c+r,0,t).then(function(e,t){return a._renderMain(e,t,a._loadSideAndNav(n,r,o,i))},function(){return a._fetch404(n,r,i)}),!0},Ue._fetch404=function(e,t,n){var r=this;void 0===n&&(n=h);var i=this.config,a=i.loadSidebar,s=i.requestHeaders,o=i.notFoundPage,l=this._loadSideAndNav(e,t,a,n);if(o){var c=function(t,e){var n,r,i=e.notFoundPage,a="_404"+(e.ext||".md");switch(typeof i){case"boolean":r=a;break;case"string":r=i;break;case"object":r=(n=Object.keys(i).sort(function(e,t){return t.length-e.length}).find(function(e){return t.match(new RegExp("^"+e))}))&&i[n]||a}return r}(e,this.config);return Ge(this.router.getFile(c),0,s).then(function(e,t){return r._renderMain(e,t,l)},function(){return r._renderMain(null,{},l)}),!0}return this._renderMain(null,{},l),!1},We.$resetEvents=function(e){var t=this,n=this.config.auto2top;"history"!==e&&(t.route.query.id&&ie(t.route.path,t.route.query.id),"navigate"===e&&n&&function(e){void 0===e&&(e=0),ae.scrollTop=!0===e?0:Number(e)}(n)),this.config.loadNavbar&&z(this.router,"nav")},window.Docsify={util:Be,dom:e,get:L,slugify:pe,version:"4.11.3"},window.DocsifyCompiler=_e,window.marked=ke,window.Prism=be,function(e){var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",e)}(function(e){return new Ze})}();

```

`course/web/prism-bash.min.js`:

```js
!function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s*(?:\r?\n|\r)[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s*(?:\r?\n|\r)[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|`[^`]+`|(?!\2)[^\\])*\2/,lookbehind:!0,greedy:!0,inside:n}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}};for(var a=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],r=n.variable[1].inside,s=0;s<a.length;s++)r[a[s]]=e.languages.bash[a[s]];e.languages.shell=e.languages.bash}(Prism);
```

`course/web/prism-c.min.js`:

```js
Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/,number:/(?:\b0x(?:[\da-f]+\.?[\da-f]*|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ful]*/i}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+(?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(?:<.+?>|("|')(?:\\?.)+?\2)/,lookbehind:!0},directive:{pattern:/(#\s*)\b(?:define|defined|elif|else|endif|error|ifdef|ifndef|if|import|include|line|pragma|undef|using)\b/,lookbehind:!0,alias:"keyword"}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean;
```

`course/web/prism-python.min.js`:

```js
Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python;
```

`course/web/prism-typescript.min.js`:

```js
Prism.languages.typescript=Prism.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),Prism.languages.ts=Prism.languages.typescript;
```

`course/web/theme-simple-dark.css`:

```css
.github-corner{position:absolute;z-index:40;top:0;right:0;border-bottom:0;text-decoration:none}.github-corner svg{height:70px;width:70px;fill:var(--theme-color);color:var(--base-background-color)}.github-corner:hover .octo-arm{-webkit-animation:octocat-wave 560ms ease-in-out;animation:octocat-wave 560ms ease-in-out}@-webkit-keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}.progress{position:fixed;z-index:2147483647;top:0;left:0;right:0;height:3px;width:0;background-color:var(--theme-color);transition:width var(--duration-fast),opacity calc(var(--duration-fast) * 2)}body.ready-transition:after,body.ready-transition>*:not(.progress){opacity:0;transition:opacity var(--spinner-transition-duration)}body.ready-transition:after{content:'';position:absolute;z-index:1000;top:calc(50% - (var(--spinner-size) / 2));left:calc(50% - (var(--spinner-size) / 2));height:var(--spinner-size);width:var(--spinner-size);border:var(--spinner-track-width, 0) solid var(--spinner-track-color);border-left-color:var(--theme-color);border-left-color:var(--theme-color);border-radius:50%;-webkit-animation:spinner var(--duration-slow) infinite linear;animation:spinner var(--duration-slow) infinite linear}body.ready-transition.ready-spinner:after{opacity:1}body.ready-transition.ready-fix:after{opacity:0}body.ready-transition.ready-fix>*:not(.progress){opacity:1;transition-delay:var(--spinner-transition-duration)}@-webkit-keyframes spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}*,*:before,*:after{box-sizing:inherit;font-size:inherit;-webkit-overflow-scrolling:touch;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-text-size-adjust:none;-webkit-touch-callout:none}:root{box-sizing:border-box;background-color:var(--base-background-color);font-size:var(--base-font-size);font-weight:var(--base-font-weight);line-height:var(--base-line-height);letter-spacing:var(--base-letter-spacing);color:var(--base-color);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-smoothing:antialiased}html,button,input,optgroup,select,textarea{font-family:var(--base-font-family)}button,input,optgroup,select,textarea{font-size:100%;margin:0}a{text-decoration:none;-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}body{margin:0}hr{height:0;margin:2em 0;border:none;border-bottom:var(--hr-border, 0)}img{border:0}main{display:block}main.hidden{display:none}mark{background:var(--mark-background);color:var(--mark-color)}pre{font-family:var(--pre-font-family);font-size:var(--pre-font-size);font-weight:var(--pre-font-weight);line-height:var(--pre-line-height)}small{display:inline-block;font-size:var(--small-font-size)}strong{font-weight:var(--strong-font-weight);color:var(--strong-color, currentColor)}sub,sup{font-size:var(--subsup-font-size);line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}body:not([data-platform^="Mac"]) *{scrollbar-color:hsla(var(--mono-hue), var(--mono-saturation), 50%, 0.3) hsla(var(--mono-hue), var(--mono-saturation), 50%, 0.1);scrollbar-width:thin}body:not([data-platform^="Mac"]) * ::-webkit-scrollbar{width:5px;height:5px}body:not([data-platform^="Mac"]) * ::-webkit-scrollbar-thumb{background:hsla(var(--mono-hue), var(--mono-saturation), 50%, 0.3)}body:not([data-platform^="Mac"]) * ::-webkit-scrollbar-track{background:hsla(var(--mono-hue), var(--mono-saturation), 50%, 0.1)}::-moz-selection{background:var(--selection-color)}::selection{background:var(--selection-color)}.emoji{height:var(--emoji-size);vertical-align:middle}.task-list-item{list-style:none}.task-list-item input{margin-right:0.5em;margin-left:0;vertical-align:0.075em}.markdown-section code[class*="lang-"],.markdown-section pre[data-lang]{font-family:var(--code-font-family);font-size:var(--code-font-size);font-weight:var(--code-font-weight);letter-spacing:normal;line-height:var(--code-block-line-height);-moz-tab-size:var(--code-tab-size);-o-tab-size:var(--code-tab-size);tab-size:var(--code-tab-size);text-align:left;white-space:pre;word-spacing:normal;word-wrap:normal;word-break:normal;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.markdown-section pre[data-lang]{position:relative;overflow:hidden;margin:var(--code-block-margin);padding:0;border-radius:var(--code-block-border-radius)}.markdown-section pre[data-lang]::after{content:attr(data-lang);position:absolute;top:0.75em;right:0.75em;opacity:0.6;color:inherit;font-size:var(--font-size-s);line-height:1}.markdown-section pre[data-lang] code{display:block;overflow:auto;padding:var(--code-block-padding)}code[class*="lang-"],pre[data-lang]{color:var(--code-theme-text)}pre[data-lang]::-moz-selection,pre[data-lang] ::-moz-selection,code[class*="lang-"]::-moz-selection,code[class*="lang-"] ::-moz-selection{background:var(--code-theme-selection, var(--selection-color))}pre[data-lang]::-moz-selection, pre[data-lang] ::-moz-selection, code[class*="lang-"]::-moz-selection, code[class*="lang-"] ::-moz-selection{background:var(--code-theme-selection, var(--selection-color))}pre[data-lang]::selection,pre[data-lang] ::selection,code[class*="lang-"]::selection,code[class*="lang-"] ::selection{background:var(--code-theme-selection, var(--selection-color))}:not(pre)>code[class*="lang-"],pre[data-lang]{background:var(--code-theme-background)}.namespace{opacity:0.7}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:var(--code-theme-comment)}.token.punctuation{color:var(--code-theme-punctuation)}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:var(--code-theme-tag)}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:var(--code-theme-selector)}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:var(--code-theme-operator)}.token.atrule,.token.attr-value,.token.keyword{color:var(--code-theme-keyword)}.token.function{color:var(--code-theme-function)}.token.regex,.token.important,.token.variable{color:var(--code-theme-variable)}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}.markdown-section{position:relative;max-width:var(--content-max-width);margin:0 auto;padding:2rem 45px}.app-nav:not(:empty) ~ main .markdown-section{padding-top:3.5rem}.markdown-section figure,.markdown-section p,.markdown-section ol,.markdown-section ul{margin:1em 0}.markdown-section ol,.markdown-section ul{padding-left:1.5rem}.markdown-section ol ol,.markdown-section ol ul,.markdown-section ul ol,.markdown-section ul ul{margin-top:0.15rem;margin-bottom:0.15rem}.markdown-section a{border-bottom:var(--link-border-bottom);color:var(--link-color);-webkit-text-decoration:var(--link-text-decoration);text-decoration:var(--link-text-decoration);-webkit-text-decoration-color:var(--link-text-decoration-color);text-decoration-color:var(--link-text-decoration-color)}.markdown-section a:hover{border-bottom:var(--link-border-bottom--hover, var(--link-border-bottom, 0));color:var(--link-color--hover, var(--link-color));-webkit-text-decoration:var(--link-text-decoration--hover, var(--link-text-decoration));text-decoration:var(--link-text-decoration--hover, var(--link-text-decoration));-webkit-text-decoration-color:var(--link-text-decoration-color--hover, var(--link-text-decoration-color));text-decoration-color:var(--link-text-decoration-color--hover, var(--link-text-decoration-color))}.markdown-section a.anchor{border-bottom:0;color:inherit;text-decoration:none}.markdown-section a.anchor:hover{text-decoration:underline}.markdown-section blockquote{overflow:visible;margin:2em 0;padding:1.5em;border-width:var(--blockquote-border-width, 0);border-style:var(--blockquote-border-style);border-color:var(--blockquote-border-color);border-radius:var(--blockquote-border-radius);background:var(--blockquote-background);color:var(--blockquote-color);font-family:var(--blockquote-font-family);font-size:var(--blockquote-font-size);font-style:var(--blockquote-font-style);font-weight:var(--blockquote-font-weight);quotes:"â€œ" "â€" "â€˜" "â€™"}.markdown-section blockquote em{font-family:var(--blockquote-em-font-family);font-size:var(--blockquote-em-font-size);font-style:var(--blockquote-em-font-style);font-weight:var(--blockquote-em-font-weight)}.markdown-section blockquote p:first-child{margin-top:0}.markdown-section blockquote p:first-child:before,.markdown-section blockquote p:first-child:after{color:var(--blockquote-quotes-color);font-family:var(--blockquote-quotes-font-family);font-size:var(--blockquote-quotes-font-size);line-height:0}.markdown-section blockquote p:first-child:before{content:var(--blockquote-quotes-open);margin-right:0.15em;vertical-align:-0.45em}.markdown-section blockquote p:first-child:after{content:var(--blockquote-quotes-close);margin-left:0.15em;vertical-align:-0.55em}.markdown-section blockquote p:last-child{margin-bottom:0}.markdown-section code{font-family:var(--code-font-family);font-size:var(--code-font-size);font-weight:var(--code-font-weight);line-height:inherit}.markdown-section code:not([class*="lang-"]):not([class*="language-"]){margin:var(--code-inline-margin);padding:var(--code-inline-padding);border-radius:var(--code-inline-border-radius);background:var(--code-inline-background);color:var(--code-inline-color, currentColor);white-space:nowrap}.markdown-section h1:first-child,.markdown-section h2:first-child,.markdown-section h3:first-child,.markdown-section h4:first-child,.markdown-section h5:first-child,.markdown-section h6:first-child{margin-top:0}.markdown-section h1+h2,.markdown-section h1+h3,.markdown-section h1+h4,.markdown-section h1+h5,.markdown-section h1+h6,.markdown-section h2+h3,.markdown-section h2+h4,.markdown-section h2+h5,.markdown-section h2+h6,.markdown-section h3+h4,.markdown-section h3+h5,.markdown-section h3+h6,.markdown-section h4+h5,.markdown-section h4+h6,.markdown-section h5+h6{margin-top:1rem}.markdown-section h1{margin:var(--heading-h1-margin, var(--heading-margin));padding:var(--heading-h1-padding, var(--heading-padding));border-width:var(--heading-h1-border-width, 0);border-style:var(--heading-h1-border-style);border-color:var(--heading-h1-border-color);font-family:var(--heading-h1-font-family, var(--heading-font-family));font-size:var(--heading-h1-font-size);font-weight:var(--heading-h1-font-weight, var(--heading-font-weight));line-height:var(--base-line-height);color:var(--heading-h1-color, var(--heading-color))}.markdown-section h2{margin:var(--heading-h2-margin, var(--heading-margin));padding:var(--heading-h2-padding, var(--heading-padding));border-width:var(--heading-h2-border-width, 0);border-style:var(--heading-h2-border-style);border-color:var(--heading-h2-border-color);font-family:var(--heading-h2-font-family, var(--heading-font-family));font-size:var(--heading-h2-font-size);font-weight:var(--heading-h2-font-weight, var(--heading-font-weight));line-height:var(--base-line-height);color:var(--heading-h2-color, var(--heading-color))}.markdown-section h3{margin:var(--heading-h3-margin, var(--heading-margin));padding:var(--heading-h3-padding, var(--heading-padding));border-width:var(--heading-h3-border-width, 0);border-style:var(--heading-h3-border-style);border-color:var(--heading-h3-border-color);font-family:var(--heading-h3-font-family, var(--heading-font-family));font-size:var(--heading-h3-font-size);font-weight:var(--heading-h3-font-weight, var(--heading-font-weight));color:var(--heading-h3-color, var(--heading-color))}.markdown-section h4{margin:var(--heading-h4-margin, var(--heading-margin));padding:var(--heading-h4-padding, var(--heading-padding));border-width:var(--heading-h4-border-width, 0);border-style:var(--heading-h4-border-style);border-color:var(--heading-h4-border-color);font-family:var(--heading-h4-font-family, var(--heading-font-family));font-size:var(--heading-h4-font-size);font-weight:var(--heading-h4-font-weight, var(--heading-font-weight));color:var(--heading-h4-color, var(--heading-color))}.markdown-section h5{margin:var(--heading-h5-margin, var(--heading-margin));padding:var(--heading-h5-padding, var(--heading-padding));border-width:var(--heading-h5-border-width, 0);border-style:var(--heading-h5-border-style);border-color:var(--heading-h5-border-color);font-family:var(--heading-h5-font-family, var(--heading-font-family));font-size:var(--heading-h5-font-size);font-weight:var(--heading-h5-font-weight, var(--heading-font-weight));color:var(--heading-h5-color, var(--heading-color))}.markdown-section h6{margin:var(--heading-h6-margin, var(--heading-margin));padding:var(--heading-h6-padding, var(--heading-padding));border-width:var(--heading-h6-border-width, 0);border-style:var(--heading-h6-border-style);border-color:var(--heading-h6-border-color);font-family:var(--heading-h6-font-family, var(--heading-font-family));font-size:var(--heading-h6-font-size);font-weight:var(--heading-h6-font-weight, var(--heading-font-weight));color:var(--heading-h6-color, var(--heading-color))}.markdown-section iframe{margin:1em 0}.markdown-section img{max-width:100%}.markdown-section kbd{display:inline-block;min-width:var(--kbd-min-width);margin:var(--kbd-margin);padding:var(--kbd-padding);border:var(--kbd-border);border-radius:var(--kbd-border-radius);background:var(--kbd-background);font-family:inherit;font-size:var(--kbd-font-size);text-align:center;letter-spacing:0;line-height:1;color:var(--kbd-color)}.markdown-section kbd+kbd{margin-left:-0.15em}.markdown-section table{display:block;overflow:auto;margin:1rem 0;border-spacing:0;border-collapse:collapse}.markdown-section th,.markdown-section td{padding:var(--table-cell-padding)}.markdown-section th:not([align]){text-align:left}.markdown-section thead{border-color:var(--table-head-border-color);border-style:solid;border-width:var(--table-head-border-width, 0);background:var(--table-head-background)}.markdown-section th{font-weight:var(--table-head-font-weight);color:var(--strong-color)}.markdown-section td{border-color:var(--table-cell-border-color);border-style:solid;border-width:var(--table-cell-border-width, 0)}.markdown-section tbody{border-color:var(--table-body-border-color);border-style:solid;border-width:var(--table-body-border-width, 0)}.markdown-section tbody tr:nth-child(odd){background:var(--table-row-odd-background)}.markdown-section tbody tr:nth-child(even){background:var(--table-row-even-background)}.markdown-section>ul .task-list-item{margin-left:-1.25em}.markdown-section>ul .task-list-item .task-list-item{margin-left:0}.markdown-section .table-wrapper{overflow-x:auto}.markdown-section .table-wrapper table{display:table;width:100%}.markdown-section .table-wrapper td::before{display:none}@media (max-width: 30em){.markdown-section .table-wrapper tbody,.markdown-section .table-wrapper tr,.markdown-section .table-wrapper td{display:block}.markdown-section .table-wrapper th,.markdown-section .table-wrapper td{border:none}.markdown-section .table-wrapper thead{display:none}.markdown-section .table-wrapper tr{border-color:var(--table-cell-border-color);border-style:solid;border-width:var(--table-cell-border-width, 0);padding:var(--table-cell-padding)}.markdown-section .table-wrapper tr:not(:last-child){border-bottom:0}.markdown-section .table-wrapper td{padding:0.15em 0 0.15em 8em}.markdown-section .table-wrapper td::before{display:inline-block;float:left;width:8em;margin-left:-8em;font-weight:bold;text-align:left}}.markdown-section .tip,.markdown-section .warn{position:relative;margin:2em 0;padding:var(--notice-padding);border-width:var(--notice-border-width, 0);border-style:var(--notice-border-style);border-color:var(--notice-border-color);border-radius:var(--notice-border-radius);background:var(--notice-background);font-family:var(--notice-font-family);font-weight:var(--notice-font-weight);color:var(--notice-color)}.markdown-section .tip:before,.markdown-section .warn:before{display:inline-block;position:var(--notice-before-position, relative);top:var(--notice-before-top);left:var(--notice-before-left);height:var(--notice-before-height);width:var(--notice-before-width);margin:var(--notice-before-margin);padding:var(--notice-before-padding);border-radius:var(--notice-before-border-radius);line-height:var(--notice-before-line-height);font-family:var(--notice-before-font-family);font-size:var(--notice-before-font-size);font-weight:var(--notice-before-font-weight);text-align:center}.markdown-section .tip{border-width:var(--notice-important-border-width, var(--notice-border-width, 0));border-style:var(--notice-important-border-style, var(--notice-border-style));border-color:var(--notice-important-border-color, var(--notice-border-color));background:var(--notice-important-background, var(--notice-background));color:var(--notice-important-color, var(--notice-color))}.markdown-section .tip:before{content:var(--notice-important-before-content, var(--notice-before-content));background:var(--notice-important-before-background, var(--notice-before-background));color:var(--notice-important-before-color, var(--notice-before-color))}.markdown-section .warn{border-width:var(--notice-tip-border-width, var(--notice-border-width, 0));border-style:var(--notice-tip-border-style, var(--notice-border-style));border-color:var(--notice-tip-border-color, var(--notice-border-color));background:var(--notice-tip-background, var(--notice-background));color:var(--notice-tip-color, var(--notice-color))}.markdown-section .warn:before{content:var(--notice-tip-before-content, var(--notice-before-content));background:var(--notice-tip-before-background, var(--notice-before-background));color:var(--notice-tip-before-color, var(--notice-before-color))}.cover{display:none;position:relative;z-index:20;min-height:100vh;flex-direction:column;align-items:center;justify-content:center;padding:calc(var(--cover-border-inset, 0px) + var(--cover-border-width, 0px));color:var(--cover-color);text-align:var(--cover-text-align)}@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none){.cover{height:100vh}}.cover:before,.cover:after{content:'';position:absolute}.cover:before{top:0;bottom:0;left:0;right:0;background-blend-mode:var(--cover-background-blend-mode);background-color:var(--cover-background-color);background-image:var(--cover-background-image);background-position:var(--cover-background-position);background-repeat:var(--cover-background-repeat);background-size:var(--cover-background-size)}.cover:after{top:var(--cover-border-inset, 0);bottom:var(--cover-border-inset, 0);left:var(--cover-border-inset, 0);right:var(--cover-border-inset, 0);border-width:var(--cover-border-width, 0);border-style:solid;border-color:var(--cover-border-color)}.cover a{border-bottom:var(--cover-link-border-bottom);color:var(--cover-link-color);-webkit-text-decoration:var(--cover-link-text-decoration);text-decoration:var(--cover-link-text-decoration);-webkit-text-decoration-color:var(--cover-link-text-decoration-color);text-decoration-color:var(--cover-link-text-decoration-color)}.cover a:hover{border-bottom:var(--cover-link-border-bottom--hover, var(--cover-link-border-bottom));color:var(--cover-link-color--hover, var(--cover-link-color));-webkit-text-decoration:var(--cover-link-text-decoration--hover, var(--cover-link-text-decoration));text-decoration:var(--cover-link-text-decoration--hover, var(--cover-link-text-decoration));-webkit-text-decoration-color:var(--cover-link-text-decoration-color--hover, var(--cover-link-text-decoration-color));text-decoration-color:var(--cover-link-text-decoration-color--hover, var(--cover-link-text-decoration-color))}.cover h1{color:var(--cover-heading-color);position:relative;margin:0;font-size:var(--cover-heading-font-size);font-weight:var(--cover-heading-font-weight);line-height:1.2}.cover h1 a,.cover h1 a:hover{display:block;border-bottom:none;color:inherit;text-decoration:none}.cover h1 small{position:absolute;bottom:0;margin-left:0.5em}.cover h1 span{font-size:calc(var(--cover-heading-font-size-min) * 1px)}@media (min-width: 26em){.cover h1 span{font-size:calc((var(--cover-heading-font-size-min) * 1px) + (var(--cover-heading-font-size-max) - var(--cover-heading-font-size-min)) * ((100vw - 420px) / (1024 - 420)))}}@media (min-width: 64em){.cover h1 span{font-size:calc(var(--cover-heading-font-size-max) * 1px)}}.cover blockquote{margin:0;color:var(--cover-blockquote-color);font-size:var(--cover-blockquote-font-size)}.cover blockquote a{color:inherit}.cover ul{padding:0;list-style-type:none}.cover .cover-main{position:relative;z-index:1;max-width:var(--cover-max-width);margin:var(--cover-margin);padding:0 45px}.cover .cover-main>p:last-child{margin:1.25em -.25em}.cover .cover-main>p:last-child a{display:block;margin:.375em .25em;padding:var(--cover-button-padding);border:var(--cover-button-border);border-radius:var(--cover-button-border-radius);box-shadow:var(--cover-button-box-shadow);background:var(--cover-button-background);text-align:center;-webkit-text-decoration:var(--cover-button-text-decoration);text-decoration:var(--cover-button-text-decoration);-webkit-text-decoration-color:var(--cover-button-text-decoration-color);text-decoration-color:var(--cover-button-text-decoration-color);color:var(--cover-button-color);white-space:nowrap;transition:var(--cover-button-transition)}.cover .cover-main>p:last-child a:hover{border:var(--cover-button-border--hover, var(--cover-button-border));box-shadow:var(--cover-button-box-shadow--hover, var(--cover-button-box-shadow));background:var(--cover-button-background--hover, var(--cover-button-background));-webkit-text-decoration:var(--cover-button-text-decoration--hover, var(--cover-button-text-decoration));text-decoration:var(--cover-button-text-decoration--hover, var(--cover-button-text-decoration));-webkit-text-decoration-color:var(--cover-button-text-decoration-color--hover, var(--cover-button-text-decoration-color));text-decoration-color:var(--cover-button-text-decoration-color--hover, var(--cover-button-text-decoration-color));color:var(--cover-button-color--hover, var(--cover-button-color))}.cover .cover-main>p:last-child a:first-child{border:var(--cover-button-primary-border, var(--cover-button-border));box-shadow:var(--cover-button-primary-box-shadow, var(--cover-button-box-shadow));background:var(--cover-button-primary-background, var(--cover-button-background));-webkit-text-decoration:var(--cover-button-primary-text-decoration, var(--cover-button-text-decoration));text-decoration:var(--cover-button-primary-text-decoration, var(--cover-button-text-decoration));-webkit-text-decoration-color:var(--cover-button-primary-text-decoration-color, var(--cover-button-text-decoration-color));text-decoration-color:var(--cover-button-primary-text-decoration-color, var(--cover-button-text-decoration-color));color:var(--cover-button-primary-color, var(--cover-button-color))}.cover .cover-main>p:last-child a:first-child:hover{border:var(--cover-button-primary-border--hover, var(--cover-button-border--hover, var(--cover-button-primary-border, var(--cover-button-border))));box-shadow:var(--cover-button-primary-box-shadow--hover, var(--cover-button-box-shadow--hover, var(--cover-button-primary-box-shadow, var(--cover-button-box-shadow))));background:var(--cover-button-primary-background--hover, var(--cover-button-background--hover, var(--cover-button-primary-background, var(--cover-button-background))));-webkit-text-decoration:var(--cover-button-primary-text-decoration--hover, var(--cover-button-text-decoration--hover, var(--cover-button-primary-text-decoration, var(--cover-button-text-decoration))));text-decoration:var(--cover-button-primary-text-decoration--hover, var(--cover-button-text-decoration--hover, var(--cover-button-primary-text-decoration, var(--cover-button-text-decoration))));-webkit-text-decoration-color:var(--cover-button-primary-text-decoration-color--hover, var(--cover-button-text-decoration-color--hover, var(--cover-button-primary-text-decoration-color, var(--cover-button-text-decoration-color))));text-decoration-color:var(--cover-button-primary-text-decoration-color--hover, var(--cover-button-text-decoration-color--hover, var(--cover-button-primary-text-decoration-color, var(--cover-button-text-decoration-color))));color:var(--cover-button-primary-color--hover, var(--cover-button-color--hover, var(--cover-button-primary-color, var(--cover-button-color))))}@media (min-width: 30.01em){.cover .cover-main>p:last-child a{display:inline-block}}.cover .mask{visibility:var(--cover-background-mask-visibility, hidden);position:absolute;top:0;bottom:0;left:0;right:0;background-color:var(--cover-background-mask-color);opacity:var(--cover-background-mask-opacity)}.cover.has-mask .mask{visibility:visible}.cover.show{display:flex}.app-nav{position:absolute;z-index:30;top:calc(35px - (0.5em * var(--base-line-height)));left:45px;right:80px;text-align:right}.app-nav.no-badge{right:45px}.app-nav li>img,.app-nav li>a>img{margin-top:-0.25em;vertical-align:middle}.app-nav li>img:first-child,.app-nav li>a>img:first-child{margin-right:0.5em}.app-nav ul,.app-nav li{margin:0;padding:0;list-style:none}.app-nav li{position:relative}.app-nav li a{display:block;line-height:1;transition:var(--navbar-root-transition)}.app-nav>ul>li{display:inline-block;margin:var(--navbar-root-margin)}.app-nav>ul>li:first-child{margin-left:0}.app-nav>ul>li:last-child{margin-right:0}.app-nav>ul>li>a,.app-nav>ul>li>span{padding:var(--navbar-root-padding);border-width:var(--navbar-root-border-width, 0);border-style:var(--navbar-root-border-style);border-color:var(--navbar-root-border-color);border-radius:var(--navbar-root-border-radius);background:var(--navbar-root-background);color:var(--navbar-root-color);-webkit-text-decoration:var(--navbar-root-text-decoration);text-decoration:var(--navbar-root-text-decoration);-webkit-text-decoration-color:var(--navbar-root-text-decoration-color);text-decoration-color:var(--navbar-root-text-decoration-color)}.app-nav>ul>li>a:hover,.app-nav>ul>li>span:hover{background:var(--navbar-root-background--hover, var(--navbar-root-background));border-style:var(--navbar-root-border-style--hover, var(--navbar-root-border-style));border-color:var(--navbar-root-border-color--hover, var(--navbar-root-border-color));color:var(--navbar-root-color--hover, var(--navbar-root-color));-webkit-text-decoration:var(--navbar-root-text-decoration--hover, var(--navbar-root-text-decoration));text-decoration:var(--navbar-root-text-decoration--hover, var(--navbar-root-text-decoration));-webkit-text-decoration-color:var(--navbar-root-text-decoration-color--hover, var(--navbar-root-text-decoration-color));text-decoration-color:var(--navbar-root-text-decoration-color--hover, var(--navbar-root-text-decoration-color))}.app-nav>ul>li>a:not(:last-child),.app-nav>ul>li>span:not(:last-child){padding:var(--navbar-menu-root-padding, var(--navbar-root-padding));background:var(--navbar-menu-root-background, var(--navbar-root-background))}.app-nav>ul>li>a:not(:last-child):hover,.app-nav>ul>li>span:not(:last-child):hover{background:var(--navbar-menu-root-background--hover, var(--navbar-menu-root-background, var(--navbar-root-background--hover, var(--navbar-root-background))))}.app-nav>ul>li>a.active{background:var(--navbar-root-background--active, var(--navbar-root-background));border-style:var(--navbar-root-border-style--active, var(--navbar-root-border-style));border-color:var(--navbar-root-border-color--active, var(--navbar-root-border-color));color:var(--navbar-root-color--active, var(--navbar-root-color));-webkit-text-decoration:var(--navbar-root-text-decoration--active, var(--navbar-root-text-decoration));text-decoration:var(--navbar-root-text-decoration--active, var(--navbar-root-text-decoration));-webkit-text-decoration-color:var(--navbar-root-text-decoration-color--active, var(--navbar-root-text-decoration-color));text-decoration-color:var(--navbar-root-text-decoration-color--active, var(--navbar-root-text-decoration-color))}.app-nav>ul>li>a.active:not(:last-child):hover{background:var(--navbar-menu-root-background--active, var(--navbar-menu-root-background, var(--navbar-root-background--active, var(--navbar-root-background))))}.app-nav>ul>li ul{visibility:hidden;position:absolute;top:100%;right:50%;overflow-y:auto;box-sizing:border-box;max-height:calc(50vh);padding:var(--navbar-menu-padding);border-width:var(--navbar-menu-border-width, 0);border-style:solid;border-color:var(--navbar-menu-border-color);border-radius:var(--navbar-menu-border-radius);background:var(--navbar-menu-background);box-shadow:var(--navbar-menu-box-shadow);text-align:left;white-space:nowrap;opacity:0;transform:translate(50%, -0.35em);transition:var(--navbar-menu-transition)}.app-nav>ul>li ul li{white-space:nowrap}.app-nav>ul>li ul a{margin:var(--navbar-menu-link-margin);padding:var(--navbar-menu-link-padding);border-width:var(--navbar-menu-link-border-width, 0);border-style:var(--navbar-menu-link-border-style);border-color:var(--navbar-menu-link-border-color);border-radius:var(--navbar-menu-link-border-radius);background:var(--navbar-menu-link-background);color:var(--navbar-menu-link-color);-webkit-text-decoration:var(--navbar-menu-link-text-decoration);text-decoration:var(--navbar-menu-link-text-decoration);-webkit-text-decoration-color:var(--navbar-menu-link-text-decoration-color);text-decoration-color:var(--navbar-menu-link-text-decoration-color)}.app-nav>ul>li ul a:hover{background:var(--navbar-menu-link-background--hover, var(--navbar-menu-link-background));border-style:var(--navbar-menu-link-border-style--hover, var(--navbar-menu-link-border-style));border-color:var(--navbar-menu-link-border-color--hover, var(--navbar-menu-link-border-color));color:var(--navbar-menu-link-color--hover, var(--navbar-menu-link-color));-webkit-text-decoration:var(--navbar-menu-link-text-decoration--hover, var(--navbar-menu-link-text-decoration));text-decoration:var(--navbar-menu-link-text-decoration--hover, var(--navbar-menu-link-text-decoration));-webkit-text-decoration-color:var(--navbar-menu-link-text-decoration-color--hover, var(--navbar-menu-link-text-decoration-color));text-decoration-color:var(--navbar-menu-link-text-decoration-color--hover, var(--navbar-menu-link-text-decoration-color))}.app-nav>ul>li ul a.active{background:var(--navbar-menu-link-background--active, var(--navbar-menu-link-background));border-style:var(--navbar-menu-link-border-style--active, var(--navbar-menu-link-border-style));border-color:var(--navbar-menu-link-border-color--active, var(--navbar-menu-link-border-color));color:var(--navbar-menu-link-color--active, var(--navbar-menu-link-color));-webkit-text-decoration:var(--navbar-menu-link-text-decoration--active, var(--navbar-menu-link-text-decoration));text-decoration:var(--navbar-menu-link-text-decoration--active, var(--navbar-menu-link-text-decoration));-webkit-text-decoration-color:var(--navbar-menu-link-text-decoration-color--active, var(--navbar-menu-link-text-decoration-color));text-decoration-color:var(--navbar-menu-link-text-decoration-color--active, var(--navbar-menu-link-text-decoration-color))}.app-nav>ul>li:hover ul,.app-nav>ul>li:focus ul,.app-nav>ul>li.focus-within ul{visibility:visible;opacity:1;transform:translate(50%, 0)}.sidebar,.sidebar-toggle,main>.content{transition:all var(--sidebar-transition-duration) ease-out}@media (min-width: 48em){nav.app-nav{margin-left:var(--sidebar-width)}}main{position:relative;overflow-x:hidden;min-height:100vh}@media (min-width: 48em){main>.content{margin-left:var(--sidebar-width)}}.sidebar{display:flex;flex-direction:column;position:fixed;z-index:10;top:0;right:100%;overflow-x:hidden;overflow-y:auto;height:100vh;width:var(--sidebar-width);padding:var(--sidebar-padding);border-width:var(--sidebar-border-width);border-style:solid;border-color:var(--sidebar-border-color);background:var(--sidebar-background)}.sidebar>h1{margin:0;margin:var(--sidebar-name-margin);padding:var(--sidebar-name-padding);background:var(--sidebar-name-background);color:var(--sidebar-name-color);font-family:var(--sidebar-name-font-family);font-size:var(--sidebar-name-font-size);font-weight:var(--sidebar-name-font-weight);text-align:var(--sidebar-name-text-align)}.sidebar>h1 img{max-width:100%}.sidebar>h1 .app-name-link{color:var(--sidebar-name-color)}body:not([data-platform^="Mac"]) .sidebar::-webkit-scrollbar{width:5px}body:not([data-platform^="Mac"]) .sidebar::-webkit-scrollbar-thumb{border-radius:50vw}@media (min-width: 48em){.sidebar{position:absolute;transform:translateX(var(--sidebar-width))}}@media print{.sidebar{display:none}}.sidebar-nav,.sidebar nav{order:1;margin:var(--sidebar-nav-margin);padding:var(--sidebar-nav-padding);background:var(--sidebar-nav-background)}.sidebar-nav ul,.sidebar nav ul{margin:0;padding:0;list-style:none}.sidebar-nav ul ul,.sidebar nav ul ul{margin-left:var(--sidebar-nav-indent)}.sidebar-nav a,.sidebar nav a{display:block;overflow:hidden;margin:var(--sidebar-nav-link-margin);padding:var(--sidebar-nav-link-padding);border-width:var(--sidebar-nav-link-border-width, 0);border-style:var(--sidebar-nav-link-border-style);border-color:var(--sidebar-nav-link-border-color);border-radius:var(--sidebar-nav-link-border-radius);background-color:var(--sidebar-nav-link-background-color);background-image:var(--sidebar-nav-link-background-image);background-position:var(--sidebar-nav-link-background-position);background-repeat:var(--sidebar-nav-link-background-repeat);background-size:var(--sidebar-nav-link-background-size);color:var(--sidebar-nav-link-color);font-weight:var(--sidebar-nav-link-font-weight);white-space:nowrap;-webkit-text-decoration:var(--sidebar-nav-link-text-decoration);text-decoration:var(--sidebar-nav-link-text-decoration);-webkit-text-decoration-color:var(--sidebar-nav-link-text-decoration-color);text-decoration-color:var(--sidebar-nav-link-text-decoration-color);text-overflow:ellipsis;transition:var(--sidebar-nav-link-transition)}.sidebar-nav a img,.sidebar nav a img{margin-top:-0.25em;vertical-align:middle}.sidebar-nav a img:first-child,.sidebar nav a img:first-child{margin-right:0.5em}.sidebar-nav a:hover,.sidebar nav a:hover{border-width:var(--sidebar-nav-link-border-width--hover, var(--sidebar-nav-link-border-width, 0));border-style:var(--sidebar-nav-link-border-style--hover, var(--sidebar-nav-link-border-style));border-color:var(--sidebar-nav-link-border-color--hover, var(--sidebar-nav-link-border-color));background-color:var(--sidebar-nav-link-background-color--hover, var(--sidebar-nav-link-background-color));background-image:var(--sidebar-nav-link-background-image--hover, var(--sidebar-nav-link-background-image));background-position:var(--sidebar-nav-link-background-position--hover, var(--sidebar-nav-link-background-position));background-size:var(--sidebar-nav-link-background-size--hover, var(--sidebar-nav-link-background-size));color:var(--sidebar-nav-link-color--hover, var(--sidebar-nav-link-color));font-weight:var(--sidebar-nav-link-font-weight--hover, var(--sidebar-nav-link-font-weight));-webkit-text-decoration:var(--sidebar-nav-link-text-decoration--hover, var(--sidebar-nav-link-text-decoration));text-decoration:var(--sidebar-nav-link-text-decoration--hover, var(--sidebar-nav-link-text-decoration));-webkit-text-decoration-color:var(--sidebar-nav-link-text-decoration-color);text-decoration-color:var(--sidebar-nav-link-text-decoration-color)}.sidebar-nav ul>li>span,.sidebar-nav ul>li>strong,.sidebar nav ul>li>span,.sidebar nav ul>li>strong{display:block;margin:var(--sidebar-nav-strong-margin);padding:var(--sidebar-nav-strong-padding);border-width:var(--sidebar-nav-strong-border-width, 0);border-style:solid;border-color:var(--sidebar-nav-strong-border-color);color:var(--sidebar-nav-strong-color);font-size:var(--sidebar-nav-strong-font-size);font-weight:var(--sidebar-nav-strong-font-weight);text-transform:var(--sidebar-nav-strong-text-transform)}.sidebar-nav ul>li>span+ul,.sidebar-nav ul>li>strong+ul,.sidebar nav ul>li>span+ul,.sidebar nav ul>li>strong+ul{margin-left:0}.sidebar-nav ul>li:first-child>span,.sidebar-nav ul>li:first-child>strong,.sidebar nav ul>li:first-child>span,.sidebar nav ul>li:first-child>strong{margin-top:0}.sidebar-nav::-webkit-scrollbar,.sidebar nav::-webkit-scrollbar{width:0}@supports (width: env(safe-area-inset)){@media only screen and (orientation: landscape){.sidebar-nav,.sidebar nav{margin-left:calc(env(safe-area-inset-left) / 2)}}}.sidebar-nav li>a:before,.sidebar-nav li>strong:before{display:inline-block}.sidebar-nav li>a{background-repeat:var(--sidebar-nav-pagelink-background-repeat);background-size:var(--sidebar-nav-pagelink-background-size)}.sidebar-nav li>a[href^="#/"]:not([href*="?id="]){transition:var(--sidebar-nav-pagelink-transition)}.sidebar-nav li>a[href^="#/"]:not([href*="?id="]),.sidebar-nav li>a[href^="#/"]:not([href*="?id="]) ~ ul a{padding:var(--sidebar-nav-pagelink-padding, var(--sidebar-nav-link-padding))}.sidebar-nav li>a[href^="#/"]:not([href*="?id="]):only-child{background-image:var(--sidebar-nav-pagelink-background-image);background-position:var(--sidebar-nav-pagelink-background-position)}.sidebar-nav li>a[href^="#/"]:not([href*="?id="]):not(:only-child){background-image:var(--sidebar-nav-pagelink-background-image--loaded, var(--sidebar-nav-pagelink-background-image));background-position:var(--sidebar-nav-pagelink-background-position--loaded, var(--sidebar-nav-pagelink-background-image))}.sidebar-nav li.active>a,.sidebar-nav li.collapse>a{border-width:var(--sidebar-nav-link-border-width--active, var(--sidebar-nav-link-border-width));border-style:var(--sidebar-nav-link-border-style--active, var(--sidebar-nav-link-border-style));border-color:var(--sidebar-nav-link-border-color--active, var(--sidebar-nav-link-border-color));background-color:var(--sidebar-nav-link-background-color--active, var(--sidebar-nav-link-background-color));background-image:var(--sidebar-nav-link-background-image--active, var(--sidebar-nav-link-background-image));background-position:var(--sidebar-nav-link-background-position--active, var(--sidebar-nav-link-background-position));background-size:var(--sidebar-nav-link-background-size--active, var(--sidebar-nav-link-background-size));color:var(--sidebar-nav-link-color--active, var(--sidebar-nav-link-color));font-weight:var(--sidebar-nav-link-font-weight--active, var(--sidebar-nav-link-font-weight));-webkit-text-decoration:var(--sidebar-nav-link-text-decoration--active, var(--sidebar-nav-link-text-decoration));text-decoration:var(--sidebar-nav-link-text-decoration--active, var(--sidebar-nav-link-text-decoration));-webkit-text-decoration-color:var(--sidebar-nav-link-text-decoration-color);text-decoration-color:var(--sidebar-nav-link-text-decoration-color)}.sidebar-nav li.active>a[href^="#/"]:not([href*="?id="]):not(:only-child){background-image:var(--sidebar-nav-pagelink-background-image--active, var(--sidebar-nav-pagelink-background-image--loaded, var(--sidebar-nav-pagelink-background-image)));background-position:var(--sidebar-nav-pagelink-background-position--active, var(--sidebar-nav-pagelink-background-position--loaded, var(--sidebar-nav-pagelink-background-image)))}.sidebar-nav li.collapse>a[href^="#/"]:not([href*="?id="]):not(:only-child){background-image:var(--sidebar-nav-pagelink-background-image--collapse, var(--sidebar-nav-pagelink-background-image--loaded, var(--sidebar-nav-pagelink-background-image)));background-position:var(--sidebar-nav-pagelink-background-position--collapse, var(--sidebar-nav-pagelink-background-position--loaded, var(--sidebar-nav-pagelink-background-image)))}.sidebar-nav li.collapse .app-sub-sidebar{display:none}.sidebar-nav>ul>li>a:before{content:var(--sidebar-nav-link-before-content-l1, var(--sidebar-nav-link-before-content));margin:var(--sidebar-nav-link-before-margin-l1, var(--sidebar-nav-link-before-margin));color:var(--sidebar-nav-link-before-color-l1, var(--sidebar-nav-link-before-color))}.sidebar-nav>ul>li.active>a:before{content:var(--sidebar-nav-link-before-content-l1--active, var(--sidebar-nav-link-before-content--active, var(--sidebar-nav-link-before-content-l1, var(--sidebar-nav-link-before-content))));color:var(--sidebar-nav-link-before-color-l1--active, var(--sidebar-nav-link-before-color--active, var(--sidebar-nav-link-before-color-l1, var(--sidebar-nav-link-before-color))))}.sidebar-nav>ul>li>ul>li>a:before{content:var(--sidebar-nav-link-before-content-l2, var(--sidebar-nav-link-before-content));margin:var(--sidebar-nav-link-before-margin-l2, var(--sidebar-nav-link-before-margin));color:var(--sidebar-nav-link-before-color-l2, var(--sidebar-nav-link-before-color))}.sidebar-nav>ul>li>ul>li.active>a:before{content:var(--sidebar-nav-link-before-content-l2--active, var(--sidebar-nav-link-before-content--active, var(--sidebar-nav-link-before-content-l2, var(--sidebar-nav-link-before-content))));color:var(--sidebar-nav-link-before-color-l2--active, var(--sidebar-nav-link-before-color--active, var(--sidebar-nav-link-before-color-l2, var(--sidebar-nav-link-before-color))))}.sidebar-nav>ul>li>ul>li>ul>li>a:before{content:var(--sidebar-nav-link-before-content-l3, var(--sidebar-nav-link-before-content));margin:var(--sidebar-nav-link-before-margin-l3, var(--sidebar-nav-link-before-margin));color:var(--sidebar-nav-link-before-color-l3, var(--sidebar-nav-link-before-color))}.sidebar-nav>ul>li>ul>li>ul>li.active>a:before{content:var(--sidebar-nav-link-before-content-l3--active, var(--sidebar-nav-link-before-content--active, var(--sidebar-nav-link-before-content-l3, var(--sidebar-nav-link-before-content))));color:var(--sidebar-nav-link-before-color-l3--active, var(--sidebar-nav-link-before-color--active, var(--sidebar-nav-link-before-color-l3, var(--sidebar-nav-link-before-color))))}.sidebar-nav>ul>li>ul>li>ul>li>ul>li>a:before{content:var(--sidebar-nav-link-before-content-l4, var(--sidebar-nav-link-before-content));margin:var(--sidebar-nav-link-before-margin-l4, var(--sidebar-nav-link-before-margin));color:var(--sidebar-nav-link-before-color-l4, var(--sidebar-nav-link-before-color))}.sidebar-nav>ul>li>ul>li>ul>li>ul>li.active>a:before{content:var(--sidebar-nav-link-before-content-l4--active, var(--sidebar-nav-link-before-content--active, var(--sidebar-nav-link-before-content-l4, var(--sidebar-nav-link-before-content))));color:var(--sidebar-nav-link-before-color-l4--active, var(--sidebar-nav-link-before-color--active, var(--sidebar-nav-link-before-color-l4, var(--sidebar-nav-link-before-color))))}.sidebar-nav>:last-child{margin-bottom:2rem}.sidebar-toggle,.sidebar-toggle-button{width:var(--sidebar-toggle-width);outline:none}.sidebar-toggle{position:fixed;z-index:11;top:0;bottom:0;left:0;max-width:40px;margin:0;padding:0;border:0;background:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}.sidebar-toggle .sidebar-toggle-button{position:absolute;top:var(--sidebar-toggle-offset-top);left:var(--sidebar-toggle-offset-left);height:var(--sidebar-toggle-height);border-radius:var(--sidebar-toggle-border-radius);border-width:var(--sidebar-toggle-border-width);border-style:var(--sidebar-toggle-border-style);border-color:var(--sidebar-toggle-border-color);background:var(--sidebar-toggle-background, transparent);color:var(--sidebar-toggle-icon-color)}.sidebar-toggle span{position:absolute;top:calc(50% - (var(--sidebar-toggle-icon-stroke-width) / 2));left:calc(50% - (var(--sidebar-toggle-icon-width) / 2));height:var(--sidebar-toggle-icon-stroke-width);width:var(--sidebar-toggle-icon-width);background-color:currentColor}.sidebar-toggle span:nth-child(1){margin-top:calc(0px - (var(--sidebar-toggle-icon-height) / 2))}.sidebar-toggle span:nth-child(3){margin-top:calc((var(--sidebar-toggle-icon-height) / 2))}@media (min-width: 48em){.sidebar-toggle{position:absolute;overflow:visible;top:var(--sidebar-toggle-offset-top);bottom:auto;left:0;height:var(--sidebar-toggle-height);transform:translateX(var(--sidebar-width))}.sidebar-toggle .sidebar-toggle-button{top:0}}@media print{.sidebar-toggle{display:none}}@media (max-width: 47.99em){body.close .sidebar,body.close .sidebar-toggle,body.close main>.content{transform:translateX(var(--sidebar-width))}}@media (min-width: 48em){body.close main>.content{transform:translateX(0)}}@media (max-width: 47.99em){body.close nav.app-nav,body.close .github-corner{display:none}}@media (min-width: 48em){body.close .sidebar,body.close .sidebar-toggle{transform:translateX(0)}}@media (min-width: 48em){body.close nav.app-nav{margin-left:0}}@media (max-width: 47.99em){body.close .sidebar-toggle{width:100%;max-width:none}body.close .sidebar-toggle span{margin-top:0}body.close .sidebar-toggle span:nth-child(1){transform:rotate(45deg)}body.close .sidebar-toggle span:nth-child(2){display:none}body.close .sidebar-toggle span:nth-child(3){transform:rotate(-45deg)}}@media (min-width: 48em){body.close main>.content{margin-left:0}}@media (min-width: 48em){body.sticky .sidebar,body.sticky .sidebar-toggle{position:fixed}}body .docsify-copy-code-button,body .docsify-copy-code-button:after{border-radius:var(--border-radius-m, 0);border-top-left-radius:0;border-bottom-right-radius:0;background:var(--copycode-background);color:var(--copycode-color)}body .docsify-copy-code-button span{border-radius:var(--border-radius-s, 0)}body .docsify-pagination-container{border-top:var(--pagination-border-top);color:var(--pagination-color)}body .pagination-item-label{font-size:var(--pagination-label-font-size)}body .pagination-item-label svg{color:var(--pagination-label-color);height:var(--pagination-chevron-height);stroke:var(--pagination-chevron-stroke);stroke-linecap:var(--pagination-chevron-stroke-linecap);stroke-linejoin:var(--pagination-chevron-stroke-linecap);stroke-width:var(--pagination-chevron-stroke-width)}body .pagination-item-title{color:var(--pagination-title-color);font-size:var(--pagination-title-font-size)}body .app-name.hide{display:block}body .sidebar{padding:var(--sidebar-padding)}.sidebar .search{margin:0;padding:0;border:0}.sidebar .search input{padding:0;line-height:1;font-size:inherit}.sidebar .search .clear-button{width:auto}.sidebar .search .clear-button svg{transform:scale(1)}.sidebar .search .matching-post{border:none}.sidebar .search p{font-size:inherit}.sidebar .search{order:var(--search-flex-order);margin:var(--search-margin);padding:var(--search-padding);background:var(--search-background)}.sidebar .search a{color:inherit}.sidebar .search h2{margin:var(--search-result-heading-margin);font-size:var(--search-result-heading-font-size);font-weight:var(--search-result-heading-font-weight);color:var(--search-result-heading-color)}.sidebar .search .input-wrap{margin:var(--search-input-margin);background-color:var(--search-input-background-color);border-width:var(--search-input-border-width, 0);border-style:solid;border-color:var(--search-input-border-color);border-radius:var(--search-input-border-radius)}.sidebar .search input[type="search"]{min-width:0;padding:var(--search-input-padding);border:none;background-color:transparent;background-image:var(--search-input-background-image);background-position:var(--search-input-background-position);background-repeat:var(--search-input-background-repeat);background-size:var(--search-input-background-size);font-size:var(--search-input-font-size);color:var(--search-input-color);transition:var(--search-input-transition)}.sidebar .search input[type="search"]::-ms-clear{display:none}.sidebar .search input[type="search"]::-webkit-input-placeholder{color:var(--search-input-placeholder-color, gray)}.sidebar .search input[type="search"]::-moz-placeholder{color:var(--search-input-placeholder-color, gray)}.sidebar .search input[type="search"]:-ms-input-placeholder{color:var(--search-input-placeholder-color, gray)}.sidebar .search input[type="search"]::placeholder{color:var(--search-input-placeholder-color, gray)}.sidebar .search input[type="search"]::-webkit-input-placeholder{line-height:normal}.sidebar .search input[type="search"]:focus{background-color:var(--search-input-background-color--focus, var(--search-input-background-color));background-image:var(--search-input-background-image--focus, var(--search-input-background-image));background-position:var(--search-input-background-position--focus, var(--search-input-background-position));background-size:var(--search-input-background-size--focus, var(--search-input-background-size))}@supports (width: env(safe-area-inset)){@media only screen and (orientation: landscape){.sidebar .search input[type="search"]{margin-left:calc(env(safe-area-inset-left) / 2)}}}.sidebar .search p{overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2}.sidebar .search p:empty{text-align:center}.sidebar .search .clear-button{margin:0 15px 0 0;padding:0;border:none;line-height:1;background:transparent;cursor:pointer}.sidebar .search .clear-button svg circle{fill:var(--search-clear-icon-color1, gray)}.sidebar .search .clear-button svg path{stroke:var(--search-clear-icon-color2, #fff)}.sidebar .search.show ~ *:not(h1){display:none}.sidebar .search .results-panel{display:none;color:var(--search-result-item-color);font-size:var(--search-result-item-font-size);font-weight:var(--search-result-item-font-weight)}.sidebar .search .results-panel.show{display:block}.sidebar .search .matching-post{margin:var(--search-result-item-margin);padding:var(--search-result-item-padding)}.sidebar .search .matching-post,.sidebar .search .matching-post:last-child{border-width:var(--search-result-item-border-width, 0) !important;border-style:var(--search-result-item-border-style);border-color:var(--search-result-item-border-color)}.sidebar .search .matching-post p{margin:0}.sidebar .search .search-keyword{margin:var(--search-result-keyword-margin);padding:var(--search-result-keyword-padding);border-radius:var(--search-result-keyword-border-radius);background-color:var(--search-result-keyword-background);color:var(--search-result-keyword-color, currentColor);font-style:normal;font-weight:var(--search-result-keyword-font-weight)}.medium-zoom-overlay,.medium-zoom-image--open,.medium-zoom-image--opened{z-index:2147483646 !important}.medium-zoom-overlay{background:var(--zoomimage-overlay-background) !important}:root{--mono-hue: 113;--mono-saturation: 0%;--mono-shade3: hsl(var(--mono-hue), var(--mono-saturation), 20%);--mono-shade2: hsl(var(--mono-hue), var(--mono-saturation), 30%);--mono-shade1: hsl(var(--mono-hue), var(--mono-saturation), 40%);--mono-base: hsl(var(--mono-hue), var(--mono-saturation), 50%);--mono-tint1: hsl(var(--mono-hue), var(--mono-saturation), 70%);--mono-tint2: hsl(var(--mono-hue), var(--mono-saturation), 89%);--mono-tint3: hsl(var(--mono-hue), var(--mono-saturation), 97%);--theme-hue: 204;--theme-saturation: 90%;--theme-lightness: 45%;--theme-color: hsl(var(--theme-hue), var(--theme-saturation), var(--theme-lightness));--modular-scale: 1.333;--modular-scale--2: calc(var(--modular-scale--1) / var(--modular-scale));--modular-scale--1: calc(var(--modular-scale-1) / var(--modular-scale));--modular-scale-1: 1rem;--modular-scale-2: calc(var(--modular-scale-1) * var(--modular-scale));--modular-scale-3: calc(var(--modular-scale-2) * var(--modular-scale));--modular-scale-4: calc(var(--modular-scale-3) * var(--modular-scale));--modular-scale-5: calc(var(--modular-scale-4) * var(--modular-scale));--font-size-xxxl: var(--modular-scale-5);--font-size-xxl: var(--modular-scale-4);--font-size-xl: var(--modular-scale-3);--font-size-l: var(--modular-scale-2);--font-size-m: var(--modular-scale-1);--font-size-s: var(--modular-scale--1);--font-size-xs: var(--modular-scale--2);--duration-slow: 1s;--duration-medium: 0.5s;--duration-fast: 0.25s;--spinner-size: 60px;--spinner-track-width: 4px;--spinner-track-color: rgba(0, 0, 0, 0.15);--spinner-transition-duration: var(--duration-medium)}:root{--base-background-color: #fff;--base-color: var(--mono-shade2);--base-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--base-font-size: 16px;--base-font-weight: normal;--base-line-height: 1.7;--emoji-size: calc(var(--base-line-height) * 1em);--hr-border: 1px solid var(--mono-tint2);--mark-background: #ffecb3;--pre-font-family: var(--code-font-family);--pre-font-size: var(--code-font-size);--pre-font-weight: normal;--selection-color: #b4d5fe;--small-font-size: var(--font-size-s);--strong-color: var(--heading-color);--strong-font-weight: 600;--subsup-font-size: var(--font-size-s)}:root{--content-max-width: 55em;--blockquote-background: var(--mono-tint3);--blockquote-border-style: solid;--blockquote-border-radius: var(--border-radius-m);--blockquote-em-font-weight: normal;--blockquote-font-weight: normal;--code-font-family: Inconsolata, Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace;--code-font-size: calc(var(--font-size-m) * 0.95);--code-font-weight: normal;--code-tab-size: 4;--code-block-border-radius: var(--border-radius-m);--code-block-line-height: var(--base-line-height);--code-block-margin: 1em 0;--code-block-padding: 1.75em 1.5em 1.5em 1.5em;--code-inline-background: var(--code-theme-background);--code-inline-border-radius: var(--border-radius-s);--code-inline-color: var(--code-theme-text);--code-inline-margin: 0 0.15em;--code-inline-padding: 0.125em 0.4em;--code-theme-background: var(--mono-tint3);--heading-color: var(--mono-shade3);--heading-margin: 2.5rem 0 0;--heading-h1-border-style: solid;--heading-h1-font-size: var(--font-size-xxl);--heading-h2-border-style: solid;--heading-h2-font-size: var(--font-size-xl);--heading-h3-border-style: solid;--heading-h3-font-size: var(--font-size-l);--heading-h4-border-style: solid;--heading-h4-font-size: var(--font-size-m);--heading-h5-border-style: solid;--heading-h5-font-size: var(--font-size-s);--heading-h6-border-style: solid;--heading-h6-font-size: var(--font-size-xs);--kbd-background: var(--mono-tint3);--kbd-border-radius: var(--border-radius-m);--kbd-margin: 0 0.3em;--kbd-min-width: 2.5em;--kbd-padding: 0.65em 0.5em;--link-text-decoration: underline;--notice-background: var(--mono-tint3);--notice-border-radius: var(--border-radius-m);--notice-border-style: solid;--notice-font-weight: normal;--notice-padding: 1em 1.5em;--notice-before-font-weight: normal;--table-cell-padding: 0.75em 0.5em;--table-head-border-color: var(--table-cell-border-color);--table-head-font-weight: var(--strong-font-weight);--table-row-odd-background: var(--mono-tint3)}:root{--cover-margin: 0 auto;--cover-max-width: 40em;--cover-text-align: center;--cover-background-color: var(--base-background-color);--cover-background-mask-color: var(--base-background-color);--cover-background-mask-opacity: 0.8;--cover-background-position: center center;--cover-background-repeat: no-repeat;--cover-background-size: cover;--cover-blockquote-font-size: var(--font-size-l);--cover-border-color: var(--theme-color);--cover-button-border: 1px solid var(--theme-color);--cover-button-border-radius: var(--border-radius-m);--cover-button-color: var(--theme-color);--cover-button-padding: 0.5em 2rem;--cover-button-text-decoration: none;--cover-button-transition: all var(--duration-fast) ease-in-out;--cover-button-primary-background: var(--theme-color);--cover-button-primary-border: 1px solid var(--theme-color);--cover-button-primary-color: #fff;--cover-heading-color: var(--theme-color);--cover-heading-font-size: var(--font-size-xxl);--cover-heading-font-weight: normal;--cover-link-text-decoration: underline }:root{--navbar-root-border-style: solid;--navbar-root-margin: 0 0 0 1.5em;--navbar-root-transition: all var(--duration-fast);--navbar-menu-background: var(--base-background-color);--navbar-menu-border-radius: var(--border-radius-m);--navbar-menu-box-shadow: rgba(45,45,45,0.05) 0px 0px 1px, rgba(49,49,49,0.05) 0px 1px 2px, rgba(42,42,42,0.05) 0px 2px 4px, rgba(32,32,32,0.05) 0px 4px 8px, rgba(49,49,49,0.05) 0px 8px 16px, rgba(35,35,35,0.05) 0px 16px 32px;--navbar-menu-padding: 0.5em;--navbar-menu-transition: all var(--duration-fast);--navbar-menu-link-border-style: solid;--navbar-menu-link-margin: 0.75em 0.5em;--navbar-menu-link-padding: 0.2em 0 }:root{--copycode-background: #808080;--copycode-color: #fff}:root{--docsifytabs-border-color: var(--mono-tint2);--docsifytabs-border-radius-px: var(--border-radius-s);--docsifytabs-tab-background: var(--mono-tint3);--docsifytabs-tab-color: var(--mono-tint1)}:root{--pagination-border-top: 1px solid var(--mono-tint2);--pagination-chevron-height: 0.8em;--pagination-chevron-stroke: currentColor;--pagination-chevron-stroke-linecap: round;--pagination-chevron-stroke-width: 1px;--pagination-label-font-size: var(--font-size-s);--pagination-title-font-size: var(--font-size-l)}:root{--search-margin: 1.5rem 0 0;--search-input-background-repeat: no-repeat;--search-input-border-color: var(--mono-tint1);--search-input-border-width: 1px;--search-input-padding: 0.5em;--search-flex-order: 1;--search-result-heading-color: var(--heading-color);--search-result-heading-font-size: var(--base-font-size);--search-result-heading-font-weight: normal;--search-result-heading-margin: 0 0 0.25em;--search-result-item-border-color: var(--mono-tint2);--search-result-item-border-style: solid;--search-result-item-border-width: 0 0 1px 0;--search-result-item-font-weight: normal;--search-result-item-padding: 1em 0;--search-result-keyword-background: var(--mark-background);--search-result-keyword-border-radius: var(--border-radius-s);--search-result-keyword-color: var(--mark-color);--search-result-keyword-font-weight: normal;--search-result-keyword-margin: 0 0.1em;--search-result-keyword-padding: 0.2em 0}:root{--zoomimage-overlay-background: rgba(0, 0, 0, 0.875)}:root{--sidebar-background: var(--base-background-color);--sidebar-border-width: 0;--sidebar-padding: 0 25px;--sidebar-transition-duration: var(--duration-fast);--sidebar-width: 17rem;--sidebar-name-font-size: var(--font-size-l);--sidebar-name-font-weight: normal;--sidebar-name-margin: 1.5rem 0 0;--sidebar-name-text-align: center;--sidebar-nav-strong-border-color: var(--sidebar-border-color);--sidebar-nav-strong-color: var(--heading-color);--sidebar-nav-strong-font-weight: var(--strong-font-weight);--sidebar-nav-strong-margin: 1.5em 0 0.5em;--sidebar-nav-strong-padding: 0.25em 0;--sidebar-nav-indent: 1em;--sidebar-nav-margin: 1.5rem 0 0;--sidebar-nav-link-border-style: solid;--sidebar-nav-link-border-width: 0;--sidebar-nav-link-color: var(--base-color);--sidebar-nav-link-font-weight: normal;--sidebar-nav-link-padding: 0.25em 0;--sidebar-nav-link-text-decoration--active: underline;--sidebar-nav-link-text-decoration--hover: underline;--sidebar-nav-link-before-margin: 0 0.35em 0 0;--sidebar-nav-pagelink-background-repeat: no-repeat;--sidebar-nav-pagelink-transition: var(--sidebar-nav-link-transition);--sidebar-toggle-border-radius: var(--border-radius-s);--sidebar-toggle-border-style: solid;--sidebar-toggle-border-width: 0;--sidebar-toggle-height: 36px;--sidebar-toggle-icon-color: var(--base-color);--sidebar-toggle-icon-height: 10px;--sidebar-toggle-icon-stroke-width: 1px;--sidebar-toggle-icon-width: 16px;--sidebar-toggle-offset-left: 0;--sidebar-toggle-offset-top: calc(35px - (var(--sidebar-toggle-height) / 2));--sidebar-toggle-width: 44px}:root{--code-theme-background: #f3f3f3;--code-theme-comment: #6e8090;--code-theme-function: #dd4a68;--code-theme-keyword: #07a;--code-theme-operator: #a67f59;--code-theme-punctuation: #999;--code-theme-selection: #b3d4fc;--code-theme-selector: #690;--code-theme-tag: #905;--code-theme-text: #333;--code-theme-variable: #e90}:root{--border-radius-s: 2px;--border-radius-m: 4px;--border-radius-l: 8px;--strong-font-weight: 600;--blockquote-border-color: var(--theme-color);--blockquote-border-radius: 0 var(--border-radius-m) var(--border-radius-m) 0;--blockquote-border-width: 0 0 0 4px;--code-inline-background: var(--mono-tint2);--code-theme-background: var(--mono-tint3);--heading-font-weight: var(--strong-font-weight);--heading-h1-font-weight: 400;--heading-h2-font-weight: 400;--heading-h2-border-color: var(--mono-tint2);--heading-h2-border-width: 0 0 1px 0;--heading-h2-margin: 2.5rem 0 1.5rem;--heading-h2-padding: 0 0 1rem 0;--kbd-border: 1px solid var(--mono-tint2);--notice-border-radius: 0 var(--border-radius-m) var(--border-radius-m) 0;--notice-border-width: 0 0 0 4px;--notice-padding: 1em 1.5em 1em 3em;--notice-before-border-radius: 100%;--notice-before-font-weight: bold;--notice-before-height: 1.5em;--notice-before-left: 0.75em;--notice-before-line-height: 1.5;--notice-before-margin: 0 0.25em 0 0;--notice-before-position: absolute;--notice-before-width: var(--notice-before-height);--notice-important-background: hsl(340, 60%, 96%);--notice-important-border-color: hsl(340, 90%, 45%);--notice-important-before-background: var(--notice-important-border-color) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3E%3Cpath d='M10 14C10 15.1 9.1 16 8 16 6.9 16 6 15.1 6 14 6 12.9 6.9 12 8 12 9.1 12 10 12.9 10 14Z'/%3E%3Cpath d='M10 1.6C10 1.2 9.8 0.9 9.6 0.7 9.2 0.3 8.6 0 8 0 7.4 0 6.8 0.2 6.5 0.6 6.2 0.9 6 1.2 6 1.6 6 1.7 6 1.8 6 1.9L6.8 9.6C6.9 9.9 7 10.1 7.2 10.2 7.4 10.4 7.7 10.5 8 10.5 8.3 10.5 8.6 10.4 8.8 10.3 9 10.1 9.1 9.9 9.2 9.6L10 1.9C10 1.8 10 1.7 10 1.6Z'/%3E%3C/svg%3E") center / 0.875em no-repeat;--notice-important-before-color: #fff;--notice-important-before-content: "";--notice-tip-background: hsl(204, 60%, 96%);--notice-tip-border-color: hsl(204, 90%, 45%);--notice-tip-before-background: var(--notice-tip-border-color) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3E%3Cpath d='M9.1 0C10.2 0 10.7 0.7 10.7 1.6 10.7 2.6 9.8 3.6 8.6 3.6 7.6 3.6 7 3 7 2 7 1.1 7.7 0 9.1 0Z'/%3E%3Cpath d='M5.8 16C5 16 4.4 15.5 5 13.2L5.9 9.1C6.1 8.5 6.1 8.2 5.9 8.2 5.7 8.2 4.6 8.6 3.9 9.1L3.5 8.4C5.6 6.6 7.9 5.6 8.9 5.6 9.8 5.6 9.9 6.6 9.5 8.2L8.4 12.5C8.2 13.2 8.3 13.5 8.5 13.5 8.7 13.5 9.6 13.2 10.4 12.5L10.9 13.2C8.9 15.2 6.7 16 5.8 16Z'/%3E%3C/svg%3E") center / 0.875em no-repeat;--notice-tip-before-color: #fff;--notice-tip-before-content: "";--table-cell-border-color: var(--mono-tint2);--table-cell-border-width: 1px 0;--cover-background-color: hsl(var(--theme-hue), 25%, 60%);--cover-background-image: radial-gradient(ellipse at center 115%, rgba(255, 255, 255, 0.9), transparent);--cover-blockquote-color: var(--strong-color);--cover-heading-color: #fff;--cover-heading-font-size-max: 56;--cover-heading-font-size-min: 34;--cover-heading-font-weight: 200;--navbar-root-color--active: var(--theme-color);--navbar-menu-border-radius: var(--border-radius-m);--navbar-menu-root-background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='9.6' height='6' viewBox='0 0 9.6 6'%3E%3Cpath d='M1.5 1.5l3.3 3 3.3-3' stroke-width='1.5' stroke='rgb%28179, 179, 179%29' fill='none' stroke-linecap='square' stroke-linejoin='miter' vector-effect='non-scaling-stroke'/%3E%3C/svg%3E") right no-repeat;--navbar-menu-root-padding: 0 18px 0 0;--search-input-background-color: #fff;--search-input-background-image: url("data:image/svg+xml,%3Csvg height='20px' width='20px' viewBox='0 0 24 24' fill='none' stroke='rgba(0, 0, 0, 0.3)' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' preserveAspectRatio='xMidYMid meet' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10.5' cy='10.5' r='7.5' vector-effect='non-scaling-stroke'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='15.8' y2='15.8' vector-effect='non-scaling-stroke'%3E%3C/line%3E%3C/svg%3E");--search-input-background-position: 21px center;--search-input-border-color: var(--sidebar-border-color);--search-input-border-width: 1px 0;--search-input-margin: 0 -25px;--search-input-padding: 0.65em 1em 0.65em 50px;--search-input-placeholder-color: rgba(0, 0, 0, 0.4);--search-clear-icon-color1: rgba(0, 0, 0, 0.3);--search-result-heading-font-weight: var(--strong-font-weight);--search-result-item-border-color: var(--sidebar-border-color);--search-result-keyword-border-radius: var(--border-radius-s);--sidebar-background: var(--mono-tint3);--sidebar-border-color: var(--mono-tint2);--sidebar-border-width: 0 1px 0 0;--sidebar-name-color: var(--theme-color);--sidebar-name-font-weight: 300;--sidebar-nav-strong-border-width: 0 0 1px 0;--sidebar-nav-strong-font-size: smaller;--sidebar-nav-strong-margin: 2em -25px 0.75em 0;--sidebar-nav-strong-padding: 0.25em 0 0.75em 0;--sidebar-nav-strong-text-transform: uppercase;--sidebar-nav-link-border-color: transparent;--sidebar-nav-link-border-color--active: var(--theme-color);--sidebar-nav-link-border-width: 0 4px 0 0;--sidebar-nav-link-color--active: var(--theme-color);--sidebar-nav-link-margin: 0 -25px 0 0;--sidebar-nav-link-text-decoration: none;--sidebar-nav-link-text-decoration--active: none;--sidebar-nav-link-text-decoration--hover: underline;--sidebar-nav-link-before-content-l3: '-';--sidebar-nav-pagelink-background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7' height='11.2' viewBox='0 0 7 11.2'%3E%3Cpath d='M1.5 1.5l4 4.1 -4 4.1' stroke-width='1.5' stroke='rgb%28179, 179, 179%29' fill='none' stroke-linecap='square' stroke-linejoin='miter' vector-effect='non-scaling-stroke'/%3E%3C/svg%3E");--sidebar-nav-pagelink-background-image--active: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='11.2' height='7' viewBox='0 0 11.2 7'%3E%3Cpath d='M1.5 1.5l4.1 4 4.1-4' stroke-width='1.5' stroke='rgb%2811, 135, 218%29' fill='none' stroke-linecap='square' stroke-linejoin='miter' vector-effect='non-scaling-stroke'/%3E%3C/svg%3E");--sidebar-nav-pagelink-background-image--collapse: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7' height='11.2' viewBox='0 0 7 11.2'%3E%3Cpath d='M1.5 1.5l4 4.1 -4 4.1' stroke-width='1.5' stroke='rgb%2811, 135, 218%29' fill='none' stroke-linecap='square' stroke-linejoin='miter' vector-effect='non-scaling-stroke'/%3E%3C/svg%3E");--sidebar-nav-pagelink-background-image--loaded: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='11.2' height='7' viewBox='0 0 11.2 7'%3E%3Cpath d='M1.5 1.5l4.1 4 4.1-4' stroke-width='1.5' stroke='rgb%2811, 135, 218%29' fill='none' stroke-linecap='square' stroke-linejoin='miter' vector-effect='non-scaling-stroke'/%3E%3C/svg%3E");--sidebar-nav-pagelink-background-position: 3px center;--sidebar-nav-pagelink-background-position--active: left center;--sidebar-nav-pagelink-background-position--collapse: var(--sidebar-nav-pagelink-background-position);--sidebar-nav-pagelink-background-position--loaded: var(--sidebar-nav-pagelink-background-position--active);--sidebar-nav-pagelink-padding: 0.25em 0 0.25em 20px;--sidebar-nav-pagelink-transition: none;--sidebar-toggle-background: var(--sidebar-border-color);--sidebar-toggle-border-radius: 0 var(--border-radius-s) var(--border-radius-s) 0;--sidebar-toggle-width: 32px}:root{--code-theme-background: #222;--code-theme-comment: #516e7a;--code-theme-function: #f07178;--code-theme-keyword: #c2e78c;--code-theme-operator: #ffcb6b;--code-theme-punctuation: #89ddff;--code-theme-selection: rgba(255, 255, 255, 0.2);--code-theme-selector: #ffcb6b;--code-theme-tag: #f07178;--code-theme-text: #f3f3f3;--code-theme-variable: #ffcb6b}:root{--mono-hue: 201;--mono-saturation: 18%;--mono-shade3: hsl(var(--mono-hue), var(--mono-saturation), 13%);--mono-shade2: hsl(var(--mono-hue), var(--mono-saturation), 15%);--mono-shade1: hsl(var(--mono-hue), var(--mono-saturation), 17%);--mono-base: hsl(var(--mono-hue), var(--mono-saturation), 19%);--mono-tint1: hsl(var(--mono-hue), var(--mono-saturation), 25%);--mono-tint2: hsl(var(--mono-hue), var(--mono-saturation), 35%);--mono-tint3: hsl(var(--mono-hue), var(--mono-saturation), 43%);--spinner-track-color: rgba(255, 255, 255, 0.15);--base-background-color: var(--mono-base);--base-color: #d3d3d3;--hr-border: 1px solid var(--mono-tint2);--mark-background: #ffcb6b;--mark-color: var(--base-background-color);--blockquote-background: var(--mono-shade2);--code-inline-background: var(--mono-tint1);--code-theme-background: var(--mono-shade2);--heading-color: #fff;--heading-h2-border-color: var(--mono-tint2);--kbd-background: var(--mono-shade2);--kbd-border: none;--kbd-color: var(--strong-color);--notice-important-background: var(--mono-shade2);--notice-tip-background: var(--mono-shade2);--table-cell-border-color: var(--mono-tint1);--table-row-odd-background: var(--mono-shade2);--cover-background-color: var(--base-background-color);--cover-background-image: radial-gradient(ellipse at center bottom, var(--mono-tint3), transparent);--cover-blockquote-color: var(--mark-background);--cover-button-border: 1px solid var(--mono-tint3);--cover-button-color: #fff;--navbar-menu-background: var(--mono-tint1);--navbar-menu-box-shadow: rgba(0,0,0,0.05) 0px 0px 1px, rgba(0,0,0,0.05) 0px 1px 2px, rgba(0,0,0,0.05) 0px 2px 4px, rgba(0,0,0,0.05) 0px 4px 8px, rgba(0,0,0,0.05) 0px 8px 16px, rgba(0,0,0,0.05) 0px 16px 32px;--copycode-background: var(--mono-tint1);--copycode-color: #fff;--docsifytabs-border-color: var(--mono-tint2);--docsifytabs-tab-background: var(--mono-shade1);--docsifytabs-tab-color: var(--mono-tint2);--pagination-border-top: 1px solid var(--mono-tint2);--pagination-title-color: #fff;--search-input-background-color: var(--mono-shade2);--search-input-background-image: url("data:image/svg+xml,%3Csvg height='20px' width='20px' viewBox='0 0 24 24' fill='none' stroke='rgba(255, 255, 255, 0.3)' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' preserveAspectRatio='xMidYMid meet' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10.5' cy='10.5' r='7.5' vector-effect='non-scaling-stroke'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='15.8' y2='15.8' vector-effect='non-scaling-stroke'%3E%3C/line%3E%3C/svg%3E");--search-input-border-color: var(--mono-tint1);--search-input-placeholder-color: rgba(255, 255, 255, 0.4);--search-clear-icon-color1: rgba(255, 255, 255, 0.3);--sidebar-background: var(--mono-shade1);--sidebar-border-color: var(--mono-tint1);--sidebar-nav-pagelink-background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7' height='11.2' viewBox='0 0 7 11.2'%3E%3Cpath d='M1.5 1.5l4 4.1 -4 4.1' stroke-width='1.5' stroke='rgb%2873, 93, 104%29' fill='none' stroke-linecap='square' stroke-linejoin='miter' vector-effect='non-scaling-stroke'/%3E%3C/svg%3E")}
/*# sourceMappingURL=theme-simple-dark.css.map */
```

`course/web/vue.css`:

```css
@import url("https://fonts.googleapis.com/css?family=Roboto+Mono|Source+Sans+Pro:300,400,600");
* {
  -webkit-font-smoothing: antialiased;
  -webkit-overflow-scrolling: touch;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  -webkit-text-size-adjust: none;
  -webkit-touch-callout: none;
  box-sizing: border-box;
}
body:not(.ready) {
  overflow: hidden;
}
body:not(.ready) [data-cloak],
body:not(.ready) .app-nav,
body:not(.ready) > nav {
  display: none;
}
div#app {
  font-size: 30px;
  font-weight: lighter;
  margin: 40vh auto;
  text-align: center;
}
div#app:empty::before {
  content: 'Loading...';
}
.emoji {
  height: 1.2rem;
  vertical-align: middle;
}
.progress {
  background-color: var(--theme-color, #42b983);
  height: 2px;
  left: 0px;
  position: fixed;
  right: 0px;
  top: 0px;
  transition: width 0.2s, opacity 0.4s;
  width: 0%;
  z-index: 999999;
}
.search a:hover {
  color: var(--theme-color, #42b983);
}
.search .search-keyword {
  color: var(--theme-color, #42b983);
  font-style: normal;
  font-weight: bold;
}
html,
body {
  height: 100%;
}
body {
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  color: #34495e;
  font-family: 'Source Sans Pro', 'Helvetica Neue', Arial, sans-serif;
  font-size: 15px;
  letter-spacing: 0;
  margin: 0;
  overflow-x: hidden;
}
img {
  max-width: 100%;
}
a[disabled] {
  cursor: not-allowed;
  opacity: 0.6;
}
kbd {
  border: solid 1px #ccc;
  border-radius: 3px;
  display: inline-block;
  font-size: 12px !important;
  line-height: 12px;
  margin-bottom: 3px;
  padding: 3px 5px;
  vertical-align: middle;
}
li input[type='checkbox'] {
  margin: 0 0.2em 0.25em 0;
  vertical-align: middle;
}
.app-nav {
  margin: 25px 60px 0 0;
  position: absolute;
  right: 0;
  text-align: right;
  z-index: 10;
/* navbar dropdown */
}
.app-nav.no-badge {
  margin-right: 25px;
}
.app-nav p {
  margin: 0;
}
.app-nav > a {
  margin: 0 1rem;
  padding: 5px 0;
}
.app-nav ul,
.app-nav li {
  display: inline-block;
  list-style: none;
  margin: 0;
}
.app-nav a {
  color: inherit;
  font-size: 16px;
  text-decoration: none;
  transition: color 0.3s;
}
.app-nav a:hover {
  color: var(--theme-color, #42b983);
}
.app-nav a.active {
  border-bottom: 2px solid var(--theme-color, #42b983);
  color: var(--theme-color, #42b983);
}
.app-nav li {
  display: inline-block;
  margin: 0 1rem;
  padding: 5px 0;
  position: relative;
  cursor: pointer;
}
.app-nav li ul {
  background-color: #fff;
  border: 1px solid #ddd;
  border-bottom-color: #ccc;
  border-radius: 4px;
  box-sizing: border-box;
  display: none;
  max-height: calc(100vh - 61px);
  overflow-y: auto;
  padding: 10px 0;
  position: absolute;
  right: -15px;
  text-align: left;
  top: 100%;
  white-space: nowrap;
}
.app-nav li ul li {
  display: block;
  font-size: 14px;
  line-height: 1rem;
  margin: 0;
  margin: 8px 14px;
  white-space: nowrap;
}
.app-nav li ul a {
  display: block;
  font-size: inherit;
  margin: 0;
  padding: 0;
}
.app-nav li ul a.active {
  border-bottom: 0;
}
.app-nav li:hover ul {
  display: block;
}
.github-corner {
  border-bottom: 0;
  position: fixed;
  right: 0;
  text-decoration: none;
  top: 0;
  z-index: 1;
}
.github-corner:hover .octo-arm {
  -webkit-animation: octocat-wave 560ms ease-in-out;
          animation: octocat-wave 560ms ease-in-out;
}
.github-corner svg {
  color: #fff;
  fill: var(--theme-color, #42b983);
  height: 80px;
  width: 80px;
}
main {
  display: block;
  position: relative;
  width: 100vw;
  height: 100%;
  z-index: 0;
}
main.hidden {
  display: none;
}
.anchor {
  display: inline-block;
  text-decoration: none;
  transition: all 0.3s;
}
.anchor span {
  color: #34495e;
}
.anchor:hover {
  text-decoration: underline;
}
.sidebar {
  border-right: 1px solid rgba(0,0,0,0.07);
  overflow-y: auto;
  padding: 40px 0 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  transition: transform 250ms ease-out;
  width: 300px;
  z-index: 20;
}
.sidebar > h1 {
  margin: 0 auto 1rem;
  font-size: 1.5rem;
  font-weight: 300;
  text-align: center;
}
.sidebar > h1 a {
  color: inherit;
  text-decoration: none;
}
.sidebar > h1 .app-nav {
  display: block;
  position: static;
}
.sidebar .sidebar-nav {
  line-height: 2em;
  padding-bottom: 40px;
}
.sidebar li.collapse .app-sub-sidebar {
  display: none;
}
.sidebar ul {
  margin: 0 0 0 15px;
  padding: 0;
}
.sidebar li > p {
  font-weight: 700;
  margin: 0;
}
.sidebar ul,
.sidebar ul li {
  list-style: none;
}
.sidebar ul li a {
  border-bottom: none;
  display: block;
}
.sidebar ul li ul {
  padding-left: 20px;
}
.sidebar::-webkit-scrollbar {
  width: 4px;
}
.sidebar::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 4px;
}
.sidebar:hover::-webkit-scrollbar-thumb {
  background: rgba(136,136,136,0.4);
}
.sidebar:hover::-webkit-scrollbar-track {
  background: rgba(136,136,136,0.1);
}
.sidebar-toggle {
  background-color: transparent;
  background-color: rgba(255,255,255,0.8);
  border: 0;
  outline: none;
  padding: 10px;
  position: absolute;
  bottom: 0;
  left: 0;
  text-align: center;
  transition: opacity 0.3s;
  width: 284px;
  z-index: 30;
  cursor: pointer;
}
.sidebar-toggle:hover .sidebar-toggle-button {
  opacity: 0.4;
}
.sidebar-toggle span {
  background-color: var(--theme-color, #42b983);
  display: block;
  margin-bottom: 4px;
  width: 16px;
  height: 2px;
}
body.sticky .sidebar,
body.sticky .sidebar-toggle {
  position: fixed;
}
.content {
  padding-top: 60px;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 300px;
  transition: left 250ms ease;
}
.markdown-section {
  margin: 0 auto;
  max-width: 80%;
  padding: 30px 15px 40px 15px;
  position: relative;
}
.markdown-section > * {
  box-sizing: border-box;
  font-size: inherit;
}
.markdown-section > :first-child {
  margin-top: 0 !important;
}
.markdown-section hr {
  border: none;
  border-bottom: 1px solid #eee;
  margin: 2em 0;
}
.markdown-section iframe {
  border: 1px solid #eee;
/* fix horizontal overflow on iOS Safari */
  width: 1px;
  min-width: 100%;
}
.markdown-section table {
  border-collapse: collapse;
  border-spacing: 0;
  display: block;
  margin-bottom: 1rem;
  overflow: auto;
  width: 100%;
}
.markdown-section th {
  border: 1px solid #ddd;
  font-weight: bold;
  padding: 6px 13px;
}
.markdown-section td {
  border: 1px solid #ddd;
  padding: 6px 13px;
}
.markdown-section tr {
  border-top: 1px solid #ccc;
}
.markdown-section tr:nth-child(2n) {
  background-color: #f8f8f8;
}
.markdown-section p.tip {
  background-color: #f8f8f8;
  border-bottom-right-radius: 2px;
  border-left: 4px solid #f66;
  border-top-right-radius: 2px;
  margin: 2em 0;
  padding: 12px 24px 12px 30px;
  position: relative;
}
.markdown-section p.tip:before {
  background-color: #f66;
  border-radius: 100%;
  color: #fff;
  content: '!';
  font-family: 'Dosis', 'Source Sans Pro', 'Helvetica Neue', Arial, sans-serif;
  font-size: 14px;
  font-weight: bold;
  left: -12px;
  line-height: 20px;
  position: absolute;
  height: 20px;
  width: 20px;
  text-align: center;
  top: 14px;
}
.markdown-section p.tip code {
  background-color: #efefef;
}
.markdown-section p.tip em {
  color: #34495e;
}
.markdown-section p.warn {
  background: rgba(66,185,131,0.1);
  border-radius: 2px;
  padding: 1rem;
}
.markdown-section ul.task-list > li {
  list-style-type: none;
}
body.close .sidebar {
  transform: translateX(-300px);
}
body.close .sidebar-toggle {
  width: auto;
}
body.close .content {
  left: 0;
}
@media print {
  .github-corner,
  .sidebar-toggle,
  .sidebar,
  .app-nav {
    display: none;
  }
}
@media screen and (max-width: 768px) {
  .github-corner,
  .sidebar-toggle,
  .sidebar {
    position: fixed;
  }
  .app-nav {
    margin-top: 16px;
  }
  .app-nav li ul {
    top: 30px;
  }
  main {
    height: auto;
    overflow-x: hidden;
  }
  .sidebar {
    left: -300px;
    transition: transform 250ms ease-out;
  }
  .content {
    left: 0;
    max-width: 100vw;
    position: static;
    padding-top: 20px;
    transition: transform 250ms ease;
  }
  .app-nav,
  .github-corner {
    transition: transform 250ms ease-out;
  }
  .sidebar-toggle {
    background-color: transparent;
    width: auto;
    padding: 30px 30px 10px 10px;
  }
  body.close .sidebar {
    transform: translateX(300px);
  }
  body.close .sidebar-toggle {
    background-color: rgba(255,255,255,0.8);
    transition: 1s background-color;
    width: 284px;
    padding: 10px;
  }
  body.close .content {
    transform: translateX(300px);
  }
  body.close .app-nav,
  body.close .github-corner {
    display: none;
  }
  .github-corner:hover .octo-arm {
    -webkit-animation: none;
            animation: none;
  }
  .github-corner .octo-arm {
    -webkit-animation: octocat-wave 560ms ease-in-out;
            animation: octocat-wave 560ms ease-in-out;
  }
}
@-webkit-keyframes octocat-wave {
  0%, 100% {
    transform: rotate(0);
  }
  20%, 60% {
    transform: rotate(-25deg);
  }
  40%, 80% {
    transform: rotate(10deg);
  }
}
@keyframes octocat-wave {
  0%, 100% {
    transform: rotate(0);
  }
  20%, 60% {
    transform: rotate(-25deg);
  }
  40%, 80% {
    transform: rotate(10deg);
  }
}
section.cover {
  align-items: center;
  background-position: center center;
  background-repeat: no-repeat;
  background-size: cover;
  height: 100vh;
  display: none;
}
section.cover.show {
  display: flex;
}
section.cover.has-mask .mask {
  background-color: #fff;
  opacity: 0.8;
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
}
section.cover .cover-main {
  flex: 1;
  margin: -20px 16px 0;
  text-align: center;
  z-index: 1;
}
section.cover a {
  color: inherit;
  text-decoration: none;
}
section.cover a:hover {
  text-decoration: none;
}
section.cover p {
  line-height: 1.5rem;
  margin: 1em 0;
}
section.cover h1 {
  color: inherit;
  font-size: 2.5rem;
  font-weight: 300;
  margin: 0.625rem 0 2.5rem;
  position: relative;
  text-align: center;
}
section.cover h1 a {
  display: block;
}
section.cover h1 small {
  bottom: -0.4375rem;
  font-size: 1rem;
  position: absolute;
}
section.cover blockquote {
  font-size: 1.5rem;
  text-align: center;
}
section.cover ul {
  line-height: 1.8;
  list-style-type: none;
  margin: 1em auto;
  max-width: 500px;
  padding: 0;
}
section.cover .cover-main > p:last-child a {
  border-color: var(--theme-color, #42b983);
  border-radius: 2rem;
  border-style: solid;
  border-width: 1px;
  box-sizing: border-box;
  color: var(--theme-color, #42b983);
  display: inline-block;
  font-size: 1.05rem;
  letter-spacing: 0.1rem;
  margin: 0.5rem 1rem;
  padding: 0.75em 2rem;
  text-decoration: none;
  transition: all 0.15s ease;
}
section.cover .cover-main > p:last-child a:last-child {
  background-color: var(--theme-color, #42b983);
  color: #fff;
}
section.cover .cover-main > p:last-child a:last-child:hover {
  color: inherit;
  opacity: 0.8;
}
section.cover .cover-main > p:last-child a:hover {
  color: inherit;
}
section.cover blockquote > p > a {
  border-bottom: 2px solid var(--theme-color, #42b983);
  transition: color 0.3s;
}
section.cover blockquote > p > a:hover {
  color: var(--theme-color, #42b983);
}
body {
  background-color: #fff;
}
/* sidebar */
.sidebar {
  background-color: #fff;
  color: #364149;
}
.sidebar li {
  margin: 6px 0 6px 0;
}
.sidebar ul li a {
  color: #505d6b;
  font-size: 14px;
  font-weight: normal;
  overflow: hidden;
  text-decoration: none;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.sidebar ul li a:hover {
  text-decoration: underline;
}
.sidebar ul li ul {
  padding: 0;
}
.sidebar ul li.active > a {
  border-right: 2px solid;
  color: var(--theme-color, #42b983);
  font-weight: 600;
}
.app-sub-sidebar li::before {
  content: '-';
  padding-right: 4px;
  float: left;
}
/* markdown content found on pages */
.markdown-section h1,
.markdown-section h2,
.markdown-section h3,
.markdown-section h4,
.markdown-section strong {
  color: #2c3e50;
  font-weight: 600;
}
.markdown-section a {
  color: var(--theme-color, #42b983);
  font-weight: 600;
}
.markdown-section h1 {
  font-size: 2rem;
  margin: 0 0 1rem;
}
.markdown-section h2 {
  font-size: 1.75rem;
  margin: 45px 0 0.8rem;
}
.markdown-section h3 {
  font-size: 1.5rem;
  margin: 40px 0 0.6rem;
}
.markdown-section h4 {
  font-size: 1.25rem;
}
.markdown-section h5 {
  font-size: 1rem;
}
.markdown-section h6 {
  color: #777;
  font-size: 1rem;
}
.markdown-section figure,
.markdown-section p {
  margin: 1.2em 0;
}
.markdown-section p,
.markdown-section ul,
.markdown-section ol {
  line-height: 1.6rem;
  word-spacing: 0.05rem;
}
.markdown-section ul,
.markdown-section ol {
  padding-left: 1.5rem;
}
.markdown-section blockquote {
  border-left: 4px solid var(--theme-color, #42b983);
  color: #858585;
  margin: 2em 0;
  padding-left: 20px;
}
.markdown-section blockquote p {
  font-weight: 600;
  margin-left: 0;
}
.markdown-section iframe {
  margin: 1em 0;
}
.markdown-section em {
  color: #7f8c8d;
}
.markdown-section code {
  background-color: #f8f8f8;
  border-radius: 2px;
  color: #e96900;
  font-family: 'Roboto Mono', Monaco, courier, monospace;
  font-size: 0.8rem;
  margin: 0 2px;
  padding: 3px 5px;
  white-space: pre-wrap;
}
.markdown-section pre {
  -moz-osx-font-smoothing: initial;
  -webkit-font-smoothing: initial;
  background-color: #f8f8f8;
  font-family: 'Roboto Mono', Monaco, courier, monospace;
  line-height: 1.5rem;
  margin: 1.2em 0;
  overflow: auto;
  padding: 0 1.4rem;
  position: relative;
  word-wrap: normal;
}
/* code highlight */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #8e908c;
}
.token.namespace {
  opacity: 0.7;
}
.token.boolean,
.token.number {
  color: #c76b29;
}
.token.punctuation {
  color: #525252;
}
.token.property {
  color: #c08b30;
}
.token.tag {
  color: #2973b7;
}
.token.string {
  color: var(--theme-color, #42b983);
}
.token.selector {
  color: #6679cc;
}
.token.attr-name {
  color: #2973b7;
}
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  color: #22a2c9;
}
.token.attr-value,
.token.control,
.token.directive,
.token.unit {
  color: var(--theme-color, #42b983);
}
.token.keyword,
.token.function {
  color: #e96900;
}
.token.statement,
.token.regex,
.token.atrule {
  color: #22a2c9;
}
.token.placeholder,
.token.variable {
  color: #3d8fd1;
}
.token.deleted {
  text-decoration: line-through;
}
.token.inserted {
  border-bottom: 1px dotted #202746;
  text-decoration: none;
}
.token.italic {
  font-style: italic;
}
.token.important,
.token.bold {
  font-weight: bold;
}
.token.important {
  color: #c94922;
}
.token.entity {
  cursor: help;
}
.markdown-section pre > code {
  -moz-osx-font-smoothing: initial;
  -webkit-font-smoothing: initial;
  background-color: #f8f8f8;
  border-radius: 2px;
  color: #525252;
  display: block;
  font-family: 'Roboto Mono', Monaco, courier, monospace;
  font-size: 0.8rem;
  line-height: inherit;
  margin: 0 2px;
  max-width: inherit;
  overflow: inherit;
  padding: 2.2em 5px;
  white-space: inherit;
}
.markdown-section code::after,
.markdown-section code::before {
  letter-spacing: 0.05rem;
}
code .token {
  -moz-osx-font-smoothing: initial;
  -webkit-font-smoothing: initial;
  min-height: 1.5rem;
  position: relative;
  left: auto;
}
pre::after {
  color: #ccc;
  content: attr(data-lang);
  font-size: 0.6rem;
  font-weight: 600;
  height: 15px;
  line-height: 15px;
  padding: 5px 10px 0;
  position: absolute;
  right: 0;
  text-align: right;
  top: 0;
}

```

`docker.d/docker-entrypoint.sh`:

```sh
#!/bin/bash
if [ -e /var/run/nginx.pid ]; then echo "nginx is already running"; else nginx; fi

/bin/bash

```

`docker.sh`:

```sh
#!/usr/bin/env bash
#
# 2020 @leonjza
#
# Part of the frida-boot workshop
#  https://github.com/leonjza/frida-boot

if ! hash docker 2>/dev/null; then
    echo "Docker is required. Please install it first!"
    exit 1
fi

if ! [[ "$1" =~ ^(pull|build|run|run-dev|shell)$ ]]; then
    echo "Usage: $0 [action]"
    echo " Actions can be: pull; build; run; run-dev; shell"
    exit 1
fi

case $1 in 

pull)
    echo "> pulling latest workshop image"
    docker pull leonjza/frida-boot
    ;;
build)
    echo "> building a local image"
    docker build -t frida-boot:local .
    ;;
run)
    echo "> starting a new container"
    echo
    docker run --cap-add SYS_PTRACE --rm -it --name frida-boot -p9999:80 \
        -v $(pwd)/code:/root/code leonjza/frida-boot
    ;;
run-dev)
    echo "> runing a content dev instance"
    echo "> webserver exposed on port 9999"
    docker run --cap-add SYS_PTRACE --rm -it --name frida-boot -p9999:80 \
        -v $(pwd)/code:/root/code \
        -v $(pwd)/course:/var/www/html frida-boot:local
    ;;
shell)
    echo "> spawning new shell in the frida-boot container"
    docker exec -it frida-boot /bin/bash
    ;;
esac

```

`software/Makefile`:

```
.PHONY: all

TARGET = pew
SHAREDLIB = fake_sleep
CRYPT = crypt

all:
	gcc $(TARGET).c -o $(TARGET)

secure:
	gcc -g -O2 -Wl,-z,relro,-z,now -fPIE -fstack-protector-all -D_FORTIFY_SOURCE=2 $(TARGET).c -o $(TARGET)

objects:
	gcc -c *.c

fakesleep:
	gcc -fPIC -shared $(SHAREDLIB).c -o $(SHAREDLIB).so -ldl

crypt:
	gcc $(CRYPT).c -o $(CRYPT)

clean:
	rm -f $(TARGET) *.o $(SHAREDLIB).so $(CRYPT)

```

`software/crypt.c`:

```c
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

const int open = 1111 ^ 2355;

int test_pin(char *p) {
    int p_int = atoi(p);

    if (p_int == open) {
        return 1;
    }

    return 0;
}

int main(int argc, char **argv) {

    int access = 0;
    char pin[10];

    while (access == 0) {
        printf("Pin: ");
        fgets(pin, sizeof(pin) - 1, stdin);
        if (test_pin(pin) == 1)
            access = 1;
    }

    printf("Pwnd!!\n");

    return 0;
}

```

`software/crypt.js.1`:

```1
var testPin = DebugSymbol.getFunctionByName("test_pin");

Interceptor.attach(testPin, {
    onEnter: function(args) {
        console.log("test_pin(" + args[0] + ")");
    },
    onLeave: function(retval) {
        console.log(" => ret: " + retval);
    }
});

```

`software/crypt.js.2`:

```2
var testPin = DebugSymbol.getFunctionByName("test_pin");

Interceptor.attach(testPin, {
    onEnter: function(args) {
        console.log("test_pin(" + args[0] + ")");
    },
    onLeave: function(retval) {
        console.log(" => ret: " + retval);
        retval.replace(ptr("0x1")); // <-- replace the return value to 1
    }
});


```

`software/crypt.js.3`:

```3
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

// Try a PIN of 1111
var pin = Memory.allocUtf8String("1111");
var r = testPin(pin);

console.log(r);

```

`software/crypt.js.4`:

```4
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);


for (var i = 0; i < 9999; i++) {
    console.log("Trying: " + i.toString());
    var pin = Memory.allocUtf8String(i.toString());
    var r = testPin(pin);

    if (r == 1) {
        console.log("Pin is: " + i.toString());
        break;
    }
}

```

`software/embedded-agent.js`:

```js
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

for (var i = 0; i < 9999; i++) {
    console.log("Trying: " + i.toString());
    var pin = Memory.allocUtf8String(i.toString());
    var r = testPin(pin);

    if (r == 1) {
        console.log("Pin is: " + i.toString());
        break;
    }
}

```

`software/fake_sleep.c`:

```c
#define _GNU_SOURCE

#include <stdio.h>
#include <dlfcn.h>

// man 3 sleep
//  unsigned int sleep(unsigned int seconds);
unsigned int sleep(unsigned int seconds) {

    // you've never slept this well in your life!
    printf("[-] sleep goes brrr\n");
    return 0;
}

```

`software/fake_sleep.c.1`:

```1
#include <stdio.h>

// man 3 sleep
//  unsigned int sleep(unsigned int seconds);
unsigned int sleep(unsigned int seconds) {

    // you've never slept the well in your life!
    printf("[-] sleep goes brrr\n");
    return 0;
}


```

`software/fake_sleep.c.2`:

```2
#define _GNU_SOURCE

#include <stdio.h>
#include <dlfcn.h>

// man 3 sleep
//  unsigned int sleep(unsigned int seconds);
unsigned int sleep(unsigned int seconds) {

    // you've never slept this well in your life!
    printf("[-] sleep goes brrr\n");

    seconds = 1;

    unsigned int (*original_sleep)(unsigned int);
    original_sleep = dlsym(RTLD_NEXT, "sleep");

    return (original_sleep)(seconds);
}


```

`software/frida-gadget.config.1`:

```1
{
  "interaction": {
    "type": "listen",
    "address": "127.0.0.1",
    "port": 27042,
    "on_load": "resume"
  }
}

```

`software/frida-gadget.config.2`:

```2
{
  "interaction": {
    "type": "script",
    "path": "/root/code/embedded-agent.js"
  }
}

```

`software/index.js.1`:

```1
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

for (var i = 0; i < 9999; i++) {
    console.log("Trying: " + i.toString());
    var pin = Memory.allocUtf8String(i.toString());
    var r = testPin(pin);

    if (r == 1) {
        console.log("Pin is: " + i.toString());
        break;
    }
}

```

`software/index.js.2`:

```2
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

send("Starting brute forcer")

for (var i = 0; i < 9999; i++) {
    //console.log("Trying: " + i.toString());
    var pin = Memory.allocUtf8String(i.toString());
    var r = testPin(pin);

    if (r == 1) {
        console.log("Pin is: " + i.toString());
        send("Done brute forcing");
        break;
    }
}

```

`software/index.js.3`:

```3
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

send("Starting brute forcer")

recv(function(m) {
    console.log("message: " + m);
});

for (var i = 0; i < 9999; i++) {
    //console.log("Trying: " + i.toString());
    var pin = Memory.allocUtf8String(i.toString());
    var r = testPin(pin);

    if (r == 1) {
        console.log("Pin is: " + i.toString());
        send("Done brute forcing");
        break;
    }
}

```

`software/index.js.4`:

```4
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

rpc.exports = {
    brute: function() {
        for (var i = 0; i < 9999; i++) {
            console.log("Trying: " + i.toString());
            var pin = Memory.allocUtf8String(i.toString());
            var r = testPin(pin);

            if (r == 1) {
                console.log("Pin is: " + i.toString());
                send("Done brute forcing");
                break;
            }
        }
    }
}

```

`software/index.js.5`:

```5
var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

rpc.exports = {
    testPin: function(p) {
        var pin = Memory.allocUtf8String(p);
        return testPin(pin);
    }
}

```

`software/index.js.6`:

```6
const testPinPtr = DebugSymbol.getFunctionByName("test_pin");
const p = Memory.alloc(Process.pointerSize);
p.writePointer(testPinPtr);

const cm = new CModule(`
#include <stdio.h>
#include <glib.h>

extern volatile gpointer p;

void init() {
    printf("CModule up\n");
}

int check(char * pin) {
    int (*f)(chr);
    f = p;
    return f(pin);
}
`, { p });
const check = new NativeFunction(cm.check, 'int', ['pointer']);

rpc.exports = {
    checkValue: function(pin) {
        const v = Memory.allocUtf8String(pin);
        return check(v);
    }
}


```

`software/index.ts.1`:

```1
import { log } from "./logger";

log(`Starting from a TypeScript sourced file`);

const testPinPtr = DebugSymbol.getFunctionByName("test_pin");
const testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

rpc.exports = {
    testPin: function(p: string) {
        const pin = Memory.allocUtf8String(p);
        return testPin(pin);
    }
}


```

`software/index.ts.2`:

```2
import { log } from "./logger";
import * as http from "http";

const testPinPtr = DebugSymbol.getFunctionByName("test_pin");
const testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);

rpc.exports = {
    testPin: function(p: string) {
        const pin = Memory.allocUtf8String(p);
        return testPin(pin);
    },
    httpServer: function() {
        http.createServer((req, res) => {
            const pin = req.url? req.url.replace('/', '') : '';
            const check = this.testPin(pin);

            log(`Request to check ${req.url} returned ${check}`);

            if (check == 1) {
                res.writeHead(200, {'Content-Type': 'text/plain'});
                res.write(`Welcome!\n`);
            } else {
                res.writeHead(401, {'Content-Type': 'text/plain'});
                res.write(`Wrong PIN\n`);
            }

            res.end();
        }).listen(1337);
    }
}

```

`software/interceptor-attach.js.1`:

```1
var sleep = Module.getExportByName(null, "sleep");

Interceptor.attach(sleep, {
    onEnter: function(args) {
        console.log("[*] Sleep from Frida!");
    },
    onLeave: function(retval) {
        console.log("[*] Done sleeping from Frida!");
    }
});


```

`software/interceptor-attach.js.2`:

```2
var sleep = Module.getExportByName(null, "sleep");

Interceptor.attach(sleep, {
    onEnter: function(args) {
        console.log("[*] Argument for sleep() => " + parseInt(args[0]));
        console.log("[*] Sleep from Frida!");
    },
    onLeave: function(retval) {
        console.log("[*] Done sleeping from Frida!");
    }
});


```

`software/interceptor-attach.js.3`:

```3
var printf = Module.getExportByName(null, "printf");

// Allocate a new memory region, returning the pointer to the string.
var buf = Memory.allocUtf8String("Frida sleep! :D\n");

Interceptor.attach(printf, {
    onEnter: function(args) {
        // console.log("printf(\"" + args[0].readCString().trim() + "\")");
        args[0] = buf;  // update the argument to printf
    }
});


```

`software/interceptor-attach.js.4`:

```4
var rand_range = DebugSymbol.getFunctionByName("rand_range");

Interceptor.attach(rand_range, {
    onLeave: function(retval) {
        console.log(retval);
    }
});


```

`software/interceptor-attach.js.5`:

```5
var rand_range = DebugSymbol.getFunctionByName("rand_range");

Interceptor.attach(rand_range, {
    onEnter: function(args) {
        this.arg1 = args[0];
    },
    onLeave: function(retval) {
        console.log(retval);
        retval.replace(this.arg1);
    }
});

```

`software/pew.c`:

```c
#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <time.h>

int rand_range(int min, int max) {
    return min + rand() % (max+1 - min);
}

int main() {

    printf("[+] Starting up!\n");

    int d;
    srand(time(NULL));

    while(1) {
        d = rand_range(1, 5);

        printf("[+] Sleeping for %d seconds\n", d);
        sleep(d);
    }
}

```

`software/tool.py.1`:

```1
import frida
import sys

session = frida.attach("crypt")
script = session.create_script("""
  console.log(Frida.version);
""")
script.load()


```

`software/tool.py.2`:

```2
import frida
import sys

session = frida.attach("crypt")
script = session.create_script("""
    var testPinPtr = DebugSymbol.getFunctionByName("test_pin");
    var testPin = new NativeFunction(testPinPtr, "int", ["pointer"]);


    for (var i = 0; i < 9999; i++) {
        console.log("Trying: " + i.toString());
        var pin = Memory.allocUtf8String(i.toString());
        var r = testPin(pin);

        if (r == 1) {
            console.log("Pin is: " + i.toString());
            break;
        }
    }
""")
script.load()


```

`software/tool.py.3`:

```3
import frida
import sys

with open("index.js", "r") as f:
    agent = f.read()

session = frida.attach("crypt")
script = session.create_script(agent)
script.load()

```

`software/tool.py.4`:

```4
import frida
import sys

with open("index.js", "r") as f:
    agent = f.read()

def incoming(message, data):
    print(message)

session = frida.attach("crypt")
script = session.create_script(agent)
script.on("message", incoming)
script.load()

```

`software/tool.py.5`:

```5
import frida
import sys

with open("index.js", "r") as f:
    agent = f.read()

def incoming(message, data):
    print(message)

session = frida.attach("crypt")
script = session.create_script(agent)
script.on("message", incoming)
script.load()
script.post("test")

```

`software/tool.py.6`:

```6
import frida
import sys

with open("index.js", "r") as f:
    agent = f.read()

session = frida.attach("crypt")
script = session.create_script(agent)
script.load()

api = script.exports
api.brute()

```

`software/tool.py.7`:

```7
import frida
import sys

with open("index.js", "r") as f:
    agent = f.read()

session = frida.attach("crypt")
script = session.create_script(agent)
script.load()

api = script.exports

for x in range(0, 9999):
    res = api.test_pin(str(x))
    if res == 0:
        continue

    print(f"Pin: {x}")
    break

```

`software/tool.py.8`:

```8
import frida
import sys

with open("frida-agent-example/_agent.js", "r") as f:
    agent = f.read()

session = frida.attach("crypt")
script = session.create_script(agent)
script.load()

api = script.exports
print("starting HTTP server...")
api.http_server()

# keep the server alive now
sys.stdin.read()

```

`software/tool.py.9`:

```9
import frida
import sys

with open("index.js", "r") as f:
    agent = f.read()

session = frida.attach("crypt")
script = session.create_script(agent, runtime='v8')
script.load()

api = script.exports

for x in range(0, 9999):
    res = api.check_value(str(x))
    if res == 0:
        continue

    print(f"Pin: {x}")
    break

```