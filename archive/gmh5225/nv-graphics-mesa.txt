Directory structure:
└── gmh5225-nv-graphics-mesa/
    ├── README.rst
    ├── CODEOWNERS
    ├── meson.build
    ├── meson_options.txt
    ├── VERSION
    ├── .dir-locals.el
    ├── .editorconfig
    ├── .gitlab-ci.yml
    ├── .graphqlrc.yml
    ├── .mailmap
    ├── android/
    │   ├── Android.mk
    │   └── mesa3d_cross.mk
    ├── build-support/
    │   └── conftest.dyn
    ├── docs/
    │   ├── README.UVD
    │   ├── README.VCE
    │   ├── android.rst
    │   ├── application-issues.rst
    │   ├── ARB_color_buffer_float.txt
    │   ├── bugs.rst
    │   ├── codingstyle.rst
    │   ├── conf.py
    │   ├── conform.rst
    │   ├── debugging.rst
    │   ├── developers.rst
    │   ├── devinfo.rst
    │   ├── dispatch.rst
    │   ├── download.rst
    │   ├── doxygen-wrapper.py
    │   ├── egl.rst
    │   ├── envvars.rst
    │   ├── extensions.rst
    │   ├── faq.rst
    │   ├── features.txt
    │   ├── gallium-nine.rst
    │   ├── gpu-perf-tracing.rst
    │   ├── helpwanted.rst
    │   ├── history.rst
    │   ├── index.rst
    │   ├── install.rst
    │   ├── libGL.txt
    │   ├── license.rst
    │   ├── lists.rst
    │   ├── macos.rst
    │   ├── meson.rst
    │   ├── opengles.rst
    │   ├── osmesa.rst
    │   ├── perf.rst
    │   ├── perfetto.rst
    │   ├── precompiled.rst
    │   ├── release-calendar.csv
    │   ├── release-calendar.rst
    │   ├── release-maintainers-keys.asc
    │   ├── releasing.rst
    │   ├── relnotes.rst
    │   ├── repository.rst
    │   ├── shading.rst
    │   ├── sourcetree.rst
    │   ├── submittingpatches.rst
    │   ├── systems.rst
    │   ├── thanks.rst
    │   ├── u_trace.rst
    │   ├── utilities.rst
    │   ├── viewperf.rst
    │   ├── xlibdriver.rst
    │   ├── _extra/
    │   │   ├── _redirects
    │   │   └── specs/
    │   │       ├── EGL_MESA_device_software.txt
    │   │       ├── EGL_MESA_drm_image_formats.txt
    │   │       ├── EGL_MESA_platform_surfaceless.txt
    │   │       ├── EGL_MESA_query_driver.txt
    │   │       ├── enums.txt
    │   │       ├── EXT_shader_integer_mix.spec
    │   │       ├── EXT_shader_samples_identical.txt
    │   │       ├── INTEL_shader_atomic_float_minmax.txt
    │   │       ├── MESA_bgra.txt
    │   │       ├── MESA_configless_context.spec
    │   │       ├── MESA_copy_sub_buffer.spec
    │   │       ├── MESA_drm_image.spec
    │   │       ├── MESA_framebuffer_flip_y.txt
    │   │       ├── MESA_image_dma_buf_export.txt
    │   │       ├── MESA_multithread_makecurrent.spec
    │   │       ├── MESA_pack_invert.spec
    │   │       ├── MESA_pixmap_colormap.spec
    │   │       ├── MESA_query_renderer.spec
    │   │       ├── MESA_release_buffers.spec
    │   │       ├── MESA_shader_debug.spec
    │   │       ├── MESA_shader_integer_functions.txt
    │   │       ├── MESA_swap_control.spec
    │   │       ├── MESA_swap_frame_usage.spec
    │   │       ├── MESA_texture_array.spec
    │   │       ├── MESA_texture_signed_rgba.spec
    │   │       ├── MESA_window_pos.spec
    │   │       ├── MESA_ycbcr_texture.spec
    │   │       ├── WL_bind_wayland_display.spec
    │   │       ├── WL_create_wayland_buffer_from_image.spec
    │   │       └── OLD/
    │   │           ├── EGL_MESA_screen_surface.txt
    │   │           ├── MESA_agp_offset.spec
    │   │           ├── MESA_packed_depth_stencil.spec
    │   │           ├── MESA_program_debug.spec
    │   │           ├── MESA_resize_buffers.spec
    │   │           ├── MESA_set_3dfx_mode.spec
    │   │           ├── MESA_sprite_point.spec
    │   │           └── MESA_trace.spec
    │   ├── _exts/
    │   │   ├── formatting.py
    │   │   ├── nir.py
    │   │   └── redirects.py
    │   ├── ci/
    │   │   ├── bare-metal.rst
    │   │   ├── docker.rst
    │   │   ├── fdo-cache
    │   │   ├── index.rst
    │   │   ├── kernel.rst
    │   │   ├── LAVA.rst
    │   │   ├── local-traces.rst
    │   │   ├── skqp.rst
    │   │   └── uri-caching.conf
    │   ├── drivers/
    │   │   ├── anv.rst
    │   │   ├── asahi.rst
    │   │   ├── d3d12.rst
    │   │   ├── freedreno.rst
    │   │   ├── lima.rst
    │   │   ├── llvmpipe.rst
    │   │   ├── panfrost.rst
    │   │   ├── radv.rst
    │   │   ├── svga3d.rst
    │   │   ├── v3d.rst
    │   │   ├── vc4.rst
    │   │   ├── venus.rst
    │   │   ├── virgl.rst
    │   │   ├── zink.rst
    │   │   └── freedreno/
    │   │       ├── ir3-notes.rst
    │   │       └── isaspec.rst
    │   ├── gallium/
    │   │   ├── buffermapping.rst
    │   │   ├── context.rst
    │   │   ├── cso.rst
    │   │   ├── debugging.rst
    │   │   ├── distro.rst
    │   │   ├── format.rst
    │   │   ├── glossary.rst
    │   │   ├── index.rst
    │   │   ├── intro.rst
    │   │   ├── pipeline.txt
    │   │   ├── postprocess.rst
    │   │   ├── resources.rst
    │   │   ├── screen.rst
    │   │   ├── tgsi.rst
    │   │   └── cso/
    │   │       ├── blend.rst
    │   │       ├── dsa.rst
    │   │       ├── rasterizer.rst
    │   │       ├── sampler.rst
    │   │       ├── shader.rst
    │   │       └── velems.rst
    │   ├── isl/
    │   │   ├── aux-surf-comp.rst
    │   │   ├── ccs.rst
    │   │   ├── formats.rst
    │   │   ├── hiz.rst
    │   │   ├── index.rst
    │   │   ├── tiling.rst
    │   │   └── units.rst
    │   ├── nir/
    │   │   ├── alu.rst
    │   │   ├── index.rst
    │   │   └── tex.rst
    │   ├── relnotes/
    │   │   ├── 10.0.1.rst
    │   │   ├── 10.0.2.rst
    │   │   ├── 10.0.3.rst
    │   │   ├── 10.0.4.rst
    │   │   ├── 10.0.5.rst
    │   │   ├── 10.0.rst
    │   │   ├── 10.1.1.rst
    │   │   ├── 10.1.2.rst
    │   │   ├── 10.1.3.rst
    │   │   ├── 10.1.4.rst
    │   │   ├── 10.1.5.rst
    │   │   ├── 10.1.6.rst
    │   │   ├── 10.1.rst
    │   │   ├── 10.2.1.rst
    │   │   ├── 10.2.2.rst
    │   │   ├── 10.2.3.rst
    │   │   ├── 10.2.4.rst
    │   │   ├── 10.2.5.rst
    │   │   ├── 10.2.6.rst
    │   │   ├── 10.2.7.rst
    │   │   ├── 10.2.8.rst
    │   │   ├── 10.2.9.rst
    │   │   ├── 10.2.rst
    │   │   ├── 10.3.1.rst
    │   │   ├── 10.3.2.rst
    │   │   ├── 10.3.3.rst
    │   │   ├── 10.3.4.rst
    │   │   ├── 10.3.5.rst
    │   │   ├── 10.3.6.rst
    │   │   ├── 10.3.7.rst
    │   │   ├── 10.3.rst
    │   │   ├── 10.4.1.rst
    │   │   ├── 10.4.2.rst
    │   │   ├── 10.4.3.rst
    │   │   ├── 10.4.4.rst
    │   │   ├── 10.4.5.rst
    │   │   ├── 10.4.6.rst
    │   │   ├── 10.4.7.rst
    │   │   ├── 10.4.rst
    │   │   ├── 10.5.0.rst
    │   │   ├── 10.5.1.rst
    │   │   ├── 10.5.2.rst
    │   │   ├── 10.5.3.rst
    │   │   ├── 10.5.4.rst
    │   │   ├── 10.5.5.rst
    │   │   ├── 10.5.6.rst
    │   │   ├── 10.5.7.rst
    │   │   ├── 10.5.8.rst
    │   │   ├── 10.5.9.rst
    │   │   ├── 10.6.0.rst
    │   │   ├── 10.6.1.rst
    │   │   ├── 10.6.2.rst
    │   │   ├── 10.6.3.rst
    │   │   ├── 10.6.4.rst
    │   │   ├── 10.6.5.rst
    │   │   ├── 10.6.6.rst
    │   │   ├── 10.6.7.rst
    │   │   ├── 10.6.8.rst
    │   │   ├── 10.6.9.rst
    │   │   ├── 11.0.0.rst
    │   │   ├── 11.0.1.rst
    │   │   ├── 11.0.2.rst
    │   │   ├── 11.0.3.rst
    │   │   ├── 11.0.4.rst
    │   │   ├── 11.0.5.rst
    │   │   ├── 11.0.6.rst
    │   │   ├── 11.0.7.rst
    │   │   ├── 11.0.8.rst
    │   │   ├── 11.0.9.rst
    │   │   ├── 11.1.0.rst
    │   │   ├── 11.1.1.rst
    │   │   ├── 11.1.2.rst
    │   │   ├── 11.1.3.rst
    │   │   ├── 11.1.4.rst
    │   │   ├── 11.2.0.rst
    │   │   ├── 11.2.1.rst
    │   │   ├── 11.2.2.rst
    │   │   ├── 12.0.0.rst
    │   │   ├── 12.0.1.rst
    │   │   ├── 12.0.2.rst
    │   │   ├── 12.0.3.rst
    │   │   ├── 12.0.4.rst
    │   │   ├── 12.0.5.rst
    │   │   ├── 12.0.6.rst
    │   │   ├── 13.0.0.rst
    │   │   ├── 13.0.1.rst
    │   │   ├── 13.0.2.rst
    │   │   ├── 13.0.3.rst
    │   │   ├── 13.0.4.rst
    │   │   ├── 13.0.5.rst
    │   │   ├── 13.0.6.rst
    │   │   ├── 17.0.0.rst
    │   │   ├── 17.0.1.rst
    │   │   ├── 17.0.2.rst
    │   │   ├── 17.0.3.rst
    │   │   ├── 17.0.4.rst
    │   │   ├── 17.0.5.rst
    │   │   ├── 17.0.6.rst
    │   │   ├── 17.0.7.rst
    │   │   ├── 17.1.0.rst
    │   │   ├── 17.1.1.rst
    │   │   ├── 17.1.10.rst
    │   │   ├── 17.1.2.rst
    │   │   ├── 17.1.3.rst
    │   │   ├── 17.1.4.rst
    │   │   ├── 17.1.5.rst
    │   │   ├── 17.1.6.rst
    │   │   ├── 17.1.7.rst
    │   │   ├── 17.1.8.rst
    │   │   ├── 17.1.9.rst
    │   │   ├── 17.2.0.rst
    │   │   ├── 17.2.1.rst
    │   │   ├── 17.2.2.rst
    │   │   ├── 17.2.3.rst
    │   │   ├── 17.2.4.rst
    │   │   ├── 17.2.5.rst
    │   │   ├── 17.2.6.rst
    │   │   ├── 17.2.7.rst
    │   │   ├── 17.2.8.rst
    │   │   ├── 17.3.0.rst
    │   │   ├── 17.3.1.rst
    │   │   ├── 17.3.2.rst
    │   │   ├── 17.3.3.rst
    │   │   ├── 17.3.4.rst
    │   │   ├── 17.3.5.rst
    │   │   ├── 17.3.6.rst
    │   │   ├── 17.3.7.rst
    │   │   ├── 17.3.8.rst
    │   │   ├── 17.3.9.rst
    │   │   ├── 18.0.0.rst
    │   │   ├── 18.0.1.rst
    │   │   ├── 18.0.2.rst
    │   │   ├── 18.0.3.rst
    │   │   ├── 18.0.4.rst
    │   │   ├── 18.0.5.rst
    │   │   ├── 18.1.0.rst
    │   │   ├── 18.1.1.rst
    │   │   ├── 18.1.2.rst
    │   │   ├── 18.1.3.rst
    │   │   ├── 18.1.4.rst
    │   │   ├── 18.1.5.rst
    │   │   ├── 18.1.6.rst
    │   │   ├── 18.1.7.rst
    │   │   ├── 18.1.8.rst
    │   │   ├── 18.1.9.rst
    │   │   ├── 18.2.0.rst
    │   │   ├── 18.2.1.rst
    │   │   ├── 18.2.2.rst
    │   │   ├── 18.2.3.rst
    │   │   ├── 18.2.4.rst
    │   │   ├── 18.2.5.rst
    │   │   ├── 18.2.6.rst
    │   │   ├── 18.2.7.rst
    │   │   ├── 18.2.8.rst
    │   │   ├── 18.3.0.rst
    │   │   ├── 18.3.1.rst
    │   │   ├── 18.3.2.rst
    │   │   ├── 18.3.3.rst
    │   │   ├── 18.3.4.rst
    │   │   ├── 18.3.5.rst
    │   │   ├── 18.3.6.rst
    │   │   ├── 19.0.0.rst
    │   │   ├── 19.0.1.rst
    │   │   ├── 19.0.2.rst
    │   │   ├── 19.0.3.rst
    │   │   ├── 19.0.4.rst
    │   │   ├── 19.0.5.rst
    │   │   ├── 19.0.6.rst
    │   │   ├── 19.0.7.rst
    │   │   ├── 19.0.8.rst
    │   │   ├── 19.1.0.rst
    │   │   ├── 19.1.1.rst
    │   │   ├── 19.1.2.rst
    │   │   ├── 19.1.3.rst
    │   │   ├── 19.1.4.rst
    │   │   ├── 19.1.5.rst
    │   │   ├── 19.1.6.rst
    │   │   ├── 19.1.7.rst
    │   │   ├── 19.1.8.rst
    │   │   ├── 19.2.0.rst
    │   │   ├── 19.2.1.rst
    │   │   ├── 19.2.2.rst
    │   │   ├── 19.2.3.rst
    │   │   ├── 19.2.4.rst
    │   │   ├── 19.2.5.rst
    │   │   ├── 19.2.6.rst
    │   │   ├── 19.2.7.rst
    │   │   ├── 19.2.8.rst
    │   │   ├── 19.3.0.rst
    │   │   ├── 19.3.1.rst
    │   │   ├── 19.3.2.rst
    │   │   ├── 19.3.3.rst
    │   │   ├── 19.3.4.rst
    │   │   ├── 19.3.5.rst
    │   │   ├── 20.0.0.rst
    │   │   ├── 20.0.1.rst
    │   │   ├── 20.0.2.rst
    │   │   ├── 20.0.3.rst
    │   │   ├── 20.0.4.rst
    │   │   ├── 20.0.5.rst
    │   │   ├── 20.0.6.rst
    │   │   ├── 20.0.7.rst
    │   │   ├── 20.0.8.rst
    │   │   ├── 20.1.0.rst
    │   │   ├── 20.1.1.rst
    │   │   ├── 20.1.10.rst
    │   │   ├── 20.1.2.rst
    │   │   ├── 20.1.3.rst
    │   │   ├── 20.1.4.rst
    │   │   ├── 20.1.5.rst
    │   │   ├── 20.1.6.rst
    │   │   ├── 20.1.7.rst
    │   │   ├── 20.1.8.rst
    │   │   ├── 20.1.9.rst
    │   │   ├── 20.2.0.rst
    │   │   ├── 20.2.1.rst
    │   │   ├── 20.2.2.rst
    │   │   ├── 20.2.3.rst
    │   │   ├── 20.2.4.rst
    │   │   ├── 20.2.5.rst
    │   │   ├── 20.2.6.rst
    │   │   ├── 20.3.0.rst
    │   │   ├── 20.3.1.rst
    │   │   ├── 20.3.2.rst
    │   │   ├── 20.3.3.rst
    │   │   ├── 20.3.4.rst
    │   │   ├── 20.3.5.rst
    │   │   ├── 21.0.0.rst
    │   │   ├── 21.0.1.rst
    │   │   ├── 21.0.2.rst
    │   │   ├── 21.0.3.rst
    │   │   ├── 21.1.1.rst
    │   │   ├── 21.1.2.rst
    │   │   ├── 21.1.3.rst
    │   │   ├── 21.1.4.rst
    │   │   ├── 21.1.5.rst
    │   │   ├── 21.1.6.rst
    │   │   ├── 21.1.7.rst
    │   │   ├── 21.1.8.rst
    │   │   ├── 21.2.2.rst
    │   │   ├── 21.2.3.rst
    │   │   ├── 21.2.4.rst
    │   │   ├── 21.2.5.rst
    │   │   ├── 21.2.6.rst
    │   │   ├── 21.3.0.rst
    │   │   ├── 21.3.1.rst
    │   │   ├── 21.3.2.rst
    │   │   ├── 21.3.3.rst
    │   │   ├── 21.3.4.rst
    │   │   ├── 21.3.5.rst
    │   │   ├── 21.3.6.rst
    │   │   ├── 21.3.7.rst
    │   │   ├── 21.3.8.rst
    │   │   ├── 21.3.9.rst
    │   │   ├── 22.0.0.rst
    │   │   ├── 22.0.1.rst
    │   │   ├── 22.0.2.rst
    │   │   ├── 22.0.3.rst
    │   │   ├── 22.0.4.rst
    │   │   ├── 22.0.5.rst
    │   │   ├── 22.1.0.rst
    │   │   ├── 22.1.1.rst
    │   │   ├── 22.1.2.rst
    │   │   ├── 22.1.3.rst
    │   │   ├── 22.1.4.rst
    │   │   ├── 22.1.5.rst
    │   │   ├── 3.1
    │   │   ├── 3.2
    │   │   ├── 3.2.1
    │   │   ├── 3.3
    │   │   ├── 3.4
    │   │   ├── 3.4.1
    │   │   ├── 3.4.2
    │   │   ├── 3.5
    │   │   ├── 4.0
    │   │   ├── 4.0.1
    │   │   ├── 4.0.2
    │   │   ├── 4.0.3
    │   │   ├── 4.1
    │   │   ├── 5.0
    │   │   ├── 5.0.1
    │   │   ├── 5.0.2
    │   │   ├── 5.1
    │   │   ├── 6.0
    │   │   ├── 6.0.1
    │   │   ├── 6.1
    │   │   ├── 6.2
    │   │   ├── 6.2.1
    │   │   ├── 6.3
    │   │   ├── 6.3.1
    │   │   ├── 6.3.2
    │   │   ├── 6.4
    │   │   ├── 6.4.1.rst
    │   │   ├── 6.4.2.rst
    │   │   ├── 6.4.rst
    │   │   ├── 6.5.1.rst
    │   │   ├── 6.5.2.rst
    │   │   ├── 6.5.3.rst
    │   │   ├── 6.5.rst
    │   │   ├── 7.0.1.rst
    │   │   ├── 7.0.2.rst
    │   │   ├── 7.0.3.rst
    │   │   ├── 7.0.4.rst
    │   │   ├── 7.0.rst
    │   │   ├── 7.1.rst
    │   │   ├── 7.10.1.rst
    │   │   ├── 7.10.2.rst
    │   │   ├── 7.10.3.rst
    │   │   ├── 7.10.rst
    │   │   ├── 7.11.1.rst
    │   │   ├── 7.11.2.rst
    │   │   ├── 7.11.rst
    │   │   ├── 7.2.rst
    │   │   ├── 7.3.rst
    │   │   ├── 7.4.1.rst
    │   │   ├── 7.4.2.rst
    │   │   ├── 7.4.3.rst
    │   │   ├── 7.4.4.rst
    │   │   ├── 7.4.rst
    │   │   ├── 7.5.1.rst
    │   │   ├── 7.5.2.rst
    │   │   ├── 7.5.rst
    │   │   ├── 7.6.1.rst
    │   │   ├── 7.6.rst
    │   │   ├── 7.7.1.rst
    │   │   ├── 7.7.rst
    │   │   ├── 7.8.1.rst
    │   │   ├── 7.8.2.rst
    │   │   ├── 7.8.3.rst
    │   │   ├── 7.8.rst
    │   │   ├── 7.9.1.rst
    │   │   ├── 7.9.2.rst
    │   │   ├── 7.9.rst
    │   │   ├── 8.0.1.rst
    │   │   ├── 8.0.2.rst
    │   │   ├── 8.0.3.rst
    │   │   ├── 8.0.4.rst
    │   │   ├── 8.0.5.rst
    │   │   ├── 8.0.rst
    │   │   ├── 9.0.1.rst
    │   │   ├── 9.0.2.rst
    │   │   ├── 9.0.3.rst
    │   │   ├── 9.0.rst
    │   │   ├── 9.1.1.rst
    │   │   ├── 9.1.2.rst
    │   │   ├── 9.1.3.rst
    │   │   ├── 9.1.4.rst
    │   │   ├── 9.1.5.rst
    │   │   ├── 9.1.6.rst
    │   │   ├── 9.1.7.rst
    │   │   ├── 9.1.rst
    │   │   ├── 9.2.1.rst
    │   │   ├── 9.2.2.rst
    │   │   ├── 9.2.3.rst
    │   │   ├── 9.2.4.rst
    │   │   ├── 9.2.5.rst
    │   │   ├── 9.2.rst
    │   │   └── new_features.txt
    │   └── vulkan/
    │       ├── base-objs.rst
    │       ├── dispatch.rst
    │       ├── graphics-state.rst
    │       ├── index.rst
    │       └── renderpass.rst
    ├── include/
    │   ├── c99_alloca.h
    │   ├── c99_compat.h
    │   ├── kopper_interface.h
    │   ├── meson.build
    │   ├── no_extern_c.h
    │   ├── android_stub/
    │   │   ├── android/
    │   │   │   ├── data_space.h
    │   │   │   ├── hardware_buffer.h
    │   │   │   ├── hdr_metadata.h
    │   │   │   ├── log.h
    │   │   │   ├── native_window.h
    │   │   │   ├── rect.h
    │   │   │   └── sync.h
    │   │   ├── backtrace/
    │   │   │   ├── Backtrace.h
    │   │   │   ├── backtrace_constants.h
    │   │   │   └── BacktraceMap.h
    │   │   ├── cutils/
    │   │   │   ├── compiler.h
    │   │   │   ├── log.h
    │   │   │   ├── native_handle.h
    │   │   │   ├── properties.h
    │   │   │   └── trace.h
    │   │   ├── hardware/
    │   │   │   ├── fb.h
    │   │   │   ├── gralloc.h
    │   │   │   ├── gralloc1.h
    │   │   │   ├── hardware.h
    │   │   │   └── hwvulkan.h
    │   │   ├── log/
    │   │   │   ├── event_tag_map.h
    │   │   │   ├── log.h
    │   │   │   ├── log_event_list.h
    │   │   │   ├── log_id.h
    │   │   │   ├── log_main.h
    │   │   │   ├── log_properties.h
    │   │   │   ├── log_radio.h
    │   │   │   ├── log_read.h
    │   │   │   ├── log_safetynet.h
    │   │   │   ├── log_system.h
    │   │   │   ├── log_time.h
    │   │   │   └── logprint.h
    │   │   ├── nativebase/
    │   │   │   └── nativebase.h
    │   │   ├── ndk/
    │   │   │   └── sync.h
    │   │   ├── sync/
    │   │   │   └── sync.h -> sync.h
    │   │   ├── system/
    │   │   │   ├── camera.h
    │   │   │   ├── graphics-base-v1.0.h
    │   │   │   ├── graphics-base-v1.1.h
    │   │   │   ├── graphics-base-v1.2.h
    │   │   │   ├── graphics-base.h
    │   │   │   ├── graphics-sw.h
    │   │   │   ├── graphics.h
    │   │   │   ├── radio.h
    │   │   │   ├── thread_defs.h
    │   │   │   └── window.h
    │   │   └── vndk/
    │   │       ├── hardware_buffer.h
    │   │       └── window.h
    │   ├── CL/
    │   │   ├── cl.h
    │   │   ├── cl_d3d10.h
    │   │   ├── cl_d3d11.h
    │   │   ├── cl_dx9_media_sharing.h
    │   │   ├── cl_dx9_media_sharing_intel.h
    │   │   ├── cl_egl.h
    │   │   ├── cl_ext.h
    │   │   ├── cl_ext_intel.h
    │   │   ├── cl_gl.h
    │   │   ├── cl_gl_ext.h
    │   │   ├── cl_icd.h
    │   │   ├── cl_platform.h
    │   │   ├── cl_va_api_media_sharing_intel.h
    │   │   ├── cl_version.h
    │   │   └── opencl.h
    │   ├── D3D9/
    │   │   ├── d3d9.h
    │   │   ├── d3d9caps.h
    │   │   ├── d3d9types.h
    │   │   └── .editorconfig
    │   ├── d3dadapter/
    │   │   ├── d3dadapter9.h
    │   │   ├── drm.h
    │   │   ├── present.h
    │   │   └── .editorconfig
    │   ├── drm-uapi/
    │   │   ├── README
    │   │   ├── amdgpu_drm.h
    │   │   ├── drm.h
    │   │   ├── drm_fourcc.h
    │   │   ├── drm_mode.h
    │   │   ├── etnaviv_drm.h
    │   │   ├── i915_drm.h
    │   │   ├── lima_drm.h
    │   │   ├── msm_drm.h
    │   │   ├── panfrost_drm.h
    │   │   ├── sync_file.h
    │   │   ├── tegra_drm.h
    │   │   ├── v3d_drm.h
    │   │   ├── vc4_drm.h
    │   │   └── virtgpu_drm.h
    │   ├── EGL/
    │   │   ├── egl.h
    │   │   ├── eglext.h
    │   │   ├── eglext_angle.h
    │   │   ├── eglmesaext.h
    │   │   └── eglplatform.h
    │   ├── GL/
    │   │   ├── gl.h
    │   │   ├── glx.h
    │   │   ├── glxext.h
    │   │   ├── mesa_glinterop.h
    │   │   ├── osmesa.h
    │   │   ├── wglext.h
    │   │   └── internal/
    │   │       └── dri_interface.h
    │   ├── GLES/
    │   │   ├── egl.h
    │   │   ├── gl.h
    │   │   ├── glext.h
    │   │   └── glplatform.h
    │   ├── GLES2/
    │   │   ├── gl2.h
    │   │   ├── gl2ext.h
    │   │   └── gl2platform.h
    │   ├── GLES3/
    │   │   ├── gl3.h
    │   │   ├── gl31.h
    │   │   ├── gl32.h
    │   │   ├── gl3ext.h
    │   │   └── gl3platform.h
    │   ├── HaikuGL/
    │   │   ├── README
    │   │   ├── GLRenderer.h
    │   │   ├── GLView.h
    │   │   └── OpenGLKit.h
    │   ├── KHR/
    │   │   └── khrplatform.h
    │   ├── pci_ids/
    │   │   ├── crocus_pci_ids.h
    │   │   ├── i830_pci_ids.h
    │   │   ├── i915_pci_ids.h
    │   │   ├── iris_pci_ids.h
    │   │   ├── r300_pci_ids.h
    │   │   ├── r600_pci_ids.h
    │   │   ├── radeonsi_pci_ids.h
    │   │   ├── virtio_gpu_pci_ids.h
    │   │   └── vmwgfx_pci_ids.h
    │   ├── vk_video/
    │   │   ├── vulkan_video_codec_h264std.h
    │   │   ├── vulkan_video_codec_h264std_decode.h
    │   │   ├── vulkan_video_codec_h264std_encode.h
    │   │   ├── vulkan_video_codec_h265std.h
    │   │   ├── vulkan_video_codec_h265std_decode.h
    │   │   ├── vulkan_video_codec_h265std_encode.h
    │   │   └── vulkan_video_codecs_common.h
    │   ├── vulkan/
    │   │   ├── vk_android_native_buffer.h
    │   │   ├── vk_icd.h
    │   │   ├── vk_layer.h
    │   │   ├── vk_platform.h
    │   │   ├── vulkan.h
    │   │   ├── vulkan_android.h
    │   │   ├── vulkan_beta.h
    │   │   ├── vulkan_directfb.h
    │   │   ├── vulkan_fuchsia.h
    │   │   ├── vulkan_ggp.h
    │   │   ├── vulkan_ios.h
    │   │   ├── vulkan_macos.h
    │   │   ├── vulkan_metal.h
    │   │   ├── vulkan_screen.h
    │   │   ├── vulkan_vi.h
    │   │   ├── vulkan_wayland.h
    │   │   ├── vulkan_win32.h
    │   │   ├── vulkan_xcb.h
    │   │   ├── vulkan_xlib.h
    │   │   ├── vulkan_xlib_xrandr.h
    │   │   └── .editorconfig
    │   └── winddk/
    │       ├── README.txt
    │       └── winddk_compat.h
    ├── src/
    │   ├── meson.build
    │   ├── amd/
    │   │   ├── meson.build
    │   │   ├── .clang-format
    │   │   ├── addrlib/
    │   │   │   ├── meson.build
    │   │   │   ├── inc/
    │   │   │   │   ├── addrinterface.h
    │   │   │   │   └── addrtypes.h
    │   │   │   └── src/
    │   │   │       ├── addrinterface.cpp
    │   │   │       ├── amdgpu_asic_addr.h
    │   │   │       ├── chip/
    │   │   │       │   ├── gfx10/
    │   │   │       │   │   └── gfx10_gb_reg.h
    │   │   │       │   ├── gfx11/
    │   │   │       │   │   └── gfx11_gb_reg.h
    │   │   │       │   ├── gfx9/
    │   │   │       │   │   └── gfx9_gb_reg.h
    │   │   │       │   └── r800/
    │   │   │       │       └── si_gb_reg.h
    │   │   │       ├── core/
    │   │   │       │   ├── addrcommon.h
    │   │   │       │   ├── addrelemlib.cpp
    │   │   │       │   ├── addrelemlib.h
    │   │   │       │   ├── addrlib.cpp
    │   │   │       │   ├── addrlib.h
    │   │   │       │   ├── addrlib1.cpp
    │   │   │       │   ├── addrlib1.h
    │   │   │       │   ├── addrlib2.cpp
    │   │   │       │   ├── addrlib2.h
    │   │   │       │   ├── addrobject.cpp
    │   │   │       │   ├── addrobject.h
    │   │   │       │   ├── coord.cpp
    │   │   │       │   └── coord.h
    │   │   │       ├── gfx10/
    │   │   │       │   ├── gfx10addrlib.cpp
    │   │   │       │   └── gfx10addrlib.h
    │   │   │       ├── gfx11/
    │   │   │       │   ├── gfx11addrlib.cpp
    │   │   │       │   ├── gfx11addrlib.h
    │   │   │       │   └── gfx11SwizzlePattern.h
    │   │   │       ├── gfx9/
    │   │   │       │   ├── gfx9addrlib.cpp
    │   │   │       │   └── gfx9addrlib.h
    │   │   │       └── r800/
    │   │   │           ├── ciaddrlib.cpp
    │   │   │           ├── ciaddrlib.h
    │   │   │           ├── egbaddrlib.cpp
    │   │   │           ├── egbaddrlib.h
    │   │   │           ├── siaddrlib.cpp
    │   │   │           └── siaddrlib.h
    │   │   ├── ci/
    │   │   │   ├── gitlab-ci.yml
    │   │   │   ├── radv-bonaire-aco-fails.txt
    │   │   │   ├── radv-bonaire-aco-skips.txt
    │   │   │   ├── radv-fiji-aco-fails.txt
    │   │   │   ├── radv-hawaii-aco-skips.txt
    │   │   │   ├── radv-kabini-aco-fails.txt
    │   │   │   ├── radv-kabini-aco-flakes.txt
    │   │   │   ├── radv-kabini-aco-skips.txt
    │   │   │   ├── radv-navi10-aco-fails.txt
    │   │   │   ├── radv-navi10-aco-flakes.txt
    │   │   │   ├── radv-navi14-aco-fails.txt
    │   │   │   ├── radv-navi21-aco-fails.txt
    │   │   │   ├── radv-navi21-aco-flakes.txt
    │   │   │   ├── radv-navi21-llvm-fails.txt
    │   │   │   ├── radv-navi21-llvm-flakes.txt
    │   │   │   ├── radv-navi22-aco-fails.txt
    │   │   │   ├── radv-navi22-aco-flakes.txt
    │   │   │   ├── radv-pitcairn-aco-fails.txt
    │   │   │   ├── radv-polaris10-aco-fails.txt
    │   │   │   ├── radv-polaris10-aco-flakes.txt
    │   │   │   ├── radv-polaris10-vkd3d.txt
    │   │   │   ├── radv-raven-aco-fails.txt
    │   │   │   ├── radv-raven-aco-skips.txt
    │   │   │   ├── radv-renoir-aco-fails.txt
    │   │   │   ├── radv-renoir-aco-flakes.txt
    │   │   │   ├── radv-renoir-aco-skips.txt
    │   │   │   ├── radv-skips.txt
    │   │   │   ├── radv-stoney-aco-fails.txt
    │   │   │   ├── radv-stoney-aco-flakes.txt
    │   │   │   ├── radv-stoney-aco-skips.txt
    │   │   │   ├── radv-vangogh-aco-fails.txt
    │   │   │   ├── radv-vangogh-aco-flakes.txt
    │   │   │   ├── radv-vega10-aco-fails.txt
    │   │   │   └── radv-vega10-aco-flakes.txt
    │   │   ├── common/
    │   │   │   ├── ac_binary.c
    │   │   │   ├── ac_binary.h
    │   │   │   ├── ac_debug.c
    │   │   │   ├── ac_debug.h
    │   │   │   ├── ac_drm_fourcc.h
    │   │   │   ├── ac_gpu_info.c
    │   │   │   ├── ac_gpu_info.h
    │   │   │   ├── ac_msgpack.c
    │   │   │   ├── ac_msgpack.h
    │   │   │   ├── ac_nir.c
    │   │   │   ├── ac_nir.h
    │   │   │   ├── ac_nir_cull.c
    │   │   │   ├── ac_nir_lower_esgs_io_to_mem.c
    │   │   │   ├── ac_nir_lower_global_access.c
    │   │   │   ├── ac_nir_lower_ngg.c
    │   │   │   ├── ac_nir_lower_resinfo.c
    │   │   │   ├── ac_nir_lower_taskmesh_io_to_mem.c
    │   │   │   ├── ac_nir_lower_tess_io_to_mem.c
    │   │   │   ├── ac_nir_opt_outputs.c
    │   │   │   ├── ac_perfcounter.c
    │   │   │   ├── ac_perfcounter.h
    │   │   │   ├── ac_rgp.c
    │   │   │   ├── ac_rgp.h
    │   │   │   ├── ac_rgp_elf_object_pack.c
    │   │   │   ├── ac_rtld.c
    │   │   │   ├── ac_rtld.h
    │   │   │   ├── ac_shader_args.c
    │   │   │   ├── ac_shader_args.h
    │   │   │   ├── ac_shader_util.c
    │   │   │   ├── ac_shader_util.h
    │   │   │   ├── ac_shadowed_regs.c
    │   │   │   ├── ac_shadowed_regs.h
    │   │   │   ├── ac_spm.c
    │   │   │   ├── ac_spm.h
    │   │   │   ├── ac_sqtt.c
    │   │   │   ├── ac_sqtt.h
    │   │   │   ├── ac_surface.c
    │   │   │   ├── ac_surface.h
    │   │   │   ├── ac_surface_meta_address_test.c
    │   │   │   ├── ac_surface_modifier_test.c
    │   │   │   ├── ac_surface_test_common.h
    │   │   │   ├── ac_uvd_dec.h
    │   │   │   ├── ac_vcn_dec.h
    │   │   │   ├── amd_family.c
    │   │   │   ├── amd_family.h
    │   │   │   ├── amd_kernel_code_t.h
    │   │   │   ├── gfx10_format_table.h
    │   │   │   ├── gfx10_format_table.py
    │   │   │   ├── meson.build
    │   │   │   ├── sid.h
    │   │   │   └── sid_tables.py
    │   │   ├── compiler/
    │   │   │   ├── README.md
    │   │   │   ├── aco_assembler.cpp
    │   │   │   ├── aco_builder_h.py
    │   │   │   ├── aco_dead_code_analysis.cpp
    │   │   │   ├── aco_dominance.cpp
    │   │   │   ├── aco_form_hard_clauses.cpp
    │   │   │   ├── aco_insert_exec_mask.cpp
    │   │   │   ├── aco_insert_NOPs.cpp
    │   │   │   ├── aco_insert_waitcnt.cpp
    │   │   │   ├── aco_instruction_selection.h
    │   │   │   ├── aco_instruction_selection_setup.cpp
    │   │   │   ├── aco_interface.cpp
    │   │   │   ├── aco_interface.h
    │   │   │   ├── aco_ir.cpp
    │   │   │   ├── aco_ir.h
    │   │   │   ├── aco_live_var_analysis.cpp
    │   │   │   ├── aco_lower_phis.cpp
    │   │   │   ├── aco_lower_to_cssa.cpp
    │   │   │   ├── aco_lower_to_hw_instr.cpp
    │   │   │   ├── aco_opcodes.py
    │   │   │   ├── aco_opcodes_cpp.py
    │   │   │   ├── aco_opcodes_h.py
    │   │   │   ├── aco_opt_value_numbering.cpp
    │   │   │   ├── aco_optimizer.cpp
    │   │   │   ├── aco_optimizer_postRA.cpp
    │   │   │   ├── aco_print_asm.cpp
    │   │   │   ├── aco_print_ir.cpp
    │   │   │   ├── aco_reduce_assign.cpp
    │   │   │   ├── aco_register_allocation.cpp
    │   │   │   ├── aco_reindex_ssa.cpp
    │   │   │   ├── aco_scheduler.cpp
    │   │   │   ├── aco_shader_info.h
    │   │   │   ├── aco_spill.cpp
    │   │   │   ├── aco_ssa_elimination.cpp
    │   │   │   ├── aco_statistics.cpp
    │   │   │   ├── aco_util.h
    │   │   │   ├── aco_validate.cpp
    │   │   │   ├── meson.build
    │   │   │   ├── README-ISA.md
    │   │   │   ├── .clang-format
    │   │   │   └── tests/
    │   │   │       ├── README.md
    │   │   │       ├── check_output.py
    │   │   │       ├── framework.h
    │   │   │       ├── glsl_scraper.py
    │   │   │       ├── helpers.cpp
    │   │   │       ├── helpers.h
    │   │   │       ├── main.cpp
    │   │   │       ├── meson.build
    │   │   │       ├── test_assembler.cpp
    │   │   │       ├── test_builder.cpp
    │   │   │       ├── test_hard_clause.cpp
    │   │   │       ├── test_insert_nops.cpp
    │   │   │       ├── test_isel.cpp
    │   │   │       ├── test_optimizer.cpp
    │   │   │       ├── test_optimizer_postRA.cpp
    │   │   │       ├── test_regalloc.cpp
    │   │   │       ├── test_sdwa.cpp
    │   │   │       ├── test_tests.cpp
    │   │   │       └── test_to_hw_instr.cpp
    │   │   ├── drm-shim/
    │   │   │   ├── README.md
    │   │   │   ├── meson.build
    │   │   │   └── radeon_noop_drm_shim.c
    │   │   ├── llvm/
    │   │   │   ├── ac_llvm_build.c
    │   │   │   ├── ac_llvm_build.h
    │   │   │   ├── ac_llvm_cull.c
    │   │   │   ├── ac_llvm_cull.h
    │   │   │   ├── ac_llvm_helper.cpp
    │   │   │   ├── ac_llvm_util.c
    │   │   │   ├── ac_llvm_util.h
    │   │   │   ├── ac_nir_to_llvm.c
    │   │   │   ├── ac_nir_to_llvm.h
    │   │   │   ├── ac_shader_abi.h
    │   │   │   └── meson.build
    │   │   ├── registers/
    │   │   │   ├── canonicalize.py
    │   │   │   ├── gfx10-rsrc.json
    │   │   │   ├── gfx11-rsrc.json
    │   │   │   ├── makeregheader.py
    │   │   │   ├── mergedbs.py
    │   │   │   ├── parse_kernel_headers.py
    │   │   │   ├── parseheader.py
    │   │   │   ├── pkt3.json
    │   │   │   ├── regdb.py
    │   │   │   └── registers-manually-defined.json
    │   │   └── vulkan/
    │   │       ├── 00-radv-defaults.conf
    │   │       ├── meson.build
    │   │       ├── radv_acceleration_structure.c
    │   │       ├── radv_acceleration_structure.h
    │   │       ├── radv_aco_shader_info.h
    │   │       ├── radv_android.c
    │   │       ├── radv_check_va.py
    │   │       ├── radv_constants.h
    │   │       ├── radv_cs.h
    │   │       ├── radv_debug.c
    │   │       ├── radv_debug.h
    │   │       ├── radv_descriptor_set.c
    │   │       ├── radv_descriptor_set.h
    │   │       ├── radv_device_generated_commands.c
    │   │       ├── radv_formats.c
    │   │       ├── radv_image.c
    │   │       ├── radv_llvm_helper.cpp
    │   │       ├── radv_llvm_helper.h
    │   │       ├── radv_meta.c
    │   │       ├── radv_meta.h
    │   │       ├── radv_meta_blit.c
    │   │       ├── radv_meta_blit2d.c
    │   │       ├── radv_meta_buffer.c
    │   │       ├── radv_meta_bufimage.c
    │   │       ├── radv_meta_clear.c
    │   │       ├── radv_meta_copy.c
    │   │       ├── radv_meta_copy_vrs_htile.c
    │   │       ├── radv_meta_dcc_retile.c
    │   │       ├── radv_meta_decompress.c
    │   │       ├── radv_meta_etc_decode.c
    │   │       ├── radv_meta_fast_clear.c
    │   │       ├── radv_meta_fmask_copy.c
    │   │       ├── radv_meta_fmask_expand.c
    │   │       ├── radv_meta_resolve.c
    │   │       ├── radv_meta_resolve_cs.c
    │   │       ├── radv_meta_resolve_fs.c
    │   │       ├── radv_nir_apply_pipeline_layout.c
    │   │       ├── radv_nir_lower_abi.c
    │   │       ├── radv_nir_lower_ray_queries.c
    │   │       ├── radv_nir_lower_ycbcr_textures.c
    │   │       ├── radv_nir_to_llvm.c
    │   │       ├── radv_pass.c
    │   │       ├── radv_perfcounter.c
    │   │       ├── radv_pipeline_cache.c
    │   │       ├── radv_pipeline_rt.c
    │   │       ├── radv_private.h
    │   │       ├── radv_query.c
    │   │       ├── radv_radeon_winsys.h
    │   │       ├── radv_rt_common.c
    │   │       ├── radv_rt_common.h
    │   │       ├── radv_sdma_copy_image.c
    │   │       ├── radv_shader.c
    │   │       ├── radv_shader.h
    │   │       ├── radv_shader_args.c
    │   │       ├── radv_shader_args.h
    │   │       ├── radv_shader_info.c
    │   │       ├── radv_spm.c
    │   │       ├── radv_sqtt.c
    │   │       ├── radv_wsi.c
    │   │       ├── si_cmd_buffer.c
    │   │       ├── vk_format.h
    │   │       ├── vulkan.sym
    │   │       ├── .editorconfig
    │   │       ├── bvh/
    │   │       │   ├── build_helpers.h
    │   │       │   ├── bvh.h
    │   │       │   ├── internal.comp
    │   │       │   ├── internal.h
    │   │       │   ├── leaf.comp
    │   │       │   ├── leaf.h
    │   │       │   ├── meson.build
    │   │       │   ├── morton.comp
    │   │       │   └── morton.h
    │   │       ├── layers/
    │   │       │   ├── radv_metro_exodus.c
    │   │       │   └── radv_sqtt_layer.c
    │   │       ├── radix_sort/
    │   │       │   ├── LICENSE
    │   │       │   ├── meson.build
    │   │       │   ├── radix_sort_vk.c
    │   │       │   ├── radix_sort_vk.h
    │   │       │   ├── radix_sort_vk_devaddr.h
    │   │       │   ├── radix_sort_vk_ext.h
    │   │       │   ├── radv_radix_sort.c
    │   │       │   ├── radv_radix_sort.h
    │   │       │   ├── target.h
    │   │       │   ├── common/
    │   │       │   │   ├── macros.h
    │   │       │   │   ├── util.c
    │   │       │   │   ├── util.h
    │   │       │   │   └── vk/
    │   │       │   │       ├── barrier.c
    │   │       │   │       └── barrier.h
    │   │       │   ├── shaders/
    │   │       │   │   ├── bufref.h
    │   │       │   │   ├── fill.comp
    │   │       │   │   ├── histogram.comp
    │   │       │   │   ├── init.comp
    │   │       │   │   ├── meson.build
    │   │       │   │   ├── prefix.comp
    │   │       │   │   ├── prefix.h
    │   │       │   │   ├── prefix_limits.h
    │   │       │   │   ├── push.h
    │   │       │   │   ├── scatter.glsl
    │   │       │   │   ├── scatter_0_even.comp
    │   │       │   │   ├── scatter_0_odd.comp
    │   │       │   │   ├── scatter_1_even.comp
    │   │       │   │   └── scatter_1_odd.comp
    │   │       │   └── targets/
    │   │       │       └── u64/
    │   │       │           └── config.h
    │   │       └── winsys/
    │   │           ├── amdgpu/
    │   │           │   ├── radv_amdgpu_bo.c
    │   │           │   ├── radv_amdgpu_bo.h
    │   │           │   ├── radv_amdgpu_cs.c
    │   │           │   ├── radv_amdgpu_cs.h
    │   │           │   ├── radv_amdgpu_surface.c
    │   │           │   ├── radv_amdgpu_surface.h
    │   │           │   ├── radv_amdgpu_winsys.c
    │   │           │   ├── radv_amdgpu_winsys.h
    │   │           │   └── radv_amdgpu_winsys_public.h
    │   │           └── null/
    │   │               ├── radv_null_bo.c
    │   │               ├── radv_null_bo.h
    │   │               ├── radv_null_cs.c
    │   │               ├── radv_null_cs.h
    │   │               ├── radv_null_winsys.c
    │   │               ├── radv_null_winsys.h
    │   │               └── radv_null_winsys_public.h
    │   ├── android_stub/
    │   │   ├── README.md
    │   │   ├── backtrace_stub.cpp
    │   │   ├── cutils_stub.cpp
    │   │   ├── hardware_stub.cpp
    │   │   ├── log_stub.cpp
    │   │   ├── meson.build
    │   │   ├── nativewindow_stub.cpp
    │   │   └── sync_stub.cpp
    │   ├── asahi/
    │   │   ├── meson.build
    │   │   ├── compiler/
    │   │   │   ├── agx_builder.h.py
    │   │   │   ├── agx_compile.c
    │   │   │   ├── agx_compile.h
    │   │   │   ├── agx_compiler.h
    │   │   │   ├── agx_dce.c
    │   │   │   ├── agx_liveness.c
    │   │   │   ├── agx_lower_parallel_copy.c
    │   │   │   ├── agx_lower_pseudo.c
    │   │   │   ├── agx_minifloat.h
    │   │   │   ├── agx_opcodes.c.py
    │   │   │   ├── agx_opcodes.h.py
    │   │   │   ├── agx_opcodes.py
    │   │   │   ├── agx_optimizer.c
    │   │   │   ├── agx_pack.c
    │   │   │   ├── agx_print.c
    │   │   │   ├── agx_register_allocate.c
    │   │   │   ├── agx_uniforms.c
    │   │   │   ├── agx_validate.c
    │   │   │   ├── cmdline.c
    │   │   │   ├── meson.build
    │   │   │   └── test/
    │   │   │       ├── agx_test.h
    │   │   │       ├── test-lower-parallel-copy.cpp
    │   │   │       ├── test-lower-pseudo.cpp
    │   │   │       ├── test-minifloat.cpp
    │   │   │       └── test-optimizer.cpp
    │   │   └── lib/
    │   │       ├── agx_bo.h
    │   │       ├── agx_device.c
    │   │       ├── agx_device.h
    │   │       ├── agx_formats.c
    │   │       ├── agx_formats.h
    │   │       ├── cmdbuf.xml
    │   │       ├── decode.c
    │   │       ├── decode.h
    │   │       ├── dyld_interpose.h
    │   │       ├── gen_pack.py
    │   │       ├── hexdump.h
    │   │       ├── io.h
    │   │       ├── meson.build
    │   │       ├── pool.c
    │   │       ├── pool.h
    │   │       ├── tiling.c
    │   │       ├── tiling.h
    │   │       ├── wrap.c
    │   │       └── tests/
    │   │           └── test-lod-clamps.cpp
    │   ├── broadcom/
    │   │   ├── meson.build
    │   │   ├── .editorconfig
    │   │   ├── ci/
    │   │   │   ├── broadcom-rpi3-fails.txt
    │   │   │   ├── broadcom-rpi3-flakes.txt
    │   │   │   ├── broadcom-rpi3-skips.txt
    │   │   │   ├── broadcom-rpi4-fails.txt
    │   │   │   ├── broadcom-rpi4-flakes.txt
    │   │   │   ├── broadcom-rpi4-skips.txt
    │   │   │   ├── deqp-broadcom-rpi3.toml
    │   │   │   ├── deqp-broadcom-rpi4.toml
    │   │   │   ├── gitlab-ci.yml
    │   │   │   └── traces-broadcom.yml
    │   │   ├── cle/
    │   │   │   ├── gen_pack_header.py
    │   │   │   ├── meson.build
    │   │   │   ├── v3d_decoder.c
    │   │   │   ├── v3d_decoder.h
    │   │   │   ├── v3d_packet_helpers.h
    │   │   │   ├── v3d_packet_v21.xml
    │   │   │   ├── v3d_packet_v33.xml
    │   │   │   └── v3dx_pack.h
    │   │   ├── clif/
    │   │   │   ├── clif_dump.c
    │   │   │   ├── clif_dump.h
    │   │   │   ├── clif_private.h
    │   │   │   └── v3dx_dump.c
    │   │   ├── common/
    │   │   │   ├── v3d_cpu_tiling.h
    │   │   │   ├── v3d_debug.c
    │   │   │   ├── v3d_debug.h
    │   │   │   ├── v3d_device_info.c
    │   │   │   ├── v3d_device_info.h
    │   │   │   ├── v3d_limits.h
    │   │   │   ├── v3d_macros.h
    │   │   │   ├── v3d_tfu.h
    │   │   │   ├── v3d_tiling.c
    │   │   │   ├── v3d_tiling.h
    │   │   │   ├── v3d_util.c
    │   │   │   └── v3d_util.h
    │   │   ├── compiler/
    │   │   │   ├── meson.build
    │   │   │   ├── nir_to_vir.c
    │   │   │   ├── qpu_schedule.c
    │   │   │   ├── qpu_validate.c
    │   │   │   ├── v3d33_tex.c
    │   │   │   ├── v3d33_vpm_setup.c
    │   │   │   ├── v3d40_tex.c
    │   │   │   ├── v3d_compiler.h
    │   │   │   ├── v3d_nir_lower_image_load_store.c
    │   │   │   ├── v3d_nir_lower_io.c
    │   │   │   ├── v3d_nir_lower_line_smooth.c
    │   │   │   ├── v3d_nir_lower_load_store_bitsize.c
    │   │   │   ├── v3d_nir_lower_logic_ops.c
    │   │   │   ├── v3d_nir_lower_robust_buffer_access.c
    │   │   │   ├── v3d_nir_lower_scratch.c
    │   │   │   ├── v3d_nir_lower_txf_ms.c
    │   │   │   ├── vir.c
    │   │   │   ├── vir_dump.c
    │   │   │   ├── vir_live_variables.c
    │   │   │   ├── vir_opt_constant_alu.c
    │   │   │   ├── vir_opt_copy_propagate.c
    │   │   │   ├── vir_opt_dead_code.c
    │   │   │   ├── vir_opt_redundant_flags.c
    │   │   │   ├── vir_opt_small_immediates.c
    │   │   │   ├── vir_register_allocate.c
    │   │   │   └── vir_to_qpu.c
    │   │   ├── drm-shim/
    │   │   │   ├── README.md
    │   │   │   ├── meson.build
    │   │   │   ├── v3d_noop.c
    │   │   │   └── vc4_noop.c
    │   │   ├── qpu/
    │   │   │   ├── meson.build
    │   │   │   ├── qpu_disasm.c
    │   │   │   ├── qpu_disasm.h
    │   │   │   ├── qpu_instr.c
    │   │   │   ├── qpu_instr.h
    │   │   │   ├── qpu_pack.c
    │   │   │   ├── qpu_validate.c
    │   │   │   └── tests/
    │   │   │       └── qpu_disasm.c
    │   │   ├── simulator/
    │   │   │   ├── meson.build
    │   │   │   ├── v3d_simulator.c
    │   │   │   ├── v3d_simulator.h
    │   │   │   ├── v3d_simulator_wrapper.cpp
    │   │   │   ├── v3d_simulator_wrapper.h
    │   │   │   ├── v3dx_simulator.c
    │   │   │   └── v3dx_simulator.h
    │   │   └── vulkan/
    │   │       ├── meson.build
    │   │       ├── v3dv_android.c
    │   │       ├── v3dv_bo.c
    │   │       ├── v3dv_bo.h
    │   │       ├── v3dv_cl.c
    │   │       ├── v3dv_cl.h
    │   │       ├── v3dv_cmd_buffer.c
    │   │       ├── v3dv_debug.c
    │   │       ├── v3dv_debug.h
    │   │       ├── v3dv_descriptor_set.c
    │   │       ├── v3dv_device.c
    │   │       ├── v3dv_formats.c
    │   │       ├── v3dv_image.c
    │   │       ├── v3dv_limits.h
    │   │       ├── v3dv_meta_clear.c
    │   │       ├── v3dv_meta_common.h
    │   │       ├── v3dv_meta_copy.c
    │   │       ├── v3dv_pass.c
    │   │       ├── v3dv_pipeline.c
    │   │       ├── v3dv_pipeline_cache.c
    │   │       ├── v3dv_private.h
    │   │       ├── v3dv_query.c
    │   │       ├── v3dv_queue.c
    │   │       ├── v3dv_uniforms.c
    │   │       ├── v3dv_wsi.c
    │   │       ├── v3dvx_cmd_buffer.c
    │   │       ├── v3dvx_descriptor_set.c
    │   │       ├── v3dvx_device.c
    │   │       ├── v3dvx_formats.c
    │   │       ├── v3dvx_image.c
    │   │       ├── v3dvx_meta_common.c
    │   │       ├── v3dvx_pipeline.c
    │   │       ├── v3dvx_private.h
    │   │       ├── v3dvx_queue.c
    │   │       ├── .dir-locals.el
    │   │       └── .editorconfig
    │   ├── c11/
    │   │   ├── threads.h
    │   │   ├── time.h
    │   │   └── impl/
    │   │       ├── meson.build
    │   │       ├── threads_posix.c
    │   │       ├── threads_win32.c
    │   │       ├── threads_win32.h
    │   │       ├── threads_win32_tls_callback.cpp
    │   │       ├── time.c
    │   │       └── .editorconfig
    │   ├── compiler/
    │   │   ├── builtin_type_macros.h
    │   │   ├── glsl_types.cpp
    │   │   ├── glsl_types.h
    │   │   ├── meson.build
    │   │   ├── nir_gl_types.h
    │   │   ├── nir_types.cpp
    │   │   ├── nir_types.h
    │   │   ├── shader_enums.c
    │   │   ├── shader_enums.h
    │   │   ├── shader_info.h
    │   │   ├── clc/
    │   │   │   ├── clc.c
    │   │   │   ├── clc.h
    │   │   │   ├── clc_helpers.cpp
    │   │   │   ├── clc_helpers.h
    │   │   │   └── meson.build
    │   │   ├── glsl/
    │   │   │   ├── README
    │   │   │   ├── ast.h
    │   │   │   ├── ast_array_index.cpp
    │   │   │   ├── ast_expr.cpp
    │   │   │   ├── ast_function.cpp
    │   │   │   ├── ast_type.cpp
    │   │   │   ├── builtin_functions.h
    │   │   │   ├── builtin_int64.h
    │   │   │   ├── builtin_types.cpp
    │   │   │   ├── builtin_variables.cpp
    │   │   │   ├── float64.glsl
    │   │   │   ├── generate_ir.cpp
    │   │   │   ├── gl_nir.h
    │   │   │   ├── gl_nir_link_atomics.c
    │   │   │   ├── gl_nir_link_uniform_blocks.c
    │   │   │   ├── gl_nir_link_uniform_initializers.c
    │   │   │   ├── gl_nir_link_uniforms.c
    │   │   │   ├── gl_nir_link_varyings.c
    │   │   │   ├── gl_nir_link_varyings.h
    │   │   │   ├── gl_nir_link_xfb.c
    │   │   │   ├── gl_nir_linker.c
    │   │   │   ├── gl_nir_linker.h
    │   │   │   ├── gl_nir_lower_atomics.c
    │   │   │   ├── gl_nir_lower_buffers.c
    │   │   │   ├── gl_nir_lower_images.c
    │   │   │   ├── gl_nir_lower_packed_varyings.c
    │   │   │   ├── gl_nir_lower_samplers.c
    │   │   │   ├── gl_nir_lower_samplers_as_deref.c
    │   │   │   ├── gl_nir_lower_xfb_varying.c
    │   │   │   ├── gl_nir_opt_dead_builtin_varyings.c
    │   │   │   ├── glsl_lexer.ll
    │   │   │   ├── glsl_parser.yy
    │   │   │   ├── glsl_parser_extras.cpp
    │   │   │   ├── glsl_parser_extras.h
    │   │   │   ├── glsl_symbol_table.cpp
    │   │   │   ├── glsl_symbol_table.h
    │   │   │   ├── glsl_to_nir.cpp
    │   │   │   ├── glsl_to_nir.h
    │   │   │   ├── hir_field_selection.cpp
    │   │   │   ├── int64.glsl
    │   │   │   ├── ir.cpp
    │   │   │   ├── ir.h
    │   │   │   ├── ir_array_refcount.cpp
    │   │   │   ├── ir_array_refcount.h
    │   │   │   ├── ir_basic_block.cpp
    │   │   │   ├── ir_basic_block.h
    │   │   │   ├── ir_builder.cpp
    │   │   │   ├── ir_builder.h
    │   │   │   ├── ir_builder_print_visitor.cpp
    │   │   │   ├── ir_builder_print_visitor.h
    │   │   │   ├── ir_clone.cpp
    │   │   │   ├── ir_constant_expression.cpp
    │   │   │   ├── ir_equals.cpp
    │   │   │   ├── ir_expression_flattening.cpp
    │   │   │   ├── ir_expression_flattening.h
    │   │   │   ├── ir_expression_operation.py
    │   │   │   ├── ir_function.cpp
    │   │   │   ├── ir_function_can_inline.cpp
    │   │   │   ├── ir_function_detect_recursion.cpp
    │   │   │   ├── ir_function_inlining.h
    │   │   │   ├── ir_hierarchical_visitor.cpp
    │   │   │   ├── ir_hierarchical_visitor.h
    │   │   │   ├── ir_hv_accept.cpp
    │   │   │   ├── ir_optimization.h
    │   │   │   ├── ir_print_visitor.cpp
    │   │   │   ├── ir_print_visitor.h
    │   │   │   ├── ir_reader.cpp
    │   │   │   ├── ir_reader.h
    │   │   │   ├── ir_rvalue_visitor.cpp
    │   │   │   ├── ir_rvalue_visitor.h
    │   │   │   ├── ir_set_program_inouts.cpp
    │   │   │   ├── ir_uniform.h
    │   │   │   ├── ir_validate.cpp
    │   │   │   ├── ir_variable_refcount.cpp
    │   │   │   ├── ir_variable_refcount.h
    │   │   │   ├── ir_visitor.h
    │   │   │   ├── link_functions.cpp
    │   │   │   ├── link_interface_blocks.cpp
    │   │   │   ├── link_uniform_block_active_visitor.cpp
    │   │   │   ├── link_uniform_block_active_visitor.h
    │   │   │   ├── link_uniform_blocks.cpp
    │   │   │   ├── link_uniforms.cpp
    │   │   │   ├── link_varyings.cpp
    │   │   │   ├── link_varyings.h
    │   │   │   ├── linker.cpp
    │   │   │   ├── linker.h
    │   │   │   ├── linker_util.cpp
    │   │   │   ├── linker_util.h
    │   │   │   ├── list.h
    │   │   │   ├── lower_blend_equation_advanced.cpp
    │   │   │   ├── lower_builtins.cpp
    │   │   │   ├── lower_cs_derived.cpp
    │   │   │   ├── lower_discard.cpp
    │   │   │   ├── lower_discard_flow.cpp
    │   │   │   ├── lower_distance.cpp
    │   │   │   ├── lower_instructions.cpp
    │   │   │   ├── lower_int64.cpp
    │   │   │   ├── lower_jumps.cpp
    │   │   │   ├── lower_mat_op_to_vec.cpp
    │   │   │   ├── lower_named_interface_blocks.cpp
    │   │   │   ├── lower_offset_array.cpp
    │   │   │   ├── lower_output_reads.cpp
    │   │   │   ├── lower_packing_builtins.cpp
    │   │   │   ├── lower_precision.cpp
    │   │   │   ├── lower_subroutine.cpp
    │   │   │   ├── lower_tess_level.cpp
    │   │   │   ├── lower_vec_index_to_cond_assign.cpp
    │   │   │   ├── lower_vec_index_to_swizzle.cpp
    │   │   │   ├── lower_vector_derefs.cpp
    │   │   │   ├── lower_vector_insert.cpp
    │   │   │   ├── lower_vertex_id.cpp
    │   │   │   ├── main.cpp
    │   │   │   ├── meson.build
    │   │   │   ├── opt_add_neg_to_sub.h
    │   │   │   ├── opt_algebraic.cpp
    │   │   │   ├── opt_array_splitting.cpp
    │   │   │   ├── opt_constant_folding.cpp
    │   │   │   ├── opt_constant_propagation.cpp
    │   │   │   ├── opt_constant_variable.cpp
    │   │   │   ├── opt_copy_propagation_elements.cpp
    │   │   │   ├── opt_dead_builtin_variables.cpp
    │   │   │   ├── opt_dead_code.cpp
    │   │   │   ├── opt_dead_code_local.cpp
    │   │   │   ├── opt_dead_functions.cpp
    │   │   │   ├── opt_flatten_nested_if_blocks.cpp
    │   │   │   ├── opt_flip_matrices.cpp
    │   │   │   ├── opt_function_inlining.cpp
    │   │   │   ├── opt_if_simplification.cpp
    │   │   │   ├── opt_minmax.cpp
    │   │   │   ├── opt_rebalance_tree.cpp
    │   │   │   ├── opt_structure_splitting.cpp
    │   │   │   ├── opt_tree_grafting.cpp
    │   │   │   ├── program.h
    │   │   │   ├── propagate_invariance.cpp
    │   │   │   ├── s_expression.cpp
    │   │   │   ├── s_expression.h
    │   │   │   ├── serialize.cpp
    │   │   │   ├── serialize.h
    │   │   │   ├── shader_cache.cpp
    │   │   │   ├── shader_cache.h
    │   │   │   ├── standalone.cpp
    │   │   │   ├── standalone.h
    │   │   │   ├── standalone_scaffolding.cpp
    │   │   │   ├── standalone_scaffolding.h
    │   │   │   ├── string_to_uint_map.cpp
    │   │   │   ├── string_to_uint_map.h
    │   │   │   ├── test.cpp
    │   │   │   ├── test_optpass.cpp
    │   │   │   ├── test_optpass.h
    │   │   │   ├── TODO
    │   │   │   ├── glcpp/
    │   │   │   │   ├── README
    │   │   │   │   ├── glcpp-lex.l
    │   │   │   │   ├── glcpp-parse.y
    │   │   │   │   ├── glcpp.c
    │   │   │   │   ├── glcpp.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── pp.c
    │   │   │   │   ├── pp_standalone_scaffolding.c
    │   │   │   │   ├── pp_standalone_scaffolding.h
    │   │   │   │   └── tests/
    │   │   │   │       ├── 000-content-with-spaces.c
    │   │   │   │       ├── 000-content-with-spaces.c.expected
    │   │   │   │       ├── 001-define.c
    │   │   │   │       ├── 001-define.c.expected
    │   │   │   │       ├── 002-define-chain.c
    │   │   │   │       ├── 002-define-chain.c.expected
    │   │   │   │       ├── 003-define-chain-reverse.c
    │   │   │   │       ├── 003-define-chain-reverse.c.expected
    │   │   │   │       ├── 004-define-recursive.c
    │   │   │   │       ├── 004-define-recursive.c.expected
    │   │   │   │       ├── 005-define-composite-chain.c
    │   │   │   │       ├── 005-define-composite-chain.c.expected
    │   │   │   │       ├── 006-define-composite-chain-reverse.c
    │   │   │   │       ├── 006-define-composite-chain-reverse.c.expected
    │   │   │   │       ├── 007-define-composite-recursive.c
    │   │   │   │       ├── 007-define-composite-recursive.c.expected
    │   │   │   │       ├── 008-define-empty.c
    │   │   │   │       ├── 008-define-empty.c.expected
    │   │   │   │       ├── 009-undef.c
    │   │   │   │       ├── 009-undef.c.expected
    │   │   │   │       ├── 010-undef-re-define.c
    │   │   │   │       ├── 010-undef-re-define.c.expected
    │   │   │   │       ├── 011-define-func-empty.c
    │   │   │   │       ├── 011-define-func-empty.c.expected
    │   │   │   │       ├── 012-define-func-no-args.c
    │   │   │   │       ├── 012-define-func-no-args.c.expected
    │   │   │   │       ├── 013-define-func-1-arg-unused.c
    │   │   │   │       ├── 013-define-func-1-arg-unused.c.expected
    │   │   │   │       ├── 014-define-func-2-arg-unused.c
    │   │   │   │       ├── 014-define-func-2-arg-unused.c.expected
    │   │   │   │       ├── 015-define-object-with-parens.c
    │   │   │   │       ├── 015-define-object-with-parens.c.expected
    │   │   │   │       ├── 016-define-func-1-arg.c
    │   │   │   │       ├── 016-define-func-1-arg.c.expected
    │   │   │   │       ├── 017-define-func-2-args.c
    │   │   │   │       ├── 017-define-func-2-args.c.expected
    │   │   │   │       ├── 018-define-func-macro-as-parameter.c
    │   │   │   │       ├── 018-define-func-macro-as-parameter.c.expected
    │   │   │   │       ├── 019-define-func-1-arg-multi.c
    │   │   │   │       ├── 019-define-func-1-arg-multi.c.expected
    │   │   │   │       ├── 020-define-func-2-arg-multi.c
    │   │   │   │       ├── 020-define-func-2-arg-multi.c.expected
    │   │   │   │       ├── 021-define-func-compose.c
    │   │   │   │       ├── 021-define-func-compose.c.expected
    │   │   │   │       ├── 022-define-func-arg-with-parens.c
    │   │   │   │       ├── 022-define-func-arg-with-parens.c.expected
    │   │   │   │       ├── 023-define-extra-whitespace.c
    │   │   │   │       ├── 023-define-extra-whitespace.c.expected
    │   │   │   │       ├── 024-define-chain-to-self-recursion.c
    │   │   │   │       ├── 024-define-chain-to-self-recursion.c.expected
    │   │   │   │       ├── 025-func-macro-as-non-macro.c
    │   │   │   │       ├── 025-func-macro-as-non-macro.c.expected
    │   │   │   │       ├── 026-define-func-extra-newlines.c
    │   │   │   │       ├── 026-define-func-extra-newlines.c.expected
    │   │   │   │       ├── 027-define-chain-obj-to-func.c
    │   │   │   │       ├── 027-define-chain-obj-to-func.c.expected
    │   │   │   │       ├── 028-define-chain-obj-to-non-func.c
    │   │   │   │       ├── 028-define-chain-obj-to-non-func.c.expected
    │   │   │   │       ├── 029-define-chain-obj-to-func-with-args.c
    │   │   │   │       ├── 029-define-chain-obj-to-func-with-args.c.expected
    │   │   │   │       ├── 030-define-chain-obj-to-func-compose.c
    │   │   │   │       ├── 030-define-chain-obj-to-func-compose.c.expected
    │   │   │   │       ├── 031-define-chain-func-to-func-compose.c
    │   │   │   │       ├── 031-define-chain-func-to-func-compose.c.expected
    │   │   │   │       ├── 032-define-func-self-recurse.c
    │   │   │   │       ├── 032-define-func-self-recurse.c.expected
    │   │   │   │       ├── 033-define-func-self-compose.c
    │   │   │   │       ├── 033-define-func-self-compose.c.expected
    │   │   │   │       ├── 034-define-func-self-compose-non-func.c
    │   │   │   │       ├── 034-define-func-self-compose-non-func.c.expected
    │   │   │   │       ├── 035-define-func-self-compose-non-func-multi-token-argument.c
    │   │   │   │       ├── 035-define-func-self-compose-non-func-multi-token-argument.c.expected
    │   │   │   │       ├── 036-define-func-non-macro-multi-token-argument.c
    │   │   │   │       ├── 036-define-func-non-macro-multi-token-argument.c.expected
    │   │   │   │       ├── 037-finalize-unexpanded-macro.c
    │   │   │   │       ├── 037-finalize-unexpanded-macro.c.expected
    │   │   │   │       ├── 038-func-arg-with-commas.c
    │   │   │   │       ├── 038-func-arg-with-commas.c.expected
    │   │   │   │       ├── 039-func-arg-obj-macro-with-comma.c
    │   │   │   │       ├── 039-func-arg-obj-macro-with-comma.c.expected
    │   │   │   │       ├── 040-token-pasting.c
    │   │   │   │       ├── 040-token-pasting.c.expected
    │   │   │   │       ├── 041-if-0.c
    │   │   │   │       ├── 041-if-0.c.expected
    │   │   │   │       ├── 042-if-1.c
    │   │   │   │       ├── 042-if-1.c.expected
    │   │   │   │       ├── 043-if-0-else.c
    │   │   │   │       ├── 043-if-0-else.c.expected
    │   │   │   │       ├── 044-if-1-else.c
    │   │   │   │       ├── 044-if-1-else.c.expected
    │   │   │   │       ├── 045-if-0-elif.c
    │   │   │   │       ├── 045-if-0-elif.c.expected
    │   │   │   │       ├── 046-if-1-elsif.c
    │   │   │   │       ├── 046-if-1-elsif.c.expected
    │   │   │   │       ├── 047-if-elif-else.c
    │   │   │   │       ├── 047-if-elif-else.c.expected
    │   │   │   │       ├── 048-if-nested.c
    │   │   │   │       ├── 048-if-nested.c.expected
    │   │   │   │       ├── 049-if-expression-precedence.c
    │   │   │   │       ├── 049-if-expression-precedence.c.expected
    │   │   │   │       ├── 050-if-defined.c
    │   │   │   │       ├── 050-if-defined.c.expected
    │   │   │   │       ├── 051-if-relational.c
    │   │   │   │       ├── 051-if-relational.c.expected
    │   │   │   │       ├── 052-if-bitwise.c
    │   │   │   │       ├── 052-if-bitwise.c.expected
    │   │   │   │       ├── 053-if-divide-and-shift.c
    │   │   │   │       ├── 053-if-divide-and-shift.c.expected
    │   │   │   │       ├── 054-if-with-macros.c
    │   │   │   │       ├── 054-if-with-macros.c.expected
    │   │   │   │       ├── 055-define-chain-obj-to-func-parens-in-text.c
    │   │   │   │       ├── 055-define-chain-obj-to-func-parens-in-text.c.expected
    │   │   │   │       ├── 056-macro-argument-with-comma.c
    │   │   │   │       ├── 056-macro-argument-with-comma.c.expected
    │   │   │   │       ├── 057-empty-arguments.c
    │   │   │   │       ├── 057-empty-arguments.c.expected
    │   │   │   │       ├── 058-token-pasting-empty-arguments.c
    │   │   │   │       ├── 058-token-pasting-empty-arguments.c.expected
    │   │   │   │       ├── 059-token-pasting-integer.c
    │   │   │   │       ├── 059-token-pasting-integer.c.expected
    │   │   │   │       ├── 060-left-paren-in-macro-right-paren-in-text.c
    │   │   │   │       ├── 060-left-paren-in-macro-right-paren-in-text.c.expected
    │   │   │   │       ├── 061-define-chain-obj-to-func-multi.c
    │   │   │   │       ├── 061-define-chain-obj-to-func-multi.c.expected
    │   │   │   │       ├── 062-if-0-skips-garbage.c
    │   │   │   │       ├── 062-if-0-skips-garbage.c.expected
    │   │   │   │       ├── 063-comments.c
    │   │   │   │       ├── 063-comments.c.expected
    │   │   │   │       ├── 064-version.c
    │   │   │   │       ├── 064-version.c.expected
    │   │   │   │       ├── 065-if-defined-parens.c
    │   │   │   │       ├── 065-if-defined-parens.c.expected
    │   │   │   │       ├── 066-if-nospace-expression.c
    │   │   │   │       ├── 066-if-nospace-expression.c.expected
    │   │   │   │       ├── 067-nested-ifdef-ifndef.c
    │   │   │   │       ├── 067-nested-ifdef-ifndef.c.expected
    │   │   │   │       ├── 068-accidental-pasting.c
    │   │   │   │       ├── 068-accidental-pasting.c.expected
    │   │   │   │       ├── 069-repeated-argument.c
    │   │   │   │       ├── 069-repeated-argument.c.expected
    │   │   │   │       ├── 070-undefined-macro-in-expression.c
    │   │   │   │       ├── 070-undefined-macro-in-expression.c.expected
    │   │   │   │       ├── 071-punctuator.c
    │   │   │   │       ├── 071-punctuator.c.expected
    │   │   │   │       ├── 072-token-pasting-same-line.c
    │   │   │   │       ├── 072-token-pasting-same-line.c.expected
    │   │   │   │       ├── 073-if-in-ifdef.c
    │   │   │   │       ├── 073-if-in-ifdef.c.expected
    │   │   │   │       ├── 074-elif-undef.c
    │   │   │   │       ├── 074-elif-undef.c.expected
    │   │   │   │       ├── 075-elif-elif-undef.c
    │   │   │   │       ├── 075-elif-elif-undef.c.expected
    │   │   │   │       ├── 076-elif-undef-nested.c
    │   │   │   │       ├── 076-elif-undef-nested.c.expected
    │   │   │   │       ├── 077-else-without-if.c
    │   │   │   │       ├── 077-else-without-if.c.expected
    │   │   │   │       ├── 078-elif-without-if.c
    │   │   │   │       ├── 078-elif-without-if.c.expected
    │   │   │   │       ├── 079-endif-without-if.c
    │   │   │   │       ├── 079-endif-without-if.c.expected
    │   │   │   │       ├── 080-if-without-expression.c
    │   │   │   │       ├── 080-if-without-expression.c.expected
    │   │   │   │       ├── 081-elif-without-expression.c
    │   │   │   │       ├── 081-elif-without-expression.c.expected
    │   │   │   │       ├── 082-invalid-paste.c
    │   │   │   │       ├── 082-invalid-paste.c.expected
    │   │   │   │       ├── 083-unterminated-if.c
    │   │   │   │       ├── 083-unterminated-if.c.expected
    │   │   │   │       ├── 084-unbalanced-parentheses.c
    │   │   │   │       ├── 084-unbalanced-parentheses.c.expected
    │   │   │   │       ├── 085-incorrect-argument-count.c
    │   │   │   │       ├── 085-incorrect-argument-count.c.expected
    │   │   │   │       ├── 086-reserved-macro-names.c
    │   │   │   │       ├── 086-reserved-macro-names.c.expected
    │   │   │   │       ├── 087-if-comments.c
    │   │   │   │       ├── 087-if-comments.c.expected
    │   │   │   │       ├── 088-redefine-macro-legitimate.c
    │   │   │   │       ├── 088-redefine-macro-legitimate.c.expected
    │   │   │   │       ├── 089-redefine-macro-error.c
    │   │   │   │       ├── 089-redefine-macro-error.c.expected
    │   │   │   │       ├── 090-hash-error.c
    │   │   │   │       ├── 090-hash-error.c.expected
    │   │   │   │       ├── 091-hash-line.c
    │   │   │   │       ├── 091-hash-line.c.expected
    │   │   │   │       ├── 092-redefine-macro-error-2.c
    │   │   │   │       ├── 092-redefine-macro-error-2.c.expected
    │   │   │   │       ├── 093-divide-by-zero.c
    │   │   │   │       ├── 093-divide-by-zero.c.expected
    │   │   │   │       ├── 094-divide-by-zero-short-circuit.c
    │   │   │   │       ├── 094-divide-by-zero-short-circuit.c.expected
    │   │   │   │       ├── 095-recursive-define.c
    │   │   │   │       ├── 095-recursive-define.c.expected
    │   │   │   │       ├── 096-paste-twice.c
    │   │   │   │       ├── 096-paste-twice.c.expected
    │   │   │   │       ├── 097-paste-with-non-function-macro.c
    │   │   │   │       ├── 097-paste-with-non-function-macro.c.expected
    │   │   │   │       ├── 098-elif-undefined.c
    │   │   │   │       ├── 098-elif-undefined.c.expected
    │   │   │   │       ├── 099-c99-example.c
    │   │   │   │       ├── 099-c99-example.c.expected
    │   │   │   │       ├── 100-macro-with-colon.c
    │   │   │   │       ├── 100-macro-with-colon.c.expected
    │   │   │   │       ├── 101-macros-used-twice.c
    │   │   │   │       ├── 101-macros-used-twice.c.expected
    │   │   │   │       ├── 102-garbage-after-endif.c
    │   │   │   │       ├── 102-garbage-after-endif.c.expected
    │   │   │   │       ├── 103-garbage-after-else-0.c
    │   │   │   │       ├── 103-garbage-after-else-0.c.expected
    │   │   │   │       ├── 104-hash-line-followed-by-code.c
    │   │   │   │       ├── 104-hash-line-followed-by-code.c.expected
    │   │   │   │       ├── 105-multiline-hash-line.c
    │   │   │   │       ├── 105-multiline-hash-line.c.expected
    │   │   │   │       ├── 106-multiline-hash-if.c
    │   │   │   │       ├── 106-multiline-hash-if.c.expected
    │   │   │   │       ├── 107-multiline-hash-elif.c
    │   │   │   │       ├── 107-multiline-hash-elif.c.expected
    │   │   │   │       ├── 108-no-space-after-hash-version.c
    │   │   │   │       ├── 108-no-space-after-hash-version.c.expected
    │   │   │   │       ├── 109-no-space-after-hash-line.c
    │   │   │   │       ├── 109-no-space-after-hash-line.c.expected
    │   │   │   │       ├── 110-no-space-digits-after-hash-elif.c
    │   │   │   │       ├── 110-no-space-digits-after-hash-elif.c.expected
    │   │   │   │       ├── 111-no-space-operator-after-hash-if.c
    │   │   │   │       ├── 111-no-space-operator-after-hash-if.c.expected
    │   │   │   │       ├── 112-no-space-operator-after-hash-elif.c
    │   │   │   │       ├── 112-no-space-operator-after-hash-elif.c.expected
    │   │   │   │       ├── 113-line-and-file-macros.c
    │   │   │   │       ├── 113-line-and-file-macros.c.expected
    │   │   │   │       ├── 114-paste-integer-tokens.c
    │   │   │   │       ├── 114-paste-integer-tokens.c.expected
    │   │   │   │       ├── 115-line-continuations.c
    │   │   │   │       ├── 115-line-continuations.c.expected
    │   │   │   │       ├── 116-disable-line-continuations.c
    │   │   │   │       ├── 116-disable-line-continuations.c.expected
    │   │   │   │       ├── 117-line-continuation-and-non-continuation-backslash.c
    │   │   │   │       ├── 117-line-continuation-and-non-continuation-backslash.c.expected
    │   │   │   │       ├── 118-comment-becomes-space.c
    │   │   │   │       ├── 118-comment-becomes-space.c.expected
    │   │   │   │       ├── 119-elif-after-else.c
    │   │   │   │       ├── 119-elif-after-else.c.expected
    │   │   │   │       ├── 120-undef-builtin.c
    │   │   │   │       ├── 120-undef-builtin.c.expected
    │   │   │   │       ├── 121-comment-bug-72686.c
    │   │   │   │       ├── 121-comment-bug-72686.c.expected
    │   │   │   │       ├── 122-redefine-whitespace.c
    │   │   │   │       ├── 122-redefine-whitespace.c.expected
    │   │   │   │       ├── 123-garbage-after-else-1.c
    │   │   │   │       ├── 123-garbage-after-else-1.c.expected
    │   │   │   │       ├── 124-preprocessing-numbers.c
    │   │   │   │       ├── 124-preprocessing-numbers.c.expected
    │   │   │   │       ├── 125-es-short-circuit-undefined.c
    │   │   │   │       ├── 125-es-short-circuit-undefined.c.expected
    │   │   │   │       ├── 126-garbage-after-directive.c
    │   │   │   │       ├── 126-garbage-after-directive.c.expected
    │   │   │   │       ├── 127-pragma-empty.c
    │   │   │   │       ├── 127-pragma-empty.c.expected
    │   │   │   │       ├── 128-space-before-hash.c
    │   │   │   │       ├── 128-space-before-hash.c.expected
    │   │   │   │       ├── 129-define-non-identifier.c
    │   │   │   │       ├── 129-define-non-identifier.c.expected
    │   │   │   │       ├── 130-define-comment.c
    │   │   │   │       ├── 130-define-comment.c.expected
    │   │   │   │       ├── 131-eof-without-newline.c
    │   │   │   │       ├── 131-eof-without-newline.c.expected
    │   │   │   │       ├── 132-eof-without-newline-define.c
    │   │   │   │       ├── 132-eof-without-newline-define.c.expected
    │   │   │   │       ├── 133-eof-without-newline-comment.c
    │   │   │   │       ├── 133-eof-without-newline-comment.c.expected
    │   │   │   │       ├── 134-hash-comment-directive.c
    │   │   │   │       ├── 134-hash-comment-directive.c.expected
    │   │   │   │       ├── 135-duplicate-parameter.c
    │   │   │   │       ├── 135-duplicate-parameter.c.expected
    │   │   │   │       ├── 136-plus-plus-and-minus-minus.c
    │   │   │   │       ├── 136-plus-plus-and-minus-minus.c.expected
    │   │   │   │       ├── 137-expand-macro-after-period.c
    │   │   │   │       ├── 137-expand-macro-after-period.c.expected
    │   │   │   │       ├── 138-multi-line-comment-in-if-0.c
    │   │   │   │       ├── 138-multi-line-comment-in-if-0.c.expected
    │   │   │   │       ├── 139-define-without-macro-name.c
    │   │   │   │       ├── 139-define-without-macro-name.c.expected
    │   │   │   │       ├── 140-null-directive.c
    │   │   │   │       ├── 140-null-directive.c.expected
    │   │   │   │       ├── 141-pragma-and-__LINE__.c
    │   │   │   │       ├── 141-pragma-and-__LINE__.c.expected
    │   │   │   │       ├── 142-defined-within-macro.c
    │   │   │   │       ├── 142-defined-within-macro.c.expected
    │   │   │   │       ├── 143-multiple-else.c
    │   │   │   │       ├── 143-multiple-else.c.expected
    │   │   │   │       ├── 144-implicit-version.c
    │   │   │   │       ├── 144-implicit-version.c.expected
    │   │   │   │       ├── 145-version-first.c
    │   │   │   │       ├── 145-version-first.c.expected
    │   │   │   │       ├── 146-version-first-hash.c
    │   │   │   │       ├── 146-version-first-hash.c.expected
    │   │   │   │       ├── 147-define-macro-no-space.c
    │   │   │   │       ├── 147-define-macro-no-space.c.expected
    │   │   │   │       ├── 147-undef-builtin-allowed.c
    │   │   │   │       ├── 147-undef-builtin-allowed.c.expected
    │   │   │   │       ├── 148-legal-characters.c
    │   │   │   │       ├── 148-legal-characters.c.expected
    │   │   │   │       ├── 149-hex-const-uppercase-prefix.c
    │   │   │   │       ├── 149-hex-const-uppercase-prefix.c.expected
    │   │   │   │       └── glcpp_test.py
    │   │   │   └── tests/
    │   │   │       ├── array_refcount_test.cpp
    │   │   │       ├── builtin_variable_test.cpp
    │   │   │       ├── general_ir_test.cpp
    │   │   │       ├── list_iterators.cpp
    │   │   │       ├── lower_int64_test.cpp
    │   │   │       ├── lower_jump_cases.py
    │   │   │       ├── lower_precision_test.py
    │   │   │       ├── meson.build
    │   │   │       ├── opt_add_neg_to_sub_test.cpp
    │   │   │       ├── optimization_test.py
    │   │   │       ├── sampler_types_test.cpp
    │   │   │       ├── sexps.py
    │   │   │       ├── standalone_dump-builder.frag
    │   │   │       ├── warnings_test.py
    │   │   │       └── warnings/
    │   │   │           ├── 000-basic-test.vert
    │   │   │           ├── 000-basic-test.vert.expected
    │   │   │           ├── 001-use-undefined-then-define.vert
    │   │   │           ├── 001-use-undefined-then-define.vert.expected
    │   │   │           ├── 002-loop.vert
    │   │   │           ├── 002-loop.vert.expected
    │   │   │           ├── 003-less.vert
    │   │   │           ├── 003-less.vert.expected
    │   │   │           ├── 004-greater.vert
    │   │   │           ├── 004-greater.vert.expected
    │   │   │           ├── 005-lequal.vert
    │   │   │           ├── 005-lequal.vert.expected
    │   │   │           ├── 006-gequal.vert
    │   │   │           ├── 006-gequal.vert.expected
    │   │   │           ├── 007-test-mod.vert
    │   │   │           ├── 007-test-mod.vert.expected
    │   │   │           ├── 008-mulassign.vert
    │   │   │           ├── 008-mulassign.vert.expected
    │   │   │           ├── 009-div-assign.vert
    │   │   │           ├── 009-div-assign.vert.expected
    │   │   │           ├── 010-add-assign.vert
    │   │   │           ├── 010-add-assign.vert.expected
    │   │   │           ├── 011-sub-assign.vert
    │   │   │           ├── 011-sub-assign.vert.expected
    │   │   │           ├── 012-modassign.vert
    │   │   │           ├── 012-modassign.vert.expected
    │   │   │           ├── 013-lsassign.vert
    │   │   │           ├── 013-lsassign.vert.expected
    │   │   │           ├── 014-rsassign.vert
    │   │   │           ├── 014-rsassign.vert.expected
    │   │   │           ├── 015-andassign.vert
    │   │   │           ├── 015-andassign.vert.expected
    │   │   │           ├── 016-orassign.vert
    │   │   │           ├── 016-orassign.vert.expected
    │   │   │           ├── 017-xorassign.vert
    │   │   │           ├── 017-xorassign.vert.expected
    │   │   │           ├── 018-bitand.vert
    │   │   │           ├── 018-bitand.vert.expected
    │   │   │           ├── 019-array.vert
    │   │   │           ├── 019-array.vert.expected
    │   │   │           ├── 020-array-length.vert
    │   │   │           ├── 020-array-length.vert.expected
    │   │   │           ├── 021-lshift.vert
    │   │   │           ├── 021-lshift.vert.expected
    │   │   │           ├── 022-rshift.vert
    │   │   │           ├── 022-rshift.vert.expected
    │   │   │           ├── 023-switch.vert
    │   │   │           ├── 023-switch.vert.expected
    │   │   │           ├── 024-shaderout.vert
    │   │   │           ├── 024-shaderout.vert.expected
    │   │   │           ├── 025-function-parameters.vert
    │   │   │           ├── 025-function-parameters.vert.expected
    │   │   │           ├── 026-out-function-parameter-shaderout.vert
    │   │   │           ├── 026-out-function-parameter-shaderout.vert.expected
    │   │   │           ├── 027-inout-function-parameter-shaderout.vert
    │   │   │           ├── 027-inout-function-parameter-shaderout.vert.expected
    │   │   │           ├── 028-conditional.vert
    │   │   │           ├── 028-conditional.vert.expected
    │   │   │           ├── 029-fieldselection.vert
    │   │   │           ├── 029-fieldselection.vert.expected
    │   │   │           ├── 030-array-as-function-parameter.vert
    │   │   │           ├── 030-array-as-function-parameter.vert.expected
    │   │   │           ├── 031-__-in-function-name.vert
    │   │   │           ├── 031-__-in-function-name.vert.expected
    │   │   │           ├── 032-__-in-function-name-pragma-disable.vert
    │   │   │           └── 032-__-in-function-name-pragma-disable.vert.expected
    │   │   ├── isaspec/
    │   │   │   ├── decode.c
    │   │   │   ├── decode.h
    │   │   │   ├── decode.py
    │   │   │   ├── encode.py
    │   │   │   ├── isa.py
    │   │   │   ├── meson.build
    │   │   │   └── README.rst -> isaspec.rst
    │   │   ├── nir/
    │   │   │   ├── README
    │   │   │   ├── meson.build
    │   │   │   ├── nir.c
    │   │   │   ├── nir.h
    │   │   │   ├── nir_algebraic.py
    │   │   │   ├── nir_builder.c
    │   │   │   ├── nir_builder.h
    │   │   │   ├── nir_builder_opcodes_h.py
    │   │   │   ├── nir_builtin_builder.c
    │   │   │   ├── nir_builtin_builder.h
    │   │   │   ├── nir_clone.c
    │   │   │   ├── nir_constant_expressions.h
    │   │   │   ├── nir_constant_expressions.py
    │   │   │   ├── nir_control_flow.c
    │   │   │   ├── nir_control_flow.h
    │   │   │   ├── nir_control_flow_private.h
    │   │   │   ├── nir_conversion_builder.h
    │   │   │   ├── nir_convert_ycbcr.c
    │   │   │   ├── nir_deref.c
    │   │   │   ├── nir_deref.h
    │   │   │   ├── nir_divergence_analysis.c
    │   │   │   ├── nir_dominance.c
    │   │   │   ├── nir_format_convert.h
    │   │   │   ├── nir_from_ssa.c
    │   │   │   ├── nir_gather_info.c
    │   │   │   ├── nir_gather_ssa_types.c
    │   │   │   ├── nir_gather_xfb_info.c
    │   │   │   ├── nir_group_loads.c
    │   │   │   ├── nir_gs_count_vertices.c
    │   │   │   ├── nir_inline_functions.c
    │   │   │   ├── nir_inline_helpers.h
    │   │   │   ├── nir_inline_uniforms.c
    │   │   │   ├── nir_instr_set.c
    │   │   │   ├── nir_instr_set.h
    │   │   │   ├── nir_intrinsics.py
    │   │   │   ├── nir_intrinsics_c.py
    │   │   │   ├── nir_intrinsics_h.py
    │   │   │   ├── nir_intrinsics_indices_h.py
    │   │   │   ├── nir_linking_helpers.c
    │   │   │   ├── nir_liveness.c
    │   │   │   ├── nir_loop_analyze.c
    │   │   │   ├── nir_loop_analyze.h
    │   │   │   ├── nir_lower_alpha_test.c
    │   │   │   ├── nir_lower_alu.c
    │   │   │   ├── nir_lower_alu_width.c
    │   │   │   ├── nir_lower_amul.c
    │   │   │   ├── nir_lower_array_deref_of_vec.c
    │   │   │   ├── nir_lower_atomics_to_ssbo.c
    │   │   │   ├── nir_lower_bit_size.c
    │   │   │   ├── nir_lower_bitmap.c
    │   │   │   ├── nir_lower_blend.c
    │   │   │   ├── nir_lower_blend.h
    │   │   │   ├── nir_lower_bool_to_bitsize.c
    │   │   │   ├── nir_lower_bool_to_float.c
    │   │   │   ├── nir_lower_bool_to_int32.c
    │   │   │   ├── nir_lower_cl_images.c
    │   │   │   ├── nir_lower_clamp_color_outputs.c
    │   │   │   ├── nir_lower_clip.c
    │   │   │   ├── nir_lower_clip_cull_distance_arrays.c
    │   │   │   ├── nir_lower_clip_disable.c
    │   │   │   ├── nir_lower_clip_halfz.c
    │   │   │   ├── nir_lower_const_arrays_to_uniforms.c
    │   │   │   ├── nir_lower_convert_alu_types.c
    │   │   │   ├── nir_lower_discard_if.c
    │   │   │   ├── nir_lower_discard_or_demote.c
    │   │   │   ├── nir_lower_double_ops.c
    │   │   │   ├── nir_lower_drawpixels.c
    │   │   │   ├── nir_lower_fb_read.c
    │   │   │   ├── nir_lower_flatshade.c
    │   │   │   ├── nir_lower_flrp.c
    │   │   │   ├── nir_lower_fp16_conv.c
    │   │   │   ├── nir_lower_fragcolor.c
    │   │   │   ├── nir_lower_fragcoord_wtrans.c
    │   │   │   ├── nir_lower_frexp.c
    │   │   │   ├── nir_lower_global_vars_to_local.c
    │   │   │   ├── nir_lower_goto_ifs.c
    │   │   │   ├── nir_lower_gs_intrinsics.c
    │   │   │   ├── nir_lower_idiv.c
    │   │   │   ├── nir_lower_image.c
    │   │   │   ├── nir_lower_indirect_derefs.c
    │   │   │   ├── nir_lower_input_attachments.c
    │   │   │   ├── nir_lower_int64.c
    │   │   │   ├── nir_lower_int_to_float.c
    │   │   │   ├── nir_lower_interpolation.c
    │   │   │   ├── nir_lower_io.c
    │   │   │   ├── nir_lower_io_arrays_to_elements.c
    │   │   │   ├── nir_lower_io_to_scalar.c
    │   │   │   ├── nir_lower_io_to_temporaries.c
    │   │   │   ├── nir_lower_io_to_vector.c
    │   │   │   ├── nir_lower_is_helper_invocation.c
    │   │   │   ├── nir_lower_load_const_to_scalar.c
    │   │   │   ├── nir_lower_locals_to_regs.c
    │   │   │   ├── nir_lower_mediump.c
    │   │   │   ├── nir_lower_memcpy.c
    │   │   │   ├── nir_lower_memory_model.c
    │   │   │   ├── nir_lower_multiview.c
    │   │   │   ├── nir_lower_non_uniform_access.c
    │   │   │   ├── nir_lower_packing.c
    │   │   │   ├── nir_lower_passthrough_edgeflags.c
    │   │   │   ├── nir_lower_patch_vertices.c
    │   │   │   ├── nir_lower_phis_to_scalar.c
    │   │   │   ├── nir_lower_pntc_ytransform.c
    │   │   │   ├── nir_lower_point_size.c
    │   │   │   ├── nir_lower_point_size_mov.c
    │   │   │   ├── nir_lower_point_smooth.c
    │   │   │   ├── nir_lower_poly_line_smooth.c
    │   │   │   ├── nir_lower_printf.c
    │   │   │   ├── nir_lower_readonly_images_to_tex.c
    │   │   │   ├── nir_lower_regs_to_ssa.c
    │   │   │   ├── nir_lower_returns.c
    │   │   │   ├── nir_lower_samplers.c
    │   │   │   ├── nir_lower_scratch.c
    │   │   │   ├── nir_lower_shader_calls.c
    │   │   │   ├── nir_lower_single_sampled.c
    │   │   │   ├── nir_lower_ssbo.c
    │   │   │   ├── nir_lower_subgroups.c
    │   │   │   ├── nir_lower_system_values.c
    │   │   │   ├── nir_lower_sysvals_to_varyings.c
    │   │   │   ├── nir_lower_task_shader.c
    │   │   │   ├── nir_lower_tex.c
    │   │   │   ├── nir_lower_tex_shadow.c
    │   │   │   ├── nir_lower_texcoord_replace.c
    │   │   │   ├── nir_lower_to_source_mods.c
    │   │   │   ├── nir_lower_two_sided_color.c
    │   │   │   ├── nir_lower_ubo_vec4.c
    │   │   │   ├── nir_lower_undef_to_zero.c
    │   │   │   ├── nir_lower_uniforms_to_ubo.c
    │   │   │   ├── nir_lower_var_copies.c
    │   │   │   ├── nir_lower_variable_initializers.c
    │   │   │   ├── nir_lower_vars_to_ssa.c
    │   │   │   ├── nir_lower_vec3_to_vec4.c
    │   │   │   ├── nir_lower_vec_to_movs.c
    │   │   │   ├── nir_lower_viewport_transform.c
    │   │   │   ├── nir_lower_wpos_center.c
    │   │   │   ├── nir_lower_wpos_ytransform.c
    │   │   │   ├── nir_lower_wrmasks.c
    │   │   │   ├── nir_metadata.c
    │   │   │   ├── nir_move_vec_src_uses_to_dest.c
    │   │   │   ├── nir_normalize_cubemap_coords.c
    │   │   │   ├── nir_opcodes.py
    │   │   │   ├── nir_opcodes_c.py
    │   │   │   ├── nir_opcodes_h.py
    │   │   │   ├── nir_opt_access.c
    │   │   │   ├── nir_opt_algebraic.py
    │   │   │   ├── nir_opt_barriers.c
    │   │   │   ├── nir_opt_combine_stores.c
    │   │   │   ├── nir_opt_comparison_pre.c
    │   │   │   ├── nir_opt_conditional_discard.c
    │   │   │   ├── nir_opt_constant_folding.c
    │   │   │   ├── nir_opt_copy_prop_vars.c
    │   │   │   ├── nir_opt_copy_propagate.c
    │   │   │   ├── nir_opt_cse.c
    │   │   │   ├── nir_opt_dce.c
    │   │   │   ├── nir_opt_dead_cf.c
    │   │   │   ├── nir_opt_dead_write_vars.c
    │   │   │   ├── nir_opt_find_array_copies.c
    │   │   │   ├── nir_opt_fragdepth.c
    │   │   │   ├── nir_opt_gcm.c
    │   │   │   ├── nir_opt_idiv_const.c
    │   │   │   ├── nir_opt_if.c
    │   │   │   ├── nir_opt_intrinsics.c
    │   │   │   ├── nir_opt_large_constants.c
    │   │   │   ├── nir_opt_load_store_vectorize.c
    │   │   │   ├── nir_opt_loop_unroll.c
    │   │   │   ├── nir_opt_memcpy.c
    │   │   │   ├── nir_opt_move.c
    │   │   │   ├── nir_opt_move_discards_to_top.c
    │   │   │   ├── nir_opt_non_uniform_access.c
    │   │   │   ├── nir_opt_offsets.c
    │   │   │   ├── nir_opt_peephole_select.c
    │   │   │   ├── nir_opt_phi_precision.c
    │   │   │   ├── nir_opt_preamble.c
    │   │   │   ├── nir_opt_ray_queries.c
    │   │   │   ├── nir_opt_rematerialize_compares.c
    │   │   │   ├── nir_opt_remove_phis.c
    │   │   │   ├── nir_opt_shrink_stores.c
    │   │   │   ├── nir_opt_shrink_vectors.c
    │   │   │   ├── nir_opt_sink.c
    │   │   │   ├── nir_opt_trivial_continues.c
    │   │   │   ├── nir_opt_undef.c
    │   │   │   ├── nir_opt_uniform_atomics.c
    │   │   │   ├── nir_opt_vectorize.c
    │   │   │   ├── nir_phi_builder.c
    │   │   │   ├── nir_phi_builder.h
    │   │   │   ├── nir_print.c
    │   │   │   ├── nir_propagate_invariant.c
    │   │   │   ├── nir_range_analysis.c
    │   │   │   ├── nir_range_analysis.h
    │   │   │   ├── nir_remove_dead_variables.c
    │   │   │   ├── nir_repair_ssa.c
    │   │   │   ├── nir_scale_fdiv.c
    │   │   │   ├── nir_schedule.c
    │   │   │   ├── nir_schedule.h
    │   │   │   ├── nir_search.c
    │   │   │   ├── nir_search.h
    │   │   │   ├── nir_search_helpers.h
    │   │   │   ├── nir_serialize.c
    │   │   │   ├── nir_serialize.h
    │   │   │   ├── nir_split_64bit_vec3_and_vec4.c
    │   │   │   ├── nir_split_per_member_structs.c
    │   │   │   ├── nir_split_var_copies.c
    │   │   │   ├── nir_split_vars.c
    │   │   │   ├── nir_sweep.c
    │   │   │   ├── nir_to_lcssa.c
    │   │   │   ├── nir_validate.c
    │   │   │   ├── nir_vla.h
    │   │   │   ├── nir_vulkan.h
    │   │   │   ├── nir_worklist.c
    │   │   │   ├── nir_worklist.h
    │   │   │   ├── nir_xfb_info.h
    │   │   │   └── tests/
    │   │   │       ├── algebraic_parser_test.py
    │   │   │       ├── algebraic_tests.cpp
    │   │   │       ├── builder_tests.cpp
    │   │   │       ├── comparison_pre_tests.cpp
    │   │   │       ├── control_flow_tests.cpp
    │   │   │       ├── core_tests.cpp
    │   │   │       ├── dce_tests.cpp
    │   │   │       ├── load_store_vectorizer_tests.cpp
    │   │   │       ├── lower_returns_tests.cpp
    │   │   │       ├── negative_equal_tests.cpp
    │   │   │       ├── opt_if_tests.cpp
    │   │   │       ├── serialize_tests.cpp
    │   │   │       ├── ssa_def_bits_used_tests.cpp
    │   │   │       └── vars_tests.cpp
    │   │   └── spirv/
    │   │       ├── gl_spirv.c
    │   │       ├── GLSL.ext.AMD.h
    │   │       ├── GLSL.std.450.h
    │   │       ├── meson.build
    │   │       ├── nir_load_libclc.c
    │   │       ├── nir_lower_libclc.c
    │   │       ├── nir_spirv.h
    │   │       ├── OpenCL.std.h
    │   │       ├── spir-v.xml
    │   │       ├── spirv.h
    │   │       ├── spirv2nir.c
    │   │       ├── spirv_info.h
    │   │       ├── spirv_info_c.py
    │   │       ├── spirv_to_nir.c
    │   │       ├── vtn_alu.c
    │   │       ├── vtn_amd.c
    │   │       ├── vtn_cfg.c
    │   │       ├── vtn_gather_types_c.py
    │   │       ├── vtn_generator_ids_h.py
    │   │       ├── vtn_glsl450.c
    │   │       ├── vtn_opencl.c
    │   │       ├── vtn_private.h
    │   │       ├── vtn_subgroup.c
    │   │       ├── vtn_variables.c
    │   │       └── tests/
    │   │           ├── avail_vis.cpp
    │   │           ├── helpers.h
    │   │           └── volatile.cpp
    │   ├── drm-shim/
    │   │   ├── README.md
    │   │   ├── device.c
    │   │   ├── drm_shim.c
    │   │   ├── drm_shim.h
    │   │   └── meson.build
    │   ├── egl/
    │   │   ├── egl-entrypoint-check.py
    │   │   ├── egl-glvnd-symbols.txt
    │   │   ├── egl-symbols.txt
    │   │   ├── meson.build
    │   │   ├── drivers/
    │   │   │   ├── dri2/
    │   │   │   │   ├── egl_dri2.c
    │   │   │   │   ├── egl_dri2.h
    │   │   │   │   ├── platform_android.c
    │   │   │   │   ├── platform_android.h
    │   │   │   │   ├── platform_android_mapper.cpp
    │   │   │   │   ├── platform_device.c
    │   │   │   │   ├── platform_drm.c
    │   │   │   │   ├── platform_surfaceless.c
    │   │   │   │   ├── platform_wayland.c
    │   │   │   │   ├── platform_x11.c
    │   │   │   │   ├── platform_x11.h
    │   │   │   │   ├── platform_x11_dri3.c
    │   │   │   │   └── platform_x11_dri3.h
    │   │   │   ├── haiku/
    │   │   │   │   ├── egl_haiku.cpp
    │   │   │   │   └── .editorconfig
    │   │   │   └── wgl/
    │   │   │       ├── egl_wgl.c
    │   │   │       └── egl_wgl.h
    │   │   ├── generate/
    │   │   │   ├── egl.xml
    │   │   │   ├── egl_other.xml
    │   │   │   ├── eglFunctionList.py
    │   │   │   └── gen_egl_dispatch.py
    │   │   ├── main/
    │   │   │   ├── 50_mesa.json
    │   │   │   ├── egl.def.in
    │   │   │   ├── eglapi.c
    │   │   │   ├── eglarray.c
    │   │   │   ├── eglarray.h
    │   │   │   ├── eglconfig.c
    │   │   │   ├── eglconfig.h
    │   │   │   ├── eglconfigdebug.c
    │   │   │   ├── eglconfigdebug.h
    │   │   │   ├── eglcontext.c
    │   │   │   ├── eglcontext.h
    │   │   │   ├── eglcurrent.c
    │   │   │   ├── eglcurrent.h
    │   │   │   ├── egldefines.h
    │   │   │   ├── egldevice.c
    │   │   │   ├── egldevice.h
    │   │   │   ├── egldispatchstubs.c
    │   │   │   ├── egldispatchstubs.h
    │   │   │   ├── egldisplay.c
    │   │   │   ├── egldisplay.h
    │   │   │   ├── egldriver.h
    │   │   │   ├── eglentrypoint.h
    │   │   │   ├── eglglobals.c
    │   │   │   ├── eglglobals.h
    │   │   │   ├── eglglvnd.c
    │   │   │   ├── eglimage.c
    │   │   │   ├── eglimage.h
    │   │   │   ├── egllog.c
    │   │   │   ├── egllog.h
    │   │   │   ├── eglsurface.c
    │   │   │   ├── eglsurface.h
    │   │   │   ├── eglsync.c
    │   │   │   ├── eglsync.h
    │   │   │   └── egltypedefs.h
    │   │   └── wayland/
    │   │       ├── .editorconfig
    │   │       └── wayland-drm/
    │   │           ├── meson.build
    │   │           ├── wayland-drm.c
    │   │           ├── wayland-drm.h
    │   │           └── wayland-drm.xml
    │   ├── etnaviv/
    │   │   ├── meson.build
    │   │   ├── ci/
    │   │   │   ├── etnaviv-gc2000-fails.txt
    │   │   │   ├── etnaviv-gc2000-flakes.txt
    │   │   │   ├── etnaviv-gc2000-skips.txt
    │   │   │   └── gitlab-ci.yml
    │   │   ├── drm/
    │   │   │   ├── etnaviv_bo.c
    │   │   │   ├── etnaviv_bo_cache.c
    │   │   │   ├── etnaviv_cmd_stream.c
    │   │   │   ├── etnaviv_device.c
    │   │   │   ├── etnaviv_drmif.h
    │   │   │   ├── etnaviv_gpu.c
    │   │   │   ├── etnaviv_perfmon.c
    │   │   │   ├── etnaviv_pipe.c
    │   │   │   ├── etnaviv_priv.h
    │   │   │   ├── meson.build
    │   │   │   └── tests/
    │   │   │       ├── etnaviv_bo_cache_test.c
    │   │   │       ├── etnaviv_cmd_stream_test.c
    │   │   │       └── meson.build
    │   │   └── drm-shim/
    │   │       ├── README.md
    │   │       ├── etnaviv_noop.c
    │   │       └── meson.build
    │   ├── freedreno/
    │   │   ├── meson.build
    │   │   ├── .clang-format
    │   │   ├── .dir-locals.el
    │   │   ├── .editorconfig
    │   │   ├── afuc/
    │   │   │   ├── README.rst
    │   │   │   ├── afuc.h
    │   │   │   ├── asm.c
    │   │   │   ├── asm.h
    │   │   │   ├── disasm.c
    │   │   │   ├── emu-ds.c
    │   │   │   ├── emu-regs.c
    │   │   │   ├── emu-ui.c
    │   │   │   ├── emu.c
    │   │   │   ├── emu.h
    │   │   │   ├── lexer.l
    │   │   │   ├── meson.build
    │   │   │   ├── parser.y
    │   │   │   ├── util.c
    │   │   │   └── util.h
    │   │   ├── ci/
    │   │   │   ├── deqp-freedreno-a307.toml
    │   │   │   ├── deqp-freedreno-a530.toml
    │   │   │   ├── deqp-freedreno-a618-vk-full.toml
    │   │   │   ├── deqp-freedreno-a618-vk.toml
    │   │   │   ├── deqp-freedreno-a630-vk-asan.toml
    │   │   │   ├── deqp-freedreno-a630-vk-full.toml
    │   │   │   ├── deqp-freedreno-a630-vk.toml
    │   │   │   ├── deqp-freedreno-a630.toml
    │   │   │   ├── freedreno-a307-fails.txt
    │   │   │   ├── freedreno-a307-flakes.txt
    │   │   │   ├── freedreno-a307-skips.txt
    │   │   │   ├── freedreno-a420-fails.txt
    │   │   │   ├── freedreno-a420-flakes.txt
    │   │   │   ├── freedreno-a420-skips.txt
    │   │   │   ├── freedreno-a530-fails.txt
    │   │   │   ├── freedreno-a530-flakes.txt
    │   │   │   ├── freedreno-a530-skips.txt
    │   │   │   ├── freedreno-a618-fails.txt
    │   │   │   ├── freedreno-a618-flakes.txt
    │   │   │   ├── freedreno-a618-premerge-skips.txt
    │   │   │   ├── freedreno-a618-skips.txt
    │   │   │   ├── freedreno-a630-asan-fails.txt
    │   │   │   ├── freedreno-a630-asan-skips.txt
    │   │   │   ├── freedreno-a630-bypass-flakes.txt
    │   │   │   ├── freedreno-a630-fails.txt
    │   │   │   ├── freedreno-a630-flakes.txt
    │   │   │   ├── freedreno-a630-premerge-skips.txt
    │   │   │   ├── freedreno-a630-skips.txt
    │   │   │   ├── freedreno-a630-skqp-gl_rendertests-crashes.txt
    │   │   │   ├── freedreno-a630-skqp-gl_rendertests-fails.txt
    │   │   │   ├── freedreno-a630-skqp-gl_rendertests-flakes.txt
    │   │   │   ├── freedreno-a630-skqp-gles_rendertests-fails.txt
    │   │   │   ├── freedreno-a630-skqp-gles_rendertests-flakes.txt
    │   │   │   ├── freedreno-a630-skqp-vk_rendertests-fails.txt
    │   │   │   ├── freedreno-a630-skqp-vk_rendertests-flakes.txt
    │   │   │   ├── freedreno-a630-skqp_unittests-fails.txt
    │   │   │   ├── gitlab-ci.yml
    │   │   │   ├── restricted-traces-freedreno.yml
    │   │   │   └── traces-freedreno.yml
    │   │   ├── common/
    │   │   │   ├── README.rst
    │   │   │   ├── disasm.h
    │   │   │   ├── freedreno_common.h
    │   │   │   ├── freedreno_dev_info.c
    │   │   │   ├── freedreno_dev_info.h
    │   │   │   ├── freedreno_devices.py
    │   │   │   ├── freedreno_guardband.h
    │   │   │   ├── freedreno_pm4.h
    │   │   │   ├── freedreno_uuid.c
    │   │   │   ├── freedreno_uuid.h
    │   │   │   └── meson.build
    │   │   ├── computerator/
    │   │   │   ├── README.rst
    │   │   │   ├── a4xx.c
    │   │   │   ├── a6xx.c
    │   │   │   ├── ir3_asm.c
    │   │   │   ├── ir3_asm.h
    │   │   │   ├── main.c
    │   │   │   ├── main.h
    │   │   │   ├── meson.build
    │   │   │   └── examples/
    │   │   │       ├── branch.asm
    │   │   │       ├── early_preamble.asm
    │   │   │       ├── invocationid.asm
    │   │   │       ├── pvtmem.asm
    │   │   │       ├── simple.asm
    │   │   │       ├── stg_ldg_offset.asm
    │   │   │       ├── test-flut.sh
    │   │   │       ├── test-opcodes.sh
    │   │   │       └── test-regfile.sh
    │   │   ├── decode/
    │   │   │   ├── buffers.c
    │   │   │   ├── buffers.h
    │   │   │   ├── cffdec.c
    │   │   │   ├── cffdec.h
    │   │   │   ├── cffdump.c
    │   │   │   ├── crashdec-hfi.c
    │   │   │   ├── crashdec-mempool.c
    │   │   │   ├── crashdec.c
    │   │   │   ├── crashdec.h
    │   │   │   ├── io.c
    │   │   │   ├── io.h
    │   │   │   ├── meson.build
    │   │   │   ├── pager.c
    │   │   │   ├── pager.h
    │   │   │   ├── pgmdump.c
    │   │   │   ├── pgmdump2.c
    │   │   │   ├── redump.h
    │   │   │   ├── rnnutil.c
    │   │   │   ├── rnnutil.h
    │   │   │   ├── script.c
    │   │   │   ├── script.h
    │   │   │   ├── util.h
    │   │   │   └── scripts/
    │   │   │       ├── analyze.lua
    │   │   │       ├── parse-submits.lua
    │   │   │       ├── sanity-a6xx.lua
    │   │   │       ├── test.lua
    │   │   │       ├── tex3d-layout.lua
    │   │   │       ├── texturator-to-unit-test-5xx.lua
    │   │   │       └── texturator-to-unit-test.lua
    │   │   ├── drm/
    │   │   │   ├── freedreno_bo.c
    │   │   │   ├── freedreno_bo_cache.c
    │   │   │   ├── freedreno_device.c
    │   │   │   ├── freedreno_drmif.h
    │   │   │   ├── freedreno_pipe.c
    │   │   │   ├── freedreno_priv.h
    │   │   │   ├── freedreno_ringbuffer.c
    │   │   │   ├── freedreno_ringbuffer.h
    │   │   │   ├── freedreno_ringbuffer_sp.c
    │   │   │   ├── freedreno_ringbuffer_sp.h
    │   │   │   ├── freedreno_ringbuffer_sp_reloc.h
    │   │   │   ├── meson.build
    │   │   │   ├── msm/
    │   │   │   │   ├── msm_bo.c
    │   │   │   │   ├── msm_device.c
    │   │   │   │   ├── msm_pipe.c
    │   │   │   │   ├── msm_priv.h
    │   │   │   │   ├── msm_ringbuffer.c
    │   │   │   │   └── msm_ringbuffer_sp.c
    │   │   │   └── virtio/
    │   │   │       ├── msm_proto.h
    │   │   │       ├── virtio_bo.c
    │   │   │       ├── virtio_device.c
    │   │   │       ├── virtio_pipe.c
    │   │   │       ├── virtio_priv.h
    │   │   │       ├── virtio_ringbuffer.c
    │   │   │       └── virtio_ringbuffer.h
    │   │   ├── drm-shim/
    │   │   │   ├── README.md
    │   │   │   ├── freedreno_noop.c
    │   │   │   └── meson.build
    │   │   ├── ds/
    │   │   │   ├── fd_pps_driver.cc
    │   │   │   ├── fd_pps_driver.h
    │   │   │   └── meson.build
    │   │   ├── fdl/
    │   │   │   ├── fd5_layout.c
    │   │   │   ├── fd5_layout_test.c
    │   │   │   ├── fd6_format_table.c
    │   │   │   ├── fd6_format_table.h
    │   │   │   ├── fd6_layout.c
    │   │   │   ├── fd6_layout_test.c
    │   │   │   ├── fd6_view.c
    │   │   │   ├── fd_layout_test.c
    │   │   │   ├── fd_layout_test.h
    │   │   │   ├── freedreno_layout.c
    │   │   │   ├── freedreno_layout.h
    │   │   │   └── meson.build
    │   │   ├── ir2/
    │   │   │   ├── disasm-a2xx.c
    │   │   │   ├── instr-a2xx.h
    │   │   │   └── meson.build
    │   │   ├── ir3/
    │   │   │   ├── disasm-a3xx.c
    │   │   │   ├── instr-a3xx.h
    │   │   │   ├── ir3.c
    │   │   │   ├── ir3.h
    │   │   │   ├── ir3_a4xx.c
    │   │   │   ├── ir3_a6xx.c
    │   │   │   ├── ir3_array_to_ssa.c
    │   │   │   ├── ir3_assembler.c
    │   │   │   ├── ir3_assembler.h
    │   │   │   ├── ir3_cf.c
    │   │   │   ├── ir3_compiler.c
    │   │   │   ├── ir3_compiler.h
    │   │   │   ├── ir3_compiler_nir.c
    │   │   │   ├── ir3_context.c
    │   │   │   ├── ir3_context.h
    │   │   │   ├── ir3_cp.c
    │   │   │   ├── ir3_cse.c
    │   │   │   ├── ir3_dce.c
    │   │   │   ├── ir3_delay.c
    │   │   │   ├── ir3_disk_cache.c
    │   │   │   ├── ir3_dominance.c
    │   │   │   ├── ir3_image.c
    │   │   │   ├── ir3_image.h
    │   │   │   ├── ir3_legalize.c
    │   │   │   ├── ir3_legalize_relative.c
    │   │   │   ├── ir3_lexer.l
    │   │   │   ├── ir3_liveness.c
    │   │   │   ├── ir3_lower_parallelcopy.c
    │   │   │   ├── ir3_lower_spill.c
    │   │   │   ├── ir3_lower_subgroups.c
    │   │   │   ├── ir3_merge_regs.c
    │   │   │   ├── ir3_nir.c
    │   │   │   ├── ir3_nir.h
    │   │   │   ├── ir3_nir_analyze_ubo_ranges.c
    │   │   │   ├── ir3_nir_imul.py
    │   │   │   ├── ir3_nir_lower_64b.c
    │   │   │   ├── ir3_nir_lower_io_offsets.c
    │   │   │   ├── ir3_nir_lower_load_barycentric_at_offset.c
    │   │   │   ├── ir3_nir_lower_load_barycentric_at_sample.c
    │   │   │   ├── ir3_nir_lower_tess.c
    │   │   │   ├── ir3_nir_lower_tex_prefetch.c
    │   │   │   ├── ir3_nir_lower_wide_load_store.c
    │   │   │   ├── ir3_nir_move_varying_inputs.c
    │   │   │   ├── ir3_nir_opt_preamble.c
    │   │   │   ├── ir3_nir_trig.py
    │   │   │   ├── ir3_parser.y
    │   │   │   ├── ir3_postsched.c
    │   │   │   ├── ir3_print.c
    │   │   │   ├── ir3_ra.c
    │   │   │   ├── ir3_ra.h
    │   │   │   ├── ir3_ra_validate.c
    │   │   │   ├── ir3_remove_unreachable.c
    │   │   │   ├── ir3_sched.c
    │   │   │   ├── ir3_shader.c
    │   │   │   ├── ir3_shader.h
    │   │   │   ├── ir3_spill.c
    │   │   │   ├── ir3_validate.c
    │   │   │   ├── meson.build
    │   │   │   ├── .dir-locals.el
    │   │   │   ├── .editorconfig
    │   │   │   └── tests/
    │   │   │       ├── delay.c
    │   │   │       └── disasm.c
    │   │   ├── isa/
    │   │   │   ├── encode.c
    │   │   │   ├── ir3-cat0.xml
    │   │   │   ├── ir3-cat1.xml
    │   │   │   ├── ir3-cat2.xml
    │   │   │   ├── ir3-cat3.xml
    │   │   │   ├── ir3-cat4.xml
    │   │   │   ├── ir3-cat5.xml
    │   │   │   ├── ir3-cat6.xml
    │   │   │   ├── ir3-cat7.xml
    │   │   │   ├── ir3-common.xml
    │   │   │   ├── ir3-disasm.c
    │   │   │   ├── ir3.xml
    │   │   │   ├── isa.h
    │   │   │   └── meson.build
    │   │   ├── perfcntrs/
    │   │   │   ├── fd2_perfcntr.c
    │   │   │   ├── fd5_perfcntr.c
    │   │   │   ├── fd6_perfcntr.c
    │   │   │   ├── fdperf.c
    │   │   │   ├── freedreno_dt.c
    │   │   │   ├── freedreno_dt.h
    │   │   │   ├── freedreno_perfcntr.c
    │   │   │   ├── freedreno_perfcntr.h
    │   │   │   └── meson.build
    │   │   ├── registers/
    │   │   │   ├── adreno.xml
    │   │   │   ├── freedreno_copyright.xml
    │   │   │   ├── gen_header.py
    │   │   │   ├── meson.build
    │   │   │   ├── msm.xml
    │   │   │   ├── rules-ng-ng.txt
    │   │   │   ├── rules-ng.xsd
    │   │   │   ├── text-format.txt
    │   │   │   ├── adreno/
    │   │   │   │   ├── a2xx.xml
    │   │   │   │   ├── a3xx.xml
    │   │   │   │   ├── a4xx.xml
    │   │   │   │   ├── a5xx.xml
    │   │   │   │   ├── a6xx.xml
    │   │   │   │   ├── a6xx_gmu.xml
    │   │   │   │   ├── a7xx.xml
    │   │   │   │   ├── adreno_common.xml
    │   │   │   │   ├── adreno_control_regs.xml
    │   │   │   │   ├── adreno_pipe_regs.xml
    │   │   │   │   ├── adreno_pm4.xml
    │   │   │   │   ├── meson.build
    │   │   │   │   └── ocmem.xml
    │   │   │   ├── dsi/
    │   │   │   │   ├── dsi.xml
    │   │   │   │   ├── dsi_phy_10nm.xml
    │   │   │   │   ├── dsi_phy_14nm.xml
    │   │   │   │   ├── dsi_phy_20nm.xml
    │   │   │   │   ├── dsi_phy_28nm.xml
    │   │   │   │   ├── dsi_phy_28nm_8960.xml
    │   │   │   │   ├── dsi_phy_7nm.xml
    │   │   │   │   ├── dsi_phy_v2.xml
    │   │   │   │   ├── mmss_cc.xml
    │   │   │   │   └── sfpb.xml
    │   │   │   ├── edp/
    │   │   │   │   └── edp.xml
    │   │   │   ├── hdmi/
    │   │   │   │   ├── hdmi.xml
    │   │   │   │   └── qfprom.xml
    │   │   │   └── mdp/
    │   │   │       ├── mdp4.xml
    │   │   │       ├── mdp5.xml
    │   │   │       └── mdp_common.xml
    │   │   ├── rnn/
    │   │   │   ├── aprintf.c
    │   │   │   ├── colors.c
    │   │   │   ├── colors.h
    │   │   │   ├── headergen2.c
    │   │   │   ├── meson.build
    │   │   │   ├── path.c
    │   │   │   ├── rnn.c
    │   │   │   ├── rnn.h
    │   │   │   ├── rnndec.c
    │   │   │   ├── rnndec.h
    │   │   │   └── util.h
    │   │   ├── vulkan/
    │   │   │   ├── meson.build
    │   │   │   ├── msm_kgsl.h
    │   │   │   ├── TODO
    │   │   │   ├── tu_android.c
    │   │   │   ├── tu_android.h
    │   │   │   ├── tu_autotune.c
    │   │   │   ├── tu_autotune.h
    │   │   │   ├── tu_clear_blit.c
    │   │   │   ├── tu_clear_blit.h
    │   │   │   ├── tu_cmd_buffer.c
    │   │   │   ├── tu_cmd_buffer.h
    │   │   │   ├── tu_common.h
    │   │   │   ├── tu_cs.c
    │   │   │   ├── tu_cs.h
    │   │   │   ├── tu_cs_breadcrumbs.c
    │   │   │   ├── tu_descriptor_set.c
    │   │   │   ├── tu_descriptor_set.h
    │   │   │   ├── tu_device.c
    │   │   │   ├── tu_device.h
    │   │   │   ├── tu_drm.c
    │   │   │   ├── tu_drm.h
    │   │   │   ├── tu_dynamic_rendering.c
    │   │   │   ├── tu_dynamic_rendering.h
    │   │   │   ├── tu_formats.c
    │   │   │   ├── tu_formats.h
    │   │   │   ├── tu_image.c
    │   │   │   ├── tu_image.h
    │   │   │   ├── tu_kgsl.c
    │   │   │   ├── tu_lrz.c
    │   │   │   ├── tu_lrz.h
    │   │   │   ├── tu_nir_lower_multiview.c
    │   │   │   ├── tu_pass.c
    │   │   │   ├── tu_pass.h
    │   │   │   ├── tu_perfetto.cc
    │   │   │   ├── tu_perfetto.h
    │   │   │   ├── tu_perfetto_util.c
    │   │   │   ├── tu_pipeline.c
    │   │   │   ├── tu_pipeline.h
    │   │   │   ├── tu_query.c
    │   │   │   ├── tu_query.h
    │   │   │   ├── tu_shader.c
    │   │   │   ├── tu_shader.h
    │   │   │   ├── tu_suballoc.c
    │   │   │   ├── tu_suballoc.h
    │   │   │   ├── tu_tracepoints.py
    │   │   │   ├── tu_util.c
    │   │   │   ├── tu_util.h
    │   │   │   ├── tu_wsi.c
    │   │   │   ├── tu_wsi.h
    │   │   │   ├── .clang-format
    │   │   │   ├── .dir-locals.el
    │   │   │   └── .editorconfig
    │   │   └── .gitlab-ci/
    │   │       ├── reference/
    │   │       │   ├── afuc_test.asm
    │   │       │   └── afuc_test.fw
    │   │       └── traces/
    │   │           └── afuc_test.asm
    │   ├── gallium/
    │   │   ├── README.portability
    │   │   ├── meson.build
    │   │   ├── auxiliary/
    │   │   │   ├── meson.build
    │   │   │   ├── cso_cache/
    │   │   │   │   ├── cso_cache.c
    │   │   │   │   ├── cso_cache.h
    │   │   │   │   ├── cso_context.c
    │   │   │   │   ├── cso_context.h
    │   │   │   │   ├── cso_hash.c
    │   │   │   │   └── cso_hash.h
    │   │   │   ├── draw/
    │   │   │   │   ├── draw_cliptest_tmp.h
    │   │   │   │   ├── draw_context.c
    │   │   │   │   ├── draw_context.h
    │   │   │   │   ├── draw_decompose_tmp.h
    │   │   │   │   ├── draw_fs.c
    │   │   │   │   ├── draw_fs.h
    │   │   │   │   ├── draw_gs.c
    │   │   │   │   ├── draw_gs.h
    │   │   │   │   ├── draw_gs_tmp.h
    │   │   │   │   ├── draw_llvm.c
    │   │   │   │   ├── draw_llvm.h
    │   │   │   │   ├── draw_llvm_sample.c
    │   │   │   │   ├── draw_pipe.c
    │   │   │   │   ├── draw_pipe.h
    │   │   │   │   ├── draw_pipe_aaline.c
    │   │   │   │   ├── draw_pipe_aapoint.c
    │   │   │   │   ├── draw_pipe_clip.c
    │   │   │   │   ├── draw_pipe_cull.c
    │   │   │   │   ├── draw_pipe_flatshade.c
    │   │   │   │   ├── draw_pipe_offset.c
    │   │   │   │   ├── draw_pipe_pstipple.c
    │   │   │   │   ├── draw_pipe_stipple.c
    │   │   │   │   ├── draw_pipe_twoside.c
    │   │   │   │   ├── draw_pipe_unfilled.c
    │   │   │   │   ├── draw_pipe_user_cull.c
    │   │   │   │   ├── draw_pipe_util.c
    │   │   │   │   ├── draw_pipe_validate.c
    │   │   │   │   ├── draw_pipe_vbuf.c
    │   │   │   │   ├── draw_pipe_wide_line.c
    │   │   │   │   ├── draw_pipe_wide_point.c
    │   │   │   │   ├── draw_prim_assembler.c
    │   │   │   │   ├── draw_prim_assembler.h
    │   │   │   │   ├── draw_prim_assembler_tmp.h
    │   │   │   │   ├── draw_private.h
    │   │   │   │   ├── draw_pt.c
    │   │   │   │   ├── draw_pt.h
    │   │   │   │   ├── draw_pt_decompose.h
    │   │   │   │   ├── draw_pt_emit.c
    │   │   │   │   ├── draw_pt_fetch.c
    │   │   │   │   ├── draw_pt_fetch_shade_emit.c
    │   │   │   │   ├── draw_pt_fetch_shade_pipeline.c
    │   │   │   │   ├── draw_pt_fetch_shade_pipeline_llvm.c
    │   │   │   │   ├── draw_pt_post_vs.c
    │   │   │   │   ├── draw_pt_so_emit.c
    │   │   │   │   ├── draw_pt_util.c
    │   │   │   │   ├── draw_pt_vsplit.c
    │   │   │   │   ├── draw_pt_vsplit_tmp.h
    │   │   │   │   ├── draw_so_emit_tmp.h
    │   │   │   │   ├── draw_split_tmp.h
    │   │   │   │   ├── draw_tess.c
    │   │   │   │   ├── draw_tess.h
    │   │   │   │   ├── draw_vbuf.h
    │   │   │   │   ├── draw_vertex.c
    │   │   │   │   ├── draw_vertex.h
    │   │   │   │   ├── draw_vs.c
    │   │   │   │   ├── draw_vs.h
    │   │   │   │   ├── draw_vs_exec.c
    │   │   │   │   ├── draw_vs_llvm.c
    │   │   │   │   └── draw_vs_variant.c
    │   │   │   ├── driver_ddebug/
    │   │   │   │   ├── dd_context.c
    │   │   │   │   ├── dd_draw.c
    │   │   │   │   ├── dd_pipe.h
    │   │   │   │   ├── dd_public.h
    │   │   │   │   ├── dd_screen.c
    │   │   │   │   └── dd_util.h
    │   │   │   ├── driver_noop/
    │   │   │   │   ├── noop_pipe.c
    │   │   │   │   ├── noop_public.h
    │   │   │   │   └── noop_state.c
    │   │   │   ├── driver_rbug/
    │   │   │   │   ├── README
    │   │   │   │   ├── rbug_context.c
    │   │   │   │   ├── rbug_context.h
    │   │   │   │   ├── rbug_core.c
    │   │   │   │   ├── rbug_objects.c
    │   │   │   │   ├── rbug_objects.h
    │   │   │   │   ├── rbug_public.h
    │   │   │   │   ├── rbug_screen.c
    │   │   │   │   └── rbug_screen.h
    │   │   │   ├── driver_trace/
    │   │   │   │   ├── README
    │   │   │   │   ├── enums2names.py
    │   │   │   │   ├── tr_context.c
    │   │   │   │   ├── tr_context.h
    │   │   │   │   ├── tr_dump.c
    │   │   │   │   ├── tr_dump.h
    │   │   │   │   ├── tr_dump_defines.h
    │   │   │   │   ├── tr_dump_state.c
    │   │   │   │   ├── tr_dump_state.h
    │   │   │   │   ├── tr_public.h
    │   │   │   │   ├── tr_screen.c
    │   │   │   │   ├── tr_screen.h
    │   │   │   │   ├── tr_texture.c
    │   │   │   │   ├── tr_texture.h
    │   │   │   │   └── trace.xsl
    │   │   │   ├── gallivm/
    │   │   │   │   ├── f.cpp
    │   │   │   │   ├── lp_bld.h
    │   │   │   │   ├── lp_bld_arit.c
    │   │   │   │   ├── lp_bld_arit.h
    │   │   │   │   ├── lp_bld_arit_overflow.c
    │   │   │   │   ├── lp_bld_arit_overflow.h
    │   │   │   │   ├── lp_bld_assert.c
    │   │   │   │   ├── lp_bld_assert.h
    │   │   │   │   ├── lp_bld_bitarit.c
    │   │   │   │   ├── lp_bld_bitarit.h
    │   │   │   │   ├── lp_bld_const.c
    │   │   │   │   ├── lp_bld_const.h
    │   │   │   │   ├── lp_bld_conv.c
    │   │   │   │   ├── lp_bld_conv.h
    │   │   │   │   ├── lp_bld_coro.c
    │   │   │   │   ├── lp_bld_coro.h
    │   │   │   │   ├── lp_bld_debug.cpp
    │   │   │   │   ├── lp_bld_debug.h
    │   │   │   │   ├── lp_bld_flow.c
    │   │   │   │   ├── lp_bld_flow.h
    │   │   │   │   ├── lp_bld_format.c
    │   │   │   │   ├── lp_bld_format.h
    │   │   │   │   ├── lp_bld_format_aos.c
    │   │   │   │   ├── lp_bld_format_aos_array.c
    │   │   │   │   ├── lp_bld_format_float.c
    │   │   │   │   ├── lp_bld_format_s3tc.c
    │   │   │   │   ├── lp_bld_format_soa.c
    │   │   │   │   ├── lp_bld_format_srgb.c
    │   │   │   │   ├── lp_bld_format_yuv.c
    │   │   │   │   ├── lp_bld_gather.c
    │   │   │   │   ├── lp_bld_gather.h
    │   │   │   │   ├── lp_bld_init.c
    │   │   │   │   ├── lp_bld_init.h
    │   │   │   │   ├── lp_bld_intr.c
    │   │   │   │   ├── lp_bld_intr.h
    │   │   │   │   ├── lp_bld_ir_common.c
    │   │   │   │   ├── lp_bld_ir_common.h
    │   │   │   │   ├── lp_bld_jit_types.c
    │   │   │   │   ├── lp_bld_jit_types.h
    │   │   │   │   ├── lp_bld_limits.h
    │   │   │   │   ├── lp_bld_logic.c
    │   │   │   │   ├── lp_bld_logic.h
    │   │   │   │   ├── lp_bld_misc.cpp
    │   │   │   │   ├── lp_bld_misc.h
    │   │   │   │   ├── lp_bld_nir.c
    │   │   │   │   ├── lp_bld_nir.h
    │   │   │   │   ├── lp_bld_nir_aos.c
    │   │   │   │   ├── lp_bld_nir_soa.c
    │   │   │   │   ├── lp_bld_pack.c
    │   │   │   │   ├── lp_bld_pack.h
    │   │   │   │   ├── lp_bld_printf.c
    │   │   │   │   ├── lp_bld_printf.h
    │   │   │   │   ├── lp_bld_quad.c
    │   │   │   │   ├── lp_bld_quad.h
    │   │   │   │   ├── lp_bld_sample.c
    │   │   │   │   ├── lp_bld_sample.h
    │   │   │   │   ├── lp_bld_sample_aos.c
    │   │   │   │   ├── lp_bld_sample_aos.h
    │   │   │   │   ├── lp_bld_sample_soa.c
    │   │   │   │   ├── lp_bld_struct.c
    │   │   │   │   ├── lp_bld_struct.h
    │   │   │   │   ├── lp_bld_swizzle.c
    │   │   │   │   ├── lp_bld_swizzle.h
    │   │   │   │   ├── lp_bld_tgsi.c
    │   │   │   │   ├── lp_bld_tgsi.h
    │   │   │   │   ├── lp_bld_tgsi_action.c
    │   │   │   │   ├── lp_bld_tgsi_action.h
    │   │   │   │   ├── lp_bld_tgsi_aos.c
    │   │   │   │   ├── lp_bld_tgsi_info.c
    │   │   │   │   ├── lp_bld_tgsi_soa.c
    │   │   │   │   ├── lp_bld_type.c
    │   │   │   │   └── lp_bld_type.h
    │   │   │   ├── hud/
    │   │   │   │   ├── font.c
    │   │   │   │   ├── font.h
    │   │   │   │   ├── hud_context.c
    │   │   │   │   ├── hud_context.h
    │   │   │   │   ├── hud_cpu.c
    │   │   │   │   ├── hud_cpufreq.c
    │   │   │   │   ├── hud_diskstat.c
    │   │   │   │   ├── hud_driver_query.c
    │   │   │   │   ├── hud_fps.c
    │   │   │   │   ├── hud_nic.c
    │   │   │   │   ├── hud_private.h
    │   │   │   │   └── hud_sensors_temp.c
    │   │   │   ├── nir/
    │   │   │   │   ├── nir_draw_helpers.c
    │   │   │   │   ├── nir_draw_helpers.h
    │   │   │   │   ├── nir_helpers.c
    │   │   │   │   ├── nir_helpers.h
    │   │   │   │   ├── nir_to_tgsi.c
    │   │   │   │   ├── nir_to_tgsi.h
    │   │   │   │   ├── nir_to_tgsi_info.c
    │   │   │   │   ├── nir_to_tgsi_info.h
    │   │   │   │   ├── tgsi_to_nir.c
    │   │   │   │   └── tgsi_to_nir.h
    │   │   │   ├── os/
    │   │   │   │   ├── os_mman.h
    │   │   │   │   ├── os_process.c
    │   │   │   │   ├── os_process.h
    │   │   │   │   └── os_thread.h
    │   │   │   ├── pipe-loader/
    │   │   │   │   ├── driinfo_gallium.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── pipe_loader.c
    │   │   │   │   ├── pipe_loader.h
    │   │   │   │   ├── pipe_loader_drm.c
    │   │   │   │   ├── pipe_loader_priv.h
    │   │   │   │   └── pipe_loader_sw.c
    │   │   │   ├── pipebuffer/
    │   │   │   │   ├── pb_buffer.h
    │   │   │   │   ├── pb_buffer_fenced.c
    │   │   │   │   ├── pb_buffer_fenced.h
    │   │   │   │   ├── pb_bufmgr.h
    │   │   │   │   ├── pb_bufmgr_cache.c
    │   │   │   │   ├── pb_bufmgr_debug.c
    │   │   │   │   ├── pb_bufmgr_mm.c
    │   │   │   │   ├── pb_bufmgr_slab.c
    │   │   │   │   ├── pb_cache.c
    │   │   │   │   ├── pb_cache.h
    │   │   │   │   ├── pb_slab.c
    │   │   │   │   ├── pb_slab.h
    │   │   │   │   ├── pb_validate.c
    │   │   │   │   └── pb_validate.h
    │   │   │   ├── postprocess/
    │   │   │   │   ├── ADDING
    │   │   │   │   ├── filters.h
    │   │   │   │   ├── postprocess.h
    │   │   │   │   ├── pp_celshade.c
    │   │   │   │   ├── pp_celshade.h
    │   │   │   │   ├── pp_colors.c
    │   │   │   │   ├── pp_colors.h
    │   │   │   │   ├── pp_filters.h
    │   │   │   │   ├── pp_init.c
    │   │   │   │   ├── pp_mlaa.c
    │   │   │   │   ├── pp_mlaa.h
    │   │   │   │   ├── pp_mlaa_areamap.h
    │   │   │   │   ├── pp_private.h
    │   │   │   │   ├── pp_program.c
    │   │   │   │   └── pp_run.c
    │   │   │   ├── rbug/
    │   │   │   │   ├── README
    │   │   │   │   ├── rbug.h
    │   │   │   │   ├── rbug_connection.c
    │   │   │   │   ├── rbug_connection.h
    │   │   │   │   ├── rbug_context.c
    │   │   │   │   ├── rbug_context.h
    │   │   │   │   ├── rbug_core.c
    │   │   │   │   ├── rbug_core.h
    │   │   │   │   ├── rbug_demarshal.c
    │   │   │   │   ├── rbug_internal.h
    │   │   │   │   ├── rbug_proto.h
    │   │   │   │   ├── rbug_shader.c
    │   │   │   │   ├── rbug_shader.h
    │   │   │   │   ├── rbug_texture.c
    │   │   │   │   └── rbug_texture.h
    │   │   │   ├── renderonly/
    │   │   │   │   ├── renderonly.c
    │   │   │   │   └── renderonly.h
    │   │   │   ├── rtasm/
    │   │   │   │   ├── rtasm_cpu.c
    │   │   │   │   ├── rtasm_cpu.h
    │   │   │   │   ├── rtasm_execmem.c
    │   │   │   │   ├── rtasm_execmem.h
    │   │   │   │   ├── rtasm_x86sse.c
    │   │   │   │   └── rtasm_x86sse.h
    │   │   │   ├── target-helpers/
    │   │   │   │   ├── drm_helper.h
    │   │   │   │   ├── drm_helper_public.h
    │   │   │   │   ├── inline_debug_helper.h
    │   │   │   │   ├── inline_sw_helper.h
    │   │   │   │   ├── sw_helper.h
    │   │   │   │   └── sw_helper_public.h
    │   │   │   ├── tessellator/
    │   │   │   │   ├── p_tessellator.cpp
    │   │   │   │   ├── p_tessellator.h
    │   │   │   │   ├── tessellator.cpp
    │   │   │   │   └── tessellator.hpp
    │   │   │   ├── tgsi/
    │   │   │   │   ├── tgsi_aa_point.c
    │   │   │   │   ├── tgsi_aa_point.h
    │   │   │   │   ├── tgsi_build.c
    │   │   │   │   ├── tgsi_build.h
    │   │   │   │   ├── tgsi_dump.c
    │   │   │   │   ├── tgsi_dump.h
    │   │   │   │   ├── tgsi_dynamic_indexing.c
    │   │   │   │   ├── tgsi_dynamic_indexing.h
    │   │   │   │   ├── tgsi_exec.c
    │   │   │   │   ├── tgsi_exec.h
    │   │   │   │   ├── tgsi_from_mesa.c
    │   │   │   │   ├── tgsi_from_mesa.h
    │   │   │   │   ├── tgsi_info.c
    │   │   │   │   ├── tgsi_info.h
    │   │   │   │   ├── tgsi_info_opcodes.h
    │   │   │   │   ├── tgsi_iterate.c
    │   │   │   │   ├── tgsi_iterate.h
    │   │   │   │   ├── tgsi_lowering.c
    │   │   │   │   ├── tgsi_lowering.h
    │   │   │   │   ├── tgsi_opcode_tmp.h
    │   │   │   │   ├── tgsi_parse.c
    │   │   │   │   ├── tgsi_parse.h
    │   │   │   │   ├── tgsi_point_sprite.c
    │   │   │   │   ├── tgsi_point_sprite.h
    │   │   │   │   ├── tgsi_sanity.c
    │   │   │   │   ├── tgsi_sanity.h
    │   │   │   │   ├── tgsi_scan.c
    │   │   │   │   ├── tgsi_scan.h
    │   │   │   │   ├── tgsi_strings.c
    │   │   │   │   ├── tgsi_strings.h
    │   │   │   │   ├── tgsi_text.c
    │   │   │   │   ├── tgsi_text.h
    │   │   │   │   ├── tgsi_transform.c
    │   │   │   │   ├── tgsi_transform.h
    │   │   │   │   ├── tgsi_two_side.c
    │   │   │   │   ├── tgsi_two_side.h
    │   │   │   │   ├── tgsi_ureg.c
    │   │   │   │   ├── tgsi_ureg.h
    │   │   │   │   ├── tgsi_util.c
    │   │   │   │   ├── tgsi_util.h
    │   │   │   │   ├── tgsi_vpos.c
    │   │   │   │   └── tgsi_vpos.h
    │   │   │   ├── translate/
    │   │   │   │   ├── translate.c
    │   │   │   │   ├── translate.h
    │   │   │   │   ├── translate_cache.c
    │   │   │   │   ├── translate_cache.h
    │   │   │   │   ├── translate_generic.c
    │   │   │   │   └── translate_sse.c
    │   │   │   ├── util/
    │   │   │   │   ├── dbghelp.h
    │   │   │   │   ├── u_async_debug.c
    │   │   │   │   ├── u_async_debug.h
    │   │   │   │   ├── u_bitcast.h
    │   │   │   │   ├── u_bitmask.c
    │   │   │   │   ├── u_bitmask.h
    │   │   │   │   ├── u_blend.h
    │   │   │   │   ├── u_blitter.c
    │   │   │   │   ├── u_blitter.h
    │   │   │   │   ├── u_box.h
    │   │   │   │   ├── u_cache.c
    │   │   │   │   ├── u_cache.h
    │   │   │   │   ├── u_compute.c
    │   │   │   │   ├── u_compute.h
    │   │   │   │   ├── u_debug_flush.c
    │   │   │   │   ├── u_debug_flush.h
    │   │   │   │   ├── u_debug_image.c
    │   │   │   │   ├── u_debug_image.h
    │   │   │   │   ├── u_dirty_flags.h
    │   │   │   │   ├── u_dirty_surfaces.h
    │   │   │   │   ├── u_draw.c
    │   │   │   │   ├── u_draw.h
    │   │   │   │   ├── u_draw_quad.c
    │   │   │   │   ├── u_draw_quad.h
    │   │   │   │   ├── u_driconf.c
    │   │   │   │   ├── u_driconf.h
    │   │   │   │   ├── u_dual_blend.h
    │   │   │   │   ├── u_dump.h
    │   │   │   │   ├── u_dump_defines.c
    │   │   │   │   ├── u_dump_state.c
    │   │   │   │   ├── u_file.h
    │   │   │   │   ├── u_framebuffer.c
    │   │   │   │   ├── u_framebuffer.h
    │   │   │   │   ├── u_gen_mipmap.c
    │   │   │   │   ├── u_gen_mipmap.h
    │   │   │   │   ├── u_handle_table.c
    │   │   │   │   ├── u_handle_table.h
    │   │   │   │   ├── u_helpers.c
    │   │   │   │   ├── u_helpers.h
    │   │   │   │   ├── u_index_modify.c
    │   │   │   │   ├── u_index_modify.h
    │   │   │   │   ├── u_inlines.h
    │   │   │   │   ├── u_linear.c
    │   │   │   │   ├── u_linear.h
    │   │   │   │   ├── u_live_shader_cache.c
    │   │   │   │   ├── u_live_shader_cache.h
    │   │   │   │   ├── u_log.c
    │   │   │   │   ├── u_log.h
    │   │   │   │   ├── u_network.c
    │   │   │   │   ├── u_network.h
    │   │   │   │   ├── u_pack_color.h
    │   │   │   │   ├── u_prim.c
    │   │   │   │   ├── u_prim.h
    │   │   │   │   ├── u_prim_restart.c
    │   │   │   │   ├── u_prim_restart.h
    │   │   │   │   ├── u_pstipple.c
    │   │   │   │   ├── u_pstipple.h
    │   │   │   │   ├── u_pwr8.h
    │   │   │   │   ├── u_range.h
    │   │   │   │   ├── u_rect.h
    │   │   │   │   ├── u_resource.c
    │   │   │   │   ├── u_resource.h
    │   │   │   │   ├── u_sampler.c
    │   │   │   │   ├── u_sampler.h
    │   │   │   │   ├── u_screen.c
    │   │   │   │   ├── u_screen.h
    │   │   │   │   ├── u_simple_shaders.c
    │   │   │   │   ├── u_simple_shaders.h
    │   │   │   │   ├── u_split_draw.c
    │   │   │   │   ├── u_split_draw.h
    │   │   │   │   ├── u_split_prim.h
    │   │   │   │   ├── u_sse.h
    │   │   │   │   ├── u_suballoc.c
    │   │   │   │   ├── u_suballoc.h
    │   │   │   │   ├── u_surface.c
    │   │   │   │   ├── u_surface.h
    │   │   │   │   ├── u_tests.c
    │   │   │   │   ├── u_tests.h
    │   │   │   │   ├── u_texture.c
    │   │   │   │   ├── u_texture.h
    │   │   │   │   ├── u_threaded_context.c
    │   │   │   │   ├── u_threaded_context.h
    │   │   │   │   ├── u_threaded_context_calls.h
    │   │   │   │   ├── u_tile.c
    │   │   │   │   ├── u_tile.h
    │   │   │   │   ├── u_trace_gallium.c
    │   │   │   │   ├── u_trace_gallium.h
    │   │   │   │   ├── u_tracepoints.py
    │   │   │   │   ├── u_transfer.c
    │   │   │   │   ├── u_transfer.h
    │   │   │   │   ├── u_transfer_helper.c
    │   │   │   │   ├── u_transfer_helper.h
    │   │   │   │   ├── u_upload_mgr.c
    │   │   │   │   ├── u_upload_mgr.h
    │   │   │   │   ├── u_vbuf.c
    │   │   │   │   ├── u_vbuf.h
    │   │   │   │   ├── u_vertex_state_cache.c
    │   │   │   │   ├── u_vertex_state_cache.h
    │   │   │   │   ├── u_video.h
    │   │   │   │   └── u_viewport.h
    │   │   │   └── vl/
    │   │   │       ├── vl_bicubic_filter.c
    │   │   │       ├── vl_bicubic_filter.h
    │   │   │       ├── vl_codec.c
    │   │   │       ├── vl_codec.h
    │   │   │       ├── vl_compositor.c
    │   │   │       ├── vl_compositor.h
    │   │   │       ├── vl_compositor_cs.c
    │   │   │       ├── vl_compositor_cs.h
    │   │   │       ├── vl_compositor_gfx.c
    │   │   │       ├── vl_compositor_gfx.h
    │   │   │       ├── vl_csc.c
    │   │   │       ├── vl_csc.h
    │   │   │       ├── vl_decoder.c
    │   │   │       ├── vl_decoder.h
    │   │   │       ├── vl_defines.h
    │   │   │       ├── vl_deint_filter.c
    │   │   │       ├── vl_deint_filter.h
    │   │   │       ├── vl_idct.c
    │   │   │       ├── vl_idct.h
    │   │   │       ├── vl_matrix_filter.c
    │   │   │       ├── vl_matrix_filter.h
    │   │   │       ├── vl_mc.c
    │   │   │       ├── vl_mc.h
    │   │   │       ├── vl_median_filter.c
    │   │   │       ├── vl_median_filter.h
    │   │   │       ├── vl_mpeg12_bitstream.c
    │   │   │       ├── vl_mpeg12_bitstream.h
    │   │   │       ├── vl_mpeg12_decoder.c
    │   │   │       ├── vl_mpeg12_decoder.h
    │   │   │       ├── vl_probs_table.h
    │   │   │       ├── vl_stubs.c
    │   │   │       ├── vl_types.h
    │   │   │       ├── vl_vertex_buffers.c
    │   │   │       ├── vl_vertex_buffers.h
    │   │   │       ├── vl_video_buffer.c
    │   │   │       ├── vl_video_buffer.h
    │   │   │       ├── vl_winsys.h
    │   │   │       ├── vl_winsys_dri.c
    │   │   │       ├── vl_winsys_dri3.c
    │   │   │       ├── vl_winsys_dri_vgem.c
    │   │   │       ├── vl_winsys_drm.c
    │   │   │       ├── vl_winsys_xlib_swrast.c
    │   │   │       ├── vl_zscan.c
    │   │   │       └── vl_zscan.h
    │   │   ├── drivers/
    │   │   │   ├── asahi/
    │   │   │   │   ├── agx_blit.c
    │   │   │   │   ├── agx_pipe.c
    │   │   │   │   ├── agx_public.h
    │   │   │   │   ├── agx_state.c
    │   │   │   │   ├── agx_state.h
    │   │   │   │   ├── agx_uniforms.c
    │   │   │   │   ├── magic.c
    │   │   │   │   ├── magic.h
    │   │   │   │   └── meson.build
    │   │   │   ├── crocus/
    │   │   │   │   ├── crocus_batch.c
    │   │   │   │   ├── crocus_batch.h
    │   │   │   │   ├── crocus_blit.c
    │   │   │   │   ├── crocus_blorp.c
    │   │   │   │   ├── crocus_blt.c
    │   │   │   │   ├── crocus_bufmgr.c
    │   │   │   │   ├── crocus_bufmgr.h
    │   │   │   │   ├── crocus_clear.c
    │   │   │   │   ├── crocus_context.c
    │   │   │   │   ├── crocus_context.h
    │   │   │   │   ├── crocus_defines.h
    │   │   │   │   ├── crocus_disk_cache.c
    │   │   │   │   ├── crocus_draw.c
    │   │   │   │   ├── crocus_fence.c
    │   │   │   │   ├── crocus_fence.h
    │   │   │   │   ├── crocus_fine_fence.c
    │   │   │   │   ├── crocus_fine_fence.h
    │   │   │   │   ├── crocus_formats.c
    │   │   │   │   ├── crocus_genx_macros.h
    │   │   │   │   ├── crocus_genx_protos.h
    │   │   │   │   ├── crocus_monitor.c
    │   │   │   │   ├── crocus_monitor.h
    │   │   │   │   ├── crocus_pipe.h
    │   │   │   │   ├── crocus_pipe_control.c
    │   │   │   │   ├── crocus_program.c
    │   │   │   │   ├── crocus_program_cache.c
    │   │   │   │   ├── crocus_query.c
    │   │   │   │   ├── crocus_resolve.c
    │   │   │   │   ├── crocus_resource.c
    │   │   │   │   ├── crocus_resource.h
    │   │   │   │   ├── crocus_screen.c
    │   │   │   │   ├── crocus_screen.h
    │   │   │   │   ├── crocus_todo.txt
    │   │   │   │   ├── driinfo_crocus.h
    │   │   │   │   ├── gen4_blorp_exec.h
    │   │   │   │   ├── meson.build
    │   │   │   │   └── ci/
    │   │   │   │       ├── crocus-g41-fails.txt
    │   │   │   │       ├── crocus-g41-flakes.txt
    │   │   │   │       ├── crocus-g41-skips.txt
    │   │   │   │       ├── crocus-hsw-fails.txt
    │   │   │   │       ├── crocus-hsw-flakes.txt
    │   │   │   │       ├── crocus-hsw-skips.txt
    │   │   │   │       ├── deqp-crocus-g41.toml
    │   │   │   │       ├── deqp-crocus-hsw.toml
    │   │   │   │       ├── gitlab-ci.yml
    │   │   │   │       └── traces-crocus.yml
    │   │   │   ├── d3d12/
    │   │   │   │   ├── d3d12_batch.cpp
    │   │   │   │   ├── d3d12_batch.h
    │   │   │   │   ├── d3d12_blit.cpp
    │   │   │   │   ├── d3d12_blit.h
    │   │   │   │   ├── d3d12_bufmgr.cpp
    │   │   │   │   ├── d3d12_bufmgr.h
    │   │   │   │   ├── d3d12_cmd_signature.cpp
    │   │   │   │   ├── d3d12_cmd_signature.h
    │   │   │   │   ├── d3d12_common.h
    │   │   │   │   ├── d3d12_compiler.cpp
    │   │   │   │   ├── d3d12_compiler.h
    │   │   │   │   ├── d3d12_compute_transforms.cpp
    │   │   │   │   ├── d3d12_compute_transforms.h
    │   │   │   │   ├── d3d12_context.cpp
    │   │   │   │   ├── d3d12_context.h
    │   │   │   │   ├── d3d12_debug.h
    │   │   │   │   ├── d3d12_descriptor_pool.cpp
    │   │   │   │   ├── d3d12_descriptor_pool.h
    │   │   │   │   ├── d3d12_draw.cpp
    │   │   │   │   ├── d3d12_dxcore_screen.cpp
    │   │   │   │   ├── d3d12_dxgi_screen.cpp
    │   │   │   │   ├── d3d12_fence.cpp
    │   │   │   │   ├── d3d12_fence.h
    │   │   │   │   ├── d3d12_format.c
    │   │   │   │   ├── d3d12_format.h
    │   │   │   │   ├── d3d12_gs_variant.cpp
    │   │   │   │   ├── d3d12_lower_image_casts.c
    │   │   │   │   ├── d3d12_lower_point_sprite.c
    │   │   │   │   ├── d3d12_nir_passes.c
    │   │   │   │   ├── d3d12_nir_passes.h
    │   │   │   │   ├── d3d12_pipeline_state.cpp
    │   │   │   │   ├── d3d12_pipeline_state.h
    │   │   │   │   ├── d3d12_public.h
    │   │   │   │   ├── d3d12_query.cpp
    │   │   │   │   ├── d3d12_query.h
    │   │   │   │   ├── d3d12_residency.cpp
    │   │   │   │   ├── d3d12_residency.h
    │   │   │   │   ├── d3d12_resource.cpp
    │   │   │   │   ├── d3d12_resource.h
    │   │   │   │   ├── d3d12_resource_state.cpp
    │   │   │   │   ├── d3d12_resource_state.h
    │   │   │   │   ├── d3d12_root_signature.cpp
    │   │   │   │   ├── d3d12_root_signature.h
    │   │   │   │   ├── d3d12_screen.cpp
    │   │   │   │   ├── d3d12_screen.h
    │   │   │   │   ├── d3d12_surface.cpp
    │   │   │   │   ├── d3d12_surface.h
    │   │   │   │   ├── d3d12_tcs_variant.cpp
    │   │   │   │   ├── d3d12_util.h
    │   │   │   │   ├── d3d12_video_array_of_textures_dpb_manager.cpp
    │   │   │   │   ├── d3d12_video_array_of_textures_dpb_manager.h
    │   │   │   │   ├── d3d12_video_buffer.cpp
    │   │   │   │   ├── d3d12_video_buffer.h
    │   │   │   │   ├── d3d12_video_dec.cpp
    │   │   │   │   ├── d3d12_video_dec.h
    │   │   │   │   ├── d3d12_video_dec_h264.cpp
    │   │   │   │   ├── d3d12_video_dec_h264.h
    │   │   │   │   ├── d3d12_video_dec_references_mgr.cpp
    │   │   │   │   ├── d3d12_video_dec_references_mgr.h
    │   │   │   │   ├── d3d12_video_dpb_storage_manager.h
    │   │   │   │   ├── d3d12_video_enc.cpp
    │   │   │   │   ├── d3d12_video_enc.h
    │   │   │   │   ├── d3d12_video_enc_h264.cpp
    │   │   │   │   ├── d3d12_video_enc_h264.h
    │   │   │   │   ├── d3d12_video_encoder_bitstream.cpp
    │   │   │   │   ├── d3d12_video_encoder_bitstream.h
    │   │   │   │   ├── d3d12_video_encoder_bitstream_builder.h
    │   │   │   │   ├── d3d12_video_encoder_bitstream_builder_h264.cpp
    │   │   │   │   ├── d3d12_video_encoder_bitstream_builder_h264.h
    │   │   │   │   ├── d3d12_video_encoder_nalu_writer_h264.cpp
    │   │   │   │   ├── d3d12_video_encoder_nalu_writer_h264.h
    │   │   │   │   ├── d3d12_video_encoder_references_manager.h
    │   │   │   │   ├── d3d12_video_encoder_references_manager_h264.cpp
    │   │   │   │   ├── d3d12_video_encoder_references_manager_h264.h
    │   │   │   │   ├── d3d12_video_proc.cpp
    │   │   │   │   ├── d3d12_video_proc.h
    │   │   │   │   ├── d3d12_video_screen.cpp
    │   │   │   │   ├── d3d12_video_screen.h
    │   │   │   │   ├── d3d12_video_texture_array_dpb_manager.cpp
    │   │   │   │   ├── d3d12_video_texture_array_dpb_manager.h
    │   │   │   │   ├── d3d12_video_types.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── .clang-format
    │   │   │   │   └── ci/
    │   │   │   │       ├── d3d12-quick_gl.txt
    │   │   │   │       └── gitlab-ci.yml
    │   │   │   ├── etnaviv/
    │   │   │   │   ├── README
    │   │   │   │   ├── etnaviv_asm.c
    │   │   │   │   ├── etnaviv_asm.h
    │   │   │   │   ├── etnaviv_blend.c
    │   │   │   │   ├── etnaviv_blend.h
    │   │   │   │   ├── etnaviv_blt.c
    │   │   │   │   ├── etnaviv_blt.h
    │   │   │   │   ├── etnaviv_clear_blit.c
    │   │   │   │   ├── etnaviv_clear_blit.h
    │   │   │   │   ├── etnaviv_compiler.c
    │   │   │   │   ├── etnaviv_compiler.h
    │   │   │   │   ├── etnaviv_compiler_cmdline.c
    │   │   │   │   ├── etnaviv_compiler_nir.c
    │   │   │   │   ├── etnaviv_compiler_nir.h
    │   │   │   │   ├── etnaviv_compiler_nir_emit.c
    │   │   │   │   ├── etnaviv_compiler_nir_liveness.c
    │   │   │   │   ├── etnaviv_compiler_nir_ra.c
    │   │   │   │   ├── etnaviv_context.c
    │   │   │   │   ├── etnaviv_context.h
    │   │   │   │   ├── etnaviv_debug.h
    │   │   │   │   ├── etnaviv_disasm.c
    │   │   │   │   ├── etnaviv_disasm.h
    │   │   │   │   ├── etnaviv_disk_cache.c
    │   │   │   │   ├── etnaviv_disk_cache.h
    │   │   │   │   ├── etnaviv_emit.c
    │   │   │   │   ├── etnaviv_emit.h
    │   │   │   │   ├── etnaviv_etc2.c
    │   │   │   │   ├── etnaviv_etc2.h
    │   │   │   │   ├── etnaviv_fence.c
    │   │   │   │   ├── etnaviv_fence.h
    │   │   │   │   ├── etnaviv_format.c
    │   │   │   │   ├── etnaviv_format.h
    │   │   │   │   ├── etnaviv_internal.h
    │   │   │   │   ├── etnaviv_nir.c
    │   │   │   │   ├── etnaviv_nir.h
    │   │   │   │   ├── etnaviv_nir_lower_ubo_to_uniform.c
    │   │   │   │   ├── etnaviv_perfmon.c
    │   │   │   │   ├── etnaviv_perfmon.h
    │   │   │   │   ├── etnaviv_query.c
    │   │   │   │   ├── etnaviv_query.h
    │   │   │   │   ├── etnaviv_query_acc.c
    │   │   │   │   ├── etnaviv_query_acc.h
    │   │   │   │   ├── etnaviv_query_acc_occlusion.c
    │   │   │   │   ├── etnaviv_query_acc_perfmon.c
    │   │   │   │   ├── etnaviv_query_sw.c
    │   │   │   │   ├── etnaviv_query_sw.h
    │   │   │   │   ├── etnaviv_rasterizer.c
    │   │   │   │   ├── etnaviv_rasterizer.h
    │   │   │   │   ├── etnaviv_resource.c
    │   │   │   │   ├── etnaviv_resource.h
    │   │   │   │   ├── etnaviv_rs.c
    │   │   │   │   ├── etnaviv_rs.h
    │   │   │   │   ├── etnaviv_screen.c
    │   │   │   │   ├── etnaviv_screen.h
    │   │   │   │   ├── etnaviv_shader.c
    │   │   │   │   ├── etnaviv_shader.h
    │   │   │   │   ├── etnaviv_state.c
    │   │   │   │   ├── etnaviv_state.h
    │   │   │   │   ├── etnaviv_surface.c
    │   │   │   │   ├── etnaviv_surface.h
    │   │   │   │   ├── etnaviv_texture.c
    │   │   │   │   ├── etnaviv_texture.h
    │   │   │   │   ├── etnaviv_texture_desc.c
    │   │   │   │   ├── etnaviv_texture_desc.h
    │   │   │   │   ├── etnaviv_texture_state.c
    │   │   │   │   ├── etnaviv_texture_state.h
    │   │   │   │   ├── etnaviv_tiling.c
    │   │   │   │   ├── etnaviv_tiling.h
    │   │   │   │   ├── etnaviv_transfer.c
    │   │   │   │   ├── etnaviv_transfer.h
    │   │   │   │   ├── etnaviv_translate.h
    │   │   │   │   ├── etnaviv_uniforms.c
    │   │   │   │   ├── etnaviv_uniforms.h
    │   │   │   │   ├── etnaviv_util.h
    │   │   │   │   ├── etnaviv_zsa.c
    │   │   │   │   ├── etnaviv_zsa.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── hw/
    │   │   │   │   │   ├── cmdstream.xml.h
    │   │   │   │   │   ├── common.xml.h
    │   │   │   │   │   ├── common_3d.xml.h
    │   │   │   │   │   ├── isa.xml.h
    │   │   │   │   │   ├── state.xml.h
    │   │   │   │   │   ├── state_3d.xml.h
    │   │   │   │   │   ├── state_blt.xml.h
    │   │   │   │   │   └── texdesc_3d.xml.h
    │   │   │   │   └── tests/
    │   │   │   │       └── lower_ubo_tests.cpp
    │   │   │   ├── freedreno/
    │   │   │   │   ├── freedreno_autotune.c
    │   │   │   │   ├── freedreno_autotune.h
    │   │   │   │   ├── freedreno_batch.c
    │   │   │   │   ├── freedreno_batch.h
    │   │   │   │   ├── freedreno_batch_cache.c
    │   │   │   │   ├── freedreno_batch_cache.h
    │   │   │   │   ├── freedreno_blitter.c
    │   │   │   │   ├── freedreno_blitter.h
    │   │   │   │   ├── freedreno_context.c
    │   │   │   │   ├── freedreno_context.h
    │   │   │   │   ├── freedreno_draw.c
    │   │   │   │   ├── freedreno_draw.h
    │   │   │   │   ├── freedreno_fence.c
    │   │   │   │   ├── freedreno_fence.h
    │   │   │   │   ├── freedreno_gmem.c
    │   │   │   │   ├── freedreno_gmem.h
    │   │   │   │   ├── freedreno_perfetto.cc
    │   │   │   │   ├── freedreno_perfetto.h
    │   │   │   │   ├── freedreno_program.c
    │   │   │   │   ├── freedreno_program.h
    │   │   │   │   ├── freedreno_query.c
    │   │   │   │   ├── freedreno_query.h
    │   │   │   │   ├── freedreno_query_acc.c
    │   │   │   │   ├── freedreno_query_acc.h
    │   │   │   │   ├── freedreno_query_hw.c
    │   │   │   │   ├── freedreno_query_hw.h
    │   │   │   │   ├── freedreno_query_sw.c
    │   │   │   │   ├── freedreno_query_sw.h
    │   │   │   │   ├── freedreno_resource.c
    │   │   │   │   ├── freedreno_resource.h
    │   │   │   │   ├── freedreno_screen.c
    │   │   │   │   ├── freedreno_screen.h
    │   │   │   │   ├── freedreno_state.c
    │   │   │   │   ├── freedreno_state.h
    │   │   │   │   ├── freedreno_surface.c
    │   │   │   │   ├── freedreno_surface.h
    │   │   │   │   ├── freedreno_texture.c
    │   │   │   │   ├── freedreno_texture.h
    │   │   │   │   ├── freedreno_tracepoints.py
    │   │   │   │   ├── freedreno_util.c
    │   │   │   │   ├── freedreno_util.h
    │   │   │   │   ├── gmemtool.c
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── trace-parser.py
    │   │   │   │   ├── .dir-locals.el
    │   │   │   │   ├── .editorconfig
    │   │   │   │   ├── a2xx/
    │   │   │   │   │   ├── fd2_blend.c
    │   │   │   │   │   ├── fd2_blend.h
    │   │   │   │   │   ├── fd2_context.c
    │   │   │   │   │   ├── fd2_context.h
    │   │   │   │   │   ├── fd2_draw.c
    │   │   │   │   │   ├── fd2_draw.h
    │   │   │   │   │   ├── fd2_emit.c
    │   │   │   │   │   ├── fd2_emit.h
    │   │   │   │   │   ├── fd2_gmem.c
    │   │   │   │   │   ├── fd2_gmem.h
    │   │   │   │   │   ├── fd2_program.c
    │   │   │   │   │   ├── fd2_program.h
    │   │   │   │   │   ├── fd2_query.c
    │   │   │   │   │   ├── fd2_query.h
    │   │   │   │   │   ├── fd2_rasterizer.c
    │   │   │   │   │   ├── fd2_rasterizer.h
    │   │   │   │   │   ├── fd2_resource.c
    │   │   │   │   │   ├── fd2_resource.h
    │   │   │   │   │   ├── fd2_screen.c
    │   │   │   │   │   ├── fd2_screen.h
    │   │   │   │   │   ├── fd2_texture.c
    │   │   │   │   │   ├── fd2_texture.h
    │   │   │   │   │   ├── fd2_util.c
    │   │   │   │   │   ├── fd2_util.h
    │   │   │   │   │   ├── fd2_zsa.c
    │   │   │   │   │   ├── fd2_zsa.h
    │   │   │   │   │   ├── ir2.c
    │   │   │   │   │   ├── ir2.h
    │   │   │   │   │   ├── ir2_assemble.c
    │   │   │   │   │   ├── ir2_cp.c
    │   │   │   │   │   ├── ir2_nir.c
    │   │   │   │   │   ├── ir2_private.h
    │   │   │   │   │   └── ir2_ra.c
    │   │   │   │   ├── a3xx/
    │   │   │   │   │   ├── fd3_blend.c
    │   │   │   │   │   ├── fd3_blend.h
    │   │   │   │   │   ├── fd3_context.c
    │   │   │   │   │   ├── fd3_context.h
    │   │   │   │   │   ├── fd3_draw.c
    │   │   │   │   │   ├── fd3_draw.h
    │   │   │   │   │   ├── fd3_emit.c
    │   │   │   │   │   ├── fd3_emit.h
    │   │   │   │   │   ├── fd3_format.c
    │   │   │   │   │   ├── fd3_format.h
    │   │   │   │   │   ├── fd3_gmem.c
    │   │   │   │   │   ├── fd3_gmem.h
    │   │   │   │   │   ├── fd3_program.c
    │   │   │   │   │   ├── fd3_program.h
    │   │   │   │   │   ├── fd3_query.c
    │   │   │   │   │   ├── fd3_query.h
    │   │   │   │   │   ├── fd3_rasterizer.c
    │   │   │   │   │   ├── fd3_rasterizer.h
    │   │   │   │   │   ├── fd3_resource.c
    │   │   │   │   │   ├── fd3_resource.h
    │   │   │   │   │   ├── fd3_screen.c
    │   │   │   │   │   ├── fd3_screen.h
    │   │   │   │   │   ├── fd3_texture.c
    │   │   │   │   │   ├── fd3_texture.h
    │   │   │   │   │   ├── fd3_zsa.c
    │   │   │   │   │   └── fd3_zsa.h
    │   │   │   │   ├── a4xx/
    │   │   │   │   │   ├── fd4_blend.c
    │   │   │   │   │   ├── fd4_blend.h
    │   │   │   │   │   ├── fd4_compute.c
    │   │   │   │   │   ├── fd4_compute.h
    │   │   │   │   │   ├── fd4_context.c
    │   │   │   │   │   ├── fd4_context.h
    │   │   │   │   │   ├── fd4_draw.c
    │   │   │   │   │   ├── fd4_draw.h
    │   │   │   │   │   ├── fd4_emit.c
    │   │   │   │   │   ├── fd4_emit.h
    │   │   │   │   │   ├── fd4_format.c
    │   │   │   │   │   ├── fd4_format.h
    │   │   │   │   │   ├── fd4_gmem.c
    │   │   │   │   │   ├── fd4_gmem.h
    │   │   │   │   │   ├── fd4_image.c
    │   │   │   │   │   ├── fd4_image.h
    │   │   │   │   │   ├── fd4_program.c
    │   │   │   │   │   ├── fd4_program.h
    │   │   │   │   │   ├── fd4_query.c
    │   │   │   │   │   ├── fd4_query.h
    │   │   │   │   │   ├── fd4_rasterizer.c
    │   │   │   │   │   ├── fd4_rasterizer.h
    │   │   │   │   │   ├── fd4_resource.c
    │   │   │   │   │   ├── fd4_resource.h
    │   │   │   │   │   ├── fd4_screen.c
    │   │   │   │   │   ├── fd4_screen.h
    │   │   │   │   │   ├── fd4_texture.c
    │   │   │   │   │   ├── fd4_texture.h
    │   │   │   │   │   ├── fd4_zsa.c
    │   │   │   │   │   └── fd4_zsa.h
    │   │   │   │   ├── a5xx/
    │   │   │   │   │   ├── fd5_blend.c
    │   │   │   │   │   ├── fd5_blend.h
    │   │   │   │   │   ├── fd5_blitter.c
    │   │   │   │   │   ├── fd5_blitter.h
    │   │   │   │   │   ├── fd5_compute.c
    │   │   │   │   │   ├── fd5_compute.h
    │   │   │   │   │   ├── fd5_context.c
    │   │   │   │   │   ├── fd5_context.h
    │   │   │   │   │   ├── fd5_draw.c
    │   │   │   │   │   ├── fd5_draw.h
    │   │   │   │   │   ├── fd5_emit.c
    │   │   │   │   │   ├── fd5_emit.h
    │   │   │   │   │   ├── fd5_format.c
    │   │   │   │   │   ├── fd5_format.h
    │   │   │   │   │   ├── fd5_gmem.c
    │   │   │   │   │   ├── fd5_gmem.h
    │   │   │   │   │   ├── fd5_image.c
    │   │   │   │   │   ├── fd5_image.h
    │   │   │   │   │   ├── fd5_program.c
    │   │   │   │   │   ├── fd5_program.h
    │   │   │   │   │   ├── fd5_query.c
    │   │   │   │   │   ├── fd5_query.h
    │   │   │   │   │   ├── fd5_rasterizer.c
    │   │   │   │   │   ├── fd5_rasterizer.h
    │   │   │   │   │   ├── fd5_resource.c
    │   │   │   │   │   ├── fd5_resource.h
    │   │   │   │   │   ├── fd5_screen.c
    │   │   │   │   │   ├── fd5_screen.h
    │   │   │   │   │   ├── fd5_texture.c
    │   │   │   │   │   ├── fd5_texture.h
    │   │   │   │   │   ├── fd5_zsa.c
    │   │   │   │   │   └── fd5_zsa.h
    │   │   │   │   ├── a6xx/
    │   │   │   │   │   ├── fd6_blend.c
    │   │   │   │   │   ├── fd6_blend.h
    │   │   │   │   │   ├── fd6_blitter.c
    │   │   │   │   │   ├── fd6_blitter.h
    │   │   │   │   │   ├── fd6_compute.c
    │   │   │   │   │   ├── fd6_compute.h
    │   │   │   │   │   ├── fd6_const.c
    │   │   │   │   │   ├── fd6_const.h
    │   │   │   │   │   ├── fd6_context.c
    │   │   │   │   │   ├── fd6_context.h
    │   │   │   │   │   ├── fd6_draw.c
    │   │   │   │   │   ├── fd6_draw.h
    │   │   │   │   │   ├── fd6_emit.c
    │   │   │   │   │   ├── fd6_emit.h
    │   │   │   │   │   ├── fd6_gmem.c
    │   │   │   │   │   ├── fd6_gmem.h
    │   │   │   │   │   ├── fd6_image.c
    │   │   │   │   │   ├── fd6_image.h
    │   │   │   │   │   ├── fd6_pack.h
    │   │   │   │   │   ├── fd6_program.c
    │   │   │   │   │   ├── fd6_program.h
    │   │   │   │   │   ├── fd6_query.c
    │   │   │   │   │   ├── fd6_query.h
    │   │   │   │   │   ├── fd6_rasterizer.c
    │   │   │   │   │   ├── fd6_rasterizer.h
    │   │   │   │   │   ├── fd6_resource.c
    │   │   │   │   │   ├── fd6_resource.h
    │   │   │   │   │   ├── fd6_screen.c
    │   │   │   │   │   ├── fd6_screen.h
    │   │   │   │   │   ├── fd6_texture.c
    │   │   │   │   │   ├── fd6_texture.h
    │   │   │   │   │   ├── fd6_vsc.c
    │   │   │   │   │   ├── fd6_vsc.h
    │   │   │   │   │   ├── fd6_zsa.c
    │   │   │   │   │   └── fd6_zsa.h
    │   │   │   │   ├── ir3/
    │   │   │   │   │   ├── ir3_cache.c
    │   │   │   │   │   ├── ir3_cache.h
    │   │   │   │   │   ├── ir3_cmdline.c
    │   │   │   │   │   ├── ir3_const.h
    │   │   │   │   │   ├── ir3_gallium.c
    │   │   │   │   │   └── ir3_gallium.h
    │   │   │   │   └── .clang-format -> .clang-format
    │   │   │   ├── i915/
    │   │   │   │   ├── i915_batch.h
    │   │   │   │   ├── i915_batchbuffer.h
    │   │   │   │   ├── i915_blit.c
    │   │   │   │   ├── i915_blit.h
    │   │   │   │   ├── i915_clear.c
    │   │   │   │   ├── i915_context.c
    │   │   │   │   ├── i915_context.h
    │   │   │   │   ├── i915_debug.c
    │   │   │   │   ├── i915_debug.h
    │   │   │   │   ├── i915_debug_fp.c
    │   │   │   │   ├── i915_debug_private.h
    │   │   │   │   ├── i915_flush.c
    │   │   │   │   ├── i915_fpc.h
    │   │   │   │   ├── i915_fpc_emit.c
    │   │   │   │   ├── i915_fpc_optimize.c
    │   │   │   │   ├── i915_fpc_translate.c
    │   │   │   │   ├── i915_prim_emit.c
    │   │   │   │   ├── i915_prim_vbuf.c
    │   │   │   │   ├── i915_public.h
    │   │   │   │   ├── i915_query.c
    │   │   │   │   ├── i915_query.h
    │   │   │   │   ├── i915_reg.h
    │   │   │   │   ├── i915_resource.c
    │   │   │   │   ├── i915_resource.h
    │   │   │   │   ├── i915_resource_buffer.c
    │   │   │   │   ├── i915_resource_texture.c
    │   │   │   │   ├── i915_screen.c
    │   │   │   │   ├── i915_screen.h
    │   │   │   │   ├── i915_state.c
    │   │   │   │   ├── i915_state.h
    │   │   │   │   ├── i915_state_derived.c
    │   │   │   │   ├── i915_state_dynamic.c
    │   │   │   │   ├── i915_state_emit.c
    │   │   │   │   ├── i915_state_fpc.c
    │   │   │   │   ├── i915_state_immediate.c
    │   │   │   │   ├── i915_state_inlines.h
    │   │   │   │   ├── i915_state_sampler.c
    │   │   │   │   ├── i915_state_static.c
    │   │   │   │   ├── i915_surface.c
    │   │   │   │   ├── i915_surface.h
    │   │   │   │   ├── i915_winsys.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── TODO
    │   │   │   │   ├── .clang-format
    │   │   │   │   └── ci/
    │   │   │   │       ├── deqp-i915g.toml
    │   │   │   │       ├── gitlab-ci.yml
    │   │   │   │       ├── i915-g33-fails.txt
    │   │   │   │       ├── i915-g33-flakes.txt
    │   │   │   │       ├── i915-g33-skips.txt
    │   │   │   │       └── traces-i915.yml
    │   │   │   ├── iris/
    │   │   │   │   ├── driinfo_iris.h
    │   │   │   │   ├── iris_batch.c
    │   │   │   │   ├── iris_batch.h
    │   │   │   │   ├── iris_binder.c
    │   │   │   │   ├── iris_binder.h
    │   │   │   │   ├── iris_blit.c
    │   │   │   │   ├── iris_blorp.c
    │   │   │   │   ├── iris_border_color.c
    │   │   │   │   ├── iris_bufmgr.c
    │   │   │   │   ├── iris_bufmgr.h
    │   │   │   │   ├── iris_clear.c
    │   │   │   │   ├── iris_context.c
    │   │   │   │   ├── iris_context.h
    │   │   │   │   ├── iris_defines.h
    │   │   │   │   ├── iris_disk_cache.c
    │   │   │   │   ├── iris_draw.c
    │   │   │   │   ├── iris_fence.c
    │   │   │   │   ├── iris_fence.h
    │   │   │   │   ├── iris_fine_fence.c
    │   │   │   │   ├── iris_fine_fence.h
    │   │   │   │   ├── iris_formats.c
    │   │   │   │   ├── iris_genx_macros.h
    │   │   │   │   ├── iris_genx_protos.h
    │   │   │   │   ├── iris_measure.c
    │   │   │   │   ├── iris_measure.h
    │   │   │   │   ├── iris_monitor.c
    │   │   │   │   ├── iris_monitor.h
    │   │   │   │   ├── iris_perf.c
    │   │   │   │   ├── iris_perf.h
    │   │   │   │   ├── iris_performance_query.c
    │   │   │   │   ├── iris_pipe.h
    │   │   │   │   ├── iris_pipe_control.c
    │   │   │   │   ├── iris_program.c
    │   │   │   │   ├── iris_program_cache.c
    │   │   │   │   ├── iris_query.c
    │   │   │   │   ├── iris_resolve.c
    │   │   │   │   ├── iris_resource.c
    │   │   │   │   ├── iris_resource.h
    │   │   │   │   ├── iris_screen.c
    │   │   │   │   ├── iris_screen.h
    │   │   │   │   ├── iris_utrace.c
    │   │   │   │   ├── iris_utrace.h
    │   │   │   │   └── meson.build
    │   │   │   ├── lima/
    │   │   │   │   ├── lima_blit.c
    │   │   │   │   ├── lima_blit.h
    │   │   │   │   ├── lima_bo.c
    │   │   │   │   ├── lima_bo.h
    │   │   │   │   ├── lima_context.c
    │   │   │   │   ├── lima_context.h
    │   │   │   │   ├── lima_disk_cache.c
    │   │   │   │   ├── lima_disk_cache.h
    │   │   │   │   ├── lima_draw.c
    │   │   │   │   ├── lima_fence.c
    │   │   │   │   ├── lima_fence.h
    │   │   │   │   ├── lima_format.c
    │   │   │   │   ├── lima_format.h
    │   │   │   │   ├── lima_gpu.h
    │   │   │   │   ├── lima_job.c
    │   │   │   │   ├── lima_job.h
    │   │   │   │   ├── lima_parser.c
    │   │   │   │   ├── lima_parser.h
    │   │   │   │   ├── lima_program.c
    │   │   │   │   ├── lima_program.h
    │   │   │   │   ├── lima_query.c
    │   │   │   │   ├── lima_resource.c
    │   │   │   │   ├── lima_resource.h
    │   │   │   │   ├── lima_screen.c
    │   │   │   │   ├── lima_screen.h
    │   │   │   │   ├── lima_state.c
    │   │   │   │   ├── lima_texture.c
    │   │   │   │   ├── lima_texture.h
    │   │   │   │   ├── lima_util.c
    │   │   │   │   ├── lima_util.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── ci/
    │   │   │   │   │   ├── gitlab-ci.yml
    │   │   │   │   │   ├── lima-fails.txt
    │   │   │   │   │   └── lima-skips.txt
    │   │   │   │   ├── drm-shim/
    │   │   │   │   │   ├── lima_noop.c
    │   │   │   │   │   └── meson.build
    │   │   │   │   ├── ir/
    │   │   │   │   │   ├── lima_ir.h
    │   │   │   │   │   ├── lima_nir_algebraic.py
    │   │   │   │   │   ├── lima_nir_duplicate_consts.c
    │   │   │   │   │   ├── lima_nir_duplicate_intrinsic.c
    │   │   │   │   │   ├── lima_nir_lower_txp.c
    │   │   │   │   │   ├── lima_nir_lower_uniform_to_scalar.c
    │   │   │   │   │   ├── lima_nir_split_load_input.c
    │   │   │   │   │   ├── lima_nir_split_loads.c
    │   │   │   │   │   ├── gp/
    │   │   │   │   │   │   ├── codegen.c
    │   │   │   │   │   │   ├── codegen.h
    │   │   │   │   │   │   ├── disasm.c
    │   │   │   │   │   │   ├── gpir.h
    │   │   │   │   │   │   ├── instr.c
    │   │   │   │   │   │   ├── lower.c
    │   │   │   │   │   │   ├── nir.c
    │   │   │   │   │   │   ├── node.c
    │   │   │   │   │   │   ├── optimize.c
    │   │   │   │   │   │   ├── reduce_scheduler.c
    │   │   │   │   │   │   ├── regalloc.c
    │   │   │   │   │   │   └── scheduler.c
    │   │   │   │   │   └── pp/
    │   │   │   │   │       ├── codegen.c
    │   │   │   │   │       ├── codegen.h
    │   │   │   │   │       ├── disasm.c
    │   │   │   │   │       ├── instr.c
    │   │   │   │   │       ├── liveness.c
    │   │   │   │   │       ├── lower.c
    │   │   │   │   │       ├── nir.c
    │   │   │   │   │       ├── node.c
    │   │   │   │   │       ├── node_to_instr.c
    │   │   │   │   │       ├── ppir.h
    │   │   │   │   │       ├── regalloc.c
    │   │   │   │   │       └── scheduler.c
    │   │   │   │   └── standalone/
    │   │   │   │       ├── glsl.cpp
    │   │   │   │       ├── glsl.h
    │   │   │   │       ├── lima_compiler_cmdline.c
    │   │   │   │       └── lima_disasm.c
    │   │   │   ├── llvmpipe/
    │   │   │   │   ├── lp_bld_alpha.c
    │   │   │   │   ├── lp_bld_alpha.h
    │   │   │   │   ├── lp_bld_blend.c
    │   │   │   │   ├── lp_bld_blend.h
    │   │   │   │   ├── lp_bld_blend_aos.c
    │   │   │   │   ├── lp_bld_blend_logicop.c
    │   │   │   │   ├── lp_bld_depth.c
    │   │   │   │   ├── lp_bld_depth.h
    │   │   │   │   ├── lp_bld_interp.c
    │   │   │   │   ├── lp_bld_interp.h
    │   │   │   │   ├── lp_clear.c
    │   │   │   │   ├── lp_clear.h
    │   │   │   │   ├── lp_context.c
    │   │   │   │   ├── lp_context.h
    │   │   │   │   ├── lp_cs_tpool.c
    │   │   │   │   ├── lp_cs_tpool.h
    │   │   │   │   ├── lp_debug.h
    │   │   │   │   ├── lp_draw_arrays.c
    │   │   │   │   ├── lp_fence.c
    │   │   │   │   ├── lp_fence.h
    │   │   │   │   ├── lp_flush.c
    │   │   │   │   ├── lp_flush.h
    │   │   │   │   ├── lp_jit.c
    │   │   │   │   ├── lp_jit.h
    │   │   │   │   ├── lp_limits.h
    │   │   │   │   ├── lp_linear.c
    │   │   │   │   ├── lp_linear_fastpath.c
    │   │   │   │   ├── lp_linear_interp.c
    │   │   │   │   ├── lp_linear_priv.h
    │   │   │   │   ├── lp_linear_sampler.c
    │   │   │   │   ├── lp_memory.c
    │   │   │   │   ├── lp_memory.h
    │   │   │   │   ├── lp_perf.c
    │   │   │   │   ├── lp_perf.h
    │   │   │   │   ├── lp_public.h
    │   │   │   │   ├── lp_query.c
    │   │   │   │   ├── lp_query.h
    │   │   │   │   ├── lp_rast.c
    │   │   │   │   ├── lp_rast.h
    │   │   │   │   ├── lp_rast_debug.c
    │   │   │   │   ├── lp_rast_linear.c
    │   │   │   │   ├── lp_rast_linear_fallback.c
    │   │   │   │   ├── lp_rast_priv.h
    │   │   │   │   ├── lp_rast_rect.c
    │   │   │   │   ├── lp_rast_tri.c
    │   │   │   │   ├── lp_rast_tri_tmp.h
    │   │   │   │   ├── lp_scene.c
    │   │   │   │   ├── lp_scene.h
    │   │   │   │   ├── lp_scene_queue.c
    │   │   │   │   ├── lp_scene_queue.h
    │   │   │   │   ├── lp_screen.c
    │   │   │   │   ├── lp_screen.h
    │   │   │   │   ├── lp_setup.c
    │   │   │   │   ├── lp_setup.h
    │   │   │   │   ├── lp_setup_analysis.c
    │   │   │   │   ├── lp_setup_context.h
    │   │   │   │   ├── lp_setup_line.c
    │   │   │   │   ├── lp_setup_point.c
    │   │   │   │   ├── lp_setup_rect.c
    │   │   │   │   ├── lp_setup_tri.c
    │   │   │   │   ├── lp_setup_vbuf.c
    │   │   │   │   ├── lp_state.h
    │   │   │   │   ├── lp_state_blend.c
    │   │   │   │   ├── lp_state_clip.c
    │   │   │   │   ├── lp_state_cs.c
    │   │   │   │   ├── lp_state_cs.h
    │   │   │   │   ├── lp_state_derived.c
    │   │   │   │   ├── lp_state_fs.c
    │   │   │   │   ├── lp_state_fs.h
    │   │   │   │   ├── lp_state_fs_analysis.c
    │   │   │   │   ├── lp_state_fs_fastpath.c
    │   │   │   │   ├── lp_state_fs_linear.c
    │   │   │   │   ├── lp_state_fs_linear_llvm.c
    │   │   │   │   ├── lp_state_gs.c
    │   │   │   │   ├── lp_state_rasterizer.c
    │   │   │   │   ├── lp_state_sampler.c
    │   │   │   │   ├── lp_state_setup.c
    │   │   │   │   ├── lp_state_setup.h
    │   │   │   │   ├── lp_state_so.c
    │   │   │   │   ├── lp_state_surface.c
    │   │   │   │   ├── lp_state_tess.c
    │   │   │   │   ├── lp_state_vertex.c
    │   │   │   │   ├── lp_state_vs.c
    │   │   │   │   ├── lp_surface.c
    │   │   │   │   ├── lp_surface.h
    │   │   │   │   ├── lp_test.h
    │   │   │   │   ├── lp_test_arit.c
    │   │   │   │   ├── lp_test_blend.c
    │   │   │   │   ├── lp_test_conv.c
    │   │   │   │   ├── lp_test_format.c
    │   │   │   │   ├── lp_test_main.c
    │   │   │   │   ├── lp_test_printf.c
    │   │   │   │   ├── lp_tex_sample.c
    │   │   │   │   ├── lp_tex_sample.h
    │   │   │   │   ├── lp_texture.c
    │   │   │   │   ├── lp_texture.h
    │   │   │   │   ├── meson.build
    │   │   │   │   └── ci/
    │   │   │   │       ├── deqp-llvmpipe-asan.toml
    │   │   │   │       ├── deqp-llvmpipe.toml
    │   │   │   │       ├── gitlab-ci.yml
    │   │   │   │       ├── llvmpipe-cl.txt
    │   │   │   │       ├── llvmpipe-fails.txt
    │   │   │   │       ├── llvmpipe-flakes.txt
    │   │   │   │       ├── llvmpipe-skips.txt
    │   │   │   │       └── traces-llvmpipe.yml
    │   │   │   ├── nouveau/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── nouveau_buffer.c
    │   │   │   │   ├── nouveau_buffer.h
    │   │   │   │   ├── nouveau_compiler.c
    │   │   │   │   ├── nouveau_context.h
    │   │   │   │   ├── nouveau_debug.h
    │   │   │   │   ├── nouveau_fence.c
    │   │   │   │   ├── nouveau_fence.h
    │   │   │   │   ├── nouveau_gldefs.h
    │   │   │   │   ├── nouveau_heap.c
    │   │   │   │   ├── nouveau_heap.h
    │   │   │   │   ├── nouveau_mm.c
    │   │   │   │   ├── nouveau_mm.h
    │   │   │   │   ├── nouveau_screen.c
    │   │   │   │   ├── nouveau_screen.h
    │   │   │   │   ├── nouveau_video.c
    │   │   │   │   ├── nouveau_video.h
    │   │   │   │   ├── nouveau_vp3_video.c
    │   │   │   │   ├── nouveau_vp3_video.h
    │   │   │   │   ├── nouveau_vp3_video_bsp.c
    │   │   │   │   ├── nouveau_vp3_video_vp.c
    │   │   │   │   ├── nouveau_winsys.h
    │   │   │   │   ├── nv17_mpeg.xml.h
    │   │   │   │   ├── nv31_mpeg.xml.h
    │   │   │   │   ├── nv_m2mf.xml.h
    │   │   │   │   ├── nv_object.xml.h
    │   │   │   │   ├── ci/
    │   │   │   │   │   ├── deqp-nouveau-gm20b.toml
    │   │   │   │   │   ├── gitlab-ci.yml
    │   │   │   │   │   ├── nouveau-gf108-fails.txt
    │   │   │   │   │   ├── nouveau-gf108-skips.txt
    │   │   │   │   │   ├── nouveau-gm206-fails.txt
    │   │   │   │   │   ├── nouveau-gm206-flakes.txt
    │   │   │   │   │   ├── nouveau-gm206-skips.txt
    │   │   │   │   │   ├── nouveau-gm20b-flakes.txt
    │   │   │   │   │   ├── nouveau-gm20b-skips.txt
    │   │   │   │   │   ├── nouveau-gt215-fails.txt
    │   │   │   │   │   ├── nouveau-gt215-skips.txt
    │   │   │   │   │   ├── nouveau-nv92-fails.txt
    │   │   │   │   │   ├── nouveau-nv92-flakes.txt
    │   │   │   │   │   └── nouveau-nv92-skips.txt
    │   │   │   │   ├── nv30/
    │   │   │   │   │   ├── nv01_2d.xml.h
    │   │   │   │   │   ├── nv30-40_3d.xml.h
    │   │   │   │   │   ├── nv30_clear.c
    │   │   │   │   │   ├── nv30_context.c
    │   │   │   │   │   ├── nv30_context.h
    │   │   │   │   │   ├── nv30_draw.c
    │   │   │   │   │   ├── nv30_format.c
    │   │   │   │   │   ├── nv30_format.h
    │   │   │   │   │   ├── nv30_fragprog.c
    │   │   │   │   │   ├── nv30_fragtex.c
    │   │   │   │   │   ├── nv30_miptree.c
    │   │   │   │   │   ├── nv30_push.c
    │   │   │   │   │   ├── nv30_query.c
    │   │   │   │   │   ├── nv30_resource.c
    │   │   │   │   │   ├── nv30_resource.h
    │   │   │   │   │   ├── nv30_screen.c
    │   │   │   │   │   ├── nv30_screen.h
    │   │   │   │   │   ├── nv30_state.c
    │   │   │   │   │   ├── nv30_state.h
    │   │   │   │   │   ├── nv30_state_validate.c
    │   │   │   │   │   ├── nv30_texture.c
    │   │   │   │   │   ├── nv30_transfer.c
    │   │   │   │   │   ├── nv30_transfer.h
    │   │   │   │   │   ├── nv30_vbo.c
    │   │   │   │   │   ├── nv30_vertprog.c
    │   │   │   │   │   ├── nv30_vertprog.h
    │   │   │   │   │   ├── nv30_winsys.h
    │   │   │   │   │   ├── nv40_vertprog.h
    │   │   │   │   │   ├── nv40_verttex.c
    │   │   │   │   │   ├── nvfx_fragprog.c
    │   │   │   │   │   ├── nvfx_shader.h
    │   │   │   │   │   └── nvfx_vertprog.c
    │   │   │   │   ├── nv50/
    │   │   │   │   │   ├── g80_defs.xml.h
    │   │   │   │   │   ├── g80_texture.xml.h
    │   │   │   │   │   ├── nv50_2d.xml.h
    │   │   │   │   │   ├── nv50_3d.xml.h
    │   │   │   │   │   ├── nv50_3ddefs.xml.h
    │   │   │   │   │   ├── nv50_blit.h
    │   │   │   │   │   ├── nv50_compute.c
    │   │   │   │   │   ├── nv50_compute.xml.h
    │   │   │   │   │   ├── nv50_context.c
    │   │   │   │   │   ├── nv50_context.h
    │   │   │   │   │   ├── nv50_formats.c
    │   │   │   │   │   ├── nv50_miptree.c
    │   │   │   │   │   ├── nv50_program.c
    │   │   │   │   │   ├── nv50_program.h
    │   │   │   │   │   ├── nv50_push.c
    │   │   │   │   │   ├── nv50_query.c
    │   │   │   │   │   ├── nv50_query.h
    │   │   │   │   │   ├── nv50_query_hw.c
    │   │   │   │   │   ├── nv50_query_hw.h
    │   │   │   │   │   ├── nv50_query_hw_metric.c
    │   │   │   │   │   ├── nv50_query_hw_metric.h
    │   │   │   │   │   ├── nv50_query_hw_sm.c
    │   │   │   │   │   ├── nv50_query_hw_sm.h
    │   │   │   │   │   ├── nv50_resource.c
    │   │   │   │   │   ├── nv50_resource.h
    │   │   │   │   │   ├── nv50_screen.c
    │   │   │   │   │   ├── nv50_screen.h
    │   │   │   │   │   ├── nv50_shader_state.c
    │   │   │   │   │   ├── nv50_state.c
    │   │   │   │   │   ├── nv50_state_validate.c
    │   │   │   │   │   ├── nv50_stateobj.h
    │   │   │   │   │   ├── nv50_stateobj_tex.h
    │   │   │   │   │   ├── nv50_surface.c
    │   │   │   │   │   ├── nv50_tex.c
    │   │   │   │   │   ├── nv50_transfer.c
    │   │   │   │   │   ├── nv50_transfer.h
    │   │   │   │   │   ├── nv50_vbo.c
    │   │   │   │   │   ├── nv50_winsys.h
    │   │   │   │   │   ├── nv84_video.c
    │   │   │   │   │   ├── nv84_video.h
    │   │   │   │   │   ├── nv84_video_bsp.c
    │   │   │   │   │   ├── nv84_video_vp.c
    │   │   │   │   │   ├── nv98_video.c
    │   │   │   │   │   ├── nv98_video.h
    │   │   │   │   │   ├── nv98_video_bsp.c
    │   │   │   │   │   ├── nv98_video_ppp.c
    │   │   │   │   │   └── nv98_video_vp.c
    │   │   │   │   └── nvc0/
    │   │   │   │       ├── cla0c0qmd.h
    │   │   │   │       ├── clc0c0qmd.h
    │   │   │   │       ├── clc3c0qmd.h
    │   │   │   │       ├── drf.h
    │   │   │   │       ├── gm107_texture.xml.h
    │   │   │   │       ├── nvc0_3d.xml.h
    │   │   │   │       ├── nvc0_compute.c
    │   │   │   │       ├── nvc0_compute.xml.h
    │   │   │   │       ├── nvc0_context.c
    │   │   │   │       ├── nvc0_context.h
    │   │   │   │       ├── nvc0_formats.c
    │   │   │   │       ├── nvc0_m2mf.xml.h
    │   │   │   │       ├── nvc0_macros.h
    │   │   │   │       ├── nvc0_miptree.c
    │   │   │   │       ├── nvc0_program.c
    │   │   │   │       ├── nvc0_program.h
    │   │   │   │       ├── nvc0_query.c
    │   │   │   │       ├── nvc0_query.h
    │   │   │   │       ├── nvc0_query_hw.c
    │   │   │   │       ├── nvc0_query_hw.h
    │   │   │   │       ├── nvc0_query_hw_metric.c
    │   │   │   │       ├── nvc0_query_hw_metric.h
    │   │   │   │       ├── nvc0_query_hw_sm.c
    │   │   │   │       ├── nvc0_query_hw_sm.h
    │   │   │   │       ├── nvc0_query_sw.c
    │   │   │   │       ├── nvc0_query_sw.h
    │   │   │   │       ├── nvc0_resource.c
    │   │   │   │       ├── nvc0_resource.h
    │   │   │   │       ├── nvc0_screen.c
    │   │   │   │       ├── nvc0_screen.h
    │   │   │   │       ├── nvc0_shader_state.c
    │   │   │   │       ├── nvc0_state.c
    │   │   │   │       ├── nvc0_state_validate.c
    │   │   │   │       ├── nvc0_stateobj.h
    │   │   │   │       ├── nvc0_surface.c
    │   │   │   │       ├── nvc0_tex.c
    │   │   │   │       ├── nvc0_transfer.c
    │   │   │   │       ├── nvc0_vbo.c
    │   │   │   │       ├── nvc0_vbo_translate.c
    │   │   │   │       ├── nvc0_video.c
    │   │   │   │       ├── nvc0_video.h
    │   │   │   │       ├── nvc0_video_bsp.c
    │   │   │   │       ├── nvc0_video_ppp.c
    │   │   │   │       ├── nvc0_video_vp.c
    │   │   │   │       ├── nvc0_winsys.h
    │   │   │   │       ├── nve4_compute.c
    │   │   │   │       ├── nve4_compute.h
    │   │   │   │       ├── nve4_compute.xml.h
    │   │   │   │       ├── nve4_copy.xml.h
    │   │   │   │       ├── nve4_p2mf.xml.h
    │   │   │   │       ├── qmd.h
    │   │   │   │       ├── qmda0c0.c
    │   │   │   │       ├── qmdc0c0.c
    │   │   │   │       ├── qmdc3c0.c
    │   │   │   │       └── mme/
    │   │   │   │           ├── com9097.mme
    │   │   │   │           ├── com9097.mme.h
    │   │   │   │           ├── com90c0.mme
    │   │   │   │           ├── com90c0.mme.h
    │   │   │   │           ├── comc597.mme.h
    │   │   │   │           └── Makefile
    │   │   │   ├── panfrost/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── pan_assemble.c
    │   │   │   │   ├── pan_blend_cso.h
    │   │   │   │   ├── pan_blit.c
    │   │   │   │   ├── pan_cmdstream.c
    │   │   │   │   ├── pan_compute.c
    │   │   │   │   ├── pan_context.c
    │   │   │   │   ├── pan_context.h
    │   │   │   │   ├── pan_helpers.c
    │   │   │   │   ├── pan_job.c
    │   │   │   │   ├── pan_job.h
    │   │   │   │   ├── pan_mempool.c
    │   │   │   │   ├── pan_mempool.h
    │   │   │   │   ├── pan_public.h
    │   │   │   │   ├── pan_resource.c
    │   │   │   │   ├── pan_resource.h
    │   │   │   │   ├── pan_screen.c
    │   │   │   │   ├── pan_screen.h
    │   │   │   │   └── .editorconfig
    │   │   │   ├── r300/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── r300_blit.c
    │   │   │   │   ├── r300_cb.h
    │   │   │   │   ├── r300_chipset.c
    │   │   │   │   ├── r300_chipset.h
    │   │   │   │   ├── r300_context.c
    │   │   │   │   ├── r300_context.h
    │   │   │   │   ├── r300_cs.h
    │   │   │   │   ├── r300_debug.c
    │   │   │   │   ├── r300_defines.h
    │   │   │   │   ├── r300_emit.c
    │   │   │   │   ├── r300_emit.h
    │   │   │   │   ├── r300_flush.c
    │   │   │   │   ├── r300_fs.c
    │   │   │   │   ├── r300_fs.h
    │   │   │   │   ├── r300_hyperz.c
    │   │   │   │   ├── r300_public.h
    │   │   │   │   ├── r300_query.c
    │   │   │   │   ├── r300_reg.h
    │   │   │   │   ├── r300_render.c
    │   │   │   │   ├── r300_render_stencilref.c
    │   │   │   │   ├── r300_render_translate.c
    │   │   │   │   ├── r300_resource.c
    │   │   │   │   ├── r300_screen.c
    │   │   │   │   ├── r300_screen.h
    │   │   │   │   ├── r300_screen_buffer.c
    │   │   │   │   ├── r300_screen_buffer.h
    │   │   │   │   ├── r300_shader_semantics.h
    │   │   │   │   ├── r300_state.c
    │   │   │   │   ├── r300_state_derived.c
    │   │   │   │   ├── r300_state_inlines.h
    │   │   │   │   ├── r300_texture.c
    │   │   │   │   ├── r300_texture.h
    │   │   │   │   ├── r300_texture_desc.c
    │   │   │   │   ├── r300_texture_desc.h
    │   │   │   │   ├── r300_tgsi_to_rc.c
    │   │   │   │   ├── r300_tgsi_to_rc.h
    │   │   │   │   ├── r300_transfer.c
    │   │   │   │   ├── r300_transfer.h
    │   │   │   │   ├── r300_vs.c
    │   │   │   │   ├── r300_vs.h
    │   │   │   │   ├── r300_vs_draw.c
    │   │   │   │   ├── .editorconfig
    │   │   │   │   ├── ci/
    │   │   │   │   │   ├── r300-r480-fails.txt
    │   │   │   │   │   ├── r300-rv515-fails.txt
    │   │   │   │   │   ├── r300-rv515-flakes.txt
    │   │   │   │   │   └── r300-rv515-skips.txt
    │   │   │   │   └── compiler/
    │   │   │   │       ├── memory_pool.c
    │   │   │   │       ├── memory_pool.h
    │   │   │   │       ├── r300_fragprog.c
    │   │   │   │       ├── r300_fragprog.h
    │   │   │   │       ├── r300_fragprog_emit.c
    │   │   │   │       ├── r300_fragprog_swizzle.c
    │   │   │   │       ├── r300_fragprog_swizzle.h
    │   │   │   │       ├── r300_nir_algebraic.py
    │   │   │   │       ├── r3xx_fragprog.c
    │   │   │   │       ├── r3xx_vertprog.c
    │   │   │   │       ├── r3xx_vertprog_dump.c
    │   │   │   │       ├── r500_fragprog.c
    │   │   │   │       ├── r500_fragprog.h
    │   │   │   │       ├── r500_fragprog_emit.c
    │   │   │   │       ├── radeon_code.c
    │   │   │   │       ├── radeon_code.h
    │   │   │   │       ├── radeon_compiler.c
    │   │   │   │       ├── radeon_compiler.h
    │   │   │   │       ├── radeon_compiler_util.c
    │   │   │   │       ├── radeon_compiler_util.h
    │   │   │   │       ├── radeon_dataflow.c
    │   │   │   │       ├── radeon_dataflow.h
    │   │   │   │       ├── radeon_dataflow_deadcode.c
    │   │   │   │       ├── radeon_dataflow_swizzles.c
    │   │   │   │       ├── radeon_emulate_branches.c
    │   │   │   │       ├── radeon_emulate_branches.h
    │   │   │   │       ├── radeon_inline_literals.c
    │   │   │   │       ├── radeon_list.c
    │   │   │   │       ├── radeon_list.h
    │   │   │   │       ├── radeon_opcodes.c
    │   │   │   │       ├── radeon_opcodes.h
    │   │   │   │       ├── radeon_optimize.c
    │   │   │   │       ├── radeon_pair_dead_sources.c
    │   │   │   │       ├── radeon_pair_regalloc.c
    │   │   │   │       ├── radeon_pair_schedule.c
    │   │   │   │       ├── radeon_pair_translate.c
    │   │   │   │       ├── radeon_program.c
    │   │   │   │       ├── radeon_program.h
    │   │   │   │       ├── radeon_program_alu.c
    │   │   │   │       ├── radeon_program_alu.h
    │   │   │   │       ├── radeon_program_constants.h
    │   │   │   │       ├── radeon_program_pair.c
    │   │   │   │       ├── radeon_program_pair.h
    │   │   │   │       ├── radeon_program_print.c
    │   │   │   │       ├── radeon_program_tex.c
    │   │   │   │       ├── radeon_program_tex.h
    │   │   │   │       ├── radeon_regalloc.h
    │   │   │   │       ├── radeon_remove_constants.c
    │   │   │   │       ├── radeon_remove_constants.h
    │   │   │   │       ├── radeon_rename_regs.c
    │   │   │   │       ├── radeon_rename_regs.h
    │   │   │   │       ├── radeon_swizzle.h
    │   │   │   │       ├── radeon_variable.c
    │   │   │   │       ├── radeon_variable.h
    │   │   │   │       ├── radeon_vert_fc.c
    │   │   │   │       └── tests/
    │   │   │   │           ├── omod_two_writers.test
    │   │   │   │           ├── r300_compiler_tests.c
    │   │   │   │           ├── r300_compiler_tests.h
    │   │   │   │           ├── radeon_compiler_optimize_tests.c
    │   │   │   │           ├── radeon_compiler_regalloc_tests.c
    │   │   │   │           ├── radeon_compiler_util_tests.c
    │   │   │   │           ├── rc_test_helpers.c
    │   │   │   │           ├── rc_test_helpers.h
    │   │   │   │           ├── regalloc_tex_1d_swizzle.test
    │   │   │   │           ├── unit_test.c
    │   │   │   │           └── unit_test.h
    │   │   │   ├── r600/
    │   │   │   │   ├── cayman_msaa.c
    │   │   │   │   ├── compute_memory_pool.c
    │   │   │   │   ├── compute_memory_pool.h
    │   │   │   │   ├── eg_asm.c
    │   │   │   │   ├── eg_debug.c
    │   │   │   │   ├── eg_sq.h
    │   │   │   │   ├── egd_tables.py
    │   │   │   │   ├── evergreen_compute.c
    │   │   │   │   ├── evergreen_compute.h
    │   │   │   │   ├── evergreen_compute_internal.h
    │   │   │   │   ├── evergreen_hw_context.c
    │   │   │   │   ├── evergreen_state.c
    │   │   │   │   ├── evergreend.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── r600_asm.c
    │   │   │   │   ├── r600_asm.h
    │   │   │   │   ├── r600_blit.c
    │   │   │   │   ├── r600_buffer_common.c
    │   │   │   │   ├── r600_cs.h
    │   │   │   │   ├── r600_dump.c
    │   │   │   │   ├── r600_dump.h
    │   │   │   │   ├── r600_formats.h
    │   │   │   │   ├── r600_gpu_load.c
    │   │   │   │   ├── r600_hw_context.c
    │   │   │   │   ├── r600_isa.c
    │   │   │   │   ├── r600_isa.h
    │   │   │   │   ├── r600_opcodes.h
    │   │   │   │   ├── r600_perfcounter.c
    │   │   │   │   ├── r600_pipe.c
    │   │   │   │   ├── r600_pipe.h
    │   │   │   │   ├── r600_pipe_common.c
    │   │   │   │   ├── r600_pipe_common.h
    │   │   │   │   ├── r600_public.h
    │   │   │   │   ├── r600_query.c
    │   │   │   │   ├── r600_query.h
    │   │   │   │   ├── r600_shader.h
    │   │   │   │   ├── r600_sq.h
    │   │   │   │   ├── r600_state.c
    │   │   │   │   ├── r600_state_common.c
    │   │   │   │   ├── r600_streamout.c
    │   │   │   │   ├── r600_test_dma.c
    │   │   │   │   ├── r600_texture.c
    │   │   │   │   ├── r600_uvd.c
    │   │   │   │   ├── r600_viewport.c
    │   │   │   │   ├── r600d_common.h
    │   │   │   │   ├── r700_asm.c
    │   │   │   │   ├── r700_sq.h
    │   │   │   │   ├── radeon_uvd.c
    │   │   │   │   ├── radeon_uvd.h
    │   │   │   │   ├── radeon_vce.c
    │   │   │   │   ├── radeon_vce.h
    │   │   │   │   ├── radeon_video.c
    │   │   │   │   ├── radeon_video.h
    │   │   │   │   ├── .dir-locals.el
    │   │   │   │   ├── .editorconfig
    │   │   │   │   ├── ci/
    │   │   │   │   │   ├── r600-rv770-fails.txt
    │   │   │   │   │   ├── r600-rv770-flakes.txt
    │   │   │   │   │   ├── r600-rv770-skips.txt
    │   │   │   │   │   ├── r600-turks-fails.txt
    │   │   │   │   │   ├── r600-turks-flakes.txt
    │   │   │   │   │   └── r600-turks-skips.txt
    │   │   │   │   ├── sb/
    │   │   │   │   │   ├── notes.markdown
    │   │   │   │   │   ├── sb_bc.h
    │   │   │   │   │   ├── sb_bc_builder.cpp
    │   │   │   │   │   ├── sb_bc_decoder.cpp
    │   │   │   │   │   ├── sb_bc_dump.cpp
    │   │   │   │   │   ├── sb_bc_finalize.cpp
    │   │   │   │   │   ├── sb_bc_fmt_def.inc
    │   │   │   │   │   ├── sb_bc_parser.cpp
    │   │   │   │   │   ├── sb_context.cpp
    │   │   │   │   │   ├── sb_core.cpp
    │   │   │   │   │   ├── sb_dce_cleanup.cpp
    │   │   │   │   │   ├── sb_def_use.cpp
    │   │   │   │   │   ├── sb_dump.cpp
    │   │   │   │   │   ├── sb_expr.cpp
    │   │   │   │   │   ├── sb_expr.h
    │   │   │   │   │   ├── sb_gcm.cpp
    │   │   │   │   │   ├── sb_gvn.cpp
    │   │   │   │   │   ├── sb_if_conversion.cpp
    │   │   │   │   │   ├── sb_ir.cpp
    │   │   │   │   │   ├── sb_ir.h
    │   │   │   │   │   ├── sb_liveness.cpp
    │   │   │   │   │   ├── sb_pass.cpp
    │   │   │   │   │   ├── sb_pass.h
    │   │   │   │   │   ├── sb_peephole.cpp
    │   │   │   │   │   ├── sb_psi_ops.cpp
    │   │   │   │   │   ├── sb_public.h
    │   │   │   │   │   ├── sb_ra_checker.cpp
    │   │   │   │   │   ├── sb_ra_coalesce.cpp
    │   │   │   │   │   ├── sb_ra_init.cpp
    │   │   │   │   │   ├── sb_sched.cpp
    │   │   │   │   │   ├── sb_sched.h
    │   │   │   │   │   ├── sb_shader.cpp
    │   │   │   │   │   ├── sb_shader.h
    │   │   │   │   │   ├── sb_ssa_builder.cpp
    │   │   │   │   │   └── sb_valtable.cpp
    │   │   │   │   └── sfn/
    │   │   │   │       ├── sfn_alu_defines.cpp
    │   │   │   │       ├── sfn_alu_defines.h
    │   │   │   │       ├── sfn_alu_readport_validation.cpp
    │   │   │   │       ├── sfn_alu_readport_validation.h
    │   │   │   │       ├── sfn_assembler.cpp
    │   │   │   │       ├── sfn_assembler.h
    │   │   │   │       ├── sfn_callstack.cpp
    │   │   │   │       ├── sfn_callstack.h
    │   │   │   │       ├── sfn_conditionaljumptracker.cpp
    │   │   │   │       ├── sfn_conditionaljumptracker.h
    │   │   │   │       ├── sfn_debug.cpp
    │   │   │   │       ├── sfn_debug.h
    │   │   │   │       ├── sfn_defines.h
    │   │   │   │       ├── sfn_docu.txt
    │   │   │   │       ├── sfn_instr.cpp
    │   │   │   │       ├── sfn_instr.h
    │   │   │   │       ├── sfn_instr_alu.cpp
    │   │   │   │       ├── sfn_instr_alu.h
    │   │   │   │       ├── sfn_instr_alugroup.cpp
    │   │   │   │       ├── sfn_instr_alugroup.h
    │   │   │   │       ├── sfn_instr_controlflow.cpp
    │   │   │   │       ├── sfn_instr_controlflow.h
    │   │   │   │       ├── sfn_instr_export.cpp
    │   │   │   │       ├── sfn_instr_export.h
    │   │   │   │       ├── sfn_instr_fetch.cpp
    │   │   │   │       ├── sfn_instr_fetch.h
    │   │   │   │       ├── sfn_instr_lds.cpp
    │   │   │   │       ├── sfn_instr_lds.h
    │   │   │   │       ├── sfn_instr_mem.cpp
    │   │   │   │       ├── sfn_instr_mem.h
    │   │   │   │       ├── sfn_instr_tex.cpp
    │   │   │   │       ├── sfn_instr_tex.h
    │   │   │   │       ├── sfn_instrfactory.cpp
    │   │   │   │       ├── sfn_instrfactory.h
    │   │   │   │       ├── sfn_liverangeevaluator.cpp
    │   │   │   │       ├── sfn_liverangeevaluator.h
    │   │   │   │       ├── sfn_liverangeevaluator_helpers.cpp
    │   │   │   │       ├── sfn_liverangeevaluator_helpers.h
    │   │   │   │       ├── sfn_memorypool.cpp
    │   │   │   │       ├── sfn_memorypool.h
    │   │   │   │       ├── sfn_nir.cpp
    │   │   │   │       ├── sfn_nir.h
    │   │   │   │       ├── sfn_nir_legalize_image_load_store.cpp
    │   │   │   │       ├── sfn_nir_lower_64bit.cpp
    │   │   │   │       ├── sfn_nir_lower_alu.cpp
    │   │   │   │       ├── sfn_nir_lower_alu.h
    │   │   │   │       ├── sfn_nir_lower_fs_out_to_vector.cpp
    │   │   │   │       ├── sfn_nir_lower_fs_out_to_vector.h
    │   │   │   │       ├── sfn_nir_lower_tess_io.cpp
    │   │   │   │       ├── sfn_nir_lower_tex.cpp
    │   │   │   │       ├── sfn_nir_lower_tex.h
    │   │   │   │       ├── sfn_nir_vectorize_vs_inputs.c
    │   │   │   │       ├── sfn_optimizer.cpp
    │   │   │   │       ├── sfn_optimizer.h
    │   │   │   │       ├── sfn_peephole.cpp
    │   │   │   │       ├── sfn_peephole.h
    │   │   │   │       ├── sfn_ra.cpp
    │   │   │   │       ├── sfn_ra.h
    │   │   │   │       ├── sfn_scheduler.cpp
    │   │   │   │       ├── sfn_scheduler.h
    │   │   │   │       ├── sfn_shader.cpp
    │   │   │   │       ├── sfn_shader.h
    │   │   │   │       ├── sfn_shader_cs.cpp
    │   │   │   │       ├── sfn_shader_cs.h
    │   │   │   │       ├── sfn_shader_fs.cpp
    │   │   │   │       ├── sfn_shader_fs.h
    │   │   │   │       ├── sfn_shader_gs.cpp
    │   │   │   │       ├── sfn_shader_gs.h
    │   │   │   │       ├── sfn_shader_tess.cpp
    │   │   │   │       ├── sfn_shader_tess.h
    │   │   │   │       ├── sfn_shader_vs.cpp
    │   │   │   │       ├── sfn_shader_vs.h
    │   │   │   │       ├── sfn_valuefactory.cpp
    │   │   │   │       ├── sfn_valuefactory.h
    │   │   │   │       ├── sfn_virtualvalues.cpp
    │   │   │   │       ├── sfn_virtualvalues.h
    │   │   │   │       ├── .editorconfig
    │   │   │   │       └── tests/
    │   │   │   │           ├── meson.build
    │   │   │   │           ├── sfn_instr_test.cpp
    │   │   │   │           ├── sfn_instrfromstring_test.cpp
    │   │   │   │           ├── sfn_liverange_test.cpp
    │   │   │   │           ├── sfn_optimizer_test.cpp
    │   │   │   │           ├── sfn_shaderfromstring_test.cpp
    │   │   │   │           ├── sfn_test_shaders.cpp
    │   │   │   │           ├── sfn_test_shaders.h
    │   │   │   │           ├── sfn_value_test.cpp
    │   │   │   │           └── sfn_valuefactory_test.cpp
    │   │   │   ├── radeonsi/
    │   │   │   │   ├── driinfo_radeonsi.h
    │   │   │   │   ├── gfx10_query.c
    │   │   │   │   ├── gfx10_shader_ngg.c
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── pspdecryptionparam.h
    │   │   │   │   ├── radeon_temporal.h
    │   │   │   │   ├── radeon_uvd.c
    │   │   │   │   ├── radeon_uvd.h
    │   │   │   │   ├── radeon_uvd_enc.c
    │   │   │   │   ├── radeon_uvd_enc.h
    │   │   │   │   ├── radeon_uvd_enc_1_1.c
    │   │   │   │   ├── radeon_vce.c
    │   │   │   │   ├── radeon_vce.h
    │   │   │   │   ├── radeon_vce_40_2_2.c
    │   │   │   │   ├── radeon_vce_50.c
    │   │   │   │   ├── radeon_vce_52.c
    │   │   │   │   ├── radeon_vcn.c
    │   │   │   │   ├── radeon_vcn.h
    │   │   │   │   ├── radeon_vcn_av1_default.h
    │   │   │   │   ├── radeon_vcn_dec.c
    │   │   │   │   ├── radeon_vcn_dec.h
    │   │   │   │   ├── radeon_vcn_dec_jpeg.c
    │   │   │   │   ├── radeon_vcn_enc.c
    │   │   │   │   ├── radeon_vcn_enc.h
    │   │   │   │   ├── radeon_vcn_enc_1_2.c
    │   │   │   │   ├── radeon_vcn_enc_2_0.c
    │   │   │   │   ├── radeon_vcn_enc_3_0.c
    │   │   │   │   ├── radeon_vcn_enc_4_0.c
    │   │   │   │   ├── radeon_video.c
    │   │   │   │   ├── radeon_video.h
    │   │   │   │   ├── si_blit.c
    │   │   │   │   ├── si_buffer.c
    │   │   │   │   ├── si_build_pm4.h
    │   │   │   │   ├── si_clear.c
    │   │   │   │   ├── si_compute.c
    │   │   │   │   ├── si_compute.h
    │   │   │   │   ├── si_compute_blit.c
    │   │   │   │   ├── si_cp_dma.c
    │   │   │   │   ├── si_cp_reg_shadowing.c
    │   │   │   │   ├── si_debug.c
    │   │   │   │   ├── si_debug_options.h
    │   │   │   │   ├── si_descriptors.c
    │   │   │   │   ├── si_fence.c
    │   │   │   │   ├── si_get.c
    │   │   │   │   ├── si_gfx_cs.c
    │   │   │   │   ├── si_gpu_load.c
    │   │   │   │   ├── si_nir_optim.c
    │   │   │   │   ├── si_perfcounter.c
    │   │   │   │   ├── si_pipe.c
    │   │   │   │   ├── si_pipe.h
    │   │   │   │   ├── si_pm4.c
    │   │   │   │   ├── si_pm4.h
    │   │   │   │   ├── si_public.h
    │   │   │   │   ├── si_query.c
    │   │   │   │   ├── si_query.h
    │   │   │   │   ├── si_sdma_copy_image.c
    │   │   │   │   ├── si_shader.c
    │   │   │   │   ├── si_shader.h
    │   │   │   │   ├── si_shader_info.c
    │   │   │   │   ├── si_shader_internal.h
    │   │   │   │   ├── si_shader_llvm.c
    │   │   │   │   ├── si_shader_llvm_gs.c
    │   │   │   │   ├── si_shader_llvm_ps.c
    │   │   │   │   ├── si_shader_llvm_resources.c
    │   │   │   │   ├── si_shader_llvm_tess.c
    │   │   │   │   ├── si_shader_llvm_vs.c
    │   │   │   │   ├── si_shader_nir.c
    │   │   │   │   ├── si_shaderlib_nir.c
    │   │   │   │   ├── si_shaderlib_tgsi.c
    │   │   │   │   ├── si_sqtt.c
    │   │   │   │   ├── si_state.c
    │   │   │   │   ├── si_state.h
    │   │   │   │   ├── si_state_binning.c
    │   │   │   │   ├── si_state_draw.cpp
    │   │   │   │   ├── si_state_msaa.c
    │   │   │   │   ├── si_state_shaders.cpp
    │   │   │   │   ├── si_state_streamout.c
    │   │   │   │   ├── si_state_viewport.c
    │   │   │   │   ├── si_test_dma_perf.c
    │   │   │   │   ├── si_test_image_copy_region.c
    │   │   │   │   ├── si_texture.c
    │   │   │   │   ├── si_uvd.c
    │   │   │   │   ├── ci/
    │   │   │   │   │   ├── deqp-radeonsi-stoney.toml
    │   │   │   │   │   ├── gfx10-navi10-fail.csv
    │   │   │   │   │   ├── gfx10_3-navi21-fail.csv
    │   │   │   │   │   ├── gfx8-polaris11-fail.csv
    │   │   │   │   │   ├── gfx9-raven-fail.csv
    │   │   │   │   │   ├── gfx9-vega20-fail.csv
    │   │   │   │   │   ├── gfx9-vega20-flakes.csv
    │   │   │   │   │   ├── gitlab-ci.yml
    │   │   │   │   │   ├── radeonsi-raven-fails.txt
    │   │   │   │   │   ├── radeonsi-raven-flakes.txt
    │   │   │   │   │   ├── radeonsi-raven-skips.txt
    │   │   │   │   │   ├── radeonsi-raven-skqp-gl_rendertests-fails.txt
    │   │   │   │   │   ├── radeonsi-raven-skqp-gles_rendertests-fails.txt
    │   │   │   │   │   ├── radeonsi-raven-skqp-vk_rendertests-fails.txt
    │   │   │   │   │   ├── radeonsi-raven-skqp_unittests-fails.txt
    │   │   │   │   │   ├── radeonsi-run-tests.py
    │   │   │   │   │   ├── skips.csv
    │   │   │   │   │   └── traces-radeonsi.yml
    │   │   │   │   └── glsl_tests/
    │   │   │   │       ├── amdgcn_glslc.c
    │   │   │   │       ├── bitcount.glsl
    │   │   │   │       ├── bitfield_extract.glsl
    │   │   │   │       ├── bitfield_insert.glsl
    │   │   │   │       ├── div.glsl
    │   │   │   │       ├── exp2.glsl
    │   │   │   │       ├── fma.glsl
    │   │   │   │       ├── fract.glsl
    │   │   │   │       ├── frexp.glsl
    │   │   │   │       ├── HOW_TO_RUN
    │   │   │   │       ├── ldexp.glsl
    │   │   │   │       ├── lit.cfg
    │   │   │   │       ├── log2.glsl
    │   │   │   │       ├── meson.build
    │   │   │   │       ├── minmax.f32.glsl
    │   │   │   │       ├── minmax.f64.glsl
    │   │   │   │       ├── minmax.i32.glsl
    │   │   │   │       ├── minmax.u32.glsl
    │   │   │   │       ├── pack_unpack_half.glsl
    │   │   │   │       ├── pow.glsl
    │   │   │   │       └── sqrt.glsl
    │   │   │   ├── softpipe/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── sp_buffer.c
    │   │   │   │   ├── sp_buffer.h
    │   │   │   │   ├── sp_clear.c
    │   │   │   │   ├── sp_clear.h
    │   │   │   │   ├── sp_compute.c
    │   │   │   │   ├── sp_context.c
    │   │   │   │   ├── sp_context.h
    │   │   │   │   ├── sp_draw_arrays.c
    │   │   │   │   ├── sp_fence.c
    │   │   │   │   ├── sp_fence.h
    │   │   │   │   ├── sp_flush.c
    │   │   │   │   ├── sp_flush.h
    │   │   │   │   ├── sp_fs.h
    │   │   │   │   ├── sp_fs_exec.c
    │   │   │   │   ├── sp_image.c
    │   │   │   │   ├── sp_image.h
    │   │   │   │   ├── sp_limits.h
    │   │   │   │   ├── sp_prim_vbuf.c
    │   │   │   │   ├── sp_prim_vbuf.h
    │   │   │   │   ├── sp_public.h
    │   │   │   │   ├── sp_quad.h
    │   │   │   │   ├── sp_quad_blend.c
    │   │   │   │   ├── sp_quad_depth_test.c
    │   │   │   │   ├── sp_quad_depth_test_tmp.h
    │   │   │   │   ├── sp_quad_fs.c
    │   │   │   │   ├── sp_quad_pipe.c
    │   │   │   │   ├── sp_quad_pipe.h
    │   │   │   │   ├── sp_query.c
    │   │   │   │   ├── sp_query.h
    │   │   │   │   ├── sp_screen.c
    │   │   │   │   ├── sp_screen.h
    │   │   │   │   ├── sp_setup.c
    │   │   │   │   ├── sp_setup.h
    │   │   │   │   ├── sp_state.h
    │   │   │   │   ├── sp_state_blend.c
    │   │   │   │   ├── sp_state_clip.c
    │   │   │   │   ├── sp_state_derived.c
    │   │   │   │   ├── sp_state_image.c
    │   │   │   │   ├── sp_state_rasterizer.c
    │   │   │   │   ├── sp_state_sampler.c
    │   │   │   │   ├── sp_state_shader.c
    │   │   │   │   ├── sp_state_so.c
    │   │   │   │   ├── sp_state_surface.c
    │   │   │   │   ├── sp_state_vertex.c
    │   │   │   │   ├── sp_surface.c
    │   │   │   │   ├── sp_surface.h
    │   │   │   │   ├── sp_tex_sample.c
    │   │   │   │   ├── sp_tex_sample.h
    │   │   │   │   ├── sp_tex_tile_cache.c
    │   │   │   │   ├── sp_tex_tile_cache.h
    │   │   │   │   ├── sp_texture.c
    │   │   │   │   ├── sp_texture.h
    │   │   │   │   ├── sp_tile_cache.c
    │   │   │   │   ├── sp_tile_cache.h
    │   │   │   │   └── ci/
    │   │   │   │       ├── deqp-softpipe.toml
    │   │   │   │       ├── gitlab-ci.yml
    │   │   │   │       ├── softpipe-asan-fails.txt
    │   │   │   │       ├── softpipe-fails.txt
    │   │   │   │       ├── softpipe-flakes.txt
    │   │   │   │       └── softpipe-skips.txt
    │   │   │   ├── svga/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── svga_cmd.c
    │   │   │   │   ├── svga_cmd.h
    │   │   │   │   ├── svga_cmd_vgpu10.c
    │   │   │   │   ├── svga_context.c
    │   │   │   │   ├── svga_context.h
    │   │   │   │   ├── svga_debug.h
    │   │   │   │   ├── svga_draw.c
    │   │   │   │   ├── svga_draw.h
    │   │   │   │   ├── svga_draw_arrays.c
    │   │   │   │   ├── svga_draw_elements.c
    │   │   │   │   ├── svga_draw_private.h
    │   │   │   │   ├── svga_format.c
    │   │   │   │   ├── svga_format.h
    │   │   │   │   ├── svga_hw_reg.h
    │   │   │   │   ├── svga_image_view.c
    │   │   │   │   ├── svga_image_view.h
    │   │   │   │   ├── svga_link.c
    │   │   │   │   ├── svga_link.h
    │   │   │   │   ├── svga_mksstats.h
    │   │   │   │   ├── svga_pipe_blend.c
    │   │   │   │   ├── svga_pipe_blit.c
    │   │   │   │   ├── svga_pipe_clear.c
    │   │   │   │   ├── svga_pipe_constants.c
    │   │   │   │   ├── svga_pipe_cs.c
    │   │   │   │   ├── svga_pipe_depthstencil.c
    │   │   │   │   ├── svga_pipe_draw.c
    │   │   │   │   ├── svga_pipe_flush.c
    │   │   │   │   ├── svga_pipe_fs.c
    │   │   │   │   ├── svga_pipe_gs.c
    │   │   │   │   ├── svga_pipe_misc.c
    │   │   │   │   ├── svga_pipe_query.c
    │   │   │   │   ├── svga_pipe_rasterizer.c
    │   │   │   │   ├── svga_pipe_sampler.c
    │   │   │   │   ├── svga_pipe_streamout.c
    │   │   │   │   ├── svga_pipe_ts.c
    │   │   │   │   ├── svga_pipe_vertex.c
    │   │   │   │   ├── svga_pipe_vs.c
    │   │   │   │   ├── svga_public.h
    │   │   │   │   ├── svga_resource.c
    │   │   │   │   ├── svga_resource.h
    │   │   │   │   ├── svga_resource_buffer.c
    │   │   │   │   ├── svga_resource_buffer.h
    │   │   │   │   ├── svga_resource_buffer_upload.c
    │   │   │   │   ├── svga_resource_buffer_upload.h
    │   │   │   │   ├── svga_resource_texture.c
    │   │   │   │   ├── svga_resource_texture.h
    │   │   │   │   ├── svga_sampler_view.c
    │   │   │   │   ├── svga_sampler_view.h
    │   │   │   │   ├── svga_screen.c
    │   │   │   │   ├── svga_screen.h
    │   │   │   │   ├── svga_screen_cache.c
    │   │   │   │   ├── svga_screen_cache.h
    │   │   │   │   ├── svga_shader.c
    │   │   │   │   ├── svga_shader.h
    │   │   │   │   ├── svga_shader_buffer.c
    │   │   │   │   ├── svga_shader_buffer.h
    │   │   │   │   ├── svga_state.c
    │   │   │   │   ├── svga_state.h
    │   │   │   │   ├── svga_state_constants.c
    │   │   │   │   ├── svga_state_cs.c
    │   │   │   │   ├── svga_state_framebuffer.c
    │   │   │   │   ├── svga_state_fs.c
    │   │   │   │   ├── svga_state_gs.c
    │   │   │   │   ├── svga_state_need_swtnl.c
    │   │   │   │   ├── svga_state_rss.c
    │   │   │   │   ├── svga_state_sampler.c
    │   │   │   │   ├── svga_state_tgsi_transform.c
    │   │   │   │   ├── svga_state_ts.c
    │   │   │   │   ├── svga_state_tss.c
    │   │   │   │   ├── svga_state_uav.c
    │   │   │   │   ├── svga_state_vdecl.c
    │   │   │   │   ├── svga_state_vs.c
    │   │   │   │   ├── svga_streamout.h
    │   │   │   │   ├── svga_surface.c
    │   │   │   │   ├── svga_surface.h
    │   │   │   │   ├── svga_swtnl.h
    │   │   │   │   ├── svga_swtnl_backend.c
    │   │   │   │   ├── svga_swtnl_draw.c
    │   │   │   │   ├── svga_swtnl_private.h
    │   │   │   │   ├── svga_swtnl_state.c
    │   │   │   │   ├── svga_tgsi.c
    │   │   │   │   ├── svga_tgsi.h
    │   │   │   │   ├── svga_tgsi_decl_sm30.c
    │   │   │   │   ├── svga_tgsi_emit.h
    │   │   │   │   ├── svga_tgsi_insn.c
    │   │   │   │   ├── svga_winsys.h
    │   │   │   │   ├── include/
    │   │   │   │   │   ├── README
    │   │   │   │   │   ├── includeCheck.h
    │   │   │   │   │   ├── svga3d_caps.h
    │   │   │   │   │   ├── svga3d_cmd.h
    │   │   │   │   │   ├── svga3d_devcaps.h
    │   │   │   │   │   ├── svga3d_dx.h
    │   │   │   │   │   ├── svga3d_limits.h
    │   │   │   │   │   ├── svga3d_reg.h
    │   │   │   │   │   ├── svga3d_shaderdefs.h
    │   │   │   │   │   ├── svga3d_surfacedefs.h
    │   │   │   │   │   ├── svga3d_types.h
    │   │   │   │   │   ├── svga_escape.h
    │   │   │   │   │   ├── svga_overlay.h
    │   │   │   │   │   ├── svga_reg.h
    │   │   │   │   │   ├── svga_types.h
    │   │   │   │   │   ├── VGPU10ShaderTokens.h
    │   │   │   │   │   ├── vmware_pack_begin.h
    │   │   │   │   │   └── vmware_pack_end.h
    │   │   │   │   └── svgadump/
    │   │   │   │       ├── svga_dump.c
    │   │   │   │       ├── svga_dump.h
    │   │   │   │       ├── svga_dump.py
    │   │   │   │       ├── svga_shader.h
    │   │   │   │       ├── svga_shader_dump.c
    │   │   │   │       ├── svga_shader_dump.h
    │   │   │   │       ├── svga_shader_op.c
    │   │   │   │       └── svga_shader_op.h
    │   │   │   ├── tegra/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── tegra_context.c
    │   │   │   │   ├── tegra_context.h
    │   │   │   │   ├── tegra_resource.h
    │   │   │   │   ├── tegra_screen.c
    │   │   │   │   └── tegra_screen.h
    │   │   │   ├── v3d/
    │   │   │   │   ├── driinfo_v3d.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── v3d_blit.c
    │   │   │   │   ├── v3d_bufmgr.c
    │   │   │   │   ├── v3d_bufmgr.h
    │   │   │   │   ├── v3d_cl.c
    │   │   │   │   ├── v3d_cl.h
    │   │   │   │   ├── v3d_context.c
    │   │   │   │   ├── v3d_context.h
    │   │   │   │   ├── v3d_disk_cache.c
    │   │   │   │   ├── v3d_fence.c
    │   │   │   │   ├── v3d_format_table.h
    │   │   │   │   ├── v3d_formats.c
    │   │   │   │   ├── v3d_job.c
    │   │   │   │   ├── v3d_program.c
    │   │   │   │   ├── v3d_query.c
    │   │   │   │   ├── v3d_query.h
    │   │   │   │   ├── v3d_query_perfcnt.c
    │   │   │   │   ├── v3d_query_pipe.c
    │   │   │   │   ├── v3d_resource.c
    │   │   │   │   ├── v3d_resource.h
    │   │   │   │   ├── v3d_screen.c
    │   │   │   │   ├── v3d_screen.h
    │   │   │   │   ├── v3d_uniforms.c
    │   │   │   │   ├── v3dx_context.h
    │   │   │   │   ├── v3dx_draw.c
    │   │   │   │   ├── v3dx_emit.c
    │   │   │   │   ├── v3dx_format_table.c
    │   │   │   │   ├── v3dx_job.c
    │   │   │   │   ├── v3dx_rcl.c
    │   │   │   │   ├── v3dx_state.c
    │   │   │   │   └── .editorconfig
    │   │   │   ├── vc4/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── vc4_blit.c
    │   │   │   │   ├── vc4_bufmgr.c
    │   │   │   │   ├── vc4_bufmgr.h
    │   │   │   │   ├── vc4_cl.c
    │   │   │   │   ├── vc4_cl.h
    │   │   │   │   ├── vc4_cl_dump.c
    │   │   │   │   ├── vc4_cl_dump.h
    │   │   │   │   ├── vc4_context.c
    │   │   │   │   ├── vc4_context.h
    │   │   │   │   ├── vc4_draw.c
    │   │   │   │   ├── vc4_emit.c
    │   │   │   │   ├── vc4_fence.c
    │   │   │   │   ├── vc4_formats.c
    │   │   │   │   ├── vc4_job.c
    │   │   │   │   ├── vc4_nir_lower_blend.c
    │   │   │   │   ├── vc4_nir_lower_io.c
    │   │   │   │   ├── vc4_nir_lower_txf_ms.c
    │   │   │   │   ├── vc4_opt_algebraic.c
    │   │   │   │   ├── vc4_opt_coalesce_ff_writes.c
    │   │   │   │   ├── vc4_opt_constant_folding.c
    │   │   │   │   ├── vc4_opt_copy_propagation.c
    │   │   │   │   ├── vc4_opt_dead_code.c
    │   │   │   │   ├── vc4_opt_peephole_sf.c
    │   │   │   │   ├── vc4_opt_small_immediates.c
    │   │   │   │   ├── vc4_opt_vpm.c
    │   │   │   │   ├── vc4_program.c
    │   │   │   │   ├── vc4_qir.c
    │   │   │   │   ├── vc4_qir.h
    │   │   │   │   ├── vc4_qir_emit_uniform_stream_resets.c
    │   │   │   │   ├── vc4_qir_live_variables.c
    │   │   │   │   ├── vc4_qir_lower_uniforms.c
    │   │   │   │   ├── vc4_qir_schedule.c
    │   │   │   │   ├── vc4_qir_validate.c
    │   │   │   │   ├── vc4_qpu.c
    │   │   │   │   ├── vc4_qpu.h
    │   │   │   │   ├── vc4_qpu_defines.h
    │   │   │   │   ├── vc4_qpu_disasm.c
    │   │   │   │   ├── vc4_qpu_emit.c
    │   │   │   │   ├── vc4_qpu_schedule.c
    │   │   │   │   ├── vc4_qpu_validate.c
    │   │   │   │   ├── vc4_query.c
    │   │   │   │   ├── vc4_register_allocate.c
    │   │   │   │   ├── vc4_reorder_uniforms.c
    │   │   │   │   ├── vc4_resource.c
    │   │   │   │   ├── vc4_resource.h
    │   │   │   │   ├── vc4_screen.c
    │   │   │   │   ├── vc4_screen.h
    │   │   │   │   ├── vc4_simulator.c
    │   │   │   │   ├── vc4_simulator_validate.h
    │   │   │   │   ├── vc4_state.c
    │   │   │   │   ├── vc4_tiling.c
    │   │   │   │   ├── vc4_tiling.h
    │   │   │   │   ├── vc4_tiling_lt.c
    │   │   │   │   ├── vc4_tiling_lt_neon.c
    │   │   │   │   ├── vc4_uniforms.c
    │   │   │   │   ├── .dir-locals.el
    │   │   │   │   ├── .editorconfig
    │   │   │   │   └── kernel/
    │   │   │   │       ├── README
    │   │   │   │       ├── vc4_drv.h
    │   │   │   │       ├── vc4_gem.c
    │   │   │   │       ├── vc4_packet.h
    │   │   │   │       ├── vc4_render_cl.c
    │   │   │   │       ├── vc4_validate.c
    │   │   │   │       ├── vc4_validate_shaders.c
    │   │   │   │       ├── .dir-locals.el
    │   │   │   │       └── .editorconfig
    │   │   │   ├── virgl/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── virgl_buffer.c
    │   │   │   │   ├── virgl_context.c
    │   │   │   │   ├── virgl_context.h
    │   │   │   │   ├── virgl_driinfo.h.in
    │   │   │   │   ├── virgl_encode.c
    │   │   │   │   ├── virgl_encode.h
    │   │   │   │   ├── virgl_public.h
    │   │   │   │   ├── virgl_query.c
    │   │   │   │   ├── virgl_resource.c
    │   │   │   │   ├── virgl_resource.h
    │   │   │   │   ├── virgl_screen.c
    │   │   │   │   ├── virgl_screen.h
    │   │   │   │   ├── virgl_staging_mgr.c
    │   │   │   │   ├── virgl_staging_mgr.h
    │   │   │   │   ├── virgl_streamout.c
    │   │   │   │   ├── virgl_texture.c
    │   │   │   │   ├── virgl_tgsi.c
    │   │   │   │   ├── virgl_transfer_queue.c
    │   │   │   │   ├── virgl_transfer_queue.h
    │   │   │   │   ├── virgl_video.c
    │   │   │   │   ├── virgl_video.h
    │   │   │   │   ├── virgl_winsys.h
    │   │   │   │   ├── ci/
    │   │   │   │   │   ├── deqp-virgl-gl.toml
    │   │   │   │   │   ├── deqp-virgl-gles.toml
    │   │   │   │   │   ├── deqp-virpipe-gl.toml
    │   │   │   │   │   ├── gitlab-ci.yml
    │   │   │   │   │   ├── traces-virgl-iris.yml
    │   │   │   │   │   ├── traces-virgl.yml
    │   │   │   │   │   ├── virgl-gl-fails.txt
    │   │   │   │   │   ├── virgl-gl-flakes.txt
    │   │   │   │   │   ├── virgl-gl-skips.txt
    │   │   │   │   │   ├── virgl-gles-fails.txt
    │   │   │   │   │   ├── virgl-gles-flakes.txt
    │   │   │   │   │   ├── virgl-gles-skips.txt
    │   │   │   │   │   ├── virpipe-gl-fails.txt
    │   │   │   │   │   ├── virpipe-gl-flakes.txt
    │   │   │   │   │   └── virpipe-gl-skips.txt
    │   │   │   │   └── tests/
    │   │   │   │       ├── meson.build
    │   │   │   │       └── virgl_staging_mgr_test.cpp
    │   │   │   └── zink/
    │   │   │       ├── driinfo_zink.h
    │   │   │       ├── meson.build
    │   │   │       ├── zink_batch.c
    │   │   │       ├── zink_batch.h
    │   │   │       ├── zink_blit.c
    │   │   │       ├── zink_bo.c
    │   │   │       ├── zink_bo.h
    │   │   │       ├── zink_clear.c
    │   │   │       ├── zink_clear.h
    │   │   │       ├── zink_compiler.c
    │   │   │       ├── zink_compiler.h
    │   │   │       ├── zink_context.c
    │   │   │       ├── zink_context.h
    │   │   │       ├── zink_descriptors.c
    │   │   │       ├── zink_descriptors.h
    │   │   │       ├── zink_descriptors_lazy.c
    │   │   │       ├── zink_device_info.py
    │   │   │       ├── zink_draw.cpp
    │   │   │       ├── zink_extensions.py
    │   │   │       ├── zink_fence.c
    │   │   │       ├── zink_fence.h
    │   │   │       ├── zink_format.c
    │   │   │       ├── zink_format.h
    │   │   │       ├── zink_format_test.c
    │   │   │       ├── zink_framebuffer.c
    │   │   │       ├── zink_framebuffer.h
    │   │   │       ├── zink_helpers.h
    │   │   │       ├── zink_inlines.h
    │   │   │       ├── zink_instance.py
    │   │   │       ├── zink_kopper.c
    │   │   │       ├── zink_kopper.h
    │   │   │       ├── zink_lower_cubemap_to_array.c
    │   │   │       ├── zink_pipeline.c
    │   │   │       ├── zink_pipeline.h
    │   │   │       ├── zink_program.c
    │   │   │       ├── zink_program.h
    │   │   │       ├── zink_public.h
    │   │   │       ├── zink_query.c
    │   │   │       ├── zink_query.h
    │   │   │       ├── zink_render_pass.c
    │   │   │       ├── zink_render_pass.h
    │   │   │       ├── zink_resource.c
    │   │   │       ├── zink_resource.h
    │   │   │       ├── zink_screen.c
    │   │   │       ├── zink_screen.h
    │   │   │       ├── zink_shader_keys.h
    │   │   │       ├── zink_state.c
    │   │   │       ├── zink_state.h
    │   │   │       ├── zink_surface.c
    │   │   │       ├── zink_surface.h
    │   │   │       ├── ci/
    │   │   │       │   ├── deqp-zink-anv-tgl.toml
    │   │   │       │   ├── deqp-zink-lvp.toml
    │   │   │       │   ├── deqp-zink-radv.toml
    │   │   │       │   ├── gitlab-ci.yml
    │   │   │       │   ├── zink-amdpro-fails.txt
    │   │   │       │   ├── zink-anv-icl-fails.txt
    │   │   │       │   ├── zink-anv-icl-skips.txt
    │   │   │       │   ├── zink-anv-tgl-fails.txt
    │   │   │       │   ├── zink-anv-tgl-skips.txt
    │   │   │       │   ├── zink-lvp-fails.txt
    │   │   │       │   ├── zink-lvp-flakes.txt
    │   │   │       │   ├── zink-lvp-skips.txt
    │   │   │       │   ├── zink-nv-fails.txt
    │   │   │       │   ├── zink-nv-flakes.txt
    │   │   │       │   ├── zink-radv-fails.txt
    │   │   │       │   ├── zink-radv-flakes.txt
    │   │   │       │   ├── zink-radv-skips.txt
    │   │   │       │   ├── zink-tu-a630-fails.txt
    │   │   │       │   ├── zink-tu-a630-flakes.txt
    │   │   │       │   └── zink-tu-a630-skips.txt
    │   │   │       └── nir_to_spirv/
    │   │   │           ├── nir_to_spirv.c
    │   │   │           ├── nir_to_spirv.h
    │   │   │           ├── spirv_builder.c
    │   │   │           ├── spirv_builder.h
    │   │   │           └── zink_nir_algebraic.py
    │   │   ├── frontends/
    │   │   │   ├── clover/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── api/
    │   │   │   │   │   ├── context.cpp
    │   │   │   │   │   ├── device.cpp
    │   │   │   │   │   ├── dispatch.cpp
    │   │   │   │   │   ├── dispatch.hpp
    │   │   │   │   │   ├── event.cpp
    │   │   │   │   │   ├── interop.cpp
    │   │   │   │   │   ├── invalid.cpp
    │   │   │   │   │   ├── kernel.cpp
    │   │   │   │   │   ├── memory.cpp
    │   │   │   │   │   ├── platform.cpp
    │   │   │   │   │   ├── program.cpp
    │   │   │   │   │   ├── queue.cpp
    │   │   │   │   │   ├── sampler.cpp
    │   │   │   │   │   ├── transfer.cpp
    │   │   │   │   │   └── util.hpp
    │   │   │   │   ├── core/
    │   │   │   │   │   ├── binary.cpp
    │   │   │   │   │   ├── binary.hpp
    │   │   │   │   │   ├── compiler.hpp
    │   │   │   │   │   ├── context.cpp
    │   │   │   │   │   ├── context.hpp
    │   │   │   │   │   ├── device.cpp
    │   │   │   │   │   ├── device.hpp
    │   │   │   │   │   ├── error.hpp
    │   │   │   │   │   ├── event.cpp
    │   │   │   │   │   ├── event.hpp
    │   │   │   │   │   ├── format.cpp
    │   │   │   │   │   ├── format.hpp
    │   │   │   │   │   ├── kernel.cpp
    │   │   │   │   │   ├── kernel.hpp
    │   │   │   │   │   ├── memory.cpp
    │   │   │   │   │   ├── memory.hpp
    │   │   │   │   │   ├── object.hpp
    │   │   │   │   │   ├── platform.cpp
    │   │   │   │   │   ├── platform.hpp
    │   │   │   │   │   ├── printf.cpp
    │   │   │   │   │   ├── printf.hpp
    │   │   │   │   │   ├── program.cpp
    │   │   │   │   │   ├── program.hpp
    │   │   │   │   │   ├── property.hpp
    │   │   │   │   │   ├── queue.cpp
    │   │   │   │   │   ├── queue.hpp
    │   │   │   │   │   ├── resource.cpp
    │   │   │   │   │   ├── resource.hpp
    │   │   │   │   │   ├── sampler.cpp
    │   │   │   │   │   ├── sampler.hpp
    │   │   │   │   │   ├── timestamp.cpp
    │   │   │   │   │   └── timestamp.hpp
    │   │   │   │   ├── llvm/
    │   │   │   │   │   ├── codegen.hpp
    │   │   │   │   │   ├── compat.hpp
    │   │   │   │   │   ├── invocation.cpp
    │   │   │   │   │   ├── invocation.hpp
    │   │   │   │   │   ├── metadata.hpp
    │   │   │   │   │   ├── util.hpp
    │   │   │   │   │   └── codegen/
    │   │   │   │   │       ├── bitcode.cpp
    │   │   │   │   │       ├── common.cpp
    │   │   │   │   │       └── native.cpp
    │   │   │   │   ├── nir/
    │   │   │   │   │   ├── invocation.cpp
    │   │   │   │   │   └── invocation.hpp
    │   │   │   │   ├── spirv/
    │   │   │   │   │   ├── invocation.cpp
    │   │   │   │   │   └── invocation.hpp
    │   │   │   │   └── util/
    │   │   │   │       ├── adaptor.hpp
    │   │   │   │       ├── algebra.hpp
    │   │   │   │       ├── algorithm.hpp
    │   │   │   │       ├── compat.hpp
    │   │   │   │       ├── factor.hpp
    │   │   │   │       ├── functional.hpp
    │   │   │   │       ├── lazy.hpp
    │   │   │   │       ├── pointer.hpp
    │   │   │   │       ├── range.hpp
    │   │   │   │       └── tuple.hpp
    │   │   │   ├── d3d10umd/
    │   │   │   │   ├── README.md
    │   │   │   │   ├── Adapter.cpp
    │   │   │   │   ├── D3DKMT.cpp
    │   │   │   │   ├── Debug.cpp
    │   │   │   │   ├── Debug.h
    │   │   │   │   ├── Device.cpp
    │   │   │   │   ├── Device.h
    │   │   │   │   ├── Draw.cpp
    │   │   │   │   ├── Draw.h
    │   │   │   │   ├── DriverIncludes.h
    │   │   │   │   ├── DxgiFns.cpp
    │   │   │   │   ├── DxgiFns.h
    │   │   │   │   ├── Format.cpp
    │   │   │   │   ├── Format.h
    │   │   │   │   ├── InputAssembly.cpp
    │   │   │   │   ├── InputAssembly.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── OutputMerger.cpp
    │   │   │   │   ├── OutputMerger.h
    │   │   │   │   ├── Query.cpp
    │   │   │   │   ├── Query.h
    │   │   │   │   ├── Rasterizer.cpp
    │   │   │   │   ├── Rasterizer.h
    │   │   │   │   ├── Resource.cpp
    │   │   │   │   ├── Resource.h
    │   │   │   │   ├── Shader.cpp
    │   │   │   │   ├── Shader.h
    │   │   │   │   ├── ShaderDump.cpp
    │   │   │   │   ├── ShaderDump.h
    │   │   │   │   ├── ShaderParse.c
    │   │   │   │   ├── ShaderParse.h
    │   │   │   │   ├── ShaderTGSI.c
    │   │   │   │   └── State.h
    │   │   │   ├── dri/
    │   │   │   │   ├── dri2.c
    │   │   │   │   ├── dri_context.c
    │   │   │   │   ├── dri_context.h
    │   │   │   │   ├── dri_drawable.c
    │   │   │   │   ├── dri_drawable.h
    │   │   │   │   ├── dri_helpers.c
    │   │   │   │   ├── dri_helpers.h
    │   │   │   │   ├── dri_query_renderer.c
    │   │   │   │   ├── dri_query_renderer.h
    │   │   │   │   ├── dri_screen.c
    │   │   │   │   ├── dri_screen.h
    │   │   │   │   ├── dri_util.c
    │   │   │   │   ├── dri_util.h
    │   │   │   │   ├── drisw.c
    │   │   │   │   ├── kopper.c
    │   │   │   │   └── meson.build
    │   │   │   ├── glx/
    │   │   │   │   └── xlib/
    │   │   │   │       ├── glx_api.c
    │   │   │   │       ├── glx_getproc.c
    │   │   │   │       ├── glx_usefont.c
    │   │   │   │       ├── meson.build
    │   │   │   │       ├── xm_api.c
    │   │   │   │       ├── xm_api.h
    │   │   │   │       ├── xm_public.h
    │   │   │   │       ├── xm_st.c
    │   │   │   │       └── xm_st.h
    │   │   │   ├── hgl/
    │   │   │   │   ├── bitmap_wrapper.cpp
    │   │   │   │   ├── bitmap_wrapper.h
    │   │   │   │   ├── hgl.c
    │   │   │   │   ├── hgl_context.h
    │   │   │   │   ├── meson.build
    │   │   │   │   └── .editorconfig
    │   │   │   ├── lavapipe/
    │   │   │   │   ├── lvp_cmd_buffer.c
    │   │   │   │   ├── lvp_conv.h
    │   │   │   │   ├── lvp_descriptor_set.c
    │   │   │   │   ├── lvp_device.c
    │   │   │   │   ├── lvp_execute.c
    │   │   │   │   ├── lvp_formats.c
    │   │   │   │   ├── lvp_image.c
    │   │   │   │   ├── lvp_inline_uniforms.c
    │   │   │   │   ├── lvp_lower_input_attachments.c
    │   │   │   │   ├── lvp_lower_vulkan_resource.c
    │   │   │   │   ├── lvp_lower_vulkan_resource.h
    │   │   │   │   ├── lvp_pipe_sync.c
    │   │   │   │   ├── lvp_pipeline.c
    │   │   │   │   ├── lvp_pipeline_cache.c
    │   │   │   │   ├── lvp_private.h
    │   │   │   │   ├── lvp_query.c
    │   │   │   │   ├── lvp_util.c
    │   │   │   │   ├── lvp_wsi.c
    │   │   │   │   ├── lvp_wsi.h
    │   │   │   │   ├── meson.build
    │   │   │   │   └── ci/
    │   │   │   │       ├── deqp-lvp.toml
    │   │   │   │       ├── gitlab-ci.yml
    │   │   │   │       ├── lvp-asan-fails.txt
    │   │   │   │       ├── lvp-asan-skips.txt
    │   │   │   │       ├── lvp-fails.txt
    │   │   │   │       ├── lvp-flakes.txt
    │   │   │   │       ├── lvp-skips.txt
    │   │   │   │       └── traces-lavapipe.yml
    │   │   │   ├── nine/
    │   │   │   │   ├── adapter9.c
    │   │   │   │   ├── adapter9.h
    │   │   │   │   ├── authenticatedchannel9.c
    │   │   │   │   ├── authenticatedchannel9.h
    │   │   │   │   ├── basetexture9.c
    │   │   │   │   ├── basetexture9.h
    │   │   │   │   ├── buffer9.c
    │   │   │   │   ├── buffer9.h
    │   │   │   │   ├── cryptosession9.c
    │   │   │   │   ├── cryptosession9.h
    │   │   │   │   ├── cubetexture9.c
    │   │   │   │   ├── cubetexture9.h
    │   │   │   │   ├── device9.c
    │   │   │   │   ├── device9.h
    │   │   │   │   ├── device9ex.c
    │   │   │   │   ├── device9ex.h
    │   │   │   │   ├── device9video.c
    │   │   │   │   ├── device9video.h
    │   │   │   │   ├── guid.c
    │   │   │   │   ├── guid.h
    │   │   │   │   ├── indexbuffer9.c
    │   │   │   │   ├── indexbuffer9.h
    │   │   │   │   ├── iunknown.c
    │   │   │   │   ├── iunknown.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── nine_buffer_upload.c
    │   │   │   │   ├── nine_buffer_upload.h
    │   │   │   │   ├── nine_csmt_helper.h
    │   │   │   │   ├── nine_debug.c
    │   │   │   │   ├── nine_debug.h
    │   │   │   │   ├── nine_defines.h
    │   │   │   │   ├── nine_dump.c
    │   │   │   │   ├── nine_dump.h
    │   │   │   │   ├── nine_ff.c
    │   │   │   │   ├── nine_ff.h
    │   │   │   │   ├── nine_flags.h
    │   │   │   │   ├── nine_helpers.c
    │   │   │   │   ├── nine_helpers.h
    │   │   │   │   ├── nine_limits.h
    │   │   │   │   ├── nine_lock.c
    │   │   │   │   ├── nine_lock.h
    │   │   │   │   ├── nine_memory_helper.c
    │   │   │   │   ├── nine_memory_helper.h
    │   │   │   │   ├── nine_pdata.h
    │   │   │   │   ├── nine_pipe.c
    │   │   │   │   ├── nine_pipe.h
    │   │   │   │   ├── nine_queue.c
    │   │   │   │   ├── nine_queue.h
    │   │   │   │   ├── nine_quirk.c
    │   │   │   │   ├── nine_quirk.h
    │   │   │   │   ├── nine_shader.c
    │   │   │   │   ├── nine_shader.h
    │   │   │   │   ├── nine_state.c
    │   │   │   │   ├── nine_state.h
    │   │   │   │   ├── nineexoverlayextension.c
    │   │   │   │   ├── nineexoverlayextension.h
    │   │   │   │   ├── pixelshader9.c
    │   │   │   │   ├── pixelshader9.h
    │   │   │   │   ├── query9.c
    │   │   │   │   ├── query9.h
    │   │   │   │   ├── resource9.c
    │   │   │   │   ├── resource9.h
    │   │   │   │   ├── stateblock9.c
    │   │   │   │   ├── stateblock9.h
    │   │   │   │   ├── surface9.c
    │   │   │   │   ├── surface9.h
    │   │   │   │   ├── swapchain9.c
    │   │   │   │   ├── swapchain9.h
    │   │   │   │   ├── swapchain9ex.c
    │   │   │   │   ├── swapchain9ex.h
    │   │   │   │   ├── texture9.c
    │   │   │   │   ├── texture9.h
    │   │   │   │   ├── threadpool.c
    │   │   │   │   ├── threadpool.h
    │   │   │   │   ├── vertexbuffer9.c
    │   │   │   │   ├── vertexbuffer9.h
    │   │   │   │   ├── vertexdeclaration9.c
    │   │   │   │   ├── vertexdeclaration9.h
    │   │   │   │   ├── vertexshader9.c
    │   │   │   │   ├── vertexshader9.h
    │   │   │   │   ├── volume9.c
    │   │   │   │   ├── volume9.h
    │   │   │   │   ├── volumetexture9.c
    │   │   │   │   ├── volumetexture9.h
    │   │   │   │   └── .editorconfig
    │   │   │   ├── omx/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── vid_dec_common.c
    │   │   │   │   ├── vid_dec_common.h
    │   │   │   │   ├── vid_dec_h264_common.c
    │   │   │   │   ├── vid_dec_h264_common.h
    │   │   │   │   ├── vid_enc_common.c
    │   │   │   │   ├── vid_enc_common.h
    │   │   │   │   ├── vid_omx_common.c
    │   │   │   │   ├── vid_omx_common.h
    │   │   │   │   ├── bellagio/
    │   │   │   │   │   ├── entrypoint.c
    │   │   │   │   │   ├── entrypoint.h
    │   │   │   │   │   ├── vid_dec.c
    │   │   │   │   │   ├── vid_dec.h
    │   │   │   │   │   ├── vid_dec_av1.c
    │   │   │   │   │   ├── vid_dec_av1.h
    │   │   │   │   │   ├── vid_dec_h264.c
    │   │   │   │   │   ├── vid_dec_h265.c
    │   │   │   │   │   ├── vid_dec_mpeg12.c
    │   │   │   │   │   ├── vid_enc.c
    │   │   │   │   │   └── vid_enc.h
    │   │   │   │   └── tizonia/
    │   │   │   │       ├── entrypoint.c
    │   │   │   │       ├── entrypoint.h
    │   │   │   │       ├── h264d.c
    │   │   │   │       ├── h264d.h
    │   │   │   │       ├── h264dinport.c
    │   │   │   │       ├── h264dinport.h
    │   │   │   │       ├── h264dinport_decls.h
    │   │   │   │       ├── h264dprc.c
    │   │   │   │       ├── h264dprc.h
    │   │   │   │       ├── h264e.c
    │   │   │   │       ├── h264e.h
    │   │   │   │       ├── h264einport.c
    │   │   │   │       ├── h264einport.h
    │   │   │   │       ├── h264einport_decls.h
    │   │   │   │       ├── h264eoutport.c
    │   │   │   │       ├── h264eoutport.h
    │   │   │   │       ├── h264eoutport_decls.h
    │   │   │   │       ├── h264eprc.c
    │   │   │   │       ├── h264eprc.h
    │   │   │   │       └── names.h
    │   │   │   ├── osmesa/
    │   │   │   │   ├── meson.build
    │   │   │   │   └── osmesa.c
    │   │   │   ├── va/
    │   │   │   │   ├── buffer.c
    │   │   │   │   ├── config.c
    │   │   │   │   ├── context.c
    │   │   │   │   ├── display.c
    │   │   │   │   ├── image.c
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── picture.c
    │   │   │   │   ├── picture_av1.c
    │   │   │   │   ├── picture_h264.c
    │   │   │   │   ├── picture_h264_enc.c
    │   │   │   │   ├── picture_hevc.c
    │   │   │   │   ├── picture_hevc_enc.c
    │   │   │   │   ├── picture_mjpeg.c
    │   │   │   │   ├── picture_mpeg12.c
    │   │   │   │   ├── picture_mpeg4.c
    │   │   │   │   ├── picture_vc1.c
    │   │   │   │   ├── picture_vp9.c
    │   │   │   │   ├── postproc.c
    │   │   │   │   ├── subpicture.c
    │   │   │   │   ├── surface.c
    │   │   │   │   └── va_private.h
    │   │   │   ├── vdpau/
    │   │   │   │   ├── bitmap.c
    │   │   │   │   ├── decode.c
    │   │   │   │   ├── device.c
    │   │   │   │   ├── ftab.c
    │   │   │   │   ├── htab.c
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── mixer.c
    │   │   │   │   ├── output.c
    │   │   │   │   ├── preemption.c
    │   │   │   │   ├── presentation.c
    │   │   │   │   ├── query.c
    │   │   │   │   ├── surface.c
    │   │   │   │   └── vdpau_private.h
    │   │   │   ├── wgl/
    │   │   │   │   ├── gldrv.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── stw_context.c
    │   │   │   │   ├── stw_context.h
    │   │   │   │   ├── stw_device.c
    │   │   │   │   ├── stw_device.h
    │   │   │   │   ├── stw_ext_context.c
    │   │   │   │   ├── stw_ext_context.h
    │   │   │   │   ├── stw_ext_extensionsstring.c
    │   │   │   │   ├── stw_ext_pbuffer.c
    │   │   │   │   ├── stw_ext_pixelformat.c
    │   │   │   │   ├── stw_ext_rendertexture.c
    │   │   │   │   ├── stw_ext_swapinterval.c
    │   │   │   │   ├── stw_framebuffer.c
    │   │   │   │   ├── stw_framebuffer.h
    │   │   │   │   ├── stw_getprocaddress.c
    │   │   │   │   ├── stw_image.c
    │   │   │   │   ├── stw_image.h
    │   │   │   │   ├── stw_nopfuncs.c
    │   │   │   │   ├── stw_nopfuncs.h
    │   │   │   │   ├── stw_pixelformat.c
    │   │   │   │   ├── stw_pixelformat.h
    │   │   │   │   ├── stw_st.c
    │   │   │   │   ├── stw_st.h
    │   │   │   │   ├── stw_tls.c
    │   │   │   │   ├── stw_tls.h
    │   │   │   │   └── stw_winsys.h
    │   │   │   ├── xa/
    │   │   │   │   ├── README
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── xa-indent.sh
    │   │   │   │   ├── xa_composite.c
    │   │   │   │   ├── xa_composite.h
    │   │   │   │   ├── xa_context.c
    │   │   │   │   ├── xa_context.h
    │   │   │   │   ├── xa_priv.h
    │   │   │   │   ├── xa_renderer.c
    │   │   │   │   ├── xa_tgsi.c
    │   │   │   │   ├── xa_tracker.c
    │   │   │   │   ├── xa_tracker.h.in
    │   │   │   │   ├── xa_yuv.c
    │   │   │   │   └── .editorconfig
    │   │   │   └── xvmc/
    │   │   │       ├── attributes.c
    │   │   │       ├── block.c
    │   │   │       ├── context.c
    │   │   │       ├── meson.build
    │   │   │       ├── subpicture.c
    │   │   │       ├── surface.c
    │   │   │       ├── xvmc_private.h
    │   │   │       └── tests/
    │   │   │           ├── test_blocks.c
    │   │   │           ├── test_context.c
    │   │   │           ├── test_rendering.c
    │   │   │           ├── test_subpicture.c
    │   │   │           ├── test_surface.c
    │   │   │           ├── testlib.c
    │   │   │           ├── testlib.h
    │   │   │           └── xvmc_bench.c
    │   │   ├── include/
    │   │   │   ├── frontend/
    │   │   │   │   ├── api.h
    │   │   │   │   ├── drisw_api.h
    │   │   │   │   ├── drm_driver.h
    │   │   │   │   ├── graw.h
    │   │   │   │   ├── opencl_interop.h
    │   │   │   │   ├── sw_driver.h
    │   │   │   │   ├── sw_winsys.h
    │   │   │   │   ├── vdpau_dmabuf.h
    │   │   │   │   ├── vdpau_funcs.h
    │   │   │   │   ├── vdpau_interop.h
    │   │   │   │   ├── winsys_handle.h
    │   │   │   │   └── xlibsw_api.h
    │   │   │   ├── pipe/
    │   │   │   │   ├── p_compiler.h
    │   │   │   │   ├── p_config.h
    │   │   │   │   ├── p_context.h
    │   │   │   │   ├── p_defines.h
    │   │   │   │   ├── p_format.h
    │   │   │   │   ├── p_screen.h
    │   │   │   │   ├── p_shader_tokens.h
    │   │   │   │   ├── p_state.h
    │   │   │   │   ├── p_video_codec.h
    │   │   │   │   ├── p_video_enums.h
    │   │   │   │   └── p_video_state.h
    │   │   │   └── winsys/
    │   │   │       └── radeon_winsys.h
    │   │   ├── targets/
    │   │   │   ├── dri-vdpau.dyn
    │   │   │   ├── d3d10sw/
    │   │   │   │   ├── README.md
    │   │   │   │   ├── d3d10_gdi.c
    │   │   │   │   ├── d3d10_sw.def.in
    │   │   │   │   ├── meson.build
    │   │   │   │   └── tests/
    │   │   │   │       ├── tri.cpp
    │   │   │   │       ├── tri_ps_4_0.h
    │   │   │   │       └── tri_vs_4_0.h
    │   │   │   ├── d3dadapter9/
    │   │   │   │   ├── d3dadapter9.sym
    │   │   │   │   ├── description.c
    │   │   │   │   ├── drm.c
    │   │   │   │   ├── getproc.c
    │   │   │   │   ├── meson.build
    │   │   │   │   └── .editorconfig
    │   │   │   ├── dri/
    │   │   │   │   ├── dri.sym
    │   │   │   │   ├── meson.build
    │   │   │   │   └── target.c
    │   │   │   ├── graw-gdi/
    │   │   │   │   ├── graw_gdi.c
    │   │   │   │   └── meson.build
    │   │   │   ├── graw-null/
    │   │   │   │   ├── graw_null.c
    │   │   │   │   ├── graw_util.c
    │   │   │   │   └── meson.build
    │   │   │   ├── graw-xlib/
    │   │   │   │   ├── graw_xlib.c
    │   │   │   │   └── meson.build
    │   │   │   ├── haiku-softpipe/
    │   │   │   │   ├── GalliumContext.cpp
    │   │   │   │   ├── GalliumContext.h
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── SoftwareRenderer.cpp
    │   │   │   │   ├── SoftwareRenderer.h
    │   │   │   │   ├── SoftwareRenderer.rdef
    │   │   │   │   └── .editorconfig
    │   │   │   ├── lavapipe/
    │   │   │   │   ├── meson.build
    │   │   │   │   └── target.c
    │   │   │   ├── libgl-d3d12/
    │   │   │   │   ├── libgl_d3d12.c
    │   │   │   │   ├── meson.build
    │   │   │   │   └── openglon12.def
    │   │   │   ├── libgl-gdi/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── opengl32.def.in
    │   │   │   │   ├── stw_wgl.c
    │   │   │   │   ├── stw_wgl.h
    │   │   │   │   └── tests/
    │   │   │   │       └── wgl_tests.cpp
    │   │   │   ├── libgl-xlib/
    │   │   │   │   ├── libgl-xlib.sym
    │   │   │   │   ├── meson.build
    │   │   │   │   └── xlib.c
    │   │   │   ├── omx/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── omx.sym
    │   │   │   │   └── target.c
    │   │   │   ├── opencl/
    │   │   │   │   ├── mesa.icd.in
    │   │   │   │   ├── MesaOpenCL.def
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── OpenCL.def
    │   │   │   │   └── opencl.sym
    │   │   │   ├── osmesa/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── osmesa.def.in
    │   │   │   │   ├── osmesa.sym
    │   │   │   │   ├── target.c
    │   │   │   │   └── test-render.cpp
    │   │   │   ├── pipe-loader/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── pipe.sym
    │   │   │   │   ├── pipe_crocus.c
    │   │   │   │   ├── pipe_i915.c
    │   │   │   │   ├── pipe_iris.c
    │   │   │   │   ├── pipe_kmsro.c
    │   │   │   │   ├── pipe_msm.c
    │   │   │   │   ├── pipe_nouveau.c
    │   │   │   │   ├── pipe_r300.c
    │   │   │   │   ├── pipe_r600.c
    │   │   │   │   ├── pipe_radeonsi.c
    │   │   │   │   ├── pipe_swrast.c
    │   │   │   │   └── pipe_vmwgfx.c
    │   │   │   ├── va/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── target.c
    │   │   │   │   └── va.sym
    │   │   │   ├── vdpau/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── target.c
    │   │   │   │   └── vdpau.sym
    │   │   │   ├── wgl/
    │   │   │   │   ├── gallium_wgl.def.in
    │   │   │   │   ├── meson.build
    │   │   │   │   └── wgl.c
    │   │   │   ├── xa/
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── target.c
    │   │   │   │   └── xa.sym
    │   │   │   └── xvmc/
    │   │   │       ├── meson.build
    │   │   │       ├── target.c
    │   │   │       └── xvmc.sym
    │   │   ├── tests/
    │   │   │   ├── meson.build
    │   │   │   ├── graw/
    │   │   │   │   ├── clear.c
    │   │   │   │   ├── disasm.c
    │   │   │   │   ├── fs-fragcoord.c
    │   │   │   │   ├── fs-frontface.c
    │   │   │   │   ├── fs-test.c
    │   │   │   │   ├── fs-write-z.c
    │   │   │   │   ├── graw_util.h
    │   │   │   │   ├── gs-test.c
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── occlusion-query.c
    │   │   │   │   ├── quad-sample.c
    │   │   │   │   ├── quad-tex.c
    │   │   │   │   ├── shader-leak.c
    │   │   │   │   ├── tex-srgb.c
    │   │   │   │   ├── tex-swizzle.c
    │   │   │   │   ├── tgsi_dump.gdb
    │   │   │   │   ├── tri-gs.c
    │   │   │   │   ├── tri-instanced.c
    │   │   │   │   ├── tri-large.c
    │   │   │   │   ├── tri.c
    │   │   │   │   ├── vs-test.c
    │   │   │   │   ├── fragment-shader/
    │   │   │   │   │   ├── frag-abs.txt
    │   │   │   │   │   ├── frag-add.txt
    │   │   │   │   │   ├── frag-cb-1d.txt
    │   │   │   │   │   ├── frag-cb-2d.txt
    │   │   │   │   │   ├── frag-dp3.txt
    │   │   │   │   │   ├── frag-dp4.txt
    │   │   │   │   │   ├── frag-dst.txt
    │   │   │   │   │   ├── frag-ex2.txt
    │   │   │   │   │   ├── frag-face.txt
    │   │   │   │   │   ├── frag-flr.txt
    │   │   │   │   │   ├── frag-frc.txt
    │   │   │   │   │   ├── frag-kil.txt
    │   │   │   │   │   ├── frag-lg2.txt
    │   │   │   │   │   ├── frag-lit.txt
    │   │   │   │   │   ├── frag-lrp.txt
    │   │   │   │   │   ├── frag-mad-immx.txt
    │   │   │   │   │   ├── frag-mad.txt
    │   │   │   │   │   ├── frag-max.txt
    │   │   │   │   │   ├── frag-min.txt
    │   │   │   │   │   ├── frag-mov.txt
    │   │   │   │   │   ├── frag-mul.txt
    │   │   │   │   │   ├── frag-rcp.txt
    │   │   │   │   │   ├── frag-rsq.txt
    │   │   │   │   │   ├── frag-sge.txt
    │   │   │   │   │   ├── frag-slt.txt
    │   │   │   │   │   ├── frag-srcmod-abs.txt
    │   │   │   │   │   ├── frag-srcmod-absneg.txt
    │   │   │   │   │   ├── frag-srcmod-neg.txt
    │   │   │   │   │   ├── frag-srcmod-swz.txt
    │   │   │   │   │   ├── frag-sub.txt
    │   │   │   │   │   ├── frag-tempx.txt
    │   │   │   │   │   ├── frag-ucmp.txt
    │   │   │   │   │   └── frag-xpd.txt
    │   │   │   │   ├── geometry-shader/
    │   │   │   │   │   ├── add-mix.txt
    │   │   │   │   │   ├── add.txt
    │   │   │   │   │   ├── line.txt
    │   │   │   │   │   ├── mov-cb-2d.txt
    │   │   │   │   │   ├── mov.txt
    │   │   │   │   │   └── multi-line.txt
    │   │   │   │   └── vertex-shader/
    │   │   │   │       ├── vert-abs.txt
    │   │   │   │       ├── vert-add.txt
    │   │   │   │       ├── vert-arl.txt
    │   │   │   │       ├── vert-arr.txt
    │   │   │   │       ├── vert-cb-1d.txt
    │   │   │   │       ├── vert-cb-2d.txt
    │   │   │   │       ├── vert-dp3.txt
    │   │   │   │       ├── vert-dp4.txt
    │   │   │   │       ├── vert-dst.txt
    │   │   │   │       ├── vert-ex2.txt
    │   │   │   │       ├── vert-flr.txt
    │   │   │   │       ├── vert-frc.txt
    │   │   │   │       ├── vert-imul_hi.txt
    │   │   │   │       ├── vert-lg2.txt
    │   │   │   │       ├── vert-lit.txt
    │   │   │   │       ├── vert-lrp.txt
    │   │   │   │       ├── vert-mad.txt
    │   │   │   │       ├── vert-max.txt
    │   │   │   │       ├── vert-min.txt
    │   │   │   │       ├── vert-mov.txt
    │   │   │   │       ├── vert-mul.txt
    │   │   │   │       ├── vert-rcp.txt
    │   │   │   │       ├── vert-rsq.txt
    │   │   │   │       ├── vert-sge.txt
    │   │   │   │       ├── vert-slt.txt
    │   │   │   │       ├── vert-srcmod-abs.txt
    │   │   │   │       ├── vert-srcmod-absneg.txt
    │   │   │   │       ├── vert-srcmod-neg.txt
    │   │   │   │       ├── vert-srcmod-swz.txt
    │   │   │   │       ├── vert-sub.txt
    │   │   │   │       ├── vert-uadd.txt
    │   │   │   │       ├── vert-umul_hi.txt
    │   │   │   │       └── vert-xpd.txt
    │   │   │   ├── python/
    │   │   │   │   └── tests/
    │   │   │   │       └── regress/
    │   │   │   │           └── fragment-shader/
    │   │   │   │               └── frag-cmp.sh
    │   │   │   ├── trivial/
    │   │   │   │   ├── compute.c
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── quad-tex.c
    │   │   │   │   └── tri.c
    │   │   │   └── unit/
    │   │   │       ├── meson.build
    │   │   │       ├── pipe_barrier_test.c
    │   │   │       ├── translate_test.c
    │   │   │       ├── u_cache_test.c
    │   │   │       ├── u_half_test.c
    │   │   │       └── u_prim_verts_test.c
    │   │   ├── tools/
    │   │   │   ├── addr2line.sh
    │   │   │   └── trace/
    │   │   │       ├── README.txt
    │   │   │       ├── diff_state.py
    │   │   │       ├── dump.py
    │   │   │       ├── dump_state.py
    │   │   │       ├── format.py
    │   │   │       ├── model.py
    │   │   │       ├── parse.py
    │   │   │       ├── pytracediff.py
    │   │   │       ├── TODO.txt
    │   │   │       └── tracediff.sh
    │   │   └── winsys/
    │   │       ├── amdgpu/
    │   │       │   └── drm/
    │   │       │       ├── amdgpu_bo.c
    │   │       │       ├── amdgpu_bo.h
    │   │       │       ├── amdgpu_cs.c
    │   │       │       ├── amdgpu_cs.h
    │   │       │       ├── amdgpu_surface.c
    │   │       │       ├── amdgpu_winsys.c
    │   │       │       ├── amdgpu_winsys.h
    │   │       │       └── meson.build
    │   │       ├── crocus/
    │   │       │   └── drm/
    │   │       │       ├── crocus_drm_public.h
    │   │       │       ├── crocus_drm_winsys.c
    │   │       │       └── meson.build
    │   │       ├── d3d12/
    │   │       │   └── wgl/
    │   │       │       ├── d3d12_wgl_framebuffer.cpp
    │   │       │       ├── d3d12_wgl_public.h
    │   │       │       ├── d3d12_wgl_winsys.c
    │   │       │       └── meson.build
    │   │       ├── etnaviv/
    │   │       │   └── drm/
    │   │       │       ├── etnaviv_drm_public.h
    │   │       │       ├── etnaviv_drm_winsys.c
    │   │       │       └── meson.build
    │   │       ├── freedreno/
    │   │       │   └── drm/
    │   │       │       ├── freedreno_drm_public.h
    │   │       │       ├── freedreno_drm_winsys.c
    │   │       │       ├── meson.build
    │   │       │       └── .editorconfig
    │   │       ├── i915/
    │   │       │   └── drm/
    │   │       │       ├── i915_drm_batchbuffer.c
    │   │       │       ├── i915_drm_buffer.c
    │   │       │       ├── i915_drm_fence.c
    │   │       │       ├── i915_drm_public.h
    │   │       │       ├── i915_drm_winsys.c
    │   │       │       ├── i915_drm_winsys.h
    │   │       │       └── meson.build
    │   │       ├── iris/
    │   │       │   └── drm/
    │   │       │       ├── iris_drm_public.h
    │   │       │       ├── iris_drm_winsys.c
    │   │       │       └── meson.build
    │   │       ├── kmsro/
    │   │       │   └── drm/
    │   │       │       ├── kmsro_drm_public.h
    │   │       │       ├── kmsro_drm_winsys.c
    │   │       │       └── meson.build
    │   │       ├── lima/
    │   │       │   └── drm/
    │   │       │       ├── lima_drm_public.h
    │   │       │       ├── lima_drm_winsys.c
    │   │       │       └── meson.build
    │   │       ├── nouveau/
    │   │       │   └── drm/
    │   │       │       ├── meson.build
    │   │       │       ├── nouveau_drm_public.h
    │   │       │       ├── nouveau_drm_winsys.c
    │   │       │       └── .editorconfig
    │   │       ├── panfrost/
    │   │       │   └── drm/
    │   │       │       ├── meson.build
    │   │       │       ├── panfrost_drm_public.h
    │   │       │       └── panfrost_drm_winsys.c
    │   │       ├── radeon/
    │   │       │   ├── .dir-locals.el
    │   │       │   └── drm/
    │   │       │       ├── meson.build
    │   │       │       ├── radeon_drm_bo.c
    │   │       │       ├── radeon_drm_bo.h
    │   │       │       ├── radeon_drm_cs.c
    │   │       │       ├── radeon_drm_cs.h
    │   │       │       ├── radeon_drm_surface.c
    │   │       │       ├── radeon_drm_winsys.c
    │   │       │       └── radeon_drm_winsys.h
    │   │       ├── svga/
    │   │       │   └── drm/
    │   │       │       ├── meson.build
    │   │       │       ├── pb_buffer_simple_fenced.c
    │   │       │       ├── svga_drm_public.h
    │   │       │       ├── vmw_buffer.c
    │   │       │       ├── vmw_buffer.h
    │   │       │       ├── vmw_context.c
    │   │       │       ├── vmw_context.h
    │   │       │       ├── vmw_fence.c
    │   │       │       ├── vmw_fence.h
    │   │       │       ├── vmw_msg.c
    │   │       │       ├── vmw_msg.h
    │   │       │       ├── vmw_query.c
    │   │       │       ├── vmw_query.h
    │   │       │       ├── vmw_screen.c
    │   │       │       ├── vmw_screen.h
    │   │       │       ├── vmw_screen_dri.c
    │   │       │       ├── vmw_screen_ioctl.c
    │   │       │       ├── vmw_screen_pools.c
    │   │       │       ├── vmw_screen_svga.c
    │   │       │       ├── vmw_shader.c
    │   │       │       ├── vmw_shader.h
    │   │       │       ├── vmw_surface.c
    │   │       │       ├── vmw_surface.h
    │   │       │       └── vmwgfx_drm.h
    │   │       ├── sw/
    │   │       │   ├── dri/
    │   │       │   │   ├── dri_sw_winsys.c
    │   │       │   │   ├── dri_sw_winsys.h
    │   │       │   │   └── meson.build
    │   │       │   ├── gdi/
    │   │       │   │   ├── gdi_sw_winsys.c
    │   │       │   │   ├── gdi_sw_winsys.h
    │   │       │   │   └── meson.build
    │   │       │   ├── hgl/
    │   │       │   │   ├── hgl_sw_winsys.cpp
    │   │       │   │   ├── hgl_sw_winsys.h
    │   │       │   │   ├── meson.build
    │   │       │   │   └── .editorconfig
    │   │       │   ├── kms-dri/
    │   │       │   │   ├── kms_dri_sw_winsys.c
    │   │       │   │   ├── kms_dri_sw_winsys.h
    │   │       │   │   └── meson.build
    │   │       │   ├── null/
    │   │       │   │   ├── meson.build
    │   │       │   │   ├── null_sw_winsys.c
    │   │       │   │   └── null_sw_winsys.h
    │   │       │   ├── wrapper/
    │   │       │   │   ├── meson.build
    │   │       │   │   ├── wrapper_sw_winsys.c
    │   │       │   │   └── wrapper_sw_winsys.h
    │   │       │   └── xlib/
    │   │       │       ├── meson.build
    │   │       │       ├── xlib_sw_winsys.c
    │   │       │       └── xlib_sw_winsys.h
    │   │       ├── tegra/
    │   │       │   └── drm/
    │   │       │       ├── meson.build
    │   │       │       ├── tegra_drm_public.h
    │   │       │       └── tegra_drm_winsys.c
    │   │       ├── v3d/
    │   │       │   └── drm/
    │   │       │       ├── meson.build
    │   │       │       ├── v3d_drm_public.h
    │   │       │       └── v3d_drm_winsys.c
    │   │       ├── vc4/
    │   │       │   └── drm/
    │   │       │       ├── meson.build
    │   │       │       ├── vc4_drm_public.h
    │   │       │       └── vc4_drm_winsys.c
    │   │       └── virgl/
    │   │           ├── common/
    │   │           │   ├── meson.build
    │   │           │   ├── virgl_resource_cache.c
    │   │           │   └── virgl_resource_cache.h
    │   │           ├── drm/
    │   │           │   ├── meson.build
    │   │           │   ├── virgl_drm_public.h
    │   │           │   ├── virgl_drm_winsys.c
    │   │           │   └── virgl_drm_winsys.h
    │   │           └── vtest/
    │   │               ├── meson.build
    │   │               ├── virgl_vtest_public.h
    │   │               ├── virgl_vtest_socket.c
    │   │               ├── virgl_vtest_winsys.c
    │   │               └── virgl_vtest_winsys.h
    │   ├── gbm/
    │   │   ├── gbm-symbols.txt
    │   │   ├── meson.build
    │   │   ├── backends/
    │   │   │   └── dri/
    │   │   │       ├── gbm_dri.c
    │   │   │       └── gbm_driint.h
    │   │   └── main/
    │   │       ├── backend.c
    │   │       ├── backend.h
    │   │       ├── gbm.c
    │   │       ├── gbm.h
    │   │       ├── gbm_abi_check.c
    │   │       ├── gbm_backend_abi.h
    │   │       └── gbmint.h
    │   ├── getopt/
    │   │   ├── getopt.h
    │   │   ├── getopt_long.c
    │   │   ├── meson.build
    │   │   └── .editorconfig
    │   ├── glx/
    │   │   ├── applegl_glx.c
    │   │   ├── clientattrib.c
    │   │   ├── clientinfo.c
    │   │   ├── compsize.c
    │   │   ├── create_context.c
    │   │   ├── dri2.c
    │   │   ├── dri2.h
    │   │   ├── dri2_glx.c
    │   │   ├── dri2_priv.h
    │   │   ├── dri3_glx.c
    │   │   ├── dri3_priv.h
    │   │   ├── dri_common.c
    │   │   ├── dri_common.h
    │   │   ├── dri_common_interop.c
    │   │   ├── dri_common_query_renderer.c
    │   │   ├── drisw_glx.c
    │   │   ├── drisw_priv.h
    │   │   ├── driwindows_glx.c
    │   │   ├── eval.c
    │   │   ├── g_glxglvnddispatchfuncs.c
    │   │   ├── g_glxglvnddispatchindices.h
    │   │   ├── glx_error.c
    │   │   ├── glx_error.h
    │   │   ├── glx_pbuffer.c
    │   │   ├── glx_query.c
    │   │   ├── glxclient.h
    │   │   ├── glxcmds.c
    │   │   ├── glxconfig.c
    │   │   ├── glxconfig.h
    │   │   ├── glxcurrent.c
    │   │   ├── glxext.c
    │   │   ├── glxextensions.c
    │   │   ├── glxextensions.h
    │   │   ├── glxglvnd.c
    │   │   ├── glxglvnd.h
    │   │   ├── glxglvnddispatchfuncs.h
    │   │   ├── glxhash.c
    │   │   ├── glxhash.h
    │   │   ├── indirect_glx.c
    │   │   ├── indirect_init.h
    │   │   ├── indirect_texture_compression.c
    │   │   ├── indirect_transpose_matrix.c
    │   │   ├── indirect_vertex_array.c
    │   │   ├── indirect_vertex_array.h
    │   │   ├── indirect_vertex_array_priv.h
    │   │   ├── indirect_vertex_program.c
    │   │   ├── indirect_window_pos.c
    │   │   ├── meson.build
    │   │   ├── packrender.h
    │   │   ├── packsingle.h
    │   │   ├── pixel.c
    │   │   ├── pixelstore.c
    │   │   ├── query_renderer.c
    │   │   ├── render2.c
    │   │   ├── renderpix.c
    │   │   ├── single2.c
    │   │   ├── singlepix.c
    │   │   ├── vertarr.c
    │   │   ├── xfont.c
    │   │   ├── apple/
    │   │   │   ├── apple_cgl.c
    │   │   │   ├── apple_cgl.h
    │   │   │   ├── apple_glapi.c
    │   │   │   ├── apple_glx.c
    │   │   │   ├── apple_glx.h
    │   │   │   ├── apple_glx_context.c
    │   │   │   ├── apple_glx_context.h
    │   │   │   ├── apple_glx_drawable.c
    │   │   │   ├── apple_glx_drawable.h
    │   │   │   ├── apple_glx_log.c
    │   │   │   ├── apple_glx_log.h
    │   │   │   ├── apple_glx_pbuffer.c
    │   │   │   ├── apple_glx_pixmap.c
    │   │   │   ├── apple_glx_surface.c
    │   │   │   ├── apple_visual.c
    │   │   │   ├── apple_visual.h
    │   │   │   ├── apple_xgl_api.h
    │   │   │   ├── apple_xgl_api_read.c
    │   │   │   ├── apple_xgl_api_stereo.c
    │   │   │   ├── apple_xgl_api_viewport.c
    │   │   │   ├── appledri.c
    │   │   │   ├── appledri.h
    │   │   │   ├── appledristr.h
    │   │   │   ├── glx_empty.c
    │   │   │   ├── meson.build
    │   │   │   ├── RELEASE_NOTES
    │   │   │   └── TODO
    │   │   ├── tests/
    │   │   │   ├── clientinfo_unittest.cpp
    │   │   │   ├── create_context_unittest.cpp
    │   │   │   ├── dispatch-index-check
    │   │   │   ├── enum_sizes.cpp
    │   │   │   ├── fake_glx_screen.cpp
    │   │   │   ├── fake_glx_screen.h
    │   │   │   ├── indirect_api.cpp
    │   │   │   ├── meson.build
    │   │   │   ├── mock_xdisplay.h
    │   │   │   ├── query_renderer_implementation_unittest.cpp
    │   │   │   └── query_renderer_unittest.cpp
    │   │   └── windows/
    │   │       ├── meson.build
    │   │       ├── wgl.c
    │   │       ├── wgl.h
    │   │       ├── windows_drawable.c
    │   │       ├── windowsdriconst.h
    │   │       ├── windowsdristr.h
    │   │       ├── windowsgl.c
    │   │       ├── windowsgl.h
    │   │       ├── windowsgl_internal.h
    │   │       ├── xwindowsdri.c
    │   │       └── xwindowsdri.h
    │   ├── gtest/
    │   │   ├── meson.build
    │   │   ├── .editorconfig
    │   │   ├── include/
    │   │   │   ├── mesa-gtest-extras.h
    │   │   │   └── gtest/
    │   │   │       ├── gtest-death-test.h
    │   │   │       ├── gtest-matchers.h
    │   │   │       ├── gtest-message.h
    │   │   │       ├── gtest-param-test.h
    │   │   │       ├── gtest-printers.h
    │   │   │       ├── gtest-spi.h
    │   │   │       ├── gtest-test-part.h
    │   │   │       ├── gtest-typed-test.h
    │   │   │       ├── gtest.h
    │   │   │       ├── gtest_pred_impl.h
    │   │   │       ├── gtest_prod.h
    │   │   │       └── internal/
    │   │   │           ├── gtest-death-test-internal.h
    │   │   │           ├── gtest-filepath.h
    │   │   │           ├── gtest-internal.h
    │   │   │           ├── gtest-param-util.h
    │   │   │           ├── gtest-port-arch.h
    │   │   │           ├── gtest-port.h
    │   │   │           ├── gtest-string.h
    │   │   │           ├── gtest-type-util.h
    │   │   │           ├── gtest-type-util.h.pump
    │   │   │           └── custom/
    │   │   │               ├── README.md
    │   │   │               ├── gtest-port.h
    │   │   │               ├── gtest-printers.h
    │   │   │               └── gtest.h
    │   │   └── src/
    │   │       ├── gtest-all.cc
    │   │       ├── gtest-death-test.cc
    │   │       ├── gtest-filepath.cc
    │   │       ├── gtest-internal-inl.h
    │   │       ├── gtest-matchers.cc
    │   │       ├── gtest-port.cc
    │   │       ├── gtest-printers.cc
    │   │       ├── gtest-test-part.cc
    │   │       ├── gtest-typed-test.cc
    │   │       ├── gtest.cc
    │   │       └── gtest_main.cc
    │   ├── hgl/
    │   │   ├── GLRenderer.cpp
    │   │   ├── GLRendererRoster.cpp
    │   │   ├── GLRendererRoster.h
    │   │   ├── GLView.cpp
    │   │   ├── meson.build
    │   │   └── .editorconfig
    │   ├── imagination/
    │   │   ├── meson.build
    │   │   ├── .clang-format
    │   │   ├── .dir-locals.el
    │   │   ├── .editorconfig
    │   │   ├── common/
    │   │   │   ├── meson.build
    │   │   │   ├── pvr_debug.c
    │   │   │   ├── pvr_debug.h
    │   │   │   ├── pvr_device_info.c
    │   │   │   └── pvr_device_info.h
    │   │   ├── csbgen/
    │   │   │   ├── gen_pack_header.py
    │   │   │   ├── meson.build
    │   │   │   ├── pvr_packet_helpers.h
    │   │   │   ├── rogue_cdm.xml
    │   │   │   ├── rogue_cr.xml
    │   │   │   ├── rogue_hwdefs.h
    │   │   │   ├── rogue_ipf.xml
    │   │   │   ├── rogue_lls.xml
    │   │   │   ├── rogue_pbestate.xml
    │   │   │   ├── rogue_pds.xml
    │   │   │   ├── rogue_ppp.xml
    │   │   │   ├── rogue_texstate.xml
    │   │   │   └── rogue_vdm.xml
    │   │   ├── include/
    │   │   │   ├── pvr_rogue_fw.h
    │   │   │   ├── pvr_types.h
    │   │   │   └── hwdef/
    │   │   │       ├── rogue_hw_defs.h
    │   │   │       └── rogue_hw_utils.h
    │   │   ├── rogue/
    │   │   │   ├── meson.build
    │   │   │   ├── rogue.c
    │   │   │   ├── rogue.h
    │   │   │   ├── rogue_build_data.c
    │   │   │   ├── rogue_build_data.h
    │   │   │   ├── rogue_compiler.c
    │   │   │   ├── rogue_compiler.h
    │   │   │   ├── rogue_constreg.c
    │   │   │   ├── rogue_constreg.h
    │   │   │   ├── rogue_dump.c
    │   │   │   ├── rogue_dump.h
    │   │   │   ├── rogue_encode.c
    │   │   │   ├── rogue_encode.h
    │   │   │   ├── rogue_encoders.c
    │   │   │   ├── rogue_encoders.h
    │   │   │   ├── rogue_instr.c
    │   │   │   ├── rogue_instr.h
    │   │   │   ├── rogue_nir.c
    │   │   │   ├── rogue_nir.h
    │   │   │   ├── rogue_nir_helpers.h
    │   │   │   ├── rogue_operand.c
    │   │   │   ├── rogue_operand.h
    │   │   │   ├── rogue_regalloc.c
    │   │   │   ├── rogue_regalloc.h
    │   │   │   ├── rogue_shader.c
    │   │   │   ├── rogue_shader.h
    │   │   │   ├── rogue_util.c
    │   │   │   ├── rogue_util.h
    │   │   │   ├── rogue_validate.c
    │   │   │   ├── rogue_validate.h
    │   │   │   ├── nir/
    │   │   │   │   ├── rogue_nir_constreg.c
    │   │   │   │   ├── rogue_nir_lower_io.c
    │   │   │   │   └── rogue_nir_pfo.c
    │   │   │   └── tools/
    │   │   │       └── offline_compiler.c
    │   │   └── vulkan/
    │   │       ├── meson.build
    │   │       ├── pvr_blit.c
    │   │       ├── pvr_bo.c
    │   │       ├── pvr_bo.h
    │   │       ├── pvr_cmd_buffer.c
    │   │       ├── pvr_csb.c
    │   │       ├── pvr_csb.h
    │   │       ├── pvr_csb_enum_helpers.h
    │   │       ├── pvr_descriptor_set.c
    │   │       ├── pvr_device.c
    │   │       ├── pvr_formats.c
    │   │       ├── pvr_formats.h
    │   │       ├── pvr_hardcode.c
    │   │       ├── pvr_hardcode.h
    │   │       ├── pvr_hw_pass.c
    │   │       ├── pvr_hw_pass.h
    │   │       ├── pvr_image.c
    │   │       ├── pvr_job_common.c
    │   │       ├── pvr_job_common.h
    │   │       ├── pvr_job_compute.c
    │   │       ├── pvr_job_compute.h
    │   │       ├── pvr_job_context.c
    │   │       ├── pvr_job_context.h
    │   │       ├── pvr_job_render.c
    │   │       ├── pvr_job_render.h
    │   │       ├── pvr_job_transfer.c
    │   │       ├── pvr_job_transfer.h
    │   │       ├── pvr_limits.h
    │   │       ├── pvr_pass.c
    │   │       ├── pvr_pipeline.c
    │   │       ├── pvr_pipeline_cache.c
    │   │       ├── pvr_private.h
    │   │       ├── pvr_query.c
    │   │       ├── pvr_queue.c
    │   │       ├── pvr_shader.c
    │   │       ├── pvr_shader.h
    │   │       ├── pvr_tex_state.c
    │   │       ├── pvr_tex_state.h
    │   │       ├── pvr_wsi.c
    │   │       ├── vk_format.h
    │   │       ├── pds/
    │   │       │   ├── meson.build
    │   │       │   ├── pvr_pds.c
    │   │       │   ├── pvr_pds.h
    │   │       │   ├── pvr_pds_disasm.c
    │   │       │   ├── pvr_pds_printer.c
    │   │       │   ├── pvr_rogue_pds_defs.h
    │   │       │   ├── pvr_rogue_pds_disasm.h
    │   │       │   ├── pvr_rogue_pds_encode.h
    │   │       │   ├── pvr_xgl_pds.c
    │   │       │   └── pvr_pds_programs/
    │   │       │       ├── pvr_draw_indirect_arrays0.h
    │   │       │       ├── pvr_draw_indirect_arrays1.h
    │   │       │       ├── pvr_draw_indirect_arrays2.h
    │   │       │       ├── pvr_draw_indirect_arrays3.h
    │   │       │       ├── pvr_draw_indirect_arrays_base_instance0.h
    │   │       │       ├── pvr_draw_indirect_arrays_base_instance1.h
    │   │       │       ├── pvr_draw_indirect_arrays_base_instance2.h
    │   │       │       ├── pvr_draw_indirect_arrays_base_instance3.h
    │   │       │       ├── pvr_draw_indirect_arrays_base_instance_drawid0.h
    │   │       │       ├── pvr_draw_indirect_arrays_base_instance_drawid1.h
    │   │       │       ├── pvr_draw_indirect_arrays_base_instance_drawid2.h
    │   │       │       ├── pvr_draw_indirect_arrays_base_instance_drawid3.h
    │   │       │       ├── pvr_draw_indirect_elements0.h
    │   │       │       ├── pvr_draw_indirect_elements1.h
    │   │       │       ├── pvr_draw_indirect_elements2.h
    │   │       │       ├── pvr_draw_indirect_elements3.h
    │   │       │       ├── pvr_draw_indirect_elements_base_instance0.h
    │   │       │       ├── pvr_draw_indirect_elements_base_instance1.h
    │   │       │       ├── pvr_draw_indirect_elements_base_instance2.h
    │   │       │       ├── pvr_draw_indirect_elements_base_instance3.h
    │   │       │       ├── pvr_draw_indirect_elements_base_instance_drawid0.h
    │   │       │       ├── pvr_draw_indirect_elements_base_instance_drawid1.h
    │   │       │       ├── pvr_draw_indirect_elements_base_instance_drawid2.h
    │   │       │       └── pvr_draw_indirect_elements_base_instance_drawid3.h
    │   │       ├── usc/
    │   │       │   ├── hardcoded_apps/
    │   │       │   │   └── pvr_simple_compute.h
    │   │       │   └── programs/
    │   │       │       ├── pvr_cdm_load_sr.h
    │   │       │       ├── pvr_end_of_tile.h
    │   │       │       ├── pvr_nop_usc.h
    │   │       │       ├── pvr_transfer_eot.h
    │   │       │       ├── pvr_usc_fragment_shader.h
    │   │       │       ├── pvr_vdm_load_sr.h
    │   │       │       └── pvr_vdm_store_sr.h
    │   │       └── winsys/
    │   │           ├── pvr_winsys.c
    │   │           ├── pvr_winsys.h
    │   │           ├── pvr_winsys_helper.c
    │   │           ├── pvr_winsys_helper.h
    │   │           ├── powervr/
    │   │           │   ├── pvr_drm.c
    │   │           │   └── pvr_drm_public.h
    │   │           └── pvrsrvkm/
    │   │               ├── pvr_srv.c
    │   │               ├── pvr_srv.h
    │   │               ├── pvr_srv_bo.c
    │   │               ├── pvr_srv_bo.h
    │   │               ├── pvr_srv_bridge.c
    │   │               ├── pvr_srv_bridge.h
    │   │               ├── pvr_srv_job_common.c
    │   │               ├── pvr_srv_job_common.h
    │   │               ├── pvr_srv_job_compute.c
    │   │               ├── pvr_srv_job_compute.h
    │   │               ├── pvr_srv_job_null.c
    │   │               ├── pvr_srv_job_null.h
    │   │               ├── pvr_srv_job_render.c
    │   │               ├── pvr_srv_job_render.h
    │   │               ├── pvr_srv_job_transfer.c
    │   │               ├── pvr_srv_job_transfer.h
    │   │               ├── pvr_srv_public.h
    │   │               ├── pvr_srv_sync.c
    │   │               ├── pvr_srv_sync.h
    │   │               └── fw-api/
    │   │                   ├── pvr_rogue_fwif.h
    │   │                   ├── pvr_rogue_fwif_rf.h
    │   │                   └── pvr_rogue_fwif_shared.h
    │   ├── imgui/
    │   │   ├── README
    │   │   ├── imconfig.h
    │   │   ├── imgui.h
    │   │   ├── imgui_draw.cpp
    │   │   ├── imgui_internal.h
    │   │   ├── imgui_memory_editor.h
    │   │   ├── imstb_rectpack.h
    │   │   ├── imstb_textedit.h
    │   │   ├── imstb_truetype.h
    │   │   ├── LICENSE.txt
    │   │   └── meson.build
    │   ├── intel/
    │   │   ├── meson.build
    │   │   ├── blorp/
    │   │   │   ├── blorp.c
    │   │   │   ├── blorp.h
    │   │   │   ├── blorp_blit.c
    │   │   │   ├── blorp_clear.c
    │   │   │   ├── blorp_genX_exec.h
    │   │   │   ├── blorp_nir_builder.h
    │   │   │   ├── blorp_priv.h
    │   │   │   ├── meson.build
    │   │   │   └── TODO
    │   │   ├── ci/
    │   │   │   ├── anv-skips.txt
    │   │   │   ├── anv-tgl-fails.txt
    │   │   │   ├── anv-tgl-skips.txt
    │   │   │   ├── deqp-anv-tgl-vk.toml
    │   │   │   ├── deqp-iris-amly.toml
    │   │   │   ├── deqp-iris-apl.toml
    │   │   │   ├── deqp-iris-cml.toml
    │   │   │   ├── deqp-iris-glk.toml
    │   │   │   ├── deqp-iris-kbl.toml
    │   │   │   ├── deqp-iris-whl.toml
    │   │   │   ├── gitlab-ci.yml
    │   │   │   ├── intel-tgl-skqp-gl_rendertests.txt
    │   │   │   ├── intel-tgl-skqp-gles_rendertests.txt
    │   │   │   ├── iris-amly-fails.txt
    │   │   │   ├── iris-amly-flakes.txt
    │   │   │   ├── iris-amly-skips.txt
    │   │   │   ├── iris-apl-fails.txt
    │   │   │   ├── iris-apl-flakes.txt
    │   │   │   ├── iris-cml-fails.txt
    │   │   │   ├── iris-cml-flakes.txt
    │   │   │   ├── iris-glk-fails.txt
    │   │   │   ├── iris-glk-flakes.txt
    │   │   │   ├── iris-kbl-fails.txt
    │   │   │   ├── iris-kbl-flakes.txt
    │   │   │   ├── iris-kbl-skips.txt
    │   │   │   ├── iris-skips.txt
    │   │   │   ├── iris-whl-fails.txt
    │   │   │   ├── iris-whl-flakes.txt
    │   │   │   └── traces-iris.yml
    │   │   ├── common/
    │   │   │   ├── intel_aux_map.c
    │   │   │   ├── intel_aux_map.h
    │   │   │   ├── intel_batch_decoder.c
    │   │   │   ├── intel_batch_decoder_stub.c
    │   │   │   ├── intel_buffer_alloc.h
    │   │   │   ├── intel_clflush.h
    │   │   │   ├── intel_decoder.c
    │   │   │   ├── intel_decoder.h
    │   │   │   ├── intel_defines.h
    │   │   │   ├── intel_disasm.c
    │   │   │   ├── intel_disasm.h
    │   │   │   ├── intel_gem.c
    │   │   │   ├── intel_gem.h
    │   │   │   ├── intel_guardband.h
    │   │   │   ├── intel_l3_config.c
    │   │   │   ├── intel_l3_config.h
    │   │   │   ├── intel_measure.c
    │   │   │   ├── intel_measure.h
    │   │   │   ├── intel_pixel_hash.h
    │   │   │   ├── intel_sample_positions.c
    │   │   │   ├── intel_sample_positions.h
    │   │   │   ├── intel_urb_config.c
    │   │   │   ├── intel_uuid.c
    │   │   │   ├── intel_uuid.h
    │   │   │   ├── meson.build
    │   │   │   ├── mi_builder.h
    │   │   │   └── tests/
    │   │   │       ├── gentest.xml
    │   │   │       ├── genxml_test.c
    │   │   │       └── mi_builder_test.cpp
    │   │   ├── compiler/
    │   │   │   ├── brw_cfg.cpp
    │   │   │   ├── brw_cfg.h
    │   │   │   ├── brw_clip.h
    │   │   │   ├── brw_clip_line.c
    │   │   │   ├── brw_clip_point.c
    │   │   │   ├── brw_clip_tri.c
    │   │   │   ├── brw_clip_unfilled.c
    │   │   │   ├── brw_clip_util.c
    │   │   │   ├── brw_compile_clip.c
    │   │   │   ├── brw_compile_ff_gs.c
    │   │   │   ├── brw_compile_sf.c
    │   │   │   ├── brw_compiler.c
    │   │   │   ├── brw_compiler.h
    │   │   │   ├── brw_dead_control_flow.cpp
    │   │   │   ├── brw_dead_control_flow.h
    │   │   │   ├── brw_debug_recompile.c
    │   │   │   ├── brw_disasm.c
    │   │   │   ├── brw_disasm_info.c
    │   │   │   ├── brw_disasm_info.h
    │   │   │   ├── brw_eu.c
    │   │   │   ├── brw_eu.h
    │   │   │   ├── brw_eu_compact.c
    │   │   │   ├── brw_eu_defines.h
    │   │   │   ├── brw_eu_emit.c
    │   │   │   ├── brw_eu_util.c
    │   │   │   ├── brw_eu_validate.c
    │   │   │   ├── brw_fs.h
    │   │   │   ├── brw_fs_bank_conflicts.cpp
    │   │   │   ├── brw_fs_builder.h
    │   │   │   ├── brw_fs_cmod_propagation.cpp
    │   │   │   ├── brw_fs_combine_constants.cpp
    │   │   │   ├── brw_fs_copy_propagation.cpp
    │   │   │   ├── brw_fs_cse.cpp
    │   │   │   ├── brw_fs_dead_code_eliminate.cpp
    │   │   │   ├── brw_fs_generator.cpp
    │   │   │   ├── brw_fs_live_variables.cpp
    │   │   │   ├── brw_fs_live_variables.h
    │   │   │   ├── brw_fs_lower_pack.cpp
    │   │   │   ├── brw_fs_lower_regioning.cpp
    │   │   │   ├── brw_fs_reg_allocate.cpp
    │   │   │   ├── brw_fs_register_coalesce.cpp
    │   │   │   ├── brw_fs_saturate_propagation.cpp
    │   │   │   ├── brw_fs_scoreboard.cpp
    │   │   │   ├── brw_fs_sel_peephole.cpp
    │   │   │   ├── brw_fs_validate.cpp
    │   │   │   ├── brw_fs_visitor.cpp
    │   │   │   ├── brw_gfx_ver_enum.h
    │   │   │   ├── brw_inst.h
    │   │   │   ├── brw_interpolation_map.c
    │   │   │   ├── brw_ir.h
    │   │   │   ├── brw_ir_allocator.h
    │   │   │   ├── brw_ir_analysis.h
    │   │   │   ├── brw_ir_fs.h
    │   │   │   ├── brw_ir_performance.cpp
    │   │   │   ├── brw_ir_performance.h
    │   │   │   ├── brw_ir_vec4.h
    │   │   │   ├── brw_isa_info.h
    │   │   │   ├── brw_kernel.c
    │   │   │   ├── brw_kernel.h
    │   │   │   ├── brw_lower_logical_sends.cpp
    │   │   │   ├── brw_mesh.cpp
    │   │   │   ├── brw_nir.c
    │   │   │   ├── brw_nir.h
    │   │   │   ├── brw_nir_analyze_boolean_resolves.c
    │   │   │   ├── brw_nir_analyze_ubo_ranges.c
    │   │   │   ├── brw_nir_attribute_workarounds.c
    │   │   │   ├── brw_nir_clamp_image_1d_2d_array_sizes.c
    │   │   │   ├── brw_nir_lower_alpha_to_coverage.c
    │   │   │   ├── brw_nir_lower_conversions.c
    │   │   │   ├── brw_nir_lower_cs_intrinsics.c
    │   │   │   ├── brw_nir_lower_intersection_shader.c
    │   │   │   ├── brw_nir_lower_mem_access_bit_sizes.c
    │   │   │   ├── brw_nir_lower_ray_queries.c
    │   │   │   ├── brw_nir_lower_rt_intrinsics.c
    │   │   │   ├── brw_nir_lower_scoped_barriers.c
    │   │   │   ├── brw_nir_lower_shader_calls.c
    │   │   │   ├── brw_nir_lower_shading_rate_output.c
    │   │   │   ├── brw_nir_lower_storage_image.c
    │   │   │   ├── brw_nir_opt_peephole_ffma.c
    │   │   │   ├── brw_nir_rt.c
    │   │   │   ├── brw_nir_rt.h
    │   │   │   ├── brw_nir_rt_builder.h
    │   │   │   ├── brw_nir_tcs_workarounds.c
    │   │   │   ├── brw_nir_trig_workarounds.py
    │   │   │   ├── brw_packed_float.c
    │   │   │   ├── brw_predicated_break.cpp
    │   │   │   ├── brw_prim.h
    │   │   │   ├── brw_private.h
    │   │   │   ├── brw_reg.h
    │   │   │   ├── brw_reg_type.c
    │   │   │   ├── brw_reg_type.h
    │   │   │   ├── brw_rt.h
    │   │   │   ├── brw_schedule_instructions.cpp
    │   │   │   ├── brw_shader.cpp
    │   │   │   ├── brw_shader.h
    │   │   │   ├── brw_simd_selection.c
    │   │   │   ├── brw_vec4.cpp
    │   │   │   ├── brw_vec4.h
    │   │   │   ├── brw_vec4_builder.h
    │   │   │   ├── brw_vec4_cmod_propagation.cpp
    │   │   │   ├── brw_vec4_copy_propagation.cpp
    │   │   │   ├── brw_vec4_cse.cpp
    │   │   │   ├── brw_vec4_dead_code_eliminate.cpp
    │   │   │   ├── brw_vec4_generator.cpp
    │   │   │   ├── brw_vec4_gs_nir.cpp
    │   │   │   ├── brw_vec4_gs_visitor.cpp
    │   │   │   ├── brw_vec4_gs_visitor.h
    │   │   │   ├── brw_vec4_live_variables.cpp
    │   │   │   ├── brw_vec4_live_variables.h
    │   │   │   ├── brw_vec4_nir.cpp
    │   │   │   ├── brw_vec4_reg_allocate.cpp
    │   │   │   ├── brw_vec4_surface_builder.cpp
    │   │   │   ├── brw_vec4_surface_builder.h
    │   │   │   ├── brw_vec4_tcs.cpp
    │   │   │   ├── brw_vec4_tcs.h
    │   │   │   ├── brw_vec4_tes.cpp
    │   │   │   ├── brw_vec4_tes.h
    │   │   │   ├── brw_vec4_visitor.cpp
    │   │   │   ├── brw_vec4_vs.h
    │   │   │   ├── brw_vec4_vs_visitor.cpp
    │   │   │   ├── brw_vue_map.c
    │   │   │   ├── brw_wm_iz.cpp
    │   │   │   ├── gfx6_gs_visitor.cpp
    │   │   │   ├── gfx6_gs_visitor.h
    │   │   │   ├── intel_clc.c
    │   │   │   ├── meson.build
    │   │   │   ├── test_eu_compact.cpp
    │   │   │   ├── test_eu_validate.cpp
    │   │   │   ├── test_fs_cmod_propagation.cpp
    │   │   │   ├── test_fs_copy_propagation.cpp
    │   │   │   ├── test_fs_saturate_propagation.cpp
    │   │   │   ├── test_fs_scoreboard.cpp
    │   │   │   ├── test_simd_selection.cpp
    │   │   │   ├── test_vec4_cmod_propagation.cpp
    │   │   │   ├── test_vec4_copy_propagation.cpp
    │   │   │   ├── test_vec4_dead_code_eliminate.cpp
    │   │   │   ├── test_vec4_register_coalesce.cpp
    │   │   │   └── test_vf_float_conversions.cpp
    │   │   ├── dev/
    │   │   │   ├── intel_debug.c
    │   │   │   ├── intel_debug.h
    │   │   │   ├── intel_dev_info.c
    │   │   │   ├── intel_device_info.c
    │   │   │   ├── intel_device_info.h
    │   │   │   ├── intel_device_info_override_test.c
    │   │   │   ├── intel_device_info_test.c
    │   │   │   ├── intel_device_info_test.h
    │   │   │   ├── intel_hwconfig.c
    │   │   │   ├── intel_hwconfig.h
    │   │   │   ├── intel_hwconfig_types.h
    │   │   │   └── meson.build
    │   │   ├── ds/
    │   │   │   ├── intel_driver_ds.cc
    │   │   │   ├── intel_driver_ds.h
    │   │   │   ├── intel_pps_driver.cc
    │   │   │   ├── intel_pps_driver.h
    │   │   │   ├── intel_pps_perf.cc
    │   │   │   ├── intel_pps_perf.h
    │   │   │   ├── intel_pps_priv.h
    │   │   │   ├── intel_tracepoints.py
    │   │   │   ├── meson.build
    │   │   │   └── .clang-format
    │   │   ├── genxml/
    │   │   │   ├── README
    │   │   │   ├── gen4.xml
    │   │   │   ├── gen45.xml
    │   │   │   ├── gen5.xml
    │   │   │   ├── gen6.xml
    │   │   │   ├── gen7.xml
    │   │   │   ├── gen_bits_header.py
    │   │   │   ├── gen_macros.h
    │   │   │   ├── gen_pack_header.py
    │   │   │   ├── gen_rt.xml
    │   │   │   ├── gen_sort_tags.py
    │   │   │   ├── gen_zipped_file.py
    │   │   │   ├── genX_pack.h
    │   │   │   ├── meson.build
    │   │   │   └── util.py
    │   │   ├── isl/
    │   │   │   ├── README
    │   │   │   ├── gen_format_layout.py
    │   │   │   ├── isl.c
    │   │   │   ├── isl.h
    │   │   │   ├── isl_aux_info.c
    │   │   │   ├── isl_drm.c
    │   │   │   ├── isl_emit_cpb.c
    │   │   │   ├── isl_emit_depth_stencil.c
    │   │   │   ├── isl_format.c
    │   │   │   ├── isl_format_layout.csv
    │   │   │   ├── isl_genX_helpers.h
    │   │   │   ├── isl_genX_priv.h
    │   │   │   ├── isl_gfx12.c
    │   │   │   ├── isl_gfx12.h
    │   │   │   ├── isl_gfx4.c
    │   │   │   ├── isl_gfx4.h
    │   │   │   ├── isl_gfx6.c
    │   │   │   ├── isl_gfx6.h
    │   │   │   ├── isl_gfx7.c
    │   │   │   ├── isl_gfx7.h
    │   │   │   ├── isl_gfx8.c
    │   │   │   ├── isl_gfx8.h
    │   │   │   ├── isl_gfx9.c
    │   │   │   ├── isl_gfx9.h
    │   │   │   ├── isl_priv.h
    │   │   │   ├── isl_storage_image.c
    │   │   │   ├── isl_surface_state.c
    │   │   │   ├── isl_tiled_memcpy.c
    │   │   │   ├── isl_tiled_memcpy_normal.c
    │   │   │   ├── isl_tiled_memcpy_sse41.c
    │   │   │   ├── meson.build
    │   │   │   └── tests/
    │   │   │       ├── isl_aux_info_test.cpp
    │   │   │       └── isl_surf_get_image_offset_test.c
    │   │   ├── nullhw-layer/
    │   │   │   ├── README
    │   │   │   ├── intel_nullhw.c
    │   │   │   ├── meson.build
    │   │   │   └── VkLayer_INTEL_nullhw.json
    │   │   ├── perf/
    │   │   │   ├── gen_perf.py
    │   │   │   ├── intel_perf.c
    │   │   │   ├── intel_perf.h
    │   │   │   ├── intel_perf_mdapi.c
    │   │   │   ├── intel_perf_mdapi.h
    │   │   │   ├── intel_perf_private.h
    │   │   │   ├── intel_perf_query.c
    │   │   │   ├── intel_perf_query.h
    │   │   │   ├── intel_perf_regs.h
    │   │   │   ├── intel_perf_setup.h
    │   │   │   ├── meson.build
    │   │   │   └── oa-hsw.xml
    │   │   ├── tools/
    │   │   │   ├── aub_mem.c
    │   │   │   ├── aub_mem.h
    │   │   │   ├── aub_read.c
    │   │   │   ├── aub_read.h
    │   │   │   ├── aub_write.c
    │   │   │   ├── aub_write.h
    │   │   │   ├── aubinator.c
    │   │   │   ├── aubinator_error_decode.c
    │   │   │   ├── aubinator_viewer.cpp
    │   │   │   ├── aubinator_viewer.h
    │   │   │   ├── aubinator_viewer_decoder.cpp
    │   │   │   ├── aubinator_viewer_urb.h
    │   │   │   ├── error2aub.c
    │   │   │   ├── gfx10_context.h
    │   │   │   ├── gfx8_context.h
    │   │   │   ├── i965_asm.c
    │   │   │   ├── i965_asm.h
    │   │   │   ├── i965_disasm.c
    │   │   │   ├── i965_gram.y
    │   │   │   ├── i965_lex.l
    │   │   │   ├── intel_aub.h
    │   │   │   ├── intel_context.h
    │   │   │   ├── intel_dump_gpu.c
    │   │   │   ├── intel_dump_gpu.in
    │   │   │   ├── intel_noop_drm_shim.c
    │   │   │   ├── intel_sanitize_gpu.c
    │   │   │   ├── intel_sanitize_gpu.in
    │   │   │   ├── intel_stub_gpu.in
    │   │   │   ├── meson.build
    │   │   │   ├── imgui/
    │   │   │   │   ├── imgui_impl_gtk3.cpp
    │   │   │   │   ├── imgui_impl_gtk3.h
    │   │   │   │   ├── imgui_impl_opengl3.cpp
    │   │   │   │   ├── imgui_impl_opengl3.h
    │   │   │   │   └── meson.build
    │   │   │   └── tests/
    │   │   │       ├── run-test.py
    │   │   │       ├── gen11/
    │   │   │       │   ├── cr0.asm
    │   │   │       │   ├── cr0.expected
    │   │   │       │   ├── rol.asm
    │   │   │       │   ├── rol.expected
    │   │   │       │   ├── ror.asm
    │   │   │       │   └── ror.expected
    │   │   │       ├── gen4/
    │   │   │       │   ├── add.asm
    │   │   │       │   ├── add.expected
    │   │   │       │   ├── and.asm
    │   │   │       │   ├── and.expected
    │   │   │       │   ├── asr.asm
    │   │   │       │   ├── asr.expected
    │   │   │       │   ├── break.asm
    │   │   │       │   ├── break.expected
    │   │   │       │   ├── cmp.asm
    │   │   │       │   ├── cmp.expected
    │   │   │       │   ├── cont.asm
    │   │   │       │   ├── cont.expected
    │   │   │       │   ├── do.asm
    │   │   │       │   ├── do.expected
    │   │   │       │   ├── dp2.asm
    │   │   │       │   ├── dp2.expected
    │   │   │       │   ├── dp3.asm
    │   │   │       │   ├── dp3.expected
    │   │   │       │   ├── dp4.asm
    │   │   │       │   ├── dp4.expected
    │   │   │       │   ├── dph.asm
    │   │   │       │   ├── dph.expected
    │   │   │       │   ├── else.asm
    │   │   │       │   ├── else.expected
    │   │   │       │   ├── endif.asm
    │   │   │       │   ├── endif.expected
    │   │   │       │   ├── frc.asm
    │   │   │       │   ├── frc.expected
    │   │   │       │   ├── if.asm
    │   │   │       │   ├── if.expected
    │   │   │       │   ├── iff.asm
    │   │   │       │   ├── iff.expected
    │   │   │       │   ├── jmpi.asm
    │   │   │       │   ├── jmpi.expected
    │   │   │       │   ├── line.asm
    │   │   │       │   ├── line.expected
    │   │   │       │   ├── mac.asm
    │   │   │       │   ├── mac.expected
    │   │   │       │   ├── mach.asm
    │   │   │       │   ├── mach.expected
    │   │   │       │   ├── mov.asm
    │   │   │       │   ├── mov.expected
    │   │   │       │   ├── mul.asm
    │   │   │       │   ├── mul.expected
    │   │   │       │   ├── not.asm
    │   │   │       │   ├── not.expected
    │   │   │       │   ├── or.asm
    │   │   │       │   ├── or.expected
    │   │   │       │   ├── rndd.asm
    │   │   │       │   ├── rndd.expected
    │   │   │       │   ├── sel.asm
    │   │   │       │   ├── sel.expected
    │   │   │       │   ├── send.asm
    │   │   │       │   ├── send.expected
    │   │   │       │   ├── shl.asm
    │   │   │       │   ├── shl.expected
    │   │   │       │   ├── shr.asm
    │   │   │       │   ├── shr.expected
    │   │   │       │   ├── while.asm
    │   │   │       │   ├── while.expected
    │   │   │       │   ├── xor.asm
    │   │   │       │   └── xor.expected
    │   │   │       ├── gen4.5/
    │   │   │       │   ├── add.asm
    │   │   │       │   ├── add.expected
    │   │   │       │   ├── and.asm
    │   │   │       │   ├── and.expected
    │   │   │       │   ├── asr.asm
    │   │   │       │   ├── asr.expected
    │   │   │       │   ├── break.asm
    │   │   │       │   ├── break.expected
    │   │   │       │   ├── cmp.asm
    │   │   │       │   ├── cmp.expected
    │   │   │       │   ├── cont.asm
    │   │   │       │   ├── cont.expected
    │   │   │       │   ├── do.asm
    │   │   │       │   ├── do.expected
    │   │   │       │   ├── dp2.asm
    │   │   │       │   ├── dp2.expected
    │   │   │       │   ├── dp3.asm
    │   │   │       │   ├── dp3.expected
    │   │   │       │   ├── dp4.asm
    │   │   │       │   ├── dp4.expected
    │   │   │       │   ├── dph.asm
    │   │   │       │   ├── dph.expected
    │   │   │       │   ├── else.asm
    │   │   │       │   ├── else.expected
    │   │   │       │   ├── endif.asm
    │   │   │       │   ├── endif.expected
    │   │   │       │   ├── frc.asm
    │   │   │       │   ├── frc.expected
    │   │   │       │   ├── if.asm
    │   │   │       │   ├── if.expected
    │   │   │       │   ├── iff.asm
    │   │   │       │   ├── iff.expected
    │   │   │       │   ├── jmpi.asm
    │   │   │       │   ├── jmpi.expected
    │   │   │       │   ├── mach.asm
    │   │   │       │   ├── mach.expected
    │   │   │       │   ├── mov.asm
    │   │   │       │   ├── mov.expected
    │   │   │       │   ├── mul.asm
    │   │   │       │   ├── mul.expected
    │   │   │       │   ├── not.asm
    │   │   │       │   ├── not.expected
    │   │   │       │   ├── or.asm
    │   │   │       │   ├── or.expected
    │   │   │       │   ├── pln.asm
    │   │   │       │   ├── pln.expected
    │   │   │       │   ├── rndd.asm
    │   │   │       │   ├── rndd.expected
    │   │   │       │   ├── sel.asm
    │   │   │       │   ├── sel.expected
    │   │   │       │   ├── send.asm
    │   │   │       │   ├── send.expected
    │   │   │       │   ├── shl.asm
    │   │   │       │   ├── shl.expected
    │   │   │       │   ├── shr.asm
    │   │   │       │   ├── shr.expected
    │   │   │       │   ├── while.asm
    │   │   │       │   ├── while.expected
    │   │   │       │   ├── xor.asm
    │   │   │       │   └── xor.expected
    │   │   │       ├── gen5/
    │   │   │       │   ├── add.asm
    │   │   │       │   ├── add.expected
    │   │   │       │   ├── and.asm
    │   │   │       │   ├── and.expected
    │   │   │       │   ├── asr.asm
    │   │   │       │   ├── asr.expected
    │   │   │       │   ├── break.asm
    │   │   │       │   ├── break.expected
    │   │   │       │   ├── cmp.asm
    │   │   │       │   ├── cmp.expected
    │   │   │       │   ├── do.asm
    │   │   │       │   ├── do.expected
    │   │   │       │   ├── dp3.asm
    │   │   │       │   ├── dp3.expected
    │   │   │       │   ├── dp4.asm
    │   │   │       │   ├── dp4.expected
    │   │   │       │   ├── dph.asm
    │   │   │       │   ├── dph.expected
    │   │   │       │   ├── else.asm
    │   │   │       │   ├── else.expected
    │   │   │       │   ├── endif.asm
    │   │   │       │   ├── endif.expected
    │   │   │       │   ├── frc.asm
    │   │   │       │   ├── frc.expected
    │   │   │       │   ├── if.asm
    │   │   │       │   ├── if.expected
    │   │   │       │   ├── iff.asm
    │   │   │       │   ├── iff.expected
    │   │   │       │   ├── jmpi.asm
    │   │   │       │   ├── jmpi.expected
    │   │   │       │   ├── mach.asm
    │   │   │       │   ├── mach.expected
    │   │   │       │   ├── mov.asm
    │   │   │       │   ├── mov.expected
    │   │   │       │   ├── mul.asm
    │   │   │       │   ├── mul.expected
    │   │   │       │   ├── not.asm
    │   │   │       │   ├── not.expected
    │   │   │       │   ├── or.asm
    │   │   │       │   ├── or.expected
    │   │   │       │   ├── pln.asm
    │   │   │       │   ├── pln.expected
    │   │   │       │   ├── rndd.asm
    │   │   │       │   ├── rndd.expected
    │   │   │       │   ├── sel.asm
    │   │   │       │   ├── sel.expected
    │   │   │       │   ├── send.asm
    │   │   │       │   ├── send.expected
    │   │   │       │   ├── shl.asm
    │   │   │       │   ├── shl.expected
    │   │   │       │   ├── shr.asm
    │   │   │       │   ├── shr.expected
    │   │   │       │   ├── while.asm
    │   │   │       │   └── while.expected
    │   │   │       ├── gen6/
    │   │   │       │   ├── add.asm
    │   │   │       │   ├── add.expected
    │   │   │       │   ├── and.asm
    │   │   │       │   ├── and.expected
    │   │   │       │   ├── asr.asm
    │   │   │       │   ├── asr.expected
    │   │   │       │   ├── break.asm
    │   │   │       │   ├── break.expected
    │   │   │       │   ├── cmp.asm
    │   │   │       │   ├── cmp.expected
    │   │   │       │   ├── cont.asm
    │   │   │       │   ├── cont.expected
    │   │   │       │   ├── dp2.asm
    │   │   │       │   ├── dp2.expected
    │   │   │       │   ├── dp3.asm
    │   │   │       │   ├── dp3.expected
    │   │   │       │   ├── dp4.asm
    │   │   │       │   ├── dp4.expected
    │   │   │       │   ├── dph.asm
    │   │   │       │   ├── dph.expected
    │   │   │       │   ├── else.asm
    │   │   │       │   ├── else.expected
    │   │   │       │   ├── endif.asm
    │   │   │       │   ├── endif.expected
    │   │   │       │   ├── frc.asm
    │   │   │       │   ├── frc.expected
    │   │   │       │   ├── halt.asm
    │   │   │       │   ├── halt.expected
    │   │   │       │   ├── if.asm
    │   │   │       │   ├── if.expected
    │   │   │       │   ├── lrp.asm
    │   │   │       │   ├── lrp.expected
    │   │   │       │   ├── lzd.asm
    │   │   │       │   ├── lzd.expected
    │   │   │       │   ├── mach.asm
    │   │   │       │   ├── mach.expected
    │   │   │       │   ├── mad.asm
    │   │   │       │   ├── mad.expected
    │   │   │       │   ├── math.asm
    │   │   │       │   ├── math.expected
    │   │   │       │   ├── mov.asm
    │   │   │       │   ├── mov.expected
    │   │   │       │   ├── mul.asm
    │   │   │       │   ├── mul.expected
    │   │   │       │   ├── not.asm
    │   │   │       │   ├── not.expected
    │   │   │       │   ├── or.asm
    │   │   │       │   ├── or.expected
    │   │   │       │   ├── pln.asm
    │   │   │       │   ├── pln.expected
    │   │   │       │   ├── rndd.asm
    │   │   │       │   ├── rndd.expected
    │   │   │       │   ├── rnde.asm
    │   │   │       │   ├── rnde.expected
    │   │   │       │   ├── rndz.asm
    │   │   │       │   ├── rndz.expected
    │   │   │       │   ├── sel.asm
    │   │   │       │   ├── sel.expected
    │   │   │       │   ├── send.asm
    │   │   │       │   ├── send.expected
    │   │   │       │   ├── sendc.asm
    │   │   │       │   ├── sendc.expected
    │   │   │       │   ├── shl.asm
    │   │   │       │   ├── shl.expected
    │   │   │       │   ├── shr.asm
    │   │   │       │   ├── shr.expected
    │   │   │       │   ├── while.asm
    │   │   │       │   ├── while.expected
    │   │   │       │   ├── xor.asm
    │   │   │       │   └── xor.expected
    │   │   │       ├── gen7/
    │   │   │       │   ├── add.asm
    │   │   │       │   ├── add.expected
    │   │   │       │   ├── and.asm
    │   │   │       │   ├── and.expected
    │   │   │       │   ├── asr.asm
    │   │   │       │   ├── asr.expected
    │   │   │       │   ├── bfe.asm
    │   │   │       │   ├── bfe.expected
    │   │   │       │   ├── bfi1.asm
    │   │   │       │   ├── bfi1.expected
    │   │   │       │   ├── bfi2.asm
    │   │   │       │   ├── bfi2.expected
    │   │   │       │   ├── bfrev.asm
    │   │   │       │   ├── bfrev.expected
    │   │   │       │   ├── break.asm
    │   │   │       │   ├── break.expected
    │   │   │       │   ├── cbit.asm
    │   │   │       │   ├── cbit.expected
    │   │   │       │   ├── cmp.asm
    │   │   │       │   ├── cmp.expected
    │   │   │       │   ├── dp2.asm
    │   │   │       │   ├── dp2.expected
    │   │   │       │   ├── dp3.asm
    │   │   │       │   ├── dp3.expected
    │   │   │       │   ├── dp4.asm
    │   │   │       │   ├── dp4.expected
    │   │   │       │   ├── dph.asm
    │   │   │       │   ├── dph.expected
    │   │   │       │   ├── else.asm
    │   │   │       │   ├── else.expected
    │   │   │       │   ├── endif.asm
    │   │   │       │   ├── endif.expected
    │   │   │       │   ├── f16to32.asm
    │   │   │       │   ├── f16to32.expected
    │   │   │       │   ├── f32to16.asm
    │   │   │       │   ├── f32to16.expected
    │   │   │       │   ├── fbh.asm
    │   │   │       │   ├── fbh.expected
    │   │   │       │   ├── fbl.asm
    │   │   │       │   ├── fbl.expected
    │   │   │       │   ├── frc.asm
    │   │   │       │   ├── frc.expected
    │   │   │       │   ├── halt.asm
    │   │   │       │   ├── halt.expected
    │   │   │       │   ├── if.asm
    │   │   │       │   ├── if.expected
    │   │   │       │   ├── lrp.asm
    │   │   │       │   ├── lrp.expected
    │   │   │       │   ├── lzd.asm
    │   │   │       │   ├── lzd.expected
    │   │   │       │   ├── mach.asm
    │   │   │       │   ├── mach.expected
    │   │   │       │   ├── mad.asm
    │   │   │       │   ├── mad.expected
    │   │   │       │   ├── math.asm
    │   │   │       │   ├── math.expected
    │   │   │       │   ├── mov.asm
    │   │   │       │   ├── mov.expected
    │   │   │       │   ├── mul.asm
    │   │   │       │   ├── mul.expected
    │   │   │       │   ├── not.asm
    │   │   │       │   ├── not.expected
    │   │   │       │   ├── or.asm
    │   │   │       │   ├── or.expected
    │   │   │       │   ├── pln.asm
    │   │   │       │   ├── pln.expected
    │   │   │       │   ├── rndd.asm
    │   │   │       │   ├── rndd.expected
    │   │   │       │   ├── rnde.asm
    │   │   │       │   ├── rnde.expected
    │   │   │       │   ├── rndz.asm
    │   │   │       │   ├── rndz.expected
    │   │   │       │   ├── sel.asm
    │   │   │       │   ├── sel.expected
    │   │   │       │   ├── send.asm
    │   │   │       │   ├── send.expected
    │   │   │       │   ├── sendc.asm
    │   │   │       │   ├── sendc.expected
    │   │   │       │   ├── shl.asm
    │   │   │       │   ├── shl.expected
    │   │   │       │   ├── shr.asm
    │   │   │       │   ├── shr.expected
    │   │   │       │   ├── wait.asm
    │   │   │       │   ├── wait.expected
    │   │   │       │   ├── while.asm
    │   │   │       │   ├── while.expected
    │   │   │       │   ├── xor.asm
    │   │   │       │   └── xor.expected
    │   │   │       ├── gen7.5/
    │   │   │       │   ├── add.asm
    │   │   │       │   ├── add.expected
    │   │   │       │   ├── and.asm
    │   │   │       │   ├── and.expected
    │   │   │       │   ├── asr.asm
    │   │   │       │   ├── asr.expected
    │   │   │       │   ├── bfe.asm
    │   │   │       │   ├── bfe.expected
    │   │   │       │   ├── bfi1.asm
    │   │   │       │   ├── bfi1.expected
    │   │   │       │   ├── bfi2.asm
    │   │   │       │   ├── bfi2.expected
    │   │   │       │   ├── bfrev.asm
    │   │   │       │   ├── bfrev.expected
    │   │   │       │   ├── break.asm
    │   │   │       │   ├── break.expected
    │   │   │       │   ├── cbit.asm
    │   │   │       │   ├── cbit.expected
    │   │   │       │   ├── cmp.asm
    │   │   │       │   ├── cmp.expected
    │   │   │       │   ├── cont.asm
    │   │   │       │   ├── cont.expected
    │   │   │       │   ├── dim.asm
    │   │   │       │   ├── dim.expected
    │   │   │       │   ├── dp2.asm
    │   │   │       │   ├── dp2.expected
    │   │   │       │   ├── dp3.asm
    │   │   │       │   ├── dp3.expected
    │   │   │       │   ├── dp4.asm
    │   │   │       │   ├── dp4.expected
    │   │   │       │   ├── dph.asm
    │   │   │       │   ├── dph.expected
    │   │   │       │   ├── else.asm
    │   │   │       │   ├── else.expected
    │   │   │       │   ├── endif.asm
    │   │   │       │   ├── endif.expected
    │   │   │       │   ├── f16to32.asm
    │   │   │       │   ├── f16to32.expected
    │   │   │       │   ├── f32to16.asm
    │   │   │       │   ├── f32to16.expected
    │   │   │       │   ├── fbh.asm
    │   │   │       │   ├── fbh.expected
    │   │   │       │   ├── fbl.asm
    │   │   │       │   ├── fbl.expected
    │   │   │       │   ├── frc.asm
    │   │   │       │   ├── frc.expected
    │   │   │       │   ├── halt.asm
    │   │   │       │   ├── halt.expected
    │   │   │       │   ├── if.asm
    │   │   │       │   ├── if.expected
    │   │   │       │   ├── lrp.asm
    │   │   │       │   ├── lrp.expected
    │   │   │       │   ├── lzd.asm
    │   │   │       │   ├── lzd.expected
    │   │   │       │   ├── mach.asm
    │   │   │       │   ├── mach.expected
    │   │   │       │   ├── mad.asm
    │   │   │       │   ├── mad.expected
    │   │   │       │   ├── math.asm
    │   │   │       │   ├── math.expected
    │   │   │       │   ├── mov.asm
    │   │   │       │   ├── mov.expected
    │   │   │       │   ├── mul.asm
    │   │   │       │   ├── mul.expected
    │   │   │       │   ├── not.asm
    │   │   │       │   ├── not.expected
    │   │   │       │   ├── or.asm
    │   │   │       │   ├── or.expected
    │   │   │       │   ├── pln.asm
    │   │   │       │   ├── pln.expected
    │   │   │       │   ├── rndd.asm
    │   │   │       │   ├── rndd.expected
    │   │   │       │   ├── rnde.asm
    │   │   │       │   ├── rnde.expected
    │   │   │       │   ├── rndz.asm
    │   │   │       │   ├── rndz.expected
    │   │   │       │   ├── sel.asm
    │   │   │       │   ├── sel.expected
    │   │   │       │   ├── send.asm
    │   │   │       │   ├── send.expected
    │   │   │       │   ├── sendc.asm
    │   │   │       │   ├── sendc.expected
    │   │   │       │   ├── shl.asm
    │   │   │       │   ├── shl.expected
    │   │   │       │   ├── shr.asm
    │   │   │       │   ├── shr.expected
    │   │   │       │   ├── wait.asm
    │   │   │       │   ├── wait.expected
    │   │   │       │   ├── while.asm
    │   │   │       │   ├── while.expected
    │   │   │       │   ├── xor.asm
    │   │   │       │   └── xor.expected
    │   │   │       ├── gen8/
    │   │   │       │   ├── add.asm
    │   │   │       │   ├── add.expected
    │   │   │       │   ├── and.asm
    │   │   │       │   ├── and.expected
    │   │   │       │   ├── asr.asm
    │   │   │       │   ├── asr.expected
    │   │   │       │   ├── bfe.asm
    │   │   │       │   ├── bfe.expected
    │   │   │       │   ├── bfi1.asm
    │   │   │       │   ├── bfi1.expected
    │   │   │       │   ├── bfi2.asm
    │   │   │       │   ├── bfi2.expected
    │   │   │       │   ├── bfrev.asm
    │   │   │       │   ├── bfrev.expected
    │   │   │       │   ├── break.asm
    │   │   │       │   ├── break.expected
    │   │   │       │   ├── cbit.asm
    │   │   │       │   ├── cbit.expected
    │   │   │       │   ├── cmp.asm
    │   │   │       │   ├── cmp.expected
    │   │   │       │   ├── cont.asm
    │   │   │       │   ├── cont.expected
    │   │   │       │   ├── cr0.asm
    │   │   │       │   ├── cr0.expected
    │   │   │       │   ├── csel.asm
    │   │   │       │   ├── csel.expected
    │   │   │       │   ├── else.asm
    │   │   │       │   ├── else.expected
    │   │   │       │   ├── endif.asm
    │   │   │       │   ├── endif.expected
    │   │   │       │   ├── fbh.asm
    │   │   │       │   ├── fbh.expected
    │   │   │       │   ├── fbl.asm
    │   │   │       │   ├── fbl.expected
    │   │   │       │   ├── frc.asm
    │   │   │       │   ├── frc.expected
    │   │   │       │   ├── halt.asm
    │   │   │       │   ├── halt.expected
    │   │   │       │   ├── if.asm
    │   │   │       │   ├── if.expected
    │   │   │       │   ├── lrp.asm
    │   │   │       │   ├── lrp.expected
    │   │   │       │   ├── lzd.asm
    │   │   │       │   ├── lzd.expected
    │   │   │       │   ├── mach.asm
    │   │   │       │   ├── mach.expected
    │   │   │       │   ├── mad.asm
    │   │   │       │   ├── mad.expected
    │   │   │       │   ├── math.asm
    │   │   │       │   ├── math.expected
    │   │   │       │   ├── mov.asm
    │   │   │       │   ├── mov.expected
    │   │   │       │   ├── mul.asm
    │   │   │       │   ├── mul.expected
    │   │   │       │   ├── nop.asm
    │   │   │       │   ├── nop.expected
    │   │   │       │   ├── not.asm
    │   │   │       │   ├── not.expected
    │   │   │       │   ├── or.asm
    │   │   │       │   ├── or.expected
    │   │   │       │   ├── pln.asm
    │   │   │       │   ├── pln.expected
    │   │   │       │   ├── rndd.asm
    │   │   │       │   ├── rndd.expected
    │   │   │       │   ├── rnde.asm
    │   │   │       │   ├── rnde.expected
    │   │   │       │   ├── rndz.asm
    │   │   │       │   ├── rndz.expected
    │   │   │       │   ├── sel.asm
    │   │   │       │   ├── sel.expected
    │   │   │       │   ├── send.expected
    │   │   │       │   ├── sendc.asm
    │   │   │       │   ├── sendc.expected
    │   │   │       │   ├── shl.asm
    │   │   │       │   ├── shl.expected
    │   │   │       │   ├── shr.asm
    │   │   │       │   ├── shr.expected
    │   │   │       │   ├── wait.asm
    │   │   │       │   ├── wait.expected
    │   │   │       │   ├── while.asm
    │   │   │       │   ├── while.expected
    │   │   │       │   ├── xor.asm
    │   │   │       │   └── xor.expected
    │   │   │       └── gen9/
    │   │   │           ├── add.asm
    │   │   │           ├── add.expected
    │   │   │           ├── and.asm
    │   │   │           ├── and.expected
    │   │   │           ├── asr.asm
    │   │   │           ├── asr.expected
    │   │   │           ├── bfe.asm
    │   │   │           ├── bfe.expected
    │   │   │           ├── bfi1.asm
    │   │   │           ├── bfi1.expected
    │   │   │           ├── bfi2.asm
    │   │   │           ├── bfi2.expected
    │   │   │           ├── bfrev.asm
    │   │   │           ├── bfrev.expected
    │   │   │           ├── break.asm
    │   │   │           ├── break.expected
    │   │   │           ├── cbit.asm
    │   │   │           ├── cbit.expected
    │   │   │           ├── cmp.asm
    │   │   │           ├── cmp.expected
    │   │   │           ├── cont.asm
    │   │   │           ├── cont.expected
    │   │   │           ├── cr0.asm
    │   │   │           ├── cr0.expected
    │   │   │           ├── csel.asm
    │   │   │           ├── csel.expected
    │   │   │           ├── else.asm
    │   │   │           ├── else.expected
    │   │   │           ├── endif.asm
    │   │   │           ├── endif.expected
    │   │   │           ├── fbh.asm
    │   │   │           ├── fbh.expected
    │   │   │           ├── fbl.asm
    │   │   │           ├── fbl.expected
    │   │   │           ├── frc.asm
    │   │   │           ├── frc.expected
    │   │   │           ├── halt.asm
    │   │   │           ├── halt.expected
    │   │   │           ├── if.asm
    │   │   │           ├── if.expected
    │   │   │           ├── lrp.asm
    │   │   │           ├── lrp.expected
    │   │   │           ├── lzd.asm
    │   │   │           ├── lzd.expected
    │   │   │           ├── mach.asm
    │   │   │           ├── mach.expected
    │   │   │           ├── mad.asm
    │   │   │           ├── mad.expected
    │   │   │           ├── math.asm
    │   │   │           ├── math.expected
    │   │   │           ├── mov.asm
    │   │   │           ├── mov.expected
    │   │   │           ├── mul.asm
    │   │   │           ├── mul.expected
    │   │   │           ├── nop.asm
    │   │   │           ├── nop.expected
    │   │   │           ├── not.asm
    │   │   │           ├── not.expected
    │   │   │           ├── or.asm
    │   │   │           ├── or.expected
    │   │   │           ├── pln.asm
    │   │   │           ├── pln.expected
    │   │   │           ├── rndd.asm
    │   │   │           ├── rndd.expected
    │   │   │           ├── rnde.asm
    │   │   │           ├── rnde.expected
    │   │   │           ├── rndz.asm
    │   │   │           ├── rndz.expected
    │   │   │           ├── sel.asm
    │   │   │           ├── sel.expected
    │   │   │           ├── send.expected
    │   │   │           ├── sendc.asm
    │   │   │           ├── sendc.expected
    │   │   │           ├── sends.asm
    │   │   │           ├── sends.expected
    │   │   │           ├── shl.asm
    │   │   │           ├── shl.expected
    │   │   │           ├── shr.asm
    │   │   │           ├── shr.expected
    │   │   │           ├── wait.asm
    │   │   │           ├── wait.expected
    │   │   │           ├── while.asm
    │   │   │           ├── while.expected
    │   │   │           ├── xor.asm
    │   │   │           └── xor.expected
    │   │   └── vulkan/
    │   │       ├── anv_acceleration_structure.c
    │   │       ├── anv_allocator.c
    │   │       ├── anv_android.c
    │   │       ├── anv_android.h
    │   │       ├── anv_android_stubs.c
    │   │       ├── anv_batch_chain.c
    │   │       ├── anv_blorp.c
    │   │       ├── anv_bo_sync.c
    │   │       ├── anv_cmd_buffer.c
    │   │       ├── anv_descriptor_set.c
    │   │       ├── anv_device.c
    │   │       ├── anv_formats.c
    │   │       ├── anv_gem.c
    │   │       ├── anv_gem_stubs.c
    │   │       ├── anv_genX.h
    │   │       ├── anv_image.c
    │   │       ├── anv_measure.c
    │   │       ├── anv_measure.h
    │   │       ├── anv_nir.h
    │   │       ├── anv_nir_add_base_work_group_id.c
    │   │       ├── anv_nir_apply_pipeline_layout.c
    │   │       ├── anv_nir_compute_push_layout.c
    │   │       ├── anv_nir_lower_multiview.c
    │   │       ├── anv_nir_lower_ubo_loads.c
    │   │       ├── anv_nir_lower_ycbcr_textures.c
    │   │       ├── anv_perf.c
    │   │       ├── anv_pipeline.c
    │   │       ├── anv_pipeline_cache.c
    │   │       ├── anv_private.h
    │   │       ├── anv_queue.c
    │   │       ├── anv_util.c
    │   │       ├── anv_utrace.c
    │   │       ├── anv_wsi.c
    │   │       ├── genX_blorp_exec.c
    │   │       ├── genX_gpu_memcpy.c
    │   │       ├── genX_pipeline.c
    │   │       ├── genX_query.c
    │   │       ├── genX_state.c
    │   │       ├── gfx7_cmd_buffer.c
    │   │       ├── gfx8_cmd_buffer.c
    │   │       ├── meson.build
    │   │       ├── TODO
    │   │       └── tests/
    │   │           ├── block_pool_grow_first.c
    │   │           ├── block_pool_no_free.c
    │   │           ├── state_pool.c
    │   │           ├── state_pool_free_list_only.c
    │   │           ├── state_pool_no_free.c
    │   │           ├── state_pool_padding.c
    │   │           ├── state_pool_test_helper.h
    │   │           └── test_common.h
    │   ├── loader/
    │   │   ├── loader.c
    │   │   ├── loader.h
    │   │   ├── loader_dri3_helper.c
    │   │   ├── loader_dri3_helper.h
    │   │   ├── loader_dri_helper.c
    │   │   ├── loader_dri_helper.h
    │   │   ├── meson.build
    │   │   └── pci_id_driver_map.h
    │   ├── mapi/
    │   │   ├── entry.c
    │   │   ├── entry.h
    │   │   ├── entry_ppc64le_tls.h
    │   │   ├── entry_x86-64_tls.h
    │   │   ├── entry_x86_tls.h
    │   │   ├── mapi_abi.py
    │   │   ├── mapi_glapi.c
    │   │   ├── mapi_tmp.h
    │   │   ├── meson.build
    │   │   ├── stub.c
    │   │   ├── stub.h
    │   │   ├── table.c
    │   │   ├── table.h
    │   │   ├── u_current.c
    │   │   ├── u_current.h
    │   │   ├── u_execmem.c
    │   │   ├── u_execmem.h
    │   │   ├── es1api/
    │   │   │   ├── gles1-symbols.txt
    │   │   │   ├── gles1.def.in
    │   │   │   └── meson.build
    │   │   ├── es2api/
    │   │   │   ├── gles2-symbols.txt
    │   │   │   ├── gles2.def.in
    │   │   │   └── meson.build
    │   │   ├── glapi/
    │   │   │   ├── glapi.c
    │   │   │   ├── glapi.h
    │   │   │   ├── glapi_dispatch.c
    │   │   │   ├── glapi_entrypoint.c
    │   │   │   ├── glapi_getproc.c
    │   │   │   ├── glapi_nop.c
    │   │   │   ├── glapi_priv.h
    │   │   │   ├── meson.build
    │   │   │   ├── gen/
    │   │   │   │   ├── AMD_depth_clamp_separate.xml
    │   │   │   │   ├── AMD_draw_buffers_blend.xml
    │   │   │   │   ├── AMD_gpu_shader_int64.xml
    │   │   │   │   ├── AMD_performance_monitor.xml
    │   │   │   │   ├── api_exec_decl_h.py
    │   │   │   │   ├── api_exec_init.py
    │   │   │   │   ├── api_hw_select_init_h.py
    │   │   │   │   ├── api_save_h.py
    │   │   │   │   ├── api_save_init_h.py
    │   │   │   │   ├── api_vtxfmt_init_h.py
    │   │   │   │   ├── apiexec.py
    │   │   │   │   ├── APPLE_object_purgeable.xml
    │   │   │   │   ├── APPLE_vertex_array_object.xml
    │   │   │   │   ├── ARB_base_instance.xml
    │   │   │   │   ├── ARB_bindless_texture.xml
    │   │   │   │   ├── ARB_blend_func_extended.xml
    │   │   │   │   ├── ARB_clear_buffer_object.xml
    │   │   │   │   ├── ARB_clear_texture.xml
    │   │   │   │   ├── ARB_clip_control.xml
    │   │   │   │   ├── ARB_color_buffer_float.xml
    │   │   │   │   ├── ARB_compressed_texture_pixel_storage.xml
    │   │   │   │   ├── ARB_compute_shader.xml
    │   │   │   │   ├── ARB_compute_variable_group_size.xml
    │   │   │   │   ├── ARB_copy_buffer.xml
    │   │   │   │   ├── ARB_copy_image.xml
    │   │   │   │   ├── ARB_debug_output.xml
    │   │   │   │   ├── ARB_depth_buffer_float.xml
    │   │   │   │   ├── ARB_depth_clamp.xml
    │   │   │   │   ├── ARB_direct_state_access.xml
    │   │   │   │   ├── ARB_draw_buffers.xml
    │   │   │   │   ├── ARB_draw_buffers_blend.xml
    │   │   │   │   ├── ARB_draw_elements_base_vertex.xml
    │   │   │   │   ├── ARB_draw_indirect.xml
    │   │   │   │   ├── ARB_draw_instanced.xml
    │   │   │   │   ├── ARB_ES2_compatibility.xml
    │   │   │   │   ├── ARB_ES3_compatibility.xml
    │   │   │   │   ├── ARB_framebuffer_no_attachments.xml
    │   │   │   │   ├── ARB_framebuffer_object.xml
    │   │   │   │   ├── ARB_get_program_binary.xml
    │   │   │   │   ├── ARB_get_texture_sub_image.xml
    │   │   │   │   ├── ARB_gl_spirv.xml
    │   │   │   │   ├── ARB_gpu_shader5.xml
    │   │   │   │   ├── ARB_gpu_shader_fp64.xml
    │   │   │   │   ├── ARB_gpu_shader_int64.xml
    │   │   │   │   ├── ARB_indirect_parameters.xml
    │   │   │   │   ├── ARB_instanced_arrays.xml
    │   │   │   │   ├── ARB_internalformat_query.xml
    │   │   │   │   ├── ARB_internalformat_query2.xml
    │   │   │   │   ├── ARB_invalidate_subdata.xml
    │   │   │   │   ├── ARB_map_buffer_range.xml
    │   │   │   │   ├── ARB_multi_bind.xml
    │   │   │   │   ├── ARB_pipeline_statistics_query.xml
    │   │   │   │   ├── ARB_program_interface_query.xml
    │   │   │   │   ├── ARB_robustness.xml
    │   │   │   │   ├── ARB_sample_shading.xml
    │   │   │   │   ├── ARB_sampler_objects.xml
    │   │   │   │   ├── ARB_seamless_cube_map.xml
    │   │   │   │   ├── ARB_separate_shader_objects.xml
    │   │   │   │   ├── ARB_shader_atomic_counters.xml
    │   │   │   │   ├── ARB_shader_image_load_store.xml
    │   │   │   │   ├── ARB_shader_storage_buffer_object.xml
    │   │   │   │   ├── ARB_shader_subroutine.xml
    │   │   │   │   ├── ARB_shading_language_include.xml
    │   │   │   │   ├── ARB_sparse_buffer.xml
    │   │   │   │   ├── ARB_sparse_texture.xml
    │   │   │   │   ├── ARB_spirv_extensions.xml
    │   │   │   │   ├── ARB_sync.xml
    │   │   │   │   ├── ARB_tessellation_shader.xml
    │   │   │   │   ├── ARB_texture_barrier.xml
    │   │   │   │   ├── ARB_texture_buffer_object.xml
    │   │   │   │   ├── ARB_texture_buffer_range.xml
    │   │   │   │   ├── ARB_texture_compression_rgtc.xml
    │   │   │   │   ├── ARB_texture_cube_map_array.xml
    │   │   │   │   ├── ARB_texture_float.xml
    │   │   │   │   ├── ARB_texture_gather.xml
    │   │   │   │   ├── ARB_texture_multisample.xml
    │   │   │   │   ├── ARB_texture_rg.xml
    │   │   │   │   ├── ARB_texture_rgb10_a2ui.xml
    │   │   │   │   ├── ARB_texture_storage.xml
    │   │   │   │   ├── ARB_texture_storage_multisample.xml
    │   │   │   │   ├── ARB_texture_view.xml
    │   │   │   │   ├── ARB_uniform_buffer_object.xml
    │   │   │   │   ├── ARB_vertex_array_object.xml
    │   │   │   │   ├── ARB_vertex_attrib_64bit.xml
    │   │   │   │   ├── ARB_vertex_attrib_binding.xml
    │   │   │   │   ├── ARB_vertex_type_2_10_10_10_rev.xml
    │   │   │   │   ├── ARB_viewport_array.xml
    │   │   │   │   ├── es_EXT.xml
    │   │   │   │   ├── EXT_direct_state_access.xml
    │   │   │   │   ├── EXT_draw_buffers2.xml
    │   │   │   │   ├── EXT_EGL_image_storage.xml
    │   │   │   │   ├── EXT_external_objects.xml
    │   │   │   │   ├── EXT_external_objects_fd.xml
    │   │   │   │   ├── EXT_external_objects_win32.xml
    │   │   │   │   ├── EXT_framebuffer_object.xml
    │   │   │   │   ├── EXT_gpu_shader4.xml
    │   │   │   │   ├── EXT_multisampled_render_to_texture.xml
    │   │   │   │   ├── EXT_packed_depth_stencil.xml
    │   │   │   │   ├── EXT_provoking_vertex.xml
    │   │   │   │   ├── EXT_separate_shader_objects.xml
    │   │   │   │   ├── EXT_shader_image_load_store.xml
    │   │   │   │   ├── EXT_texture_array.xml
    │   │   │   │   ├── EXT_texture_integer.xml
    │   │   │   │   ├── EXT_transform_feedback.xml
    │   │   │   │   ├── EXT_vertex_attrib_64bit.xml
    │   │   │   │   ├── EXT_window_rectangles.xml
    │   │   │   │   ├── GL3x.xml
    │   │   │   │   ├── GL4x.xml
    │   │   │   │   ├── gl_and_es_API.xml
    │   │   │   │   ├── gl_and_glX_API.xml
    │   │   │   │   ├── gl_API.dtd
    │   │   │   │   ├── gl_apitemp.py
    │   │   │   │   ├── gl_enums.py
    │   │   │   │   ├── gl_gentable.py
    │   │   │   │   ├── gl_marshal.py
    │   │   │   │   ├── gl_marshal_h.py
    │   │   │   │   ├── gl_procs.py
    │   │   │   │   ├── gl_SPARC_asm.py
    │   │   │   │   ├── gl_table.py
    │   │   │   │   ├── gl_x86-64_asm.py
    │   │   │   │   ├── gl_x86_asm.py
    │   │   │   │   ├── gl_XML.py
    │   │   │   │   ├── glX_API.xml
    │   │   │   │   ├── glX_proto_common.py
    │   │   │   │   ├── glX_proto_recv.py
    │   │   │   │   ├── glX_proto_send.py
    │   │   │   │   ├── glX_proto_size.py
    │   │   │   │   ├── glX_server_table.py
    │   │   │   │   ├── glX_XML.py
    │   │   │   │   ├── GREMEDY_string_marker.xml
    │   │   │   │   ├── INTEL_performance_query.xml
    │   │   │   │   ├── KHR_context_flush_control.xml
    │   │   │   │   ├── KHR_debug.xml
    │   │   │   │   ├── KHR_robustness.xml
    │   │   │   │   ├── KHR_robustness_es.xml
    │   │   │   │   ├── KHR_texture_compression_astc.xml
    │   │   │   │   ├── license.py
    │   │   │   │   ├── marshal_XML.py
    │   │   │   │   ├── MESA_tile_raster_order.xml
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── NV_alpha_to_coverage_dither_control.xml
    │   │   │   │   ├── NV_conditional_render.xml
    │   │   │   │   ├── NV_copy_image.xml
    │   │   │   │   ├── NV_half_float.xml
    │   │   │   │   ├── NV_primitive_restart.xml
    │   │   │   │   ├── NV_texture_barrier.xml
    │   │   │   │   ├── NV_vdpau_interop.xml
    │   │   │   │   ├── NV_viewport_swizzle.xml
    │   │   │   │   ├── OES_EGL_image.xml
    │   │   │   │   ├── OES_fixed_point.xml
    │   │   │   │   ├── OES_single_precision.xml
    │   │   │   │   ├── OES_texture_compression_astc.xml
    │   │   │   │   ├── remap_helper.py
    │   │   │   │   ├── static_data.py
    │   │   │   │   └── typeexpr.py
    │   │   │   └── tests/
    │   │   │       └── check_table.cpp
    │   │   ├── new/
    │   │   │   ├── gen_gldispatch_mapi.py
    │   │   │   └── genCommon.py
    │   │   └── shared-glapi/
    │   │       ├── glapi-symbols.txt
    │   │       ├── meson.build
    │   │       └── tests/
    │   │           └── check_table.cpp
    │   ├── mesa/
    │   │   ├── meson.build
    │   │   ├── main/
    │   │   │   ├── accum.c
    │   │   │   ├── accum.h
    │   │   │   ├── api_arrayelt.c
    │   │   │   ├── api_arrayelt.h
    │   │   │   ├── arbprogram.c
    │   │   │   ├── arrayobj.c
    │   │   │   ├── arrayobj.h
    │   │   │   ├── atifragshader.c
    │   │   │   ├── atifragshader.h
    │   │   │   ├── attrib.c
    │   │   │   ├── attrib.h
    │   │   │   ├── barrier.c
    │   │   │   ├── bbox.c
    │   │   │   ├── bbox.h
    │   │   │   ├── blend.c
    │   │   │   ├── blend.h
    │   │   │   ├── blit.c
    │   │   │   ├── blit.h
    │   │   │   ├── bufferobj.c
    │   │   │   ├── bufferobj.h
    │   │   │   ├── buffers.c
    │   │   │   ├── buffers.h
    │   │   │   ├── clear.c
    │   │   │   ├── clip.c
    │   │   │   ├── clip.h
    │   │   │   ├── colormac.h
    │   │   │   ├── compute.c
    │   │   │   ├── condrender.c
    │   │   │   ├── condrender.h
    │   │   │   ├── config.h
    │   │   │   ├── conservativeraster.c
    │   │   │   ├── conservativeraster.h
    │   │   │   ├── consts_exts.h
    │   │   │   ├── context.c
    │   │   │   ├── context.h
    │   │   │   ├── copyimage.c
    │   │   │   ├── cpuinfo.c
    │   │   │   ├── cpuinfo.h
    │   │   │   ├── dd.h
    │   │   │   ├── debug.c
    │   │   │   ├── debug.h
    │   │   │   ├── debug_output.c
    │   │   │   ├── debug_output.h
    │   │   │   ├── depth.c
    │   │   │   ├── depth.h
    │   │   │   ├── dlist.h
    │   │   │   ├── draw.c
    │   │   │   ├── draw.h
    │   │   │   ├── draw_validate.c
    │   │   │   ├── draw_validate.h
    │   │   │   ├── drawpix.c
    │   │   │   ├── drawtex.c
    │   │   │   ├── enable.c
    │   │   │   ├── enable.h
    │   │   │   ├── enums.h
    │   │   │   ├── errors.c
    │   │   │   ├── errors.h
    │   │   │   ├── es1_conversion.c
    │   │   │   ├── eval.c
    │   │   │   ├── eval.h
    │   │   │   ├── extensions.c
    │   │   │   ├── extensions.h
    │   │   │   ├── extensions_table.c
    │   │   │   ├── extensions_table.h
    │   │   │   ├── externalobjects.c
    │   │   │   ├── externalobjects.h
    │   │   │   ├── fbobject.c
    │   │   │   ├── fbobject.h
    │   │   │   ├── feedback.c
    │   │   │   ├── feedback.h
    │   │   │   ├── ff_fragment_shader.cpp
    │   │   │   ├── ffvertex_prog.c
    │   │   │   ├── ffvertex_prog.h
    │   │   │   ├── fog.c
    │   │   │   ├── fog.h
    │   │   │   ├── format_fallback.py
    │   │   │   ├── format_info.py
    │   │   │   ├── format_pack.h
    │   │   │   ├── format_parser.py
    │   │   │   ├── format_unpack.h
    │   │   │   ├── format_utils.c
    │   │   │   ├── format_utils.h
    │   │   │   ├── formatquery.c
    │   │   │   ├── formatquery.h
    │   │   │   ├── formats.c
    │   │   │   ├── formats.csv
    │   │   │   ├── formats.h
    │   │   │   ├── framebuffer.c
    │   │   │   ├── framebuffer.h
    │   │   │   ├── genmipmap.c
    │   │   │   ├── genmipmap.h
    │   │   │   ├── get.c
    │   │   │   ├── get.h
    │   │   │   ├── get_hash_generator.py
    │   │   │   ├── get_hash_params.py
    │   │   │   ├── getstring.c
    │   │   │   ├── glconfig.h
    │   │   │   ├── glformats.c
    │   │   │   ├── glformats.h
    │   │   │   ├── glheader.h
    │   │   │   ├── glspirv.c
    │   │   │   ├── glspirv.h
    │   │   │   ├── glthread.c
    │   │   │   ├── glthread.h
    │   │   │   ├── glthread_bufferobj.c
    │   │   │   ├── glthread_draw.c
    │   │   │   ├── glthread_get.c
    │   │   │   ├── glthread_list.c
    │   │   │   ├── glthread_marshal.h
    │   │   │   ├── glthread_shaderobj.c
    │   │   │   ├── glthread_varray.c
    │   │   │   ├── hash.c
    │   │   │   ├── hash.h
    │   │   │   ├── hint.c
    │   │   │   ├── hint.h
    │   │   │   ├── image.c
    │   │   │   ├── image.h
    │   │   │   ├── light.c
    │   │   │   ├── light.h
    │   │   │   ├── lines.c
    │   │   │   ├── lines.h
    │   │   │   ├── macros.h
    │   │   │   ├── matrix.c
    │   │   │   ├── matrix.h
    │   │   │   ├── menums.h
    │   │   │   ├── mesa_private.h
    │   │   │   ├── meson.build
    │   │   │   ├── mipmap.c
    │   │   │   ├── mipmap.h
    │   │   │   ├── mtypes.h
    │   │   │   ├── multisample.c
    │   │   │   ├── multisample.h
    │   │   │   ├── objectlabel.c
    │   │   │   ├── pack.c
    │   │   │   ├── pack.h
    │   │   │   ├── pbo.c
    │   │   │   ├── pbo.h
    │   │   │   ├── performance_monitor.c
    │   │   │   ├── performance_monitor.h
    │   │   │   ├── performance_query.c
    │   │   │   ├── performance_query.h
    │   │   │   ├── pipelineobj.c
    │   │   │   ├── pipelineobj.h
    │   │   │   ├── pixel.c
    │   │   │   ├── pixel.h
    │   │   │   ├── pixelstore.c
    │   │   │   ├── pixelstore.h
    │   │   │   ├── pixeltransfer.c
    │   │   │   ├── pixeltransfer.h
    │   │   │   ├── points.c
    │   │   │   ├── points.h
    │   │   │   ├── polygon.c
    │   │   │   ├── polygon.h
    │   │   │   ├── program_binary.c
    │   │   │   ├── program_binary.h
    │   │   │   ├── program_resource.c
    │   │   │   ├── querymatrix.c
    │   │   │   ├── queryobj.c
    │   │   │   ├── queryobj.h
    │   │   │   ├── rastpos.c
    │   │   │   ├── rastpos.h
    │   │   │   ├── readpix.c
    │   │   │   ├── readpix.h
    │   │   │   ├── remap.c
    │   │   │   ├── remap.h
    │   │   │   ├── renderbuffer.c
    │   │   │   ├── renderbuffer.h
    │   │   │   ├── robustness.c
    │   │   │   ├── samplerobj.c
    │   │   │   ├── samplerobj.h
    │   │   │   ├── scissor.c
    │   │   │   ├── scissor.h
    │   │   │   ├── shader_query.cpp
    │   │   │   ├── shader_types.h
    │   │   │   ├── shaderapi.c
    │   │   │   ├── shaderapi.h
    │   │   │   ├── shaderimage.c
    │   │   │   ├── shaderimage.h
    │   │   │   ├── shaderobj.c
    │   │   │   ├── shaderobj.h
    │   │   │   ├── shared.c
    │   │   │   ├── shared.h
    │   │   │   ├── spirv_extensions.c
    │   │   │   ├── spirv_extensions.h
    │   │   │   ├── sse_minmax.c
    │   │   │   ├── sse_minmax.h
    │   │   │   ├── state.c
    │   │   │   ├── state.h
    │   │   │   ├── stencil.c
    │   │   │   ├── stencil.h
    │   │   │   ├── syncobj.c
    │   │   │   ├── syncobj.h
    │   │   │   ├── texcompress.c
    │   │   │   ├── texcompress.h
    │   │   │   ├── texcompress_astc.cpp
    │   │   │   ├── texcompress_astc.h
    │   │   │   ├── texcompress_bptc.c
    │   │   │   ├── texcompress_bptc.h
    │   │   │   ├── texcompress_bptc_tmp.h
    │   │   │   ├── texcompress_cpal.c
    │   │   │   ├── texcompress_cpal.h
    │   │   │   ├── texcompress_etc.c
    │   │   │   ├── texcompress_etc.h
    │   │   │   ├── texcompress_etc_tmp.h
    │   │   │   ├── texcompress_fxt1.c
    │   │   │   ├── texcompress_fxt1.h
    │   │   │   ├── texcompress_rgtc.c
    │   │   │   ├── texcompress_rgtc.h
    │   │   │   ├── texcompress_s3tc.c
    │   │   │   ├── texcompress_s3tc.h
    │   │   │   ├── texcompress_s3tc_tmp.h
    │   │   │   ├── texenv.c
    │   │   │   ├── texenvprogram.h
    │   │   │   ├── texgen.c
    │   │   │   ├── texgetimage.c
    │   │   │   ├── texgetimage.h
    │   │   │   ├── teximage.c
    │   │   │   ├── teximage.h
    │   │   │   ├── texobj.c
    │   │   │   ├── texobj.h
    │   │   │   ├── texparam.c
    │   │   │   ├── texparam.h
    │   │   │   ├── texstate.c
    │   │   │   ├── texstate.h
    │   │   │   ├── texstorage.c
    │   │   │   ├── texstorage.h
    │   │   │   ├── texstore.c
    │   │   │   ├── texstore.h
    │   │   │   ├── texturebindless.c
    │   │   │   ├── texturebindless.h
    │   │   │   ├── textureview.c
    │   │   │   ├── textureview.h
    │   │   │   ├── transformfeedback.c
    │   │   │   ├── transformfeedback.h
    │   │   │   ├── uniform_query.cpp
    │   │   │   ├── uniforms.c
    │   │   │   ├── uniforms.h
    │   │   │   ├── varray.c
    │   │   │   ├── varray.h
    │   │   │   ├── vdpau.c
    │   │   │   ├── version.c
    │   │   │   ├── version.h
    │   │   │   ├── viewport.c
    │   │   │   ├── viewport.h
    │   │   │   └── tests/
    │   │   │       ├── enum_strings.cpp
    │   │   │       ├── mesa_extensions.cpp
    │   │   │       ├── mesa_formats.cpp
    │   │   │       ├── meson.build
    │   │   │       ├── program_state_string.cpp
    │   │   │       └── stubs.cpp
    │   │   ├── math/
    │   │   │   ├── m_debug.h
    │   │   │   ├── m_debug_clip.c
    │   │   │   ├── m_debug_norm.c
    │   │   │   ├── m_debug_util.h
    │   │   │   ├── m_debug_xform.c
    │   │   │   ├── m_eval.c
    │   │   │   ├── m_eval.h
    │   │   │   ├── m_matrix.c
    │   │   │   ├── m_matrix.h
    │   │   │   ├── m_vector.c
    │   │   │   ├── m_vector.h
    │   │   │   ├── m_vector_asm.h
    │   │   │   └── m_xform.h
    │   │   ├── program/
    │   │   │   ├── arbprogparse.c
    │   │   │   ├── arbprogparse.h
    │   │   │   ├── dummy_errors.c
    │   │   │   ├── link_program.cpp
    │   │   │   ├── link_program.h
    │   │   │   ├── meson.build
    │   │   │   ├── prog_cache.c
    │   │   │   ├── prog_cache.h
    │   │   │   ├── prog_instruction.c
    │   │   │   ├── prog_instruction.h
    │   │   │   ├── prog_parameter.c
    │   │   │   ├── prog_parameter.h
    │   │   │   ├── prog_parameter_layout.c
    │   │   │   ├── prog_parameter_layout.h
    │   │   │   ├── prog_print.c
    │   │   │   ├── prog_print.h
    │   │   │   ├── prog_statevars.c
    │   │   │   ├── prog_statevars.h
    │   │   │   ├── prog_to_nir.c
    │   │   │   ├── prog_to_nir.h
    │   │   │   ├── program.c
    │   │   │   ├── program.h
    │   │   │   ├── program_lexer.l
    │   │   │   ├── program_parse.y
    │   │   │   ├── program_parse_extra.c
    │   │   │   ├── program_parser.h
    │   │   │   ├── programopt.c
    │   │   │   ├── programopt.h
    │   │   │   ├── symbol_table.c
    │   │   │   └── symbol_table.h
    │   │   ├── state_tracker/
    │   │   │   ├── st_atifs_to_nir.c
    │   │   │   ├── st_atifs_to_nir.h
    │   │   │   ├── st_atom.c
    │   │   │   ├── st_atom.h
    │   │   │   ├── st_atom_array.cpp
    │   │   │   ├── st_atom_atomicbuf.c
    │   │   │   ├── st_atom_blend.c
    │   │   │   ├── st_atom_clip.c
    │   │   │   ├── st_atom_constbuf.c
    │   │   │   ├── st_atom_constbuf.h
    │   │   │   ├── st_atom_depth.c
    │   │   │   ├── st_atom_framebuffer.c
    │   │   │   ├── st_atom_image.c
    │   │   │   ├── st_atom_list.h
    │   │   │   ├── st_atom_msaa.c
    │   │   │   ├── st_atom_pixeltransfer.c
    │   │   │   ├── st_atom_rasterizer.c
    │   │   │   ├── st_atom_sampler.c
    │   │   │   ├── st_atom_scissor.c
    │   │   │   ├── st_atom_shader.c
    │   │   │   ├── st_atom_stipple.c
    │   │   │   ├── st_atom_storagebuf.c
    │   │   │   ├── st_atom_tess.c
    │   │   │   ├── st_atom_texture.c
    │   │   │   ├── st_atom_viewport.c
    │   │   │   ├── st_cb_bitmap.c
    │   │   │   ├── st_cb_bitmap.h
    │   │   │   ├── st_cb_clear.c
    │   │   │   ├── st_cb_clear.h
    │   │   │   ├── st_cb_copyimage.c
    │   │   │   ├── st_cb_copyimage.h
    │   │   │   ├── st_cb_drawpixels.c
    │   │   │   ├── st_cb_drawpixels.h
    │   │   │   ├── st_cb_drawtex.c
    │   │   │   ├── st_cb_drawtex.h
    │   │   │   ├── st_cb_eglimage.c
    │   │   │   ├── st_cb_eglimage.h
    │   │   │   ├── st_cb_feedback.c
    │   │   │   ├── st_cb_feedback.h
    │   │   │   ├── st_cb_flush.c
    │   │   │   ├── st_cb_flush.h
    │   │   │   ├── st_cb_rasterpos.c
    │   │   │   ├── st_cb_rasterpos.h
    │   │   │   ├── st_cb_readpixels.c
    │   │   │   ├── st_cb_readpixels.h
    │   │   │   ├── st_cb_texture.c
    │   │   │   ├── st_cb_texture.h
    │   │   │   ├── st_context.c
    │   │   │   ├── st_context.h
    │   │   │   ├── st_copytex.c
    │   │   │   ├── st_copytex.h
    │   │   │   ├── st_debug.c
    │   │   │   ├── st_debug.h
    │   │   │   ├── st_draw.c
    │   │   │   ├── st_draw.h
    │   │   │   ├── st_draw_feedback.c
    │   │   │   ├── st_draw_hw_select.c
    │   │   │   ├── st_extensions.c
    │   │   │   ├── st_extensions.h
    │   │   │   ├── st_format.c
    │   │   │   ├── st_format.h
    │   │   │   ├── st_gen_mipmap.c
    │   │   │   ├── st_gen_mipmap.h
    │   │   │   ├── st_gl_api.h
    │   │   │   ├── st_glsl_to_ir.cpp
    │   │   │   ├── st_glsl_to_ir.h
    │   │   │   ├── st_glsl_to_nir.cpp
    │   │   │   ├── st_manager.c
    │   │   │   ├── st_manager.h
    │   │   │   ├── st_nir.h
    │   │   │   ├── st_nir_builtins.c
    │   │   │   ├── st_nir_lower_builtin.c
    │   │   │   ├── st_nir_lower_tex_src_plane.c
    │   │   │   ├── st_pbo.c
    │   │   │   ├── st_pbo.h
    │   │   │   ├── st_pbo_compute.c
    │   │   │   ├── st_program.c
    │   │   │   ├── st_program.h
    │   │   │   ├── st_sampler_view.c
    │   │   │   ├── st_sampler_view.h
    │   │   │   ├── st_scissor.c
    │   │   │   ├── st_scissor.h
    │   │   │   ├── st_shader_cache.c
    │   │   │   ├── st_shader_cache.h
    │   │   │   ├── st_texture.c
    │   │   │   ├── st_texture.h
    │   │   │   ├── st_util.h
    │   │   │   ├── st_vdpau.c
    │   │   │   ├── st_vdpau.h
    │   │   │   └── tests/
    │   │   │       ├── meson.build
    │   │   │       └── st_format.c
    │   │   ├── vbo/
    │   │   │   ├── vbo.h
    │   │   │   ├── vbo_attrib.h
    │   │   │   ├── vbo_attrib_tmp.h
    │   │   │   ├── vbo_context.c
    │   │   │   ├── vbo_exec.c
    │   │   │   ├── vbo_exec.h
    │   │   │   ├── vbo_exec_api.c
    │   │   │   ├── vbo_exec_draw.c
    │   │   │   ├── vbo_exec_eval.c
    │   │   │   ├── vbo_minmax_index.c
    │   │   │   ├── vbo_noop.c
    │   │   │   ├── vbo_private.h
    │   │   │   ├── vbo_save.c
    │   │   │   ├── vbo_save.h
    │   │   │   ├── vbo_save_api.c
    │   │   │   ├── vbo_save_draw.c
    │   │   │   ├── vbo_save_loopback.c
    │   │   │   └── vbo_util.h
    │   │   └── x86/
    │   │       ├── assyntax.h
    │   │       ├── common_x86.c
    │   │       ├── common_x86_asm.h
    │   │       ├── common_x86_asm.S
    │   │       ├── common_x86_features.h
    │   │       └── read_rgba_span_x86.S
    │   ├── microsoft/
    │   │   ├── meson.build
    │   │   ├── ci/
    │   │   │   ├── deqp-dozen.toml
    │   │   │   ├── gitlab-ci.yml
    │   │   │   ├── spirv2dxil_reference.txt
    │   │   │   ├── warp-fails.txt
    │   │   │   ├── warp-flakes.txt
    │   │   │   └── warp-skips.txt
    │   │   ├── clc/
    │   │   │   ├── clc_compiler.c
    │   │   │   ├── clc_compiler.h
    │   │   │   ├── clc_compiler_test.cpp
    │   │   │   ├── clc_nir.c
    │   │   │   ├── clc_nir.h
    │   │   │   ├── clon12compiler.def
    │   │   │   ├── compute_test.cpp
    │   │   │   ├── compute_test.h
    │   │   │   └── meson.build
    │   │   ├── compiler/
    │   │   │   ├── dxcapi.h
    │   │   │   ├── dxil_buffer.c
    │   │   │   ├── dxil_buffer.h
    │   │   │   ├── dxil_buffer_test.c
    │   │   │   ├── dxil_container.c
    │   │   │   ├── dxil_container.h
    │   │   │   ├── dxil_dump.c
    │   │   │   ├── dxil_dump.h
    │   │   │   ├── dxil_dump_decls.h
    │   │   │   ├── dxil_enums.c
    │   │   │   ├── dxil_enums.h
    │   │   │   ├── dxil_function.c
    │   │   │   ├── dxil_function.h
    │   │   │   ├── dxil_internal.h
    │   │   │   ├── dxil_module.c
    │   │   │   ├── dxil_module.h
    │   │   │   ├── dxil_nir.c
    │   │   │   ├── dxil_nir.h
    │   │   │   ├── dxil_nir_algebraic.py
    │   │   │   ├── dxil_nir_lower_int_cubemaps.c
    │   │   │   ├── dxil_nir_lower_int_cubemaps.h
    │   │   │   ├── dxil_nir_lower_int_samplers.c
    │   │   │   ├── dxil_nir_lower_int_samplers.h
    │   │   │   ├── dxil_nir_lower_vs_vertex_conversion.c
    │   │   │   ├── dxil_nir_tess.c
    │   │   │   ├── dxil_signature.c
    │   │   │   ├── dxil_signature.h
    │   │   │   ├── dxil_validator.cpp
    │   │   │   ├── dxil_validator.h
    │   │   │   ├── meson.build
    │   │   │   ├── nir_to_dxil.c
    │   │   │   └── nir_to_dxil.h
    │   │   ├── spirv_to_dxil/
    │   │   │   ├── dxil_spirv_nir.c
    │   │   │   ├── dxil_spirv_nir.h
    │   │   │   ├── dxil_validation.cpp
    │   │   │   ├── dxil_validation.h
    │   │   │   ├── meson.build
    │   │   │   ├── spirv2dxil.c
    │   │   │   ├── spirv_to_dxil.c
    │   │   │   ├── spirv_to_dxil.def
    │   │   │   └── spirv_to_dxil.h
    │   │   └── vulkan/
    │   │       ├── dzn_abi_helper.h
    │   │       ├── dzn_cmd_buffer.c
    │   │       ├── dzn_descriptor_set.c
    │   │       ├── dzn_device.c
    │   │       ├── dzn_dxcore.cpp
    │   │       ├── dzn_dxgi.c
    │   │       ├── dzn_dxgi.h
    │   │       ├── dzn_image.c
    │   │       ├── dzn_meta.c
    │   │       ├── dzn_nir.c
    │   │       ├── dzn_nir.h
    │   │       ├── dzn_physical_device_enum.h
    │   │       ├── dzn_pipeline.c
    │   │       ├── dzn_private.h
    │   │       ├── dzn_query.c
    │   │       ├── dzn_sync.c
    │   │       ├── dzn_util.c
    │   │       ├── dzn_wsi.c
    │   │       └── meson.build
    │   ├── nouveau/
    │   │   ├── meson.build
    │   │   ├── codegen/
    │   │   │   ├── meson.build
    │   │   │   ├── nv50_ir.cpp
    │   │   │   ├── nv50_ir.h
    │   │   │   ├── nv50_ir_bb.cpp
    │   │   │   ├── nv50_ir_build_util.cpp
    │   │   │   ├── nv50_ir_build_util.h
    │   │   │   ├── nv50_ir_driver.h
    │   │   │   ├── nv50_ir_emit_gk110.cpp
    │   │   │   ├── nv50_ir_emit_gm107.cpp
    │   │   │   ├── nv50_ir_emit_gv100.cpp
    │   │   │   ├── nv50_ir_emit_gv100.h
    │   │   │   ├── nv50_ir_emit_nv50.cpp
    │   │   │   ├── nv50_ir_emit_nvc0.cpp
    │   │   │   ├── nv50_ir_from_common.cpp
    │   │   │   ├── nv50_ir_from_common.h
    │   │   │   ├── nv50_ir_from_nir.cpp
    │   │   │   ├── nv50_ir_from_tgsi.cpp
    │   │   │   ├── nv50_ir_graph.cpp
    │   │   │   ├── nv50_ir_graph.h
    │   │   │   ├── nv50_ir_inlines.h
    │   │   │   ├── nv50_ir_lowering_gm107.cpp
    │   │   │   ├── nv50_ir_lowering_gm107.h
    │   │   │   ├── nv50_ir_lowering_gv100.cpp
    │   │   │   ├── nv50_ir_lowering_gv100.h
    │   │   │   ├── nv50_ir_lowering_helper.cpp
    │   │   │   ├── nv50_ir_lowering_helper.h
    │   │   │   ├── nv50_ir_lowering_nv50.cpp
    │   │   │   ├── nv50_ir_lowering_nvc0.cpp
    │   │   │   ├── nv50_ir_lowering_nvc0.h
    │   │   │   ├── nv50_ir_peephole.cpp
    │   │   │   ├── nv50_ir_print.cpp
    │   │   │   ├── nv50_ir_ra.cpp
    │   │   │   ├── nv50_ir_sched_gm107.h
    │   │   │   ├── nv50_ir_serialize.cpp
    │   │   │   ├── nv50_ir_ssa.cpp
    │   │   │   ├── nv50_ir_target.cpp
    │   │   │   ├── nv50_ir_target.h
    │   │   │   ├── nv50_ir_target_gm107.cpp
    │   │   │   ├── nv50_ir_target_gm107.h
    │   │   │   ├── nv50_ir_target_gv100.cpp
    │   │   │   ├── nv50_ir_target_gv100.h
    │   │   │   ├── nv50_ir_target_nv50.cpp
    │   │   │   ├── nv50_ir_target_nv50.h
    │   │   │   ├── nv50_ir_target_nvc0.cpp
    │   │   │   ├── nv50_ir_target_nvc0.h
    │   │   │   ├── nv50_ir_util.cpp
    │   │   │   ├── nv50_ir_util.h
    │   │   │   └── lib/
    │   │   │       ├── gf100.asm
    │   │   │       ├── gf100.asm.h
    │   │   │       ├── gk104.asm
    │   │   │       ├── gk104.asm.h
    │   │   │       ├── gk110.asm
    │   │   │       ├── gk110.asm.h
    │   │   │       ├── gm107.asm
    │   │   │       ├── gm107.asm.h
    │   │   │       └── Makefile
    │   │   └── drm-shim/
    │   │       ├── README.md
    │   │       ├── meson.build
    │   │       └── nouveau_noop.c
    │   ├── panfrost/
    │   │   ├── meson.build
    │   │   ├── bifrost/
    │   │   │   ├── README.md
    │   │   │   ├── bi_builder.h.py
    │   │   │   ├── bi_helper_invocations.c
    │   │   │   ├── bi_layout.c
    │   │   │   ├── bi_liveness.c
    │   │   │   ├── bi_lower_divergent_indirects.c
    │   │   │   ├── bi_lower_swizzle.c
    │   │   │   ├── bi_lower_xfb.c
    │   │   │   ├── bi_opcodes.c.py
    │   │   │   ├── bi_opcodes.h.py
    │   │   │   ├── bi_opt_constant_fold.c
    │   │   │   ├── bi_opt_copy_prop.c
    │   │   │   ├── bi_opt_cse.c
    │   │   │   ├── bi_opt_dce.c
    │   │   │   ├── bi_opt_dual_tex.c
    │   │   │   ├── bi_opt_message_preload.c
    │   │   │   ├── bi_opt_mod_props.c
    │   │   │   ├── bi_opt_push_ubo.c
    │   │   │   ├── bi_pack.c
    │   │   │   ├── bi_packer.c.py
    │   │   │   ├── bi_pressure_schedule.c
    │   │   │   ├── bi_print.c
    │   │   │   ├── bi_print_common.c
    │   │   │   ├── bi_print_common.h
    │   │   │   ├── bi_printer.c.py
    │   │   │   ├── bi_quirks.h
    │   │   │   ├── bi_ra.c
    │   │   │   ├── bi_schedule.c
    │   │   │   ├── bi_scoreboard.c
    │   │   │   ├── bi_test.h
    │   │   │   ├── bi_validate.c
    │   │   │   ├── bifrost.h
    │   │   │   ├── bifrost_compile.c
    │   │   │   ├── bifrost_compile.h
    │   │   │   ├── bifrost_isa.py
    │   │   │   ├── bifrost_nir.h
    │   │   │   ├── bifrost_nir_algebraic.py
    │   │   │   ├── bir.c
    │   │   │   ├── cmdline.c
    │   │   │   ├── compiler.h
    │   │   │   ├── disassemble.c
    │   │   │   ├── disassemble.h
    │   │   │   ├── gen_disasm.py
    │   │   │   ├── ISA.xml
    │   │   │   ├── meson.build
    │   │   │   ├── nodearray.h
    │   │   │   ├── Notes.txt
    │   │   │   ├── test/
    │   │   │   │   ├── test-constant-fold.cpp
    │   │   │   │   ├── test-dual-texture.cpp
    │   │   │   │   ├── test-message-preload.cpp
    │   │   │   │   ├── test-optimizer.cpp
    │   │   │   │   ├── test-pack-formats.cpp
    │   │   │   │   ├── test-packing.cpp
    │   │   │   │   └── test-scheduler-predicates.cpp
    │   │   │   └── valhall/
    │   │   │       ├── asm.py
    │   │   │       ├── disasm.py
    │   │   │       ├── disassemble.h
    │   │   │       ├── ISA.xml
    │   │   │       ├── meson.build
    │   │   │       ├── test-assembly.py
    │   │   │       ├── va_compiler.h
    │   │   │       ├── va_insert_flow.c
    │   │   │       ├── va_lower_constants.c
    │   │   │       ├── va_lower_isel.c
    │   │   │       ├── va_lower_split_64bit.c
    │   │   │       ├── va_mark_last.c
    │   │   │       ├── va_merge_flow.c
    │   │   │       ├── va_optimize.c
    │   │   │       ├── va_pack.c
    │   │   │       ├── va_perf.c
    │   │   │       ├── va_validate.c
    │   │   │       ├── valhall.c.py
    │   │   │       ├── valhall.h
    │   │   │       ├── valhall.py
    │   │   │       ├── valhall_enums.h.py
    │   │   │       └── test/
    │   │   │           ├── assembler-cases.txt
    │   │   │           ├── negative-cases.txt
    │   │   │           ├── test-add-imm.cpp
    │   │   │           ├── test-disassembler.c
    │   │   │           ├── test-insert-flow.cpp
    │   │   │           ├── test-lower-constants.cpp
    │   │   │           ├── test-lower-isel.cpp
    │   │   │           ├── test-mark-last.cpp
    │   │   │           ├── test-merge-flow.cpp
    │   │   │           ├── test-packing.cpp
    │   │   │           └── test-validate-fau.cpp
    │   │   ├── ci/
    │   │   │   ├── deqp-panfrost-g52-vk.toml
    │   │   │   ├── deqp-panfrost-g52.toml
    │   │   │   ├── deqp-panfrost-g72.toml
    │   │   │   ├── deqp-panfrost-t720.toml
    │   │   │   ├── deqp-panfrost-t760.toml
    │   │   │   ├── deqp-panfrost-t860.toml
    │   │   │   ├── gitlab-ci.yml
    │   │   │   ├── panfrost-g52-fails.txt
    │   │   │   ├── panfrost-g52-flakes.txt
    │   │   │   ├── panfrost-g52-skips.txt
    │   │   │   ├── panfrost-g72-fails.txt
    │   │   │   ├── panfrost-g72-flakes.txt
    │   │   │   ├── panfrost-t720-fails.txt
    │   │   │   ├── panfrost-t720-flakes.txt
    │   │   │   ├── panfrost-t720-skips.txt
    │   │   │   ├── panfrost-t760-fails.txt
    │   │   │   ├── panfrost-t760-flakes.txt
    │   │   │   ├── panfrost-t820-fails.txt
    │   │   │   ├── panfrost-t860-fails.txt
    │   │   │   ├── panfrost-t860-flakes.txt
    │   │   │   ├── panfrost-t860-skips.txt
    │   │   │   └── traces-panfrost.yml
    │   │   ├── drm-shim/
    │   │   │   ├── meson.build
    │   │   │   └── panfrost_noop.c
    │   │   ├── ds/
    │   │   │   ├── meson.build
    │   │   │   ├── pan_pps_driver.cc
    │   │   │   ├── pan_pps_driver.h
    │   │   │   ├── pan_pps_perf.cc
    │   │   │   ├── pan_pps_perf.h
    │   │   │   └── .clang-format
    │   │   ├── include/
    │   │   │   └── panfrost-job.h
    │   │   ├── lib/
    │   │   │   ├── meson.build
    │   │   │   ├── pan_afbc.c
    │   │   │   ├── pan_attributes.c
    │   │   │   ├── pan_blend.c
    │   │   │   ├── pan_blend.h
    │   │   │   ├── pan_blitter.c
    │   │   │   ├── pan_blitter.h
    │   │   │   ├── pan_bo.c
    │   │   │   ├── pan_bo.h
    │   │   │   ├── pan_clear.c
    │   │   │   ├── pan_cs.c
    │   │   │   ├── pan_cs.h
    │   │   │   ├── pan_device.h
    │   │   │   ├── pan_earlyzs.c
    │   │   │   ├── pan_earlyzs.h
    │   │   │   ├── pan_encoder.h
    │   │   │   ├── pan_format.c
    │   │   │   ├── pan_format.h
    │   │   │   ├── pan_indirect_dispatch.c
    │   │   │   ├── pan_indirect_dispatch.h
    │   │   │   ├── pan_indirect_draw.c
    │   │   │   ├── pan_indirect_draw.h
    │   │   │   ├── pan_layout.c
    │   │   │   ├── pan_pool.h
    │   │   │   ├── pan_props.c
    │   │   │   ├── pan_samples.c
    │   │   │   ├── pan_scoreboard.h
    │   │   │   ├── pan_scratch.c
    │   │   │   ├── pan_shader.c
    │   │   │   ├── pan_shader.h
    │   │   │   ├── pan_texture.c
    │   │   │   ├── pan_texture.h
    │   │   │   ├── pan_tiler.c
    │   │   │   ├── pan_util.c
    │   │   │   ├── pan_util.h
    │   │   │   ├── wrap.h
    │   │   │   ├── genxml/
    │   │   │   │   ├── common.xml
    │   │   │   │   ├── decode.c
    │   │   │   │   ├── decode.h
    │   │   │   │   ├── decode_common.c
    │   │   │   │   ├── gen_macros.h
    │   │   │   │   ├── gen_pack.py
    │   │   │   │   ├── meson.build
    │   │   │   │   ├── v4.xml
    │   │   │   │   ├── v5.xml
    │   │   │   │   ├── v6.xml
    │   │   │   │   ├── v7.xml
    │   │   │   │   └── v9.xml
    │   │   │   └── tests/
    │   │   │       ├── test-blend.c
    │   │   │       ├── test-clear.c
    │   │   │       ├── test-earlyzs.cpp
    │   │   │       └── test-layout.cpp
    │   │   ├── midgard/
    │   │   │   ├── compiler.h
    │   │   │   ├── disassemble.c
    │   │   │   ├── disassemble.h
    │   │   │   ├── helpers.h
    │   │   │   ├── meson.build
    │   │   │   ├── midgard.h
    │   │   │   ├── midgard_address.c
    │   │   │   ├── midgard_compile.c
    │   │   │   ├── midgard_compile.h
    │   │   │   ├── midgard_derivatives.c
    │   │   │   ├── midgard_emit.c
    │   │   │   ├── midgard_errata_lod.c
    │   │   │   ├── midgard_helper_invocations.c
    │   │   │   ├── midgard_liveness.c
    │   │   │   ├── midgard_nir.h
    │   │   │   ├── midgard_nir_algebraic.py
    │   │   │   ├── midgard_nir_lower_helper_writes.c
    │   │   │   ├── midgard_nir_lower_image_bitsize.c
    │   │   │   ├── midgard_ops.c
    │   │   │   ├── midgard_ops.h
    │   │   │   ├── midgard_opt_copy_prop.c
    │   │   │   ├── midgard_opt_dce.c
    │   │   │   ├── midgard_opt_perspective.c
    │   │   │   ├── midgard_print.c
    │   │   │   ├── midgard_print_constant.c
    │   │   │   ├── midgard_quirks.h
    │   │   │   ├── midgard_ra.c
    │   │   │   ├── midgard_ra_pipeline.c
    │   │   │   ├── midgard_schedule.c
    │   │   │   ├── mir.c
    │   │   │   ├── mir_promote_uniforms.c
    │   │   │   ├── mir_squeeze.c
    │   │   │   └── nir_fuse_io_16.c
    │   │   ├── perf/
    │   │   │   ├── G31.xml
    │   │   │   ├── G51.xml
    │   │   │   ├── G52.xml
    │   │   │   ├── G57.xml
    │   │   │   ├── G68.xml
    │   │   │   ├── G71.xml
    │   │   │   ├── G72.xml
    │   │   │   ├── G76.xml
    │   │   │   ├── G77.xml
    │   │   │   ├── G78.xml
    │   │   │   ├── meson.build
    │   │   │   ├── pan_gen_perf.py
    │   │   │   ├── pan_perf.c
    │   │   │   ├── pan_perf.h
    │   │   │   ├── quick.c
    │   │   │   ├── T72x.xml
    │   │   │   ├── T76x.xml
    │   │   │   ├── T82x.xml
    │   │   │   ├── T83x.xml
    │   │   │   ├── T86x.xml
    │   │   │   └── T88x.xml
    │   │   ├── shared/
    │   │   │   ├── meson.build
    │   │   │   ├── pan_minmax_cache.c
    │   │   │   ├── pan_minmax_cache.h
    │   │   │   ├── pan_tiling.c
    │   │   │   ├── pan_tiling.h
    │   │   │   └── test/
    │   │   │       └── test-tiling.cpp
    │   │   ├── util/
    │   │   │   ├── lcra.c
    │   │   │   ├── lcra.h
    │   │   │   ├── meson.build
    │   │   │   ├── nir_mod_helpers.c
    │   │   │   ├── pan_ir.c
    │   │   │   ├── pan_ir.h
    │   │   │   ├── pan_liveness.c
    │   │   │   ├── pan_lower_64bit_intrin.c
    │   │   │   ├── pan_lower_framebuffer.c
    │   │   │   ├── pan_lower_framebuffer.h
    │   │   │   ├── pan_lower_helper_invocation.c
    │   │   │   ├── pan_lower_sample_position.c
    │   │   │   ├── pan_lower_writeout.c
    │   │   │   └── pan_sysval.c
    │   │   └── vulkan/
    │   │       ├── meson.build
    │   │       ├── panvk_cmd_buffer.c
    │   │       ├── panvk_cs.c
    │   │       ├── panvk_cs.h
    │   │       ├── panvk_descriptor_set.c
    │   │       ├── panvk_device.c
    │   │       ├── panvk_formats.c
    │   │       ├── panvk_image.c
    │   │       ├── panvk_mempool.c
    │   │       ├── panvk_mempool.h
    │   │       ├── panvk_pass.c
    │   │       ├── panvk_pipeline.c
    │   │       ├── panvk_pipeline_cache.c
    │   │       ├── panvk_private.h
    │   │       ├── panvk_query.c
    │   │       ├── panvk_shader.c
    │   │       ├── panvk_util.c
    │   │       ├── panvk_varyings.h
    │   │       ├── panvk_vX_cmd_buffer.c
    │   │       ├── panvk_vX_cmd_buffer.h
    │   │       ├── panvk_vX_cs.c
    │   │       ├── panvk_vX_cs.h
    │   │       ├── panvk_vX_descriptor_set.c
    │   │       ├── panvk_vX_device.c
    │   │       ├── panvk_vX_device.h
    │   │       ├── panvk_vX_image.c
    │   │       ├── panvk_vX_meta.c
    │   │       ├── panvk_vX_meta.h
    │   │       ├── panvk_vX_meta_blit.c
    │   │       ├── panvk_vX_meta_clear.c
    │   │       ├── panvk_vX_meta_copy.c
    │   │       ├── panvk_vX_nir_lower_descriptors.c
    │   │       ├── panvk_vX_pipeline.c
    │   │       ├── panvk_vX_shader.c
    │   │       └── panvk_wsi.c
    │   ├── tool/
    │   │   ├── meson.build
    │   │   ├── dlclose-skip/
    │   │   │   ├── dlclose-skip.c
    │   │   │   └── meson.build
    │   │   └── pps/
    │   │       ├── meson.build
    │   │       ├── pps.cc
    │   │       ├── pps.h
    │   │       ├── pps_algorithm.h
    │   │       ├── pps_config.cc
    │   │       ├── pps_counter.cc
    │   │       ├── pps_counter.h
    │   │       ├── pps_datasource.cc
    │   │       ├── pps_datasource.h
    │   │       ├── pps_device.cc
    │   │       ├── pps_device.h
    │   │       ├── pps_driver.cc
    │   │       ├── pps_driver.h
    │   │       ├── pps_producer.cc
    │   │       ├── .clang-format
    │   │       └── cfg/
    │   │           ├── cpu.cfg
    │   │           ├── gpu.cfg
    │   │           ├── intel.cfg
    │   │           └── system.cfg
    │   ├── util/
    │   │   ├── 00-mesa-defaults.conf
    │   │   ├── anon_file.c
    │   │   ├── anon_file.h
    │   │   ├── bigmath.h
    │   │   ├── bitscan.c
    │   │   ├── bitscan.h
    │   │   ├── bitset.h
    │   │   ├── blob.c
    │   │   ├── blob.h
    │   │   ├── build_id.c
    │   │   ├── build_id.h
    │   │   ├── cnd_monotonic.h
    │   │   ├── compiler.h
    │   │   ├── compress.c
    │   │   ├── compress.h
    │   │   ├── crc32.c
    │   │   ├── crc32.h
    │   │   ├── dag.c
    │   │   ├── dag.h
    │   │   ├── debug.c
    │   │   ├── debug.h
    │   │   ├── detect_os.h
    │   │   ├── disk_cache.c
    │   │   ├── disk_cache.h
    │   │   ├── disk_cache_os.c
    │   │   ├── disk_cache_os.h
    │   │   ├── double.c
    │   │   ├── double.h
    │   │   ├── driconf.h
    │   │   ├── driconf_static.py
    │   │   ├── enum_operators.h
    │   │   ├── fast_idiv_by_const.c
    │   │   ├── fast_idiv_by_const.h
    │   │   ├── fast_urem_by_const.h
    │   │   ├── format_r11g11b10f.h
    │   │   ├── format_rgb9e5.h
    │   │   ├── format_srgb.h
    │   │   ├── format_srgb.py
    │   │   ├── fossilize_db.c
    │   │   ├── fossilize_db.h
    │   │   ├── futex.h
    │   │   ├── half_float.c
    │   │   ├── half_float.h
    │   │   ├── hash_table.c
    │   │   ├── hash_table.h
    │   │   ├── libsync.h
    │   │   ├── list.h
    │   │   ├── log.c
    │   │   ├── log.h
    │   │   ├── macros.h
    │   │   ├── memstream.c
    │   │   ├── memstream.h
    │   │   ├── mesa-sha1.c
    │   │   ├── mesa-sha1.h
    │   │   ├── mesa_cache_db.c
    │   │   ├── mesa_cache_db.h
    │   │   ├── meson.build
    │   │   ├── os_file.c
    │   │   ├── os_file.h
    │   │   ├── os_memory.h
    │   │   ├── os_memory_aligned.h
    │   │   ├── os_memory_debug.h
    │   │   ├── os_memory_fd.c
    │   │   ├── os_memory_fd.h
    │   │   ├── os_memory_stdc.h
    │   │   ├── os_misc.c
    │   │   ├── os_misc.h
    │   │   ├── os_socket.c
    │   │   ├── os_socket.h
    │   │   ├── os_time.c
    │   │   ├── os_time.h
    │   │   ├── ptralloc.h
    │   │   ├── ralloc.c
    │   │   ├── ralloc.h
    │   │   ├── rand_xor.c
    │   │   ├── rand_xor.h
    │   │   ├── rb_tree.c
    │   │   ├── rb_tree.h
    │   │   ├── reallocarray.h
    │   │   ├── register_allocate.c
    │   │   ├── register_allocate.h
    │   │   ├── register_allocate_internal.h
    │   │   ├── rgtc.c
    │   │   ├── rgtc.h
    │   │   ├── rounding.h
    │   │   ├── rwlock.h
    │   │   ├── set.c
    │   │   ├── set.h
    │   │   ├── simple_mtx.h
    │   │   ├── slab.c
    │   │   ├── slab.h
    │   │   ├── softfloat.c
    │   │   ├── softfloat.h
    │   │   ├── sparse_array.c
    │   │   ├── sparse_array.h
    │   │   ├── streaming-load-memcpy.c
    │   │   ├── streaming-load-memcpy.h
    │   │   ├── string_buffer.c
    │   │   ├── string_buffer.h
    │   │   ├── strndup.h
    │   │   ├── strtod.c
    │   │   ├── strtod.h
    │   │   ├── texcompress_rgtc_tmp.h
    │   │   ├── timespec.h
    │   │   ├── u_atomic.c
    │   │   ├── u_atomic.h
    │   │   ├── u_cpu_detect.c
    │   │   ├── u_cpu_detect.h
    │   │   ├── u_debug.c
    │   │   ├── u_debug.h
    │   │   ├── u_debug_describe.c
    │   │   ├── u_debug_describe.h
    │   │   ├── u_debug_memory.c
    │   │   ├── u_debug_refcnt.c
    │   │   ├── u_debug_refcnt.h
    │   │   ├── u_debug_stack.c
    │   │   ├── u_debug_stack.h
    │   │   ├── u_debug_stack_android.cpp
    │   │   ├── u_debug_symbol.c
    │   │   ├── u_debug_symbol.h
    │   │   ├── u_dl.c
    │   │   ├── u_dl.h
    │   │   ├── u_drm.h
    │   │   ├── u_dynarray.h
    │   │   ├── u_endian.h
    │   │   ├── u_fifo.h
    │   │   ├── u_hash_table.c
    │   │   ├── u_hash_table.h
    │   │   ├── u_idalloc.c
    │   │   ├── u_idalloc.h
    │   │   ├── u_math.c
    │   │   ├── u_math.h
    │   │   ├── u_memory.h
    │   │   ├── u_memset.h
    │   │   ├── u_mm.c
    │   │   ├── u_mm.h
    │   │   ├── u_perfetto.cc
    │   │   ├── u_perfetto.h
    │   │   ├── u_pointer.h
    │   │   ├── u_printf.c
    │   │   ├── u_printf.h
    │   │   ├── u_process.c
    │   │   ├── u_process.h
    │   │   ├── u_qsort.cpp
    │   │   ├── u_qsort.h
    │   │   ├── u_queue.c
    │   │   ├── u_queue.h
    │   │   ├── u_string.h
    │   │   ├── u_thread.h
    │   │   ├── u_vector.c
    │   │   ├── u_vector.h
    │   │   ├── u_worklist.c
    │   │   ├── u_worklist.h
    │   │   ├── vl_rbsp.h
    │   │   ├── vl_vlc.h
    │   │   ├── vma.c
    │   │   ├── vma.h
    │   │   ├── xmlconfig.c
    │   │   ├── xmlconfig.h
    │   │   ├── xxd.py
    │   │   ├── xxhash.h
    │   │   ├── format/
    │   │   │   ├── format_utils.h
    │   │   │   ├── meson.build
    │   │   │   ├── u_format.c
    │   │   │   ├── u_format.csv
    │   │   │   ├── u_format.h
    │   │   │   ├── u_format_bptc.c
    │   │   │   ├── u_format_bptc.h
    │   │   │   ├── u_format_etc.c
    │   │   │   ├── u_format_etc.h
    │   │   │   ├── u_format_fxt1.c
    │   │   │   ├── u_format_fxt1.h
    │   │   │   ├── u_format_latc.c
    │   │   │   ├── u_format_latc.h
    │   │   │   ├── u_format_other.c
    │   │   │   ├── u_format_other.h
    │   │   │   ├── u_format_pack.py
    │   │   │   ├── u_format_parse.py
    │   │   │   ├── u_format_rgtc.c
    │   │   │   ├── u_format_rgtc.h
    │   │   │   ├── u_format_s3tc.c
    │   │   │   ├── u_format_s3tc.h
    │   │   │   ├── u_format_table.py
    │   │   │   ├── u_format_tests.c
    │   │   │   ├── u_format_tests.h
    │   │   │   ├── u_format_unpack_neon.c
    │   │   │   ├── u_format_yuv.c
    │   │   │   ├── u_format_yuv.h
    │   │   │   ├── u_format_zs.c
    │   │   │   └── u_format_zs.h
    │   │   ├── indices/
    │   │   │   ├── u_indices.c
    │   │   │   ├── u_indices.h
    │   │   │   ├── u_indices_gen.py
    │   │   │   ├── u_indices_priv.h
    │   │   │   ├── u_primconvert.c
    │   │   │   ├── u_primconvert.h
    │   │   │   ├── u_unfilled_gen.py
    │   │   │   └── u_unfilled_indices.c
    │   │   ├── perf/
    │   │   │   ├── u_trace.c
    │   │   │   ├── u_trace.h
    │   │   │   ├── u_trace.py
    │   │   │   └── u_trace_priv.h
    │   │   ├── sha1/
    │   │   │   ├── README
    │   │   │   ├── sha1.c
    │   │   │   └── sha1.h
    │   │   └── tests/
    │   │       ├── bitset_test.cpp
    │   │       ├── blob_test.cpp
    │   │       ├── cache_test.cpp
    │   │       ├── dag_test.cpp
    │   │       ├── fast_idiv_by_const_test.cpp
    │   │       ├── fast_urem_by_const_test.cpp
    │   │       ├── half_float_test.cpp
    │   │       ├── int_min_max.cpp
    │   │       ├── mesa-sha1_test.cpp
    │   │       ├── process_test.c
    │   │       ├── rb_tree_test.cpp
    │   │       ├── register_allocate_test.cpp
    │   │       ├── roundeven_test.cpp
    │   │       ├── set_test.cpp
    │   │       ├── sparse_array_test.cpp
    │   │       ├── string_buffer_test.cpp
    │   │       ├── timespec_test.cpp
    │   │       ├── u_atomic_test.cpp
    │   │       ├── u_debug_stack_test.cpp
    │   │       ├── u_printf_test.cpp
    │   │       ├── u_qsort_test.cpp
    │   │       ├── vector_test.cpp
    │   │       ├── xmlconfig.cpp
    │   │       ├── drirc_configdir/
    │   │       │   ├── 00-test.conf
    │   │       │   └── 01-unused
    │   │       ├── drirc_home/
    │   │       │   └── .drirc
    │   │       ├── format/
    │   │       │   ├── meson.build
    │   │       │   ├── srgb.c
    │   │       │   ├── u_format_compatible_test.c
    │   │       │   └── u_format_test.c
    │   │       ├── hash_table/
    │   │       │   ├── clear.c
    │   │       │   ├── collision.c
    │   │       │   ├── delete_and_lookup.c
    │   │       │   ├── delete_management.c
    │   │       │   ├── destroy_callback.c
    │   │       │   ├── insert_and_lookup.c
    │   │       │   ├── insert_many.c
    │   │       │   ├── meson.build
    │   │       │   ├── null_destroy.c
    │   │       │   ├── random_entry.c
    │   │       │   ├── remove_key.c
    │   │       │   ├── remove_null.c
    │   │       │   └── replacement.c
    │   │       └── vma/
    │   │           ├── meson.build
    │   │           └── vma_random_test.cpp
    │   ├── virtio/
    │   │   ├── meson.build
    │   │   ├── ci/
    │   │   │   ├── deqp-venus.toml
    │   │   │   ├── gitlab-ci.yml
    │   │   │   ├── venus-fails.txt
    │   │   │   ├── venus-flakes.txt
    │   │   │   └── venus-skips.txt
    │   │   ├── venus-protocol/
    │   │   │   ├── vn_protocol_driver.h
    │   │   │   ├── vn_protocol_driver_buffer.h
    │   │   │   ├── vn_protocol_driver_buffer_view.h
    │   │   │   ├── vn_protocol_driver_command_pool.h
    │   │   │   ├── vn_protocol_driver_cs.h
    │   │   │   ├── vn_protocol_driver_defines.h
    │   │   │   ├── vn_protocol_driver_descriptor_pool.h
    │   │   │   ├── vn_protocol_driver_descriptor_set.h
    │   │   │   ├── vn_protocol_driver_descriptor_set_layout.h
    │   │   │   ├── vn_protocol_driver_descriptor_update_template.h
    │   │   │   ├── vn_protocol_driver_device_memory.h
    │   │   │   ├── vn_protocol_driver_event.h
    │   │   │   ├── vn_protocol_driver_fence.h
    │   │   │   ├── vn_protocol_driver_framebuffer.h
    │   │   │   ├── vn_protocol_driver_handles.h
    │   │   │   ├── vn_protocol_driver_image.h
    │   │   │   ├── vn_protocol_driver_image_view.h
    │   │   │   ├── vn_protocol_driver_info.h
    │   │   │   ├── vn_protocol_driver_instance.h
    │   │   │   ├── vn_protocol_driver_pipeline.h
    │   │   │   ├── vn_protocol_driver_pipeline_cache.h
    │   │   │   ├── vn_protocol_driver_pipeline_layout.h
    │   │   │   ├── vn_protocol_driver_private_data_slot.h
    │   │   │   ├── vn_protocol_driver_query_pool.h
    │   │   │   ├── vn_protocol_driver_queue.h
    │   │   │   ├── vn_protocol_driver_render_pass.h
    │   │   │   ├── vn_protocol_driver_sampler.h
    │   │   │   ├── vn_protocol_driver_sampler_ycbcr_conversion.h
    │   │   │   ├── vn_protocol_driver_semaphore.h
    │   │   │   ├── vn_protocol_driver_shader_module.h
    │   │   │   ├── vn_protocol_driver_structs.h
    │   │   │   ├── vn_protocol_driver_transport.h
    │   │   │   └── vn_protocol_driver_types.h
    │   │   ├── virtio-gpu/
    │   │   │   ├── drm_hw.h
    │   │   │   ├── venus_hw.h
    │   │   │   ├── virgl_hw.h
    │   │   │   ├── virgl_protocol.h
    │   │   │   └── virglrenderer_hw.h
    │   │   ├── vtest/
    │   │   │   └── vtest_protocol.h
    │   │   └── vulkan/
    │   │       ├── meson.build
    │   │       ├── vn_android.c
    │   │       ├── vn_android.h
    │   │       ├── vn_buffer.c
    │   │       ├── vn_buffer.h
    │   │       ├── vn_command_buffer.c
    │   │       ├── vn_command_buffer.h
    │   │       ├── vn_common.c
    │   │       ├── vn_common.h
    │   │       ├── vn_cs.c
    │   │       ├── vn_cs.h
    │   │       ├── vn_descriptor_set.c
    │   │       ├── vn_descriptor_set.h
    │   │       ├── vn_device.c
    │   │       ├── vn_device.h
    │   │       ├── vn_device_memory.c
    │   │       ├── vn_device_memory.h
    │   │       ├── vn_feedback.c
    │   │       ├── vn_feedback.h
    │   │       ├── vn_icd.c
    │   │       ├── vn_icd.h
    │   │       ├── vn_image.c
    │   │       ├── vn_image.h
    │   │       ├── vn_instance.c
    │   │       ├── vn_instance.h
    │   │       ├── vn_physical_device.c
    │   │       ├── vn_physical_device.h
    │   │       ├── vn_pipeline.c
    │   │       ├── vn_pipeline.h
    │   │       ├── vn_query_pool.c
    │   │       ├── vn_query_pool.h
    │   │       ├── vn_queue.c
    │   │       ├── vn_queue.h
    │   │       ├── vn_render_pass.c
    │   │       ├── vn_render_pass.h
    │   │       ├── vn_renderer.h
    │   │       ├── vn_renderer_internal.c
    │   │       ├── vn_renderer_internal.h
    │   │       ├── vn_renderer_util.c
    │   │       ├── vn_renderer_util.h
    │   │       ├── vn_renderer_virtgpu.c
    │   │       ├── vn_renderer_vtest.c
    │   │       ├── vn_ring.c
    │   │       ├── vn_ring.h
    │   │       ├── vn_wsi.c
    │   │       ├── vn_wsi.h
    │   │       └── .clang-format
    │   └── vulkan/
    │       ├── meson.build
    │       ├── vulkan-icd-symbols.txt
    │       ├── vulkan_api.def.in
    │       ├── device-select-layer/
    │       │   ├── device_select.h
    │       │   ├── device_select_layer.c
    │       │   ├── device_select_wayland.c
    │       │   ├── device_select_x11.c
    │       │   ├── meson.build
    │       │   └── VkLayer_MESA_device_select.json
    │       ├── overlay-layer/
    │       │   ├── README.rst
    │       │   ├── mesa-overlay-control.py
    │       │   ├── meson.build
    │       │   ├── overlay.cpp
    │       │   ├── overlay.frag
    │       │   ├── overlay.vert
    │       │   ├── overlay_params.c
    │       │   ├── overlay_params.h
    │       │   ├── TODO
    │       │   └── VkLayer_MESA_overlay.json
    │       ├── registry/
    │       │   └── update-aliases.py
    │       ├── runtime/
    │       │   ├── meson.build
    │       │   ├── vk_android.c
    │       │   ├── vk_buffer.c
    │       │   ├── vk_buffer.h
    │       │   ├── vk_cmd_copy.c
    │       │   ├── vk_cmd_enqueue.c
    │       │   ├── vk_command_buffer.c
    │       │   ├── vk_command_buffer.h
    │       │   ├── vk_command_pool.c
    │       │   ├── vk_command_pool.h
    │       │   ├── vk_debug_report.c
    │       │   ├── vk_debug_report.h
    │       │   ├── vk_debug_utils.c
    │       │   ├── vk_debug_utils.h
    │       │   ├── vk_deferred_operation.c
    │       │   ├── vk_deferred_operation.h
    │       │   ├── vk_descriptor_set_layout.c
    │       │   ├── vk_descriptor_set_layout.h
    │       │   ├── vk_descriptors.c
    │       │   ├── vk_descriptors.h
    │       │   ├── vk_device.c
    │       │   ├── vk_device.h
    │       │   ├── vk_drm_syncobj.c
    │       │   ├── vk_drm_syncobj.h
    │       │   ├── vk_fence.c
    │       │   ├── vk_fence.h
    │       │   ├── vk_framebuffer.c
    │       │   ├── vk_framebuffer.h
    │       │   ├── vk_graphics_state.c
    │       │   ├── vk_graphics_state.h
    │       │   ├── vk_image.c
    │       │   ├── vk_image.h
    │       │   ├── vk_instance.c
    │       │   ├── vk_instance.h
    │       │   ├── vk_limits.h
    │       │   ├── vk_log.c
    │       │   ├── vk_log.h
    │       │   ├── vk_nir.c
    │       │   ├── vk_nir.h
    │       │   ├── vk_object.c
    │       │   ├── vk_object.h
    │       │   ├── vk_physical_device.c
    │       │   ├── vk_physical_device.h
    │       │   ├── vk_physical_device_features.py
    │       │   ├── vk_pipeline.c
    │       │   ├── vk_pipeline.h
    │       │   ├── vk_pipeline_cache.c
    │       │   ├── vk_pipeline_cache.h
    │       │   ├── vk_pipeline_layout.c
    │       │   ├── vk_pipeline_layout.h
    │       │   ├── vk_queue.c
    │       │   ├── vk_queue.h
    │       │   ├── vk_render_pass.c
    │       │   ├── vk_render_pass.h
    │       │   ├── vk_sampler.c
    │       │   ├── vk_sampler.h
    │       │   ├── vk_semaphore.c
    │       │   ├── vk_semaphore.h
    │       │   ├── vk_shader_module.c
    │       │   ├── vk_shader_module.h
    │       │   ├── vk_standard_sample_locations.c
    │       │   ├── vk_standard_sample_locations.h
    │       │   ├── vk_sync.c
    │       │   ├── vk_sync.h
    │       │   ├── vk_sync_binary.c
    │       │   ├── vk_sync_binary.h
    │       │   ├── vk_sync_dummy.c
    │       │   ├── vk_sync_dummy.h
    │       │   ├── vk_sync_timeline.c
    │       │   ├── vk_sync_timeline.h
    │       │   └── vk_synchronization2.c
    │       ├── util/
    │       │   ├── gen_enum_to_str.py
    │       │   ├── meson.build
    │       │   ├── vk_alloc.c
    │       │   ├── vk_alloc.h
    │       │   ├── vk_cmd_queue_gen.py
    │       │   ├── vk_dispatch_table_gen.py
    │       │   ├── vk_dispatch_trampolines_gen.py
    │       │   ├── vk_entrypoints.py
    │       │   ├── vk_entrypoints_gen.py
    │       │   ├── vk_extensions.py
    │       │   ├── vk_extensions_gen.py
    │       │   ├── vk_format.c
    │       │   ├── vk_format.h
    │       │   ├── vk_icd_gen.py
    │       │   ├── vk_util.c
    │       │   └── vk_util.h
    │       └── wsi/
    │           ├── meson.build
    │           ├── wsi_common.c
    │           ├── wsi_common.h
    │           ├── wsi_common_display.c
    │           ├── wsi_common_display.h
    │           ├── wsi_common_drm.c
    │           ├── wsi_common_drm.h
    │           ├── wsi_common_private.h
    │           ├── wsi_common_queue.h
    │           ├── wsi_common_wayland.c
    │           ├── wsi_common_win32.c
    │           └── wsi_common_x11.c
    ├── subprojects/
    │   ├── DirectX-Headers.wrap
    │   ├── expat.wrap
    │   ├── libelf.wrap
    │   ├── perfetto.wrap
    │   └── zlib.wrap
    ├── .github/
    │   └── workflows/
    │       └── ci.yml
    ├── .gitlab/
    │   └── issue_templates/
    │       ├── Bug Report - AMD Radeon Vulkan.md
    │       └── Bug Report.md
    └── .gitlab-ci/
        ├── all-skips.txt
        ├── cross-xfail-ppc64el
        ├── cross-xfail-s390x
        ├── crosvm-init.sh
        ├── crosvm-runner.sh
        ├── deqp-runner.sh
        ├── download-git-cache.sh
        ├── fossilize-runner.sh
        ├── fossils.yml
        ├── gtest-runner.sh
        ├── image-tags.yml
        ├── prepare-artifacts.sh
        ├── report-flakes.py
        ├── run-shader-db.sh
        ├── skqp-runner.sh
        ├── test-source-dep.yml
        ├── x86_64-w64-mingw32
        ├── b2c/
        │   ├── b2c.yml.jinja2.jinja2
        │   └── generate_b2c.py
        ├── bare-metal/
        │   ├── arm64_a630_egl.sh
        │   ├── bm-init.sh
        │   ├── cisco-2960-poe-off.sh
        │   ├── cisco-2960-poe-on.sh
        │   ├── cros-servo.sh
        │   ├── cros_servo_run.py
        │   ├── eth008-power-down.sh
        │   ├── eth008-power-relay.py
        │   ├── eth008-power-up.sh
        │   ├── expect-output.sh
        │   ├── fastboot.sh
        │   ├── fastboot_run.py
        │   ├── google-power-down.sh
        │   ├── google-power-relay.py
        │   ├── google-power-up.sh
        │   ├── poe-off
        │   ├── poe-on
        │   ├── poe-powered.sh
        │   ├── poe_run.py
        │   ├── rootfs-setup.sh
        │   ├── serial_buffer.py
        │   ├── telnet-buffer.py
        │   └── .editorconfig
        ├── common/
        │   ├── capture-devcoredump.sh
        │   ├── generate-env.sh
        │   ├── init-stage1.sh
        │   ├── init-stage2.sh
        │   ├── intel-gpu-freq.sh
        │   └── start-x.sh
        ├── container/
        │   ├── arm.config
        │   ├── arm64.config
        │   ├── baremetal_build.sh
        │   ├── build-apitrace.sh
        │   ├── build-crosvm.sh
        │   ├── build-crosvm_map-opaque-fd.patch
        │   ├── build-crosvm_no-syslog.patch
        │   ├── build-deqp-runner.sh
        │   ├── build-deqp.sh
        │   ├── build-fossilize.sh
        │   ├── build-gfxreconstruct.sh
        │   ├── build-hang-detection.sh
        │   ├── build-kernel.sh
        │   ├── build-libclc.sh
        │   ├── build-libdrm.sh
        │   ├── build-piglit.sh
        │   ├── build-rust.sh
        │   ├── build-skqp.sh
        │   ├── build-skqp_base.gn
        │   ├── build-skqp_BUILD.gn.patch
        │   ├── build-skqp_fetch_gn.patch
        │   ├── build-skqp_git-sync-deps.patch
        │   ├── build-skqp_gl.patch
        │   ├── build-skqp_is_clang.py.patch
        │   ├── build-skqp_nima.patch
        │   ├── build-va-tools.sh
        │   ├── build-vkd3d-proton.sh
        │   ├── build-wayland.sh
        │   ├── container_post_build.sh
        │   ├── container_pre_build.sh
        │   ├── create-android-cross-file.sh
        │   ├── create-android-ndk-pc.sh
        │   ├── create-cross-file.sh
        │   ├── create-rootfs.sh
        │   ├── cross_build.sh
        │   ├── gitlab-ci.yml
        │   ├── install-wine-apitrace.sh
        │   ├── install-wine-dxvk.sh
        │   ├── lava_build.sh
        │   ├── setup-wine.sh
        │   ├── x86_64.config
        │   ├── debian/
        │   │   ├── android_build.sh
        │   │   ├── arm_build.sh
        │   │   ├── arm_test.sh
        │   │   ├── i386_build.sh
        │   │   ├── llvm-snapshot.gpg.key
        │   │   ├── ppc64el_build.sh
        │   │   ├── s390x_build.sh
        │   │   ├── winehq.gpg.key
        │   │   ├── x86_build-base-wine.sh
        │   │   ├── x86_build-base.sh
        │   │   ├── x86_build-mingw-patch.sh
        │   │   ├── x86_build-mingw-source-deps.sh
        │   │   ├── x86_build-mingw.sh
        │   │   ├── x86_build.sh
        │   │   ├── x86_mingw-toolchain.cmake
        │   │   ├── x86_test-base.sh
        │   │   ├── x86_test-gl.sh
        │   │   └── x86_test-vk.sh
        │   └── fedora/
        │       └── x86_build.sh
        ├── docs -> ci
        ├── fossils/
        │   ├── fossils.sh
        │   └── query_fossils_yaml.py
        ├── lava/
        │   ├── __init__.py
        │   ├── exceptions.py
        │   ├── lava-gitlab-ci.yml
        │   ├── lava-pytest.sh
        │   ├── lava-submit.sh
        │   ├── lava_job_submitter.py
        │   └── utils/
        │       ├── __init__.py
        │       ├── console_format.py
        │       ├── gitlab_section.py
        │       ├── lava_log_hints.py
        │       ├── log_follower.py
        │       └── log_section.py
        ├── meson/
        │   ├── build.sh
        │   ├── time-strace.sh
        │   └── time.sh
        ├── piglit/
        │   ├── disable-vs_in.diff
        │   ├── piglit-runner.sh
        │   ├── piglit-traces.sh
        │   └── run_cl.sh
        ├── test/
        │   └── gitlab-ci.yml
        ├── tests/
        │   ├── __init__.py
        │   ├── conftest.py
        │   ├── test_lava_job_submitter.py
        │   ├── lava/
        │   │   ├── __init__.py
        │   │   └── helpers.py
        │   └── utils/
        │       ├── __init__.py
        │       └── test_lava_log.py
        ├── valve/
        │   └── traces-runner.sh
        ├── vkd3d-proton/
        │   └── run.sh
        └── windows/
            ├── README.md
            ├── deqp_runner_run.ps1
            ├── Dockerfile_build
            ├── Dockerfile_test
            ├── Dockerfile_vs
            ├── mesa_build.ps1
            ├── mesa_container.ps1
            ├── mesa_deps_build.ps1
            ├── mesa_deps_choco.ps1
            ├── mesa_deps_test.ps1
            ├── mesa_deps_vs2019.ps1
            ├── mesa_vs_init.ps1
            ├── piglit_run.ps1
            ├── spirv2dxil_check.ps1
            └── spirv2dxil_run.ps1


(Files content cropped to 300k characters, download full ingest to see more)
================================================
FILE: README.rst
================================================
`Mesa <https://mesa3d.org>`_ - The 3D Graphics Library
======================================================


Source
------

This repository lives at https://gitlab.freedesktop.org/mesa/mesa.
Other repositories are likely forks, and code found there is not supported.


Build & install
---------------

You can find more information in our documentation (`docs/install.rst
<https://mesa3d.org/install.html>`_), but the recommended way is to use
Meson (`docs/meson.rst <https://mesa3d.org/meson.html>`_):

.. code-block:: sh

  $ mkdir build
  $ cd build
  $ meson ..
  $ sudo ninja install


Support
-------

Many Mesa devs hang on IRC; if you're not sure which channel is
appropriate, you should ask your question on `OFTC's #dri-devel
<irc://irc.oftc.net/dri-devel>`_, someone will redirect you if
necessary.
Remember that not everyone is in the same timezone as you, so it might
take a while before someone qualified sees your question.
To figure out who you're talking to, or which nick to ping for your
question, check out `Who's Who on IRC
<https://dri.freedesktop.org/wiki/WhosWho/>`_.

The next best option is to ask your question in an email to the
mailing lists: `mesa-dev\@lists.freedesktop.org
<https://lists.freedesktop.org/mailman/listinfo/mesa-dev>`_


Bug reports
-----------

If you think something isn't working properly, please file a bug report
(`docs/bugs.rst <https://mesa3d.org/bugs.html>`_).


Contributing
------------

Contributions are welcome, and step-by-step instructions can be found in our
documentation (`docs/submittingpatches.rst
<https://mesa3d.org/submittingpatches.html>`_).

Note that Mesa uses gitlab for patches submission, review and discussions.



================================================
FILE: CODEOWNERS
================================================
# This file contains the GitLab handle of the maintainers/reviewers for
# a given file:
# https://docs.gitlab.com/ce/user/project/code_owners.html
#
# Consider these as the list of people who want to be involved in MRs
# touching these files/folders, and whom you can ask your questions and
# tag in issues.
#
# As of GitLab 14.3, all features surrounding this file are premium-only,
# which means this file is only read by humans for now.
#
# Paths starting with a `/` are relative to the git root, otherwise they
# can match any substring of the file's path.
# If multiple lines match, only the last one applies; there is no
# accumulation.


##################
# INFRASTRUCTURE #
##################

# Build system - Meson
meson.build @dbaker @eric
/meson_options.txt @dbaker @eric
/docs/meson.rst @dbaker @eric

# Build system - Android
/android/ @roman.stratiienko

# Compatibility headers
/include/c99* @xexaxo
/src/c11/ @eric @lygstate

# Documentation
/docs/ @eric @xexaxo


##########
# COMMON #
##########

# NIR
/src/compiler/nir/ @jekstrand

# Vulkan
/src/vulkan/ @eric @jekstrand
/include/vulkan/ @eric @jekstrand


#############
# PLATFORMS #
#############

# EGL
/src/egl/ @eric @xexaxo
/include/EGL/ @eric @xexaxo

# EGL - Android support
/src/egl/drivers/dri2/platform_android.c @robh @tfiga

# EGL - Device support
/src/egl/drivers/dri2/platform_device.c @xexaxo

# EGL - Wayland support
/src/egl/wayland/ @daniels @eric
/src/egl/drivers/dri2/platform_wayland.c @daniels @eric

# Gallium targets
/src/gallium/targets/ @xexaxo

# GLX
/src/glx/ @ajax
/include/GL/glx* @ajax

# GLVND
/src/egl/main/eglglvnd.c @kbrenneman
/src/egl/main/egldispatchstubs.* @kbrenneman
/src/egl/generate/ @kbrenneman
/src/glx/*glvnd* @kbrenneman

# Haiku
/include/HaikuGL/ @kallisti5
/src/egl/drivers/haiku/ @kallisti5
/src/gallium/frontends/hgl/ @kallisti5
/src/gallium/targets/haiku-softpipe/ @kallisti5
/src/gallium/winsys/sw/hgl/ @kallisti5
/src/hgl/ @kallisti5

# Loader - DRI/classic
/src/loader/ @xexaxo

# Loader - Gallium
/src/gallium/auxiliary/pipe-loader/ @xexaxo
/src/gallium/auxiliary/target-helpers/ @xexaxo

# Vulkan WSI - Display
/src/vulkan/wsi/wsi_common_display.* @keithp
/src/*/vulkan/*_wsi_display.c @keithp


######
# CI #
######

# Broadcom
/src/broadcom/ci/ @jasuarez @chema


###########
# Drivers #
###########

# Asahi
/src/asahi/ @alyssa
/src/gallium/drivers/asahi/ @alyssa

# Broadcom
/src/broadcom/ @itoral @apinheiro
/src/gallium/drivers/v3d/ @itoral @chema @jasuarez
/src/gallium/drivers/vc4/ @itoral @chema @jasuarez

# Freedreno
/src/gallium/drivers/freedreno/ @robclark

# Imagination
/include/drm-uapi/pvr_drm.h @CreativeCylon @frankbinns @rajnesh-kanwal
/src/imagination/ @CreativeCylon @frankbinns @rajnesh-kanwal
/src/imagination/rogue/ @simon-perretta-img

# Intel
/include/drm-uapi/i915_drm.h @kwg @llandwerlin @jekstrand @idr
/include/pci_ids/i*_pci_ids.h @kwg @llandwerlin @jekstrand @idr
/src/intel/ @kwg @llandwerlin @jekstrand @idr
/src/gallium/winsys/iris/ @kwg @llandwerlin @jekstrand @idr
/src/gallium/drivers/iris/ @kwg @llandwerlin @jekstrand @idr
/src/gallium/drivers/i915/ @anholt

# Microsoft
/src/microsoft/ @jenatali
/src/gallium/drivers/d3d12/ @jenatali

# Panfrost
/src/panfrost/ @alyssa
/src/panfrost/vulkan/ @bbrezillon
/src/gallium/drivers/panfrost/ @alyssa

# VMware
/src/gallium/drivers/svga/ @brianp @charmainel
/src/gallium/winsys/svga/ @thomash @drawat



================================================
FILE: meson.build
================================================
# Copyright © 2017-2020 Intel Corporation

# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:

# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.

# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.

project(
  'mesa',
  ['c', 'cpp'],
  version : run_command(
    [find_program('python3', 'python'), 'bin/meson_get_version.py'],
    check : true
  ).stdout(),
  license : 'MIT',
  meson_version : '>= 0.53',
  default_options : ['buildtype=debugoptimized', 'b_ndebug=if-release', 'c_std=c11', 'cpp_std=c++14']
)

# In recent versions, meson can inject some extra arguments to get richer
# results from gtest based tests.  Feature was added in 0.55, but requiring
# 0.59.2 to include an important fix.  See https://github.com/mesonbuild/meson/pull/9283.
gtest_test_protocol = 'exitcode'
if meson.version().version_compare('>= 0.59.2')
  gtest_test_protocol = 'gtest'
endif

cc = meson.get_compiler('c')
cpp = meson.get_compiler('cpp')

null_dep = dependency('', required : false)

if get_option('layout') != 'mirror'
  error('`mirror` is the only build directory layout supported')
endif

# Arguments for the preprocessor, put these in a separate array from the C and
# C++ (cpp in meson terminology) arguments since they need to be added to the
# default arguments for both C and C++.
pre_args = [
  '-D__STDC_CONSTANT_MACROS',
  '-D__STDC_FORMAT_MACROS',
  '-D__STDC_LIMIT_MACROS',
  '-DPACKAGE_VERSION="@0@"'.format(meson.project_version()),
  '-DPACKAGE_BUGREPORT="https://gitlab.freedesktop.org/mesa/mesa/-/issues"',
]
c_args = []
cpp_args = []

with_moltenvk_dir = get_option('moltenvk-dir')
with_vulkan_icd_dir = get_option('vulkan-icd-dir')
with_tests = get_option('build-tests')
with_aco_tests = get_option('build-aco-tests')
with_glx_read_only_text = get_option('glx-read-only-text')
with_glx_direct = get_option('glx-direct')
with_osmesa = get_option('osmesa')
with_vulkan_overlay_layer = get_option('vulkan-layers').contains('overlay')
with_vulkan_device_select_layer = get_option('vulkan-layers').contains('device-select')
with_tools = get_option('tools')
if with_tools.contains('all')
  with_tools = [
    'drm-shim',
    'dlclose-skip',
    'etnaviv',
    'freedreno',
    'glsl',
    'intel',
    'intel-ui',
    'lima',
    'nir',
    'nouveau',
    'xvmc',
    'asahi',
    'imagination',
  ]
endif

with_any_vulkan_layers = get_option('vulkan-layers').length() != 0
with_intel_tools = with_tools.contains('intel') or with_tools.contains('intel-ui')
with_imgui = with_intel_tools or with_vulkan_overlay_layer

dri_drivers_path = get_option('dri-drivers-path')
if dri_drivers_path == ''
  dri_drivers_path = join_paths(get_option('prefix'), get_option('libdir'), 'dri')
endif
dri_search_path = get_option('dri-search-path')
if dri_search_path == ''
  dri_search_path = dri_drivers_path
endif

gbm_backends_path = get_option('gbm-backends-path')
if gbm_backends_path == ''
  gbm_backends_path = join_paths(get_option('prefix'), get_option('libdir'), 'gbm')
endif

with_gles1 = get_option('gles1')
if with_gles1 == 'true'
  with_gles1 = 'enabled'
  warning('gles1 option "true" deprecated, please use "enabled" instead.')
elif with_gles1 == 'false'
  with_gles1 = 'disabled'
  warning('gles1 option "false" deprecated, please use "disabled" instead.')
endif
with_gles2 = get_option('gles2')
if with_gles2 == 'true'
  with_gles2 = 'enabled'
  warning('gles2 option "true" deprecated, please use "enabled" instead.')
elif with_gles2 == 'false'
  with_gles2 = 'disabled'
  warning('gles2 option "false" deprecated, please use "disabled" instead.')
endif
if host_machine.system() == 'windows'
  if with_gles1 == 'auto'
    with_gles1 = 'disabled'
  endif
  if with_gles2 == 'auto'
    with_gles2 = 'disabled'
  endif
endif
with_opengl = get_option('opengl')

# Default shared glapi off for windows, on elsewhere.
_sg = get_option('shared-glapi')
if _sg == 'true'
  _sg = 'enabled'
  warning('shared-glapi option "true" deprecated, please use "enabled" instead.')
elif _sg == 'false'
  _sg = 'disabled'
  warning('shared-glapi option "false" deprecated, please use "disabled" instead.')
endif
if _sg == 'auto'
  with_shared_glapi = host_machine.system() != 'windows'
else
  with_shared_glapi = _sg == 'enabled'
endif

# shared-glapi is required if at least two OpenGL APIs are being built
if not with_shared_glapi
  if ((with_gles1 == 'enabled' and with_gles2 == 'enabled') or
      (with_gles1 == 'enabled' and with_opengl) or
      (with_gles2 == 'enabled' and with_opengl))
    error('shared-glapi required for building two or more of OpenGL, OpenGL ES 1.x, OpenGL ES 2.x')
  endif
  with_gles1 = 'disabled'
  with_gles2 = 'disabled'
endif

# We require OpenGL for OpenGL ES
if not with_opengl
  if (with_gles1 == 'enabled' or with_gles2 == 'enabled') and not with_opengl
    error('building OpenGL ES without OpenGL is not supported.')
  endif
  with_gles1 = 'disabled'
  with_gles2 = 'disabled'
endif

with_gles1 = with_gles1 != 'disabled'
with_gles2 = with_gles2 != 'disabled'
with_any_opengl = with_opengl or with_gles1 or with_gles2
# Only build shared_glapi if at least one OpenGL API is enabled
with_shared_glapi = with_shared_glapi and with_any_opengl

system_has_kms_drm = ['openbsd', 'netbsd', 'freebsd', 'gnu/kfreebsd', 'dragonfly', 'linux', 'sunos'].contains(host_machine.system())

dri_drivers = get_option('dri-drivers')
if dri_drivers.length() != 0
  error('Mesa\'s main branch no longer has any "classic" drivers, use the "amber" branch instead.')
endif

gallium_drivers = get_option('gallium-drivers')
if gallium_drivers.contains('auto')
  if system_has_kms_drm
    # TODO: PPC, Sparc
    if ['x86', 'x86_64'].contains(host_machine.cpu_family())
      gallium_drivers = [
        'r300', 'r600', 'radeonsi', 'nouveau', 'virgl', 'svga', 'swrast',
        'iris', 'crocus', 'i915'
      ]
    elif ['arm', 'aarch64'].contains(host_machine.cpu_family())
      gallium_drivers = [
        'v3d', 'vc4', 'freedreno', 'etnaviv', 'nouveau',
        'tegra', 'virgl', 'lima', 'panfrost', 'swrast'
      ]
    elif ['mips', 'mips64', 'riscv32', 'riscv64'].contains(host_machine.cpu_family())
      gallium_drivers = [
        'r300', 'r600', 'radeonsi', 'nouveau', 'virgl', 'swrast'
      ]
    else
      error('Unknown architecture @0@. Please pass -Dgallium-drivers to set driver options. Patches gladly accepted to fix this.'.format(
            host_machine.cpu_family()))
    endif
  elif ['darwin', 'windows', 'cygwin', 'haiku'].contains(host_machine.system())
    gallium_drivers = ['swrast']
  else
    error('Unknown OS @0@. Please pass -Dgallium-drivers to set driver options. Patches gladly accepted to fix this.'.format(
          host_machine.system()))
  endif
endif
with_gallium_radeonsi = gallium_drivers.contains('radeonsi')
with_gallium_r300 = gallium_drivers.contains('r300')
with_gallium_r600 = gallium_drivers.contains('r600')
with_gallium_nouveau = gallium_drivers.contains('nouveau')
with_gallium_freedreno = gallium_drivers.contains('freedreno')
with_gallium_softpipe = gallium_drivers.contains('swrast')
with_gallium_vc4 = gallium_drivers.contains('vc4')
with_gallium_v3d = gallium_drivers.contains('v3d')
with_gallium_panfrost = gallium_drivers.contains('panfrost')
with_gallium_etnaviv = gallium_drivers.contains('etnaviv')
with_gallium_tegra = gallium_drivers.contains('tegra')
with_gallium_crocus = gallium_drivers.contains('crocus')
with_gallium_iris = gallium_drivers.contains('iris')
with_gallium_i915 = gallium_drivers.contains('i915')
with_gallium_svga = gallium_drivers.contains('svga')
with_gallium_virgl = gallium_drivers.contains('virgl')
with_gallium_lima = gallium_drivers.contains('lima')
with_gallium_zink = gallium_drivers.contains('zink')
with_gallium_d3d12 = gallium_drivers.contains('d3d12')
with_gallium_asahi = gallium_drivers.contains('asahi')
foreach gallium_driver : gallium_drivers
  pre_args += '-DHAVE_@0@'.format(gallium_driver.to_upper())
endforeach

with_gallium = gallium_drivers.length() != 0
with_gallium_kmsro = with_gallium_v3d or with_gallium_vc4 or with_gallium_etnaviv or with_gallium_panfrost or with_gallium_lima or with_gallium_freedreno

with_dri = false
if with_gallium and system_has_kms_drm
  _glx = get_option('glx')
  _egl = get_option('egl')
  if _glx == 'dri' or _egl == 'enabled' or (_glx == 'disabled' and _egl != 'disabled')
    with_dri = true
  endif
endif

_vulkan_drivers = get_option('vulkan-drivers')
if _vulkan_drivers.contains('auto')
  if system_has_kms_drm
    if host_machine.cpu_family().startswith('x86')
      _vulkan_drivers = ['amd', 'intel', 'swrast']
    elif ['arm', 'aarch64'].contains(host_machine.cpu_family())
      _vulkan_drivers = ['swrast']
    elif ['mips', 'mips64', 'riscv32', 'riscv64'].contains(host_machine.cpu_family())
      _vulkan_drivers = ['amd', 'swrast']
    else
      error('Unknown architecture @0@. Please pass -Dvulkan-drivers to set driver options. Patches gladly accepted to fix this.'.format(
            host_machine.cpu_family()))
    endif
  elif ['darwin', 'windows', 'cygwin', 'haiku'].contains(host_machine.system())
    # No vulkan driver supports windows or macOS currently
    _vulkan_drivers = []
  else
    error('Unknown OS @0@. Please pass -Dvulkan-drivers to set driver options. Patches gladly accepted to fix this.'.format(
          host_machine.system()))
  endif
endif

with_intel_vk = _vulkan_drivers.contains('intel')
with_amd_vk = _vulkan_drivers.contains('amd')
with_freedreno_vk = _vulkan_drivers.contains('freedreno')
with_panfrost_vk = _vulkan_drivers.contains('panfrost')
with_swrast_vk = _vulkan_drivers.contains('swrast')
with_virtio_vk = _vulkan_drivers.contains('virtio-experimental')
with_freedreno_kgsl = get_option('freedreno-kgsl')
with_freedreno_virtio = get_option('freedreno-virtio')
with_broadcom_vk = _vulkan_drivers.contains('broadcom')
with_imagination_vk = _vulkan_drivers.contains('imagination-experimental')
with_imagination_srv = get_option('imagination-srv')
with_microsoft_vk = _vulkan_drivers.contains('microsoft-experimental')
with_any_vk = _vulkan_drivers.length() != 0

with_any_broadcom = with_gallium_vc4 or with_gallium_v3d or with_broadcom_vk
with_any_intel = with_intel_vk or with_gallium_iris or with_gallium_crocus or with_intel_tools

if with_swrast_vk and not with_gallium_softpipe
  error('swrast vulkan requires gallium swrast')
endif
if with_gallium_tegra and not with_gallium_nouveau
  error('tegra driver requires nouveau driver')
endif
if with_aco_tests and not with_amd_vk
  error('ACO tests require Radv')
endif

with_microsoft_clc = get_option('microsoft-clc').enabled()
with_intel_clc = get_option('intel-clc').enabled()
with_clc = with_microsoft_clc or with_intel_clc
with_libclc = with_clc
with_spirv_to_dxil = get_option('spirv-to-dxil')

if host_machine.system() == 'darwin'
  with_dri_platform = 'apple'
  pre_args += '-DBUILDING_MESA'
elif ['windows', 'cygwin'].contains(host_machine.system())
  with_dri_platform = 'windows'
elif system_has_kms_drm
  with_dri_platform = 'drm'
else
  # FIXME: haiku doesn't use dri, and xlib doesn't use dri, probably should
  # assert here that one of those cases has been met.
  # FIXME: illumos ends up here as well
  with_dri_platform = 'none'
endif

with_vulkan_beta = get_option('vulkan-beta')
if with_vulkan_beta
  pre_args += '-DVK_ENABLE_BETA_EXTENSIONS'
endif

_codecs = get_option('video-codecs')
foreach c : ['vc1dec', 'h264dec', 'h264enc', 'h265dec', 'h265enc']
   pre_args += '-DVIDEO_CODEC_@0@=@1@'.format(c.to_upper(), _codecs.contains(c).to_int())
endforeach

_platforms = get_option('platforms')
if _platforms.contains('auto')
  if system_has_kms_drm
    _platforms = ['x11', 'wayland']
  elif ['darwin', 'cygwin'].contains(host_machine.system())
    _platforms = ['x11']
  elif ['haiku'].contains(host_machine.system())
    _platforms = ['haiku']
  elif host_machine.system() == 'windows'
    _platforms = ['windows']
  else
    error('Unknown OS @0@. Please pass -Dplatforms to set platforms. Patches gladly accepted to fix this.'.format(
          host_machine.system()))
  endif
endif

with_platform_android = _platforms.contains('android')
with_platform_x11 = _platforms.contains('x11')
with_platform_wayland = _platforms.contains('wayland')
with_platform_haiku = _platforms.contains('haiku')
with_platform_windows = _platforms.contains('windows')

with_glx = get_option('glx')
if with_glx == 'auto'
  if with_platform_android
    with_glx = 'disabled'
  elif with_dri
    with_glx = 'dri'
  elif with_platform_haiku
    with_glx = 'disabled'
  elif host_machine.system() == 'windows'
    with_glx = 'disabled'
  elif with_gallium
    # Even when building just gallium drivers the user probably wants dri
    with_glx = 'dri'
  elif with_platform_x11 and with_any_opengl and not with_any_vk
    # The automatic behavior should not be to turn on xlib based glx when
    # building only vulkan drivers
    with_glx = 'xlib'
  else
    with_glx = 'disabled'
  endif
endif
if with_glx == 'dri'
   if with_gallium
      with_dri = true
   endif
endif

if not (with_dri or with_gallium or with_glx != 'disabled')
  with_gles1 = false
  with_gles2 = false
  with_opengl = false
  with_any_opengl = false
  with_shared_glapi = false
endif

_gbm = get_option('gbm')
if _gbm == 'true'
  _gbm = 'enabled'
  warning('gbm option "true" deprecated, please use "enabled" instead.')
elif _gbm == 'false'
  _gbm = 'disabled'
  warning('gbm option "false" deprecated, please use "disabled" instead.')
endif
if _gbm == 'auto'
  with_gbm = system_has_kms_drm and with_dri
else
  with_gbm = _gbm == 'enabled'
endif
if with_gbm and not system_has_kms_drm
  error('GBM only supports DRM/KMS platforms')
endif

_xlib_lease = get_option('xlib-lease')
if _xlib_lease == 'true'
  _xlib_lease = 'enabled'
  warning('xlib_lease option "true" deprecated, please use "enabled" instead.')
elif _xlib_lease == 'false'
  _xlib_lease = 'disabled'
  warning('xlib_lease option "false" deprecated, please use "disabled" instead.')
endif
if _xlib_lease == 'auto'
  with_xlib_lease = with_platform_x11 and system_has_kms_drm
else
  with_xlib_lease = _xlib_lease == 'enabled'
endif

if with_platform_wayland
  c_args += '-DVK_USE_PLATFORM_WAYLAND_KHR'
  #add this once aco and other places can build with it
  #cpp_args += '-DVK_USE_PLATFORM_WAYLAND_KHR'
endif
if with_platform_x11
  c_args += ['-DVK_USE_PLATFORM_XCB_KHR', '-DVK_USE_PLATFORM_XLIB_KHR']
  #add this once aco and other places can build with it
  #cpp_args += ['-DVK_USE_PLATFORM_XCB_KHR', '-DVK_USE_PLATFORM_XLIB_KHR']
endif
if with_platform_windows
  c_args += '-DVK_USE_PLATFORM_WIN32_KHR'
  #add this once aco and other places can build with it
  #cpp_args += '-DVK_USE_PLATFORM_WIN32_KHR'
endif
if with_platform_android
  c_args += '-DVK_USE_PLATFORM_ANDROID_KHR'
  cpp_args += '-DVK_USE_PLATFORM_ANDROID_KHR'
endif
if with_xlib_lease
  c_args += '-DVK_USE_PLATFORM_XLIB_XRANDR_EXT'
  #add this once aco and other places can build with it
  #cpp_args += '-DVK_USE_PLATFORM_XLIB_XRANDR_EXT'
endif
if system_has_kms_drm and not with_platform_android
  c_args += '-DVK_USE_PLATFORM_DISPLAY_KHR'
  cpp_args += '-DVK_USE_PLATFORM_DISPLAY_KHR'
endif
if host_machine.system() == 'darwin'
  c_args += '-DVK_USE_PLATFORM_MACOS_MVK'
  cpp_args += '-DVK_USE_PLATFORM_MACOS_MVK'
  c_args += '-DVK_USE_PLATFORM_METAL_EXT'
  cpp_args += '-DVK_USE_PLATFORM_METAL_EXT'
  #macOS seems to need beta extensions to build for now:
  c_args += '-DVK_ENABLE_BETA_EXTENSIONS'
  cpp_args += '-DVK_ENABLE_BETA_EXTENSIONS'
endif

_egl = get_option('egl')
if _egl == 'true'
  _egl = 'enabled'
  warning('egl option "true" deprecated, please use "enabled" instead.')
elif _egl == 'false'
  _egl = 'disabled'
  warning('egl option "false" deprecated, please use "disabled" instead.')
endif
if _egl == 'auto'
  with_egl = (
    host_machine.system() != 'darwin' and
    (with_platform_windows or with_dri) and
    with_shared_glapi
  )
elif _egl == 'enabled'
  if not with_dri and not with_platform_haiku and not with_platform_windows
    error('EGL requires dri, haiku, or windows')
  elif not with_shared_glapi
    error('EGL requires shared-glapi')
  elif not ['disabled', 'dri'].contains(with_glx)
    error('EGL requires dri, but a GLX is being built without dri')
  elif host_machine.system() == 'darwin'
    error('EGL is not available on MacOS')
  endif
  with_egl = true
else
  with_egl = false
endif

if with_egl
  _platforms += 'surfaceless'
  if with_gbm and not with_platform_android
    _platforms += 'drm'
  endif

  egl_native_platform = get_option('egl-native-platform')
  if egl_native_platform.contains('auto')
    egl_native_platform = _platforms[0]
  endif
endif

if with_egl and not _platforms.contains(egl_native_platform)
  error('-Degl-native-platform does not specify an enabled platform')
endif

if 'x11' in _platforms
  _platforms += 'xcb'
endif

foreach platform : _platforms
  pre_args += '-DHAVE_@0@_PLATFORM'.format(platform.to_upper())
endforeach

if with_platform_android and get_option('platform-sdk-version') >= 29
  # By default the NDK compiler, at least, emits emutls references instead of
  # ELF TLS, even when building targeting newer API levels.  Make it actually do
  # ELF TLS instead.
  c_args += '-fno-emulated-tls'
  cpp_args += '-fno-emulated-tls'
endif

# -mtls-dialect=gnu2 speeds up non-initial-exec TLS significantly but requires
# full toolchain (including libc) support.
have_mtls_dialect = false
foreach c_arg : get_option('c_args')
  if c_arg.startswith('-mtls-dialect=')
    have_mtls_dialect = true
    break
  endif
endforeach
if not have_mtls_dialect
  # need .run to check libc support. meson aborts when calling .run when
  # cross-compiling, but because this is just an optimization we can skip it
  if meson.is_cross_build() and not meson.has_exe_wrapper()
    warning('cannot auto-detect -mtls-dialect when cross-compiling, using compiler default')
  else
    # -fpic to force dynamic tls, otherwise TLS relaxation defeats check
    gnu2_test = cc.run('int __thread x; int main() { return x; }',
                       args: ['-mtls-dialect=gnu2', '-fpic'],
                       name: '-mtls-dialect=gnu2')
    if gnu2_test.returncode() == 0 and (
          # check for lld 13 bug: https://gitlab.freedesktop.org/mesa/mesa/-/issues/5665
          host_machine.cpu_family() != 'x86_64' or
          # get_linker_id misses LDFLAGS=-fuse-ld=lld: https://github.com/mesonbuild/meson/issues/6377
          #cc.get_linker_id() != 'ld.lld' or
          cc.links('''int __thread x; int y; int main() { __asm__(
                "leaq x@TLSDESC(%rip), %rax\n"
                "movq y@GOTPCREL(%rip), %rdx\n"
                "call *x@TLSCALL(%rax)\n"); }''', name: 'split TLSDESC')
          )
      c_args += '-mtls-dialect=gnu2'
      cpp_args += '-mtls-dialect=gnu2'
    endif
  endif
endif

if with_glx != 'disabled'
  if not (with_platform_x11 and with_any_opengl)
    error('Cannot build GLX support without X11 platform support and at least one OpenGL API')
  elif with_glx == 'xlib'
    if not with_gallium
      error('xlib based GLX requires at least one gallium driver')
    elif not with_gallium_softpipe
      error('xlib based GLX requires softpipe or llvmpipe.')
    elif with_dri
      error('xlib conflicts with any dri driver')
    endif
  elif with_glx == 'dri'
    if not with_shared_glapi
      error('dri based GLX requires shared-glapi')
    endif
  endif
endif

with_glvnd = get_option('glvnd')
glvnd_vendor_name = get_option('glvnd-vendor-name')
if with_glvnd
  if with_platform_windows
    error('glvnd cannot be used on Windows')
  elif with_glx == 'xlib'
    error('Cannot build glvnd support for GLX that is not DRI based.')
  elif with_glx == 'disabled' and not with_egl
    error('glvnd requires DRI based GLX and/or EGL')
  endif
  if get_option('egl-lib-suffix') != ''
    error('''EGL lib suffix can't be used with libglvnd''')
  endif
endif

if with_vulkan_icd_dir == ''
  with_vulkan_icd_dir = join_paths(get_option('datadir'), 'vulkan/icd.d')
endif

# GNU/Hurd includes egl_dri2, without drm.
with_dri2 = (with_dri or with_any_vk) and (with_dri_platform == 'drm' or
  host_machine.system() == 'gnu')
_dri3 = get_option('dri3')
if _dri3 == 'true'
  _dri3 = 'enabled'
  warning('dri3 option "true" deprecated, please use "enabled" instead.')
elif _dri3 == 'false'
  _dri3 = 'disabled'
  warning('dri3 option "false" deprecated, please use "disabled" instead.')
endif
if _dri3 == 'auto'
  with_dri3 = system_has_kms_drm and with_dri2
else
  with_dri3 = _dri3 == 'enabled'
endif

if with_any_vk and (with_platform_x11 and not with_dri3)
  error('Vulkan drivers require dri3 for X11 support')
endif
if with_dri
  if with_glx == 'disabled' and not with_egl and not with_gbm
    error('building dri drivers require at least one windowing system')
  endif
endif

if with_gallium_kmsro and (with_platform_x11 and not with_dri3)
  error('kmsro requires dri3 for X11 support')
endif

dep_dxheaders = null_dep
if with_gallium_d3d12 or with_microsoft_clc or with_microsoft_vk
  dep_dxheaders = dependency('directx-headers', required : false)
  if not dep_dxheaders.found()
    dep_dxheaders = dependency('DirectX-Headers',
      version : '>= 1.602.0',
      fallback : ['DirectX-Headers', 'dep_dxheaders'],
      required : with_gallium_d3d12 or with_microsoft_vk
    )
  endif
endif

_with_gallium_d3d12_video = get_option('gallium-d3d12-video')
with_gallium_d3d12_video = false
if with_gallium_d3d12 and not _with_gallium_d3d12_video.disabled()
  with_gallium_d3d12_video = true
  pre_args += '-DHAVE_GALLIUM_D3D12_VIDEO'
endif

_vdpau = get_option('gallium-vdpau')
if _vdpau == 'true'
  _vdpau = 'enabled'
  warning('gallium-vdpau option "true" deprecated, please use "enabled" instead.')
elif _vdpau == 'false'
  _vdpau = 'disabled'
  warning('gallium-vdpau option "false" deprecated, please use "disabled" instead.')
endif
if not system_has_kms_drm
  if _vdpau == 'enabled'
    error('VDPAU state tracker can only be build on unix-like OSes.')
  else
    _vdpau = 'disabled'
  endif
elif not with_platform_x11
  if _vdpau == 'enabled'
    error('VDPAU state tracker requires X11 support.')
  else
    _vdpau = 'disabled'
  endif
elif not (with_gallium_r300 or with_gallium_r600 or with_gallium_radeonsi or
          with_gallium_nouveau or with_gallium_d3d12_video)
  if _vdpau == 'enabled'
    error('VDPAU state tracker requires at least one of the following gallium drivers: r300, r600, radeonsi, nouveau, d3d12 (with option gallium-d3d12-video).')
  else
    _vdpau = 'disabled'
  endif
endif
dep_vdpau = null_dep
with_gallium_vdpau = false
if _vdpau != 'disabled'
  dep_vdpau = dependency('vdpau', version : '>= 1.1', required : _vdpau == 'enabled')
  if dep_vdpau.found()
    dep_vdpau = dep_vdpau.partial_dependency(compile_args : true)
    with_gallium_vdpau = true
  endif
endif

if with_gallium_vdpau
  pre_args += '-DHAVE_ST_VDPAU'
endif
vdpau_drivers_path = get_option('vdpau-libs-path')
if vdpau_drivers_path == ''
  vdpau_drivers_path = join_paths(get_option('libdir'), 'vdpau')
endif

if with_vulkan_overlay_layer or with_aco_tests or with_amd_vk
  prog_glslang = find_program('glslangValidator')
  if run_command(prog_glslang, [ '--quiet', '--version' ], check : false).returncode() == 0
    glslang_quiet = ['--quiet']
  else
    glslang_quiet = []
  endif
endif

_xvmc = get_option('gallium-xvmc')
if _xvmc == 'true'
  _xvmc = 'enabled'
  warning('gallium-xvmc option "true" deprecated, please use "enabled" instead.')
elif _xvmc == 'false'
  _xvmc = 'disabled'
  warning('gallium-xvmc option "false" deprecated, please use "disabled" instead.')
endif
if not system_has_kms_drm
  if _xvmc == 'enabled'
    error('XVMC state tracker can only be build on unix-like OSes.')
  else
    _xvmc = 'disabled'
  endif
elif not with_platform_x11
  if _xvmc == 'enabled'
    error('XVMC state tracker requires X11 support.')
  else
    _xvmc = 'disabled'
  endif
elif not (with_gallium_r600 or with_gallium_nouveau)
  if _xvmc == 'enabled'
    error('XVMC state tracker requires at least one of the following gallium drivers: r600, nouveau.')
  else
    _xvmc = 'disabled'
  endif
endif
dep_xvmc = null_dep
dep_xv = null_dep
with_gallium_xvmc = false
if _xvmc != 'disabled'
  dep_xvmc = dependency('xvmc', version : '>= 1.0.6', required : _xvmc == 'enabled')
  dep_xv = dependency('xv', required : _xvmc == 'enabled')
  with_gallium_xvmc = dep_xvmc.found() and dep_xv.found()
endif

xvmc_drivers_path = get_option('xvmc-libs-path')
if xvmc_drivers_path == ''
  xvmc_drivers_path = get_option('libdir')
endif

_omx = get_option('gallium-omx')
if not system_has_kms_drm
  if ['auto', 'disabled'].contains(_omx)
    _omx = 'disabled'
  else
    error('OMX state tracker can only be built on unix-like OSes.')
  endif
elif not (with_gallium_r600 or with_gallium_radeonsi or with_gallium_nouveau)
  if ['auto', 'disabled'].contains(_omx)
    _omx = 'disabled'
  else
    error('OMX state tracker requires at least one of the following gallium drivers: r600, radeonsi, nouveau.')
  endif
endif
with_gallium_omx = _omx
dep_omx = null_dep
dep_omx_other = []
if ['auto', 'bellagio'].contains(_omx)
  dep_omx = dependency(
    'libomxil-bellagio', required : _omx == 'bellagio'
  )
  if dep_omx.found()
    with_gallium_omx = 'bellagio'
  endif
endif
if ['auto', 'tizonia'].contains(_omx)
  if with_dri and with_egl
    dep_omx = dependency(
      'libtizonia', version : '>= 0.10.0',
      required : _omx == 'tizonia',
    )
    dep_omx_other = [
      dependency('libtizplatform', required : _omx == 'tizonia'),
      dependency('tizilheaders', required : _omx == 'tizonia'),
    ]
    if dep_omx.found() and dep_omx_other[0].found() and dep_omx_other[1].found()
      with_gallium_omx = 'tizonia'
    endif
  elif _omx == 'tizonia'
    error('OMX-Tizonia state tracker requires dri and egl')
  endif
endif
if _omx == 'auto'
  with_gallium_omx = 'disabled'
else
  with_gallium_omx = _omx
endif

pre_args += [
  '-DENABLE_ST_OMX_BELLAGIO=' + (with_gallium_omx == 'bellagio' ? '1' : '0'),
  '-DENABLE_ST_OMX_TIZONIA=' + (with_gallium_omx == 'tizonia' ? '1' : '0'),
]


omx_drivers_path = get_option('omx-libs-path')

if with_gallium_omx != 'disabled'
  # Figure out where to put the omx driver.
  # FIXME: this could all be vastly simplified by adding a 'defined_variable'
  # argument to meson's get_variable method.
  if omx_drivers_path == ''
    _omx_libdir = dep_omx.get_variable(pkgconfig : 'libdir')
    _omx_drivers_dir = dep_omx.get_variable(pkgconfig : 'pluginsdir')
    if _omx_libdir == get_option('libdir')
      omx_drivers_path = _omx_drivers_dir
    else
      _omx_base_dir = []
      # This will fail on windows. Does OMX run on windows?
      _omx_libdir = _omx_libdir.split('/')
      _omx_drivers_dir = _omx_drivers_dir.split('/')
      foreach o : _omx_drivers_dir
        if not _omx_libdir.contains(o)
          _omx_base_dir += o
        endif
      endforeach
      omx_drivers_path = join_paths(get_option('libdir'), _omx_base_dir)
    endif
  endif
endif

_va = get_option('gallium-va')
if _va == 'true'
  _va = 'enabled'
  warning('gallium-va option "true" deprecated, please use "enabled" instead.')
elif _va == 'false'
  _va = 'disabled'
  warning('gallium-va option "false" deprecated, please use "disabled" instead.')
endif
if not system_has_kms_drm
  if _va == 'enabled'
    error('VA state tracker can only be built on unix-like OSes.')
  else
    _va = 'disabled'
  endif
elif not (with_gallium_r600 or with_gallium_radeonsi or with_gallium_nouveau or with_gallium_d3d12_video)
  if _va == 'enabled'
    error('VA state tracker requires at least one of the following gallium drivers: r600, radeonsi, nouveau, d3d12 (with option gallium-d3d12-video).')
  else
    _va = 'disabled'
  endif
endif
with_gallium_va = false
dep_va = null_dep
if _va != 'disabled'
  dep_va = dependency('libva', version : '>= 1.8.0', required : _va == 'enabled')
  if dep_va.found()
    dep_va_headers = dep_va.partial_dependency(compile_args : true)
    with_gallium_va = true
    if cc.has_header_symbol('va/va.h', 'VASurfaceAttribDRMFormatModifiers',
                            dependencies: dep_va_headers)
      pre_args += '-DHAVE_VA_SURFACE_ATTRIB_DRM_FORMAT_MODIFIERS'
    endif
  endif
endif

va_drivers_path = get_option('va-libs-path')
if va_drivers_path == ''
  va_drivers_path = join_paths(get_option('libdir'), 'dri')
endif

_xa = get_option('gallium-xa')
if _xa == 'true'
  _xa = 'enabled'
  warning('gallium-xa option "true" deprecated, please use "enabled" instead.')
elif _xa == 'false'
  _xa = 'disabled'
  warning('gallium-xa option "false" deprecated, please use "disabled" instead.')
endif
if not system_has_kms_drm
  if _xa == 'enabled'
    error('XA state tracker can only be built on unix-like OSes.')
  else
    _xa = 'disabled'
  endif
elif not (with_gallium_nouveau or with_gallium_freedreno or with_gallium_i915
          or with_gallium_svga)
  if _xa == 'enabled'
    error('XA state tracker requires at least one of the following gallium drivers: nouveau, freedreno, i915, svga.')
  else
    _xa = 'disabled'
  endif
endif
with_gallium_xa = _xa != 'disabled'

d3d_drivers_path = get_option('d3d-drivers-path')
if d3d_drivers_path == ''
  d3d_drivers_path = join_paths(get_option('prefix'), get_option('libdir'), 'd3d')
endif

with_gallium_st_nine =  get_option('gallium-nine')
if with_gallium_st_nine
  if not with_gallium_softpipe
    error('The nine state tracker requires gallium softpipe/llvmpipe.')
  elif not (with_gallium_radeonsi or with_gallium_nouveau or with_gallium_r600
            or with_gallium_r300 or with_gallium_svga or with_gallium_i915
            or with_gallium_iris or with_gallium_crocus or with_gallium_zink)
    error('The nine state tracker requires at least one non-swrast gallium driver.')
  endif
  if not with_dri3
    error('Using nine with wine requires dri3')
  endif
endif
with_gallium_st_d3d10umd =  get_option('gallium-d3d10umd')
if with_gallium_st_d3d10umd
  if not with_gallium_softpipe
    error('The d3d10umd state tracker requires gallium softpipe/llvmpipe.')
  endif
endif
_power8 = get_option('power8')
if _power8 == 'true'
  _power8 = 'enabled'
  warning('power8 option "true" deprecated, please use "enabled" instead.')
elif _power8 == 'false'
  _power8 = 'disabled'
  warning('power8 option "false" deprecated, please use "disabled" instead.')
endif
if _power8 != 'disabled'
  if host_machine.cpu_family() == 'ppc64' and host_machine.endian() == 'little'
    if cc.get_id() == 'gcc' and cc.version().version_compare('< 4.8')
      error('Altivec is not supported with gcc version < 4.8.')
    endif
    if cc.compiles('''
        #include <altivec.h>
        int main() {
          vector unsigned char r;
          vector unsigned int v = vec_splat_u32 (1);
          r = __builtin_vec_vgbbd ((vector unsigned char) v);
          return 0;
        }''',
        args : '-mpower8-vector',
        name : 'POWER8 intrinsics')
      pre_args += ['-D_ARCH_PWR8', '-mpower8-vector']
    elif get_option('power8') == 'enabled'
      error('POWER8 intrinsic support required but not found.')
    endif
  endif
endif

if get_option('vmware-mks-stats')
  if not with_gallium_svga
    error('vmware-mks-stats requires gallium VMware/svga driver.')
  endif
  pre_args += '-DVMX86_STATS=1'
endif

_opencl = get_option('gallium-opencl')
_rtti = get_option('cpp_rtti')
if _opencl != 'disabled'
  if not with_gallium
    error('OpenCL Clover implementation requires at least one gallium driver.')
  endif
  if not _rtti
    error('The Clover OpenCL state tracker requires rtti')
  endif

  with_libclc = true
  with_gallium_opencl = true
  with_opencl_icd = _opencl == 'icd'
else
  with_gallium_opencl = false
  with_opencl_icd = false
endif

dep_clc = null_dep
if with_libclc
  dep_clc = dependency('libclc')
endif

gl_pkgconfig_c_flags = []
if with_platform_x11
  if with_glx == 'xlib' or with_glx == 'gallium-xlib'
    pre_args += '-DUSE_XSHM'
  else
    pre_args += '-DGLX_INDIRECT_RENDERING'
    if with_glx_direct
      pre_args += '-DGLX_DIRECT_RENDERING'
    endif
    if with_dri_platform == 'drm'
      pre_args += '-DGLX_USE_DRM'
    elif with_dri_platform == 'apple'
      pre_args += '-DGLX_USE_APPLEGL'
    elif with_dri_platform == 'windows'
      pre_args += '-DGLX_USE_WINDOWSGL'
    endif
  endif
else
  pre_args += '-DEGL_NO_X11'
  gl_pkgconfig_c_flags += '-DEGL_NO_X11'
endif

with_android_stub = get_option('android-stub')
if with_android_stub and not with_platform_android
  error('`-D android-stub=true` makes no sense without `-D platforms=android`')
endif

if with_platform_android
  dep_android_mapper4 = null_dep
  if not with_android_stub
    dep_android = [
      dependency('cutils'),
      dependency('hardware'),
      dependency('sync'),
      dependency('backtrace')
    ]
    if get_option('platform-sdk-version') >= 26
      dep_android += dependency('nativewindow')
    endif
    if get_option('platform-sdk-version') >= 30
      dep_android_mapper4 = dependency('android.hardware.graphics.mapper', version : '>= 4.0', required : false)
    endif
  endif
  pre_args += [
    '-DANDROID',
    '-DANDROID_API_LEVEL=' + get_option('platform-sdk-version').to_string()
  ]
endif

prog_python = import('python').find_installation('python3')
has_mako = run_command(
  prog_python, '-c',
  '''
from distutils.version import StrictVersion
import mako
assert StrictVersion(mako.__version__) > StrictVersion("0.8.0")
  ''', check: false)
if has_mako.returncode() != 0
  error('Python (3.x) mako module >= 0.8.0 required to build mesa.')
endif

if cc.get_id() == 'gcc' and cc.version().version_compare('< 4.4.6')
  error('When using GCC, version 4.4.6 or later is required.')
endif

# Support systems without ETIME (e.g. FreeBSD)
if cc.get_define('ETIME', prefix : '#include <errno.h>') == ''
  pre_args += '-DETIME=ETIMEDOUT'
endif

# Define DEBUG for debug builds only (debugoptimized is not included on this one)
if get_option('buildtype') == 'debug'
  pre_args += '-DDEBUG'
endif

with_shader_cache = false
_shader_cache = get_option('shader-cache')
if _shader_cache == 'true'
  _shader_cache = 'enabled'
  warning('shader_cache option "true" deprecated, please use "enabled" instead.')
elif _shader_cache == 'false'
  _shader_cache = 'disabled'
  warning('shader_cache option "false" deprecated, please use "disabled" instead.')
endif
if _shader_cache != 'disabled'
  if host_machine.system() == 'windows'
    if _shader_cache == 'enabled'
      error('Shader Cache does not currently work on Windows')
    endif
  else
    pre_args += '-DENABLE_SHADER_CACHE'
    if not get_option('shader-cache-default')
      pre_args += '-DSHADER_CACHE_DISABLE_BY_DEFAULT'
    endif
    with_shader_cache = true
  endif
endif

if with_shader_cache
  shader_cache_max_size = get_option('shader-cache-max-size')
  if shader_cache_max_size != ''
    pre_args += '-DMESA_SHADER_CACHE_MAX_SIZE="@0@"'.format(shader_cache_max_size)
  endif
endif

# Check for GCC style builtins
foreach b : ['bswap32', 'bswap64', 'clz', 'clzll', 'ctz', 'expect', 'ffs',
             'ffsll', 'popcount', 'popcountll', 'unreachable', 'types_compatible_p']
  if cc.has_function(b)
    pre_args += '-DHAVE___BUILTIN_@0@'.format(b.to_upper())
  endif
endforeach

# check for GCC __attribute__
_attributes = [
  'const', 'flatten', 'malloc', 'pure', 'unused', 'warn_unused_result',
  'weak', 'format', 'packed', 'returns_nonnull', 'alias', 'noreturn',
]
foreach a : cc.get_supported_function_attributes(_attributes)
  pre_args += '-DHAVE_FUNC_ATTRIBUTE_@0@'.format(a.to_upper())
endforeach
if cc.has_function_attribute('visibility:hidden')
  pre_args += '-DHAVE_FUNC_ATTRIBUTE_VISIBILITY'
endif
if cc.compiles('__uint128_t foo(void) { return 0; }',
               name : '__uint128_t')
  pre_args += '-DHAVE_UINT128'
endif

if cc.has_function('reallocarray')
   pre_args += '-DHAVE_REALLOCARRAY'
endif

# TODO: this is very incomplete
if ['linux', 'cygwin', 'gnu', 'freebsd', 'gnu/kfreebsd', 'haiku', 'android'].contains(host_machine.system())
  pre_args += '-D_GNU_SOURCE'
elif host_machine.system() == 'sunos'
  pre_args += '-D__EXTENSIONS__'
elif host_machine.system() == 'windows'
  pre_args += [
    '-D_WINDOWS', '-D_WIN32_WINNT=0x0A00', '-DWINVER=0x0A00',
    '-DPIPE_SUBSYSTEM_WINDOWS_USER',
    '-D_USE_MATH_DEFINES',  # XXX: scons didn't use this for mingw
  ]
  if cc.get_argument_syntax() == 'msvc'
    pre_args += [
      '-DVC_EXTRALEAN',
      '-D_CRT_SECURE_NO_WARNINGS',
      '-D_CRT_SECURE_NO_DEPRECATE',
      '-D_SCL_SECURE_NO_WARNINGS',
      '-D_SCL_SECURE_NO_DEPRECATE',
      '-D_ALLOW_KEYWORD_MACROS',
      '-D_HAS_EXCEPTIONS=0', # Tell C++ STL to not use exceptions
      '-DNOMINMAX',
    ]
  else
    # When the target is not mingw/ucrt
    # NOTE: clang's stddef.h are conflict with mingw/ucrt's stddef.h
    # So do not include headers that defined in clang for detecting
    # _UCRT
    if cc.compiles('''
      #include <string.h>
      #if defined(__MINGW32__) && defined(_UCRT)
      #error
      #endif
      int main(void) { return 0; }''')
      pre_args += ['-D__MSVCRT_VERSION__=0x0700']
    endif
  endif
elif host_machine.system() == 'openbsd'
  pre_args += '-D_ISOC11_SOURCE'
endif

# Check for generic C arguments
c_msvc_compat_args = []
no_override_init_args = []
cpp_msvc_compat_args = []
if cc.get_argument_syntax() == 'msvc'
  _trial = [
    '/wd4018',  # signed/unsigned mismatch
    '/wd4056',  # overflow in floating-point constant arithmetic
    '/wd4244',  # conversion from 'type1' to 'type2', possible loss of data
    '/wd4267',  # 'var' : conversion from 'size_t' to 'type', possible loss of data
    '/wd4305',  # trancation from 'type1' to 'type2'
    '/wd4351',  # new behavior: elements of array 'array' will be default initialized
    '/wd4756',  # overflow in constant arithmetic
    '/wd4800',  # forcing value to bool 'true' or 'false' (performance warning)
    '/wd4996',  # disabled deprecated POSIX name warnings
    '/wd4291',  # no matching operator delete found
    '/wd4146',  # unary minus operator applied to unsigned type, result still unsigned
    '/wd4200',  # nonstandard extension used: zero-sized array in struct/union
    '/wd4624',  # destructor was implicitly defined as deleted [from LLVM]
    '/wd4309',  # 'initializing': truncation of constant value
    '/wd4838',  # conversion from 'int' to 'const char' requires a narrowing conversion
    '/wd5105',  # macro expansion producing 'defined' has undefined behavior (winbase.h, need Windows SDK upgrade)
    '/we4020',  # Error when passing the wrong number of parameters
    '/we4024',  # Error when passing different type of parameter
    '/Zc:__cplusplus', #Set __cplusplus macro to match the /std:c++<version> on the command line
  ]
  c_args += cc.get_supported_arguments(_trial)
  cpp_args += cpp.get_supported_arguments(_trial)
else
  _trial_c = [
    '-Werror=implicit-function-declaration',
    '-Werror=missing-prototypes',
    '-Werror=return-type',
    '-Werror=empty-body',
    '-Werror=incompatible-pointer-types',
    '-Werror=int-conversion',
    '-Wimplicit-fallthrough',
    '-Wno-missing-field-initializers',
    '-Wno-format-truncation',
    '-fno-math-errno',
    '-fno-trapping-math',
    '-Qunused-arguments',
    '-fno-common',
    # Clang
    '-Wno-microsoft-enum-value',
    '-Wno-unused-function',
  ]
  _trial_cpp = [
    '-Werror=return-type',
    '-Werror=empty-body',
    '-Wno-non-virtual-dtor',
    '-Wno-missing-field-initializers',
    '-Wno-format-truncation',
    '-fno-math-errno',
    '-fno-trapping-math',
    '-Qunused-arguments',
    # Some classes use custom new operator which zeroes memory, however
    # gcc does aggressive dead-store elimination which threats all writes
    # to the memory before the constructor as "dead stores".
    # For now we disable this optimization.
    '-flifetime-dse=1',
    # Clang
    '-Wno-microsoft-enum-value',
  ]

  # MinGW chokes on format specifiers and I can't get it all working
  if not (cc.get_argument_syntax() == 'gcc' and host_machine.system() == 'windows')
    _trial_c += ['-Werror=format', '-Wformat-security']
    _trial_cpp += ['-Werror=format', '-Wformat-security']
  endif

  # FreeBSD annotated <pthread.h> but Mesa isn't ready
  if not (cc.get_id() == 'clang' and host_machine.system() == 'freebsd')
    _trial_c += ['-Werror=thread-safety']
  endif

  # If the compiler supports it, put function and data symbols in their
  # own sections and GC the sections after linking.  This lets drivers
  # drop shared code unused by that specific driver (particularly
  # relevant for Vulkan drivers).
  if cc.has_link_argument('-Wl,--gc-sections')
    _trial_c += ['-ffunction-sections', '-fdata-sections']
    _trial_cpp += ['-ffunction-sections', '-fdata-sections']
  endif

  # Variables that are only used for assertions are considered unused in release
  # builds. Don't treat this as an error, since we build with -Werror even for
  # release in CI.
  if get_option('buildtype') == 'release'
    _trial_c += ['-Wno-unused-variable', '-Wno-unused-but-set-variable']
    _trial_cpp += ['-Wno-unused-variable', '-Wno-unused-but-set-variable']
  endif

  c_args += cc.get_supported_arguments(_trial_c)
  cpp_args += cpp.get_supported_arguments(_trial_cpp)

  no_override_init_args += cc.get_supported_arguments(
    ['-Wno-override-init', '-Wno-initializer-overrides']
  )

  # Check for C and C++ arguments for MSVC compatibility. These are only used
  # in parts of the mesa code base that need to compile with MSVC, mainly
  # common code
  _trial_msvc = ['-Werror=pointer-arith', '-Werror=vla', '-Werror=gnu-empty-initializer']
  c_msvc_compat_args += cc.get_supported_arguments(_trial_msvc)
  cpp_msvc_compat_args += cpp.get_supported_arguments(_trial_msvc)
endif

# set linker arguments
if host_machine.system() == 'windows'
  if cc.get_argument_syntax() == 'msvc'
    add_project_link_arguments(
      '/fixed:no',
      '/dynamicbase',
      '/nxcompat',
      language : ['c', 'cpp'],
    )
    if get_option('buildtype') != 'debug'
      add_project_link_arguments(
        '/incremental:no',
        language : ['c', 'cpp'],
      )
    endif
  else
    add_project_link_arguments(
      cc.get_supported_link_arguments(
        '-Wl,--nxcompat',
        '-Wl,--dynamicbase',
        '-static-libgcc',
        '-static-libstdc++',
      ),
      language : ['c'],
    )
    add_project_link_arguments(
      cpp.get_supported_link_arguments(
        '-Wl,--nxcompat',
        '-Wl,--dynamicbase',
        '-static-libgcc',
        '-static-libstdc++',
      ),
      language : ['cpp'],
    )
  endif
endif

if host_machine.cpu_family().startswith('x86') and cc.get_argument_syntax() != 'msvc'
  pre_args += '-DUSE_SSE41'
  with_sse41 = true
  sse41_args = ['-msse4.1']

  if host_machine.cpu_family() == 'x86'
    if get_option('sse2')
      # These settings make generated GCC code match MSVC and follow
      # GCC advice on https://gcc.gnu.org/wiki/FloatingPointMath#x86note
      #
      # NOTE: We need to ensure stack is realigned given that we
      # produce shared objects, and have no control over the stack
      # alignment policy of the application. Therefore we need
      # -mstackrealign or -mincoming-stack-boundary=2.
      #
      # XXX: We could have SSE without -mstackrealign if we always used
      # __attribute__((force_align_arg_pointer)), but that's not
      # always the case.
      c_args += ['-msse2', '-mfpmath=sse', '-mstackrealign']
    else
      # GCC on x86 (not x86_64) with -msse* assumes a 16 byte aligned stack, but
      # that's not guaranteed
      sse41_args += '-mstackrealign'
    endif
  endif
else
  with_sse41 = false
  sse41_args = []
endif

# Check for GCC style atomics
dep_atomic = null_dep

if cc.compiles('''#include <stdint.h>
                  int main() {
                    struct {
                      uint64_t *v;
                    } x;
                    return (int)__atomic_load_n(x.v, __ATOMIC_ACQUIRE) &
                           (int)__atomic_add_fetch(x.v, (uint64_t)1, __ATOMIC_ACQ_REL);

                  }''',
               name : 'GCC atomic builtins')
  pre_args += '-DUSE_GCC_ATOMIC_BUILTINS'

  # Not all atomic calls can be turned into lock-free instructions, in which
  # GCC will make calls into the libatomic library. Check whether we need to
  # link with -latomic.
  #
  # This can happen for 64-bit atomic operations on 32-bit architectures such
  # as ARM.
  if not cc.links('''#include <stdint.h>
                     int main() {
                       struct {
                         uint64_t *v;
                       } x;
                       return (int)__atomic_load_n(x.v, __ATOMIC_ACQUIRE) &
                              (int)__atomic_add_fetch(x.v, (uint64_t)1, __ATOMIC_ACQ_REL);
                     }''',
                  name : 'GCC atomic builtins required -latomic')
    dep_atomic = cc.find_library('atomic')
  endif
endif
if not cc.links('''#include <stdint.h>
                   uint64_t v;
                   int main() {
                     return __sync_add_and_fetch(&v, (uint64_t)1);
                   }''',
                dependencies : dep_atomic,
                name : 'GCC 64bit atomics')
  pre_args += '-DMISSING_64BIT_ATOMICS'
endif

dep_ws2_32 = cc.find_library('ws2_32', required : with_platform_windows)

# TODO: shared/static? Is this even worth doing?

with_asm_arch = ''
if host_machine.cpu_family() == 'x86'
  if system_has_kms_drm or host_machine.system() == 'gnu'
    with_asm_arch = 'x86'
    pre_args += ['-DUSE_X86_ASM', '-DUSE_MMX_ASM', '-DUSE_3DNOW_ASM',
                 '-DUSE_SSE_ASM']

    if with_glx_read_only_text
      pre_args += ['-DGLX_X86_READONLY_TEXT']
    endif
  endif
elif host_machine.cpu_family() == 'x86_64'
  if system_has_kms_drm
    with_asm_arch = 'x86_64'
    pre_args += ['-DUSE_X86_64_ASM']
  endif
elif host_machine.cpu_family() == 'arm'
  if system_has_kms_drm
    with_asm_arch = 'arm'
    pre_args += ['-DUSE_ARM_ASM']
  endif
elif host_machine.cpu_family() == 'aarch64'
  if system_has_kms_drm
    with_asm_arch = 'aarch64'
    pre_args += ['-DUSE_AARCH64_ASM']
  endif
elif host_machine.cpu_family() == 'sparc64'
  if system_has_kms_drm
    with_asm_arch = 'sparc'
    pre_args += ['-DUSE_SPARC_ASM']
  endif
elif host_machine.cpu_family() == 'ppc64' and host_machine.endian() == 'little'
  if system_has_kms_drm
    with_asm_arch = 'ppc64le'
    pre_args += ['-DUSE_PPC64LE_ASM']
  endif
elif host_machine.cpu_family() == 'mips64' and host_machine.endian() == 'little'
  if system_has_kms_drm
    with_asm_arch = 'mips64el'
    pre_args += ['-DUSE_MIPS64EL_ASM']
  endif
endif

# Check for standard headers and functions
if (cc.has_header_symbol('sys/sysmacros.h', 'major') and
  cc.has_header_symbol('sys/sysmacros.h', 'minor') and
  cc.has_header_symbol('sys/sysmacros.h', 'makedev'))
  pre_args += '-DMAJOR_IN_SYSMACROS'
endif
if (cc.has_header_symbol('sys/mkdev.h', 'major') and
  cc.has_header_symbol('sys/mkdev.h', 'minor') and
  cc.has_header_symbol('sys/mkdev.h', 'makedev'))
  pre_args += '-DMAJOR_IN_MKDEV'
endif

if cc.check_header('sched.h')
  pre_args += '-DHAS_SCHED_H'
  if cc.has_function('sched_getaffinity')
    pre_args += '-DHAS_SCHED_GETAFFINITY'
  endif
endif

if not ['linux'].contains(host_machine.system())
  # Deprecated on Linux and requires <sys/types.h> on FreeBSD and OpenBSD
  if cc.check_header('sys/sysctl.h', prefix : '#include <sys/types.h>')
    pre_args += '-DHAVE_SYS_SYSCTL_H'
  endif
endif

foreach h : ['xlocale.h', 'linux/futex.h', 'endian.h', 'dlfcn.h', 'sys/shm.h', 'cet.h', 'pthread_np.h']
  if cc.check_header(h)
    pre_args += '-DHAVE_@0@'.format(h.to_upper().underscorify())
  endif
endforeach

functions_to_detect = {
  'strtof': '',
  'mkostemp': '',
  'timespec_get': '#include <time.h>',
  'memfd_create': '',
  'random_r': '',
  'flock': '',
  'strtok_r': '',
  'getrandom': '',
  'qsort_r': '',
  'qsort_s': '',
}

foreach f, prefix: functions_to_detect
  if cc.has_function(f, prefix: prefix)
    pre_args += '-DHAVE_@0@'.format(f.to_upper())
  endif
endforeach

if cc.has_header_symbol('time.h', 'struct timespec')
   pre_args += '-DHAVE_STRUCT_TIMESPEC'
endif

if cc.has_header_symbol('errno.h', 'program_invocation_name',
                        args : '-D_GNU_SOURCE')
   pre_args += '-DHAVE_PROGRAM_INVOCATION_NAME'
elif with_tools.contains('intel')
  error('Intel tools require the program_invocation_name variable')
endif

if cc.has_header_symbol('math.h', 'issignaling',
                        args : '-D_GNU_SOURCE')
   pre_args += '-DHAVE_ISSIGNALING'
endif

# MinGW provides a __builtin_posix_memalign function, but not a posix_memalign.
# This means that this check will succeed, but then compilation will later
# fail. MSVC doesn't have this function at all, so only check for it on
# non-windows platforms.
if host_machine.system() != 'windows'
  if cc.has_function('posix_memalign')
    pre_args += '-DHAVE_POSIX_MEMALIGN'
  endif
endif

if cc.has_member('struct dirent', 'd_type', prefix: '''#include <sys/types.h>
   #include <dirent.h>''')
   pre_args += '-DHAVE_DIRENT_D_TYPE'
endif

# strtod locale support
if cc.links('''
    #define _GNU_SOURCE
    #include <stdlib.h>
    #include <locale.h>
    #ifdef HAVE_XLOCALE_H
    #include <xlocale.h>
    #endif
    int main() {
      locale_t loc = newlocale(LC_CTYPE_MASK, "C", NULL);
      const char *s = "1.0";
      char *end;
      double d = strtod_l(s, end, loc);
      float f = strtof_l(s, end, loc);
      freelocale(loc);
      return 0;
    }''',
    args : pre_args,
    name : 'strtod has locale support')
  pre_args += '-DHAVE_STRTOD_L'
endif

# Check for some linker flags
ld_args_bsymbolic = []
if cc.links('int main() { return 0; }', args : '-Wl,-Bsymbolic', name : 'Bsymbolic')
  ld_args_bsymbolic += '-Wl,-Bsymbolic'
endif
ld_args_gc_sections = []
if cc.links('static char unused() { return 5; } int main() { return 0; }',
            args : '-Wl,--gc-sections', name : 'gc-sections')
  ld_args_gc_sections += '-Wl,--gc-sections'
endif
with_ld_version_script = false
if cc.links('int main() { return 0; }',
            args : '-Wl,--version-script=@0@'.format(
              join_paths(meson.source_root(), 'build-support/conftest.map')),
            name : 'version-script')
  with_ld_version_script = true
endif
with_ld_dynamic_list = false
if cc.links('int main() { return 0; }',
            args : '-Wl,--dynamic-list=@0@'.format(
              join_paths(meson.source_root(), 'build-support/conftest.dyn')),
            name : 'dynamic-list')
  with_ld_dynamic_list = true
endif

ld_args_build_id = cc.get_supported_link_arguments('-Wl,--build-id=sha1')

# check for dl support
dep_dl = null_dep
if host_machine.system() != 'windows'
  if not cc.has_function('dlopen')
    dep_dl = cc.find_library('dl', required : true)
  endif
  if cc.has_function('dladdr', dependencies : dep_dl)
    # This is really only required for util/disk_cache.h
    pre_args += '-DHAVE_DLADDR'
  endif
endif

if cc.has_function('dl_iterate_phdr')
  pre_args += '-DHAVE_DL_ITERATE_PHDR'
elif with_intel_vk
  error('Intel "Anvil" Vulkan driver requires the dl_iterate_phdr function')
endif

# Determine whether or not the rt library is needed for time functions
if host_machine.system() == 'windows' or cc.has_function('clock_gettime')
  dep_clock = null_dep
else
  dep_clock = cc.find_library('rt')
endif

dep_zlib = dependency('zlib', version : '>= 1.2.3',
                      fallback : ['zlib', 'zlib_dep'],
                      required : get_option('zlib'))
if dep_zlib.found()
  pre_args += '-DHAVE_ZLIB'
endif

_zstd = get_option('zstd')
if _zstd == 'true'
  _zstd = 'enabled'
  warning('zstd option "true" deprecated, please use "enabled" instead.')
elif _zstd == 'false'
  _zstd = 'disabled'
  warning('zstd option "false" deprecated, please use "disabled" instead.')
endif
if _zstd != 'disabled'
  dep_zstd = dependency('libzstd', required : _zstd == 'enabled')
  if dep_zstd.found()
    pre_args += '-DHAVE_ZSTD'
  endif
else
  dep_zstd = null_dep
endif

with_compression = dep_zlib.found() or dep_zstd.found()
if with_compression
  pre_args += '-DHAVE_COMPRESSION'
elif with_shader_cache
  error('Shader Cache requires compression')
endif

dep_thread = dependency('threads')
if dep_thread.found() and host_machine.system() != 'windows'
  pre_args += '-DHAVE_PTHREAD'
  if host_machine.system() != 'netbsd' and cc.has_function(
      'pthread_setaffinity_np',
      dependencies : dep_thread,
      prefix : '#include <pthread.h>',
      args : '-D_GNU_SOURCE')
    pre_args += '-DHAVE_PTHREAD_SETAFFINITY'
  endif
endif
if host_machine.system() == 'darwin'
  dep_expat = meson.get_compiler('c').find_library('expat')
elif host_machine.system() != 'windows'
  dep_expat = dependency('expat', fallback : ['expat', 'expat_dep'],
                         required: not with_platform_android)
else
  dep_expat = null_dep
endif
# this only exists on linux so either this is linux and it will be found, or
# it's not linux and wont
dep_m = cc.find_library('m', required : false)

if host_machine.system() == 'windows'
  dep_regex = meson.get_compiler('c').find_library('regex', required : false)
  if not dep_regex.found()
    dep_regex = declare_dependency(compile_args : ['-DNO_REGEX'])
  endif
else
  dep_regex = null_dep
endif

if with_platform_haiku
  dep_network = cc.find_library('network')
endif

dep_futex = null_dep
if host_machine.system() == 'windows'
  if (get_option('min-windows-version') < 8)
    dep_futex = declare_dependency(compile_args : ['-DWINDOWS_NO_FUTEX'])
  else
    dep_futex = cc.find_library('synchronization', required : true)
  endif
endif

# Check for libdrm. Various drivers have different libdrm version requirements,
# but we always want to use the same version for all libdrm modules. That means
# even if driver foo requires 2.4.0 and driver bar requires 2.4.3, if foo and
# bar are both on use 2.4.3 for both of them
dep_libdrm_amdgpu = null_dep
dep_libdrm_radeon = null_dep
dep_libdrm_nouveau = null_dep
dep_libdrm_intel = null_dep

_drm_amdgpu_ver = '2.4.110'
_drm_radeon_ver = '2.4.71'
_drm_nouveau_ver = '2.4.102'
_drm_intel_ver = '2.4.75'
_drm_ver = '2.4.109'

_libdrm_checks = [
  ['intel', with_gallium_i915],
  ['amdgpu', (with_amd_vk and not with_platform_windows) or with_gallium_radeonsi],
  ['radeon', (with_gallium_radeonsi or with_gallium_r300 or with_gallium_r600)],
  ['nouveau', with_gallium_nouveau],
]

# Loop over the enables versions and get the highest libdrm requirement for all
# active drivers.
_drm_blame = ''
foreach d : _libdrm_checks
  ver = get_variable('_drm_@0@_ver'.format(d[0]))
  if d[1] and ver.version_compare('>' + _drm_ver)
    _drm_ver = ver
    _drm_blame = d[0]
  endif
endforeach
if _drm_blame != ''
  message('libdrm @0@ needed because @1@ has the highest requirement'.format(_drm_ver, _drm_blame))
endif

# Then get each libdrm module
foreach d : _libdrm_checks
  if d[1]
    set_variable(
      'dep_libdrm_' + d[0],
      dependency('libdrm_' + d[0], version : '>=' + _drm_ver)
    )
  endif
endforeach

with_gallium_drisw_kms = false
dep_libdrm = dependency(
  'libdrm', version : '>=' + _drm_ver,
  # GNU/Hurd includes egl_dri2, without drm.
  required : (with_dri2 and host_machine.system() != 'gnu') or with_dri3
)
if dep_libdrm.found()
  pre_args += '-DHAVE_LIBDRM'
  if with_dri_platform == 'drm' and with_dri
    with_gallium_drisw_kms = true
  endif
endif

dep_libudev = dependency('libudev', required : false)
if dep_libudev.found()
  pre_args += '-DHAVE_LIBUDEV'
endif

llvm_modules = ['bitwriter', 'engine', 'mcdisassembler', 'mcjit', 'core', 'executionengine', 'scalaropts', 'transformutils', 'instcombine']
llvm_optional_modules = ['coroutines']
if with_amd_vk or with_gallium_radeonsi or with_gallium_r600
  llvm_modules += ['amdgpu', 'native', 'bitreader', 'ipo']
  if with_gallium_r600
    llvm_modules += 'asmparser'
  endif
endif
if with_gallium_opencl
  llvm_modules += [
    'linker', 'coverage', 'instrumentation', 'ipo', 'irreader',
    'lto', 'option', 'objcarcopts', 'profiledata'
  ]
  llvm_optional_modules += ['all-targets', 'frontendopenmp']
endif
if with_clc
  llvm_modules += ['coverage', 'target', 'linker', 'irreader', 'option', 'libdriver', 'lto']
endif
if with_tests or with_gallium_softpipe
  llvm_modules += 'native'
endif

if with_amd_vk or with_gallium_radeonsi
  _llvm_version = '>= 11.0.0'
elif with_clc
  _llvm_version = '>= 10.0.0'
elif with_gallium_opencl
  _llvm_version = '>= 8.0.0'
else
  _llvm_version = '>= 3.9.0'
endif

_shared_llvm = get_option('shared-llvm')
if _shared_llvm == 'true'
  _shared_llvm = 'enabled'
  warning('shared_llvm option "true" deprecated, please use "enabled" instead.')
elif _shared_llvm == 'false'
  _shared_llvm = 'disabled'
  warning('shared_llvm option "false" deprecated, please use "disabled" instead.')
endif
if _shared_llvm == 'auto'
  _shared_llvm = (host_machine.system() != 'windows')
else
  _shared_llvm = (_shared_llvm == 'enabled')
endif
_llvm = get_option('llvm')
if _llvm == 'true'
  _llvm = 'enabled'
  warning('llvm option "true" deprecated, please use "enabled" instead.')
elif _llvm == 'false'
  _llvm = 'disabled'
  warning('llvm option "false" deprecated, please use "disabled" instead.')
endif

# the cmake method can only link statically, so don't attempt to use it if we
# want to link dynamically. Before 0.54.0 meson will try cmake even when shared
# linking is requested, so we need to force the config-tool method to be used
# in that case, but in 0.54.0 meson won't try the cmake method if shared
# linking is requested.
_llvm_method = 'auto'
if meson.version().version_compare('< 0.54.0') and _shared_llvm
  _llvm_method = 'config-tool'
endif

dep_llvm = null_dep
with_llvm = false
draw_with_llvm = get_option('draw-use-llvm')
if _llvm != 'disabled'
  dep_llvm = dependency(
    'llvm',
    version : _llvm_version,
    modules : llvm_modules,
    optional_modules : llvm_optional_modules,
    required : (
      with_amd_vk or with_gallium_radeonsi or with_gallium_opencl or with_clc
      or _llvm == 'enabled'
    ),
    static : not _shared_llvm,
    method : _llvm_method,
    fallback : ['llvm', 'dep_llvm'],
    include_type : 'system',
  )
  with_llvm = dep_llvm.found()
endif
if with_llvm
  pre_args += '-DLLVM_AVAILABLE'
  pre_args += '-DMESA_LLVM_VERSION_STRING="@0@"'.format(dep_llvm.version())
  pre_args += '-DLLVM_IS_SHARED=@0@'.format(_shared_llvm.to_int())

  if draw_with_llvm
    pre_args += '-DDRAW_LLVM_AVAILABLE'
  elif with_swrast_vk
    error('Lavapipe requires LLVM draw support.')
  endif

  if host_machine.system() != 'windows'
    # LLVM can be built without rtti, turning off rtti changes the ABI of C++
    # programs, so we need to build all C++ code in mesa without rtti as well to
    # ensure that linking works. Note that Win32 compilers does handle mismatching RTTI
    # without issues, so only apply this for other compilers.
    if dep_llvm.type_name() == 'internal'
      _llvm_rtti = subproject('llvm').get_variable('has_rtti', true)
    else
      # The CMake finder will return 'ON', the llvm-config will return 'YES'
      _llvm_rtti = ['ON', 'YES'].contains(dep_llvm.get_variable(cmake : 'LLVM_ENABLE_RTTI', configtool: 'has-rtti'))
    endif
    if _rtti != _llvm_rtti
      if _llvm_rtti
        error('LLVM was built with RTTI, cannot build Mesa with RTTI disabled. Remove cpp_rtti disable switch or use LLVM built without LLVM_ENABLE_RTTI.')
      else
        error('LLVM was built without RTTI, so Mesa must also disable RTTI. Use an LLVM built with LLVM_ENABLE_RTTI or add cpp_rtti=false.')
      endif
    endif
  endif

  if cc.get_argument_syntax() == 'msvc'
    # Suppress "/DELAYLOAD:ole32.dll/shell32.dll ignored" warnings that LLVM adds
    add_project_link_arguments(
      '/ignore:4199',
      language : ['c', 'cpp'],
    )
  endif
elif with_amd_vk and with_aco_tests
  error('ACO tests require LLVM, but LLVM is disabled.')
elif with_gallium_radeonsi or with_swrast_vk
  error('The following drivers require LLVM: RadeonSI, SWR, Lavapipe. One of these is enabled, but LLVM is disabled.')
elif with_gallium_opencl
  error('The OpenCL "Clover" state tracker requires LLVM, but LLVM is disabled.')
elif with_clc
  error('The CLC compiler requires LLVM, but LLVM is disabled.')
else
  draw_with_llvm = false
endif

with_opencl_spirv = (_opencl != 'disabled' and get_option('opencl-spirv')) or with_clc
if with_opencl_spirv
  chosen_llvm_version_array = dep_llvm.version().split('.')
  chosen_llvm_version_major = chosen_llvm_version_array[0].to_int()
  chosen_llvm_version_minor = chosen_llvm_version_array[1].to_int()

  # Require an SPIRV-LLVM-Translator version compatible with the chosen LLVM
  # one.
  _llvmspirvlib_version = [
    # This first version check is still needed as maybe LLVM 8.0 was picked but
    # we do not want to accept SPIRV-LLVM-Translator 8.0.0.1 as that version does
    # not have the required API and those are only available starting from
    # 8.0.1.3.
    '>= 8.0.1.3',
    '>= @0@.@1@'.format(chosen_llvm_version_major, chosen_llvm_version_minor),
    '< @0@.@1@'.format(chosen_llvm_version_major, chosen_llvm_version_minor + 1) ]

  dep_spirv_tools = dependency('SPIRV-Tools', required : true, version : '>= 2018.0')
  # LLVMSPIRVLib is available at https://github.com/KhronosGroup/SPIRV-LLVM-Translator
  dep_llvmspirvlib = dependency('LLVMSPIRVLib', required : true, version : _llvmspirvlib_version)
else
  dep_spirv_tools = null_dep
  dep_llvmspirvlib = null_dep
endif

dep_clang = null_dep
if with_clc
  llvm_libdir = dep_llvm.get_variable(cmake : 'LLVM_LIBRARY_DIR', configtool: 'libdir')

  dep_clang = cpp.find_library('clang-cpp', dirs : llvm_libdir, required : false)

  if not dep_clang.found()
    clang_modules = [
      'clangBasic', 'clangAST', 'clangCodeGen', 'clangLex',
      'clangDriver', 'clangFrontend', 'clangFrontendTool',
      'clangHandleCXX', 'clangHandleLLVM', 'clangSerialization',
      'clangSema', 'clangParse', 'clangEdit', 'clangAnalysis'
    ]

    dep_clang = []
    foreach m : clang_modules
      dep_clang += cpp.find_library(m, dirs : llvm_libdir, required : true)
    endforeach
  endif
endif

# Be explicit about only using this lib on Windows, to avoid picking
# up random libs with the generic name 'libversion'
dep_version = null_dep
if host_machine.system() == 'windows'
  dep_version = cpp.find_library('version')
endif

with_opencl_native = _opencl != 'disabled' and get_option('opencl-native')

if (with_amd_vk or with_gallium_radeonsi or
    (with_gallium_opencl and with_opencl_native) or
    (with_gallium_r600 and with_llvm))
  if with_platform_windows
    dep_elf = dependency('libelf', required : false, fallback : ['libelf', 'libelf_dep'])
  else
    dep_elf = dependency('libelf', required : false)
  endif
  if not dep_elf.found()
    dep_elf = cc.find_library('elf')
  endif
else
  dep_elf = null_dep
endif

dep_glvnd = null_dep
if with_glvnd
  dep_glvnd = dependency('libglvnd', version : '>= 1.3.2')
  pre_args += '-DUSE_LIBGLVND=1'
endif

_valgrind = get_option('valgrind')
if _valgrind == 'true'
  _valgrind = 'enabled'
  warning('valgrind option "true" deprecated, please use "enabled" instead.')
elif _valgrind == 'false'
  _valgrind = 'disabled'
  warning('valgrind option "false" deprecated, please use "disabled" instead.')
endif
if _valgrind != 'disabled'
  dep_valgrind = dependency('valgrind', required : _valgrind == 'enabled')
  if dep_valgrind.found()
    pre_args += '-DHAVE_VALGRIND'
  endif
else
  dep_valgrind = null_dep
endif

# AddressSanitizer's leak reports need all the symbols to be present at exit to
# decode well, which runs afoul of our dlopen()/dlclose()ing of the DRI drivers.
# Set a flag so we can skip the dlclose for asan builds.
if ['address', 'address,undefined'].contains(get_option('b_sanitize'))
  asan_c_args = ['-DBUILT_WITH_ASAN=1']
else
  asan_c_args = ['-DBUILT_WITH_ASAN=0']
endif

yacc_is_bison = true

if build_machine.system() == 'windows'
  # Prefer the winflexbison versions, they're much easier to install and have
  # better windows support.

  prog_flex = find_program('win_flex', required : false)
  if prog_flex.found()
    # windows compatibility (uses <io.h> instead of <unistd.h> and _isatty,
    # _fileno functions)
    prog_flex = [prog_flex, '--wincompat']
  else
    prog_flex = [find_program('flex', 'lex', required : with_any_opengl)]
  endif
  # Force flex to use const keyword in prototypes, as relies on __cplusplus or
  # __STDC__ macro to determine whether it's safe to use const keyword
  prog_flex += '-DYY_USE_CONST='

  prog_flex_cpp = prog_flex
  # Convince win_flex to use <inttypes.h> for C++ files
  # Note that we are using a C99 version here rather than C11,
  # because using a C11 version can cause the MSVC CRT headers to define
  # static_assert to _Static_assert, which breaks other parts of the CRT
  prog_flex_cpp += '-D__STDC_VERSION__=199901'

  prog_bison = find_program('win_bison', required : false)
  if not prog_bison.found()
    prog_bison = find_program('bison', 'yacc', required : with_any_opengl)
  endif
else
  prog_bison = find_program('bison', required : false)

  if not prog_bison.found()
    prog_bison = find_program('byacc', required : with_any_opengl)
    yacc_is_bison = false
  endif

  # Disable deprecated keyword warnings, since we have to use them for
  # old-bison compat.  See discussion in
  # https://gitlab.freedesktop.org/mesa/mesa/merge_requests/2161
  if find_program('bison', required : false, version : '> 2.3').found()
    prog_bison = [prog_bison, '-Wno-deprecated']
  endif

  prog_flex = find_program('flex', required : with_any_opengl)
  prog_flex_cpp = prog_flex
endif

dep_selinux = null_dep
if get_option('selinux')
  if get_option('execmem') != true
    warning('execmem option is disabled, selinux will not be able to use execmem.')
  endif
  dep_selinux = dependency('libselinux')
  pre_args += '-DMESA_SELINUX'
endif

if get_option('execmem')
  pre_args += '-DMESA_EXECMEM'
endif

_libunwind = get_option('libunwind')
if _libunwind == 'true'
  _libunwind = 'enabled'
  warning('libunwind option "true" deprecated, please use "enabled" instead.')
elif _libunwind == 'false'
  _libunwind = 'disabled'
  warning('libunwind option "false" deprecated, please use "disabled" instead.')
endif
if _libunwind != 'disabled' and not with_platform_android
  if host_machine.system() == 'darwin'
    dep_unwind = meson.get_compiler('c').find_library('System')
  else
    dep_unwind = dependency('libunwind', required : _libunwind == 'enabled')
  endif
  if dep_unwind.found()
    pre_args += '-DHAVE_LIBUNWIND'
  endif
else
  dep_unwind = null_dep
endif

if with_osmesa
  if not with_gallium_softpipe
    error('OSMesa gallium requires gallium softpipe or llvmpipe.')
  endif
  if host_machine.system() == 'windows'
    osmesa_lib_name = 'osmesa'
  else
    osmesa_lib_name = 'OSMesa'
  endif
  osmesa_bits = get_option('osmesa-bits')
  if osmesa_bits != 'unspecified'
    warning('osmesa-bits option is deprecated and have no effect, please remove it.')
  endif
endif

# TODO: symbol mangling

if with_platform_wayland
  dep_wl_scanner = dependency('wayland-scanner', native: true)
  prog_wl_scanner = find_program(dep_wl_scanner.get_variable(pkgconfig : 'wayland_scanner'))
  if dep_wl_scanner.version().version_compare('>= 1.15')
    wl_scanner_arg = 'private-code'
  else
    wl_scanner_arg = 'code'
  endif
  dep_wl_protocols = dependency('wayland-protocols', version : '>= 1.24')
  dep_wayland_client = dependency('wayland-client', version : '>=1.18')
  dep_wayland_server = dependency('wayland-server', version : '>=1.18')
  if with_egl
    dep_wayland_egl = dependency('wayland-egl-backend', version : '>= 3')
    dep_wayland_egl_headers = dep_wayland_egl.partial_dependency(compile_args : true)
  endif
  wayland_dmabuf_xml = join_paths(
    dep_wl_protocols.get_variable(pkgconfig : 'pkgdatadir'), 'unstable',
    'linux-dmabuf', 'linux-dmabuf-unstable-v1.xml'
  )
  pre_args += '-DWL_HIDE_DEPRECATED'
endif

dep_x11 = null_dep
dep_xext = null_dep
dep_xfixes = null_dep
dep_x11_xcb = null_dep
dep_xcb = null_dep
dep_xcb_glx = null_dep
dep_xcb_dri2 = null_dep
dep_xcb_dri3 = null_dep
dep_dri2proto = null_dep
dep_glproto = null_dep
dep_xxf86vm = null_dep
dep_xcb_dri3 = null_dep
dep_xcb_present = null_dep
dep_xcb_sync = null_dep
dep_xcb_xfixes = null_dep
dep_xshmfence = null_dep
dep_xcb_xrandr = null_dep
dep_xcb_shm = null_dep
dep_xlib_xrandr = null_dep
dep_openmp = null_dep

# Even if we find OpenMP, Gitlab CI fails to link with gcc/i386 and clang/anyarch.
if host_machine.cpu_family() == 'x86_64' and cc.get_id() == 'gcc'
  dep_openmp = dependency('openmp', required : false)
  if dep_openmp.found()
    pre_args += ['-DHAVE_OPENMP']
  endif
endif

with_dri3_modifiers = false
if with_platform_x11
  if with_glx == 'xlib' or with_glx == 'gallium-xlib'
    dep_x11 = dependency('x11')
    dep_xext = dependency('xext')
    dep_xcb = dependency('xcb')
    dep_xcb_xrandr = dependency('xcb-randr')
  elif with_glx == 'dri'
    dep_x11 = dependency('x11')
    dep_xext = dependency('xext')
    dep_xfixes = dependency('xfixes', version : '>= 2.0')
    dep_xcb_glx = dependency('xcb-glx', version : '>= 1.8.1')
    dep_xcb_shm = dependency('xcb-shm')
  endif
  if (with_any_vk or with_glx == 'dri' or with_egl or
       (with_gallium_vdpau or with_gallium_xvmc or with_gallium_va or
        with_gallium_omx != 'disabled'))
    dep_xcb = dependency('xcb')
    dep_x11_xcb = dependency('x11-xcb')
    if with_dri_platform == 'drm' and not dep_libdrm.found()
      error('libdrm required for gallium video statetrackers when using x11')
    endif
  endif
  if with_any_vk or with_egl or (with_glx == 'dri' and with_dri_platform == 'drm')
    dep_xcb_dri2 = dependency('xcb-dri2', version : '>= 1.8')

    if with_dri3
      dep_xcb_dri3 = dependency('xcb-dri3')
      dep_xcb_present = dependency('xcb-present')
      # until xcb-dri3 has been around long enough to make a hard-dependency:
      if (dep_xcb_dri3.version().version_compare('>= 1.13') and
          dep_xcb_present.version().version_compare('>= 1.13'))
        with_dri3_modifiers = true
      endif
      dep_xcb_shm = dependency('xcb-shm')
      dep_xcb_sync = dependency('xcb-sync')
      dep_xshmfence = dependency('xshmfence', version : '>= 1.1')
    endif
  endif
  if with_glx == 'dri' or with_glx == 'gallium-xlib'
    dep_glproto = dependency('glproto', version : '>= 1.4.14')
  endif
  if with_glx == 'dri'
    if with_dri_platform == 'drm'
      dep_dri2proto = dependency('dri2proto', version : '>= 2.8')
      if with_glx_direct
        dep_xxf86vm = dependency('xxf86vm')
      endif
    endif
  endif
  if (with_egl or
      with_dri3 or (
      with_gallium_vdpau or with_gallium_xvmc or with_gallium_xa or
      with_gallium_omx != 'disabled'))
    dep_xcb_xfixes = dependency('xcb-xfixes')
  endif
  if with_xlib_lease or with_any_vk
    dep_xcb_xrandr = dependency('xcb-randr')
  endif
  if with_xlib_lease
    dep_xlib_xrandr = dependency('xrandr', version : '>= 1.3')
  endif
endif

if with_dri
  pre_args += '-DHAVE_DRI'
endif
if with_dri2
  pre_args += '-DHAVE_DRI2'
endif
if with_dri3
  pre_args += '-DHAVE_DRI3'
endif
if with_dri3_modifiers
  pre_args += '-DHAVE_DRI3_MODIFIERS'
endif
if with_gallium_drisw_kms
  pre_args += '-DHAVE_DRISW_KMS'
endif

if get_option('gallium-extra-hud')
  pre_args += '-DHAVE_GALLIUM_EXTRA_HUD=1'
endif

_sensors = get_option('lmsensors')
if _sensors == 'true'
  _sensors = 'enabled'
  warning('lmsensors option "true" deprecated, please use "enabled" instead.')
elif _sensors == 'false'
  _sensors = 'disabled'
  warning('lmsensors option "false" deprecated, please use "disabled" instead.')
endif
if _sensors != 'disabled'
  dep_lmsensors = cc.find_library('sensors', required : _sensors == 'enabled')
  if dep_lmsensors.found()
    pre_args += '-DHAVE_LIBSENSORS=1'
  endif
else
  dep_lmsensors = null_dep
endif

_shader_replacement = get_option('custom-shader-replacement')
if _shader_replacement == ''
else
  pre_args += '-DCUSTOM_SHADER_REPLACEMENT'
endif

with_perfetto = get_option('perfetto')
with_datasources = get_option('datasources')
with_any_datasource = with_datasources.length() != 0
if with_perfetto
  dep_perfetto = dependency('perfetto', fallback: ['perfetto', 'dep_perfetto'])
  pre_args += '-DHAVE_PERFETTO'
endif

add_project_arguments(pre_args, language : ['c', 'cpp'])
add_project_arguments(c_args,   language : ['c'])
add_project_arguments(cpp_args, language : ['cpp'])

gl_priv_reqs = []

if with_glx == 'xlib' or with_glx == 'gallium-xlib'
  gl_priv_reqs += ['x11', 'xext', 'xcb']
elif with_glx == 'dri'
  gl_priv_reqs += [
    'x11', 'xext', 'xfixes', 'x11-xcb', 'xcb',
    'xcb-glx >= 1.8.1']
  if with_dri_platform == 'drm'
    gl_priv_reqs += 'xcb-dri2 >= 1.8'
    if with_glx_direct
      gl_priv_reqs += 'xxf86vm'
    endif
  endif
endif
if dep_libdrm.found()
  gl_priv_reqs += 'libdrm >= 2.4.75'
endif

gl_priv_libs = []
if dep_thread.found()
  gl_priv_libs += ['-lpthread', '-pthread']
endif
if dep_m.found()
  gl_priv_libs += '-lm'
endif
if dep_dl.found()
  gl_priv_libs += '-ldl'
endif

# FIXME: autotools lists this as incomplete
gbm_priv_libs = []
if dep_dl.found()
  gbm_priv_libs += '-ldl'
endif

pkg = import('pkgconfig')

if host_machine.system() == 'windows'
  prog_dumpbin = find_program('dumpbin', required : false)
  with_symbols_check = prog_dumpbin.found() and with_tests
  if with_symbols_check
    symbols_check_args = ['--dumpbin', prog_dumpbin.path()]
  endif
else
  prog_nm = find_program('nm')
  with_symbols_check = with_tests
  symbols_check_args = ['--nm', prog_nm.path()]
endif

# This quirk needs to be applied to sources with functions defined in assembly
# as GCC LTO drops them. See: https://bugs.freedesktop.org/show_bug.cgi?id=109391
gcc_lto_quirk = (cc.get_id() == 'gcc') ? ['-fno-lto'] : []

devenv = environment()

subdir('include')
subdir('bin')
subdir('src')

if meson.version().version_compare('>= 0.58')
  meson.add_devenv(devenv)
endif

lines = ['',
  'prefix:          ' + get_option('prefix'),
  'libdir:          ' + get_option('libdir'),
  'includedir:      ' + get_option('includedir'),
  '',
  'OpenGL:          @0@ (ES1: @1@ ES2: @2@)'.format(with_opengl ? 'yes' : 'no',
                                                    with_gles1 ? 'yes' : 'no',
                                                    with_gles2 ? 'yes' : 'no'),
]

if with_osmesa
  lines += ''
  lines += 'OSMesa:          lib' + osmesa_lib_name
else
  lines += 'OSMesa:          no'
endif

if with_dri
  lines += ''
  lines += 'DRI platform:    ' + with_dri_platform
  lines += 'DRI driver dir:  ' + dri_drivers_path
endif

if with_glx != 'disabled'
  lines += ''
  if with_glx == 'dri'
    lines += 'GLX:             DRI-based'
  elif with_glx == 'xlib'
    lines += 'GLX:             Xlib-based'
  else
    lines += 'GLX:             ' + with_glx
  endif
endif

lines += ''
lines += 'EGL:             ' + (with_egl ? 'yes' : 'no')
if with_egl
  egl_drivers = []
  if with_dri
    egl_drivers += 'builtin:egl_dri2'
  endif
  if with_dri3
    egl_drivers += 'builtin:egl_dri3'
  endif
  if with_platform_windows
    egl_drivers += 'builtin:wgl'
  endif
  lines += 'EGL drivers:     ' + ' '.join(egl_drivers)
endif
if with_egl or with_any_vk
  lines += 'EGL/Vulkan/VL platforms:   ' + ' '.join(_platforms)
endif
lines += 'GBM:             ' + (with_gbm ? 'yes' : 'no')
if with_gbm
  lines += 'GBM backends path: ' + gbm_backends_path
endif

lines += ''
lines += 'Video Codecs: ' + ' '.join(_codecs)
lines += ''

if with_any_vk
  lines += 'Vulkan drivers:  ' + ' '.join(_vulkan_drivers)
  lines += 'Vulkan ICD dir:  ' + with_vulkan_icd_dir
  if with_any_vulkan_layers
    lines += 'Vulkan layers:   ' + ' '.join(get_option('vulkan-layers'))
  endif
else
  lines += 'Vulkan drivers:  no'
endif

lines += ''
if with_llvm
  lines += 'llvm:            yes'
  lines += 'llvm-version:    ' + dep_llvm.version()
else
  lines += 'llvm:            no'
endif

lines += ''
if with_gallium
  lines += 'Gallium drivers: ' + ' '.join(gallium_drivers)
  gallium_st = ['mesa']
  if with_gallium_xa
    gallium_st += 'xa'
  endif
  if with_gallium_xvmc
    gallium_st += 'xvmc'
  endif
  if with_gallium_vdpau
    gallium_st += 'vdpau'
  endif
  if with_gallium_omx != 'disabled'
    gallium_st += 'omx' + with_gallium_omx
  endif
  if with_gallium_va
    gallium_st += 'va'
  endif
  if with_gallium_st_nine
    gallium_st += 'nine'
  endif
  if with_gallium_opencl
    gallium_st += 'clover'
  endif
  lines += 'Gallium st:      ' + ' '.join(gallium_st)
else
  lines += 'Gallium:         no'
endif

lines += 'HUD lmsensors:   ' + (dep_lmsensors.found() ? 'yes' : 'no')

lines += ''
lines += 'Shared-glapi:    ' + (with_shared_glapi ? 'yes' : 'no')

lines += ''
lines += 'Perfetto:        ' + (with_perfetto ? 'yes' : 'no')
if with_any_datasource
  lines += 'Perfetto ds:     ' + ' '.join(with_datasources)
endif


indent = '        '
summary = indent + ('\n' + indent).join(lines)
message('Configuration summary:\n@0@\n'.format(summary))



================================================
FILE: meson_options.txt
================================================
# Copyright © 2017-2019 Intel Corporation

# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:

# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.

# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.

option(
  'platforms',
  type : 'array',
  value : ['auto'],
  choices : [
    'auto', 'x11', 'wayland', 'haiku', 'android', 'windows',
  ],
  description : 'window systems to support. If this is set to `auto`, all platforms applicable will be enabled.'
)
option(
  'egl-native-platform',
  type : 'combo',
  value : 'auto',
  choices : [
    'auto', 'x11', 'wayland', 'haiku', 'android', 'windows',
    'surfaceless', 'drm',
  ],
  description : 'the window system EGL assumes for EGL_DEFAULT_DISPLAY',
)
option(
  'android-stub',
  type : 'boolean',
  value : false,
  description : 'Build against android-stub',
)

option(
  'dri3',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'disabled', 'enabled'],
  description : 'enable support for dri3'
)
option(
  'dri-drivers',
  type : 'array',
  description : 'DEPRECATED: List of dri drivers to build. If this is set to auto all drivers applicable to the target OS/architecture will be built'
)
option(
  'dri-drivers-path',
  type : 'string',
  value : '',
  description : 'Location to install dri drivers. Default: $libdir/dri.'
)
option(
  'dri-search-path',
  type : 'string',
  value : '',
  description : 'Locations to search for dri drivers, passed as colon separated list. Default: dri-drivers-path.'
)
option(
  'gallium-drivers',
  type : 'array',
  value : ['auto'],
  choices : [
    'auto', 'kmsro', 'radeonsi', 'r300', 'r600', 'nouveau', 'freedreno',
    'swrast', 'v3d', 'vc4', 'etnaviv', 'tegra', 'i915', 'svga', 'virgl',
    'panfrost', 'iris', 'lima', 'zink', 'd3d12', 'asahi', 'crocus'
  ],
  description : 'List of gallium drivers to build. If this is set to auto all drivers applicable to the target OS/architecture will be built'
)
option(
  'gallium-extra-hud',
  type : 'boolean',
  value : false,
  description : 'Enable HUD block/NIC I/O HUD status support',
)
option(
  'gallium-vdpau',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'enable gallium vdpau frontend.',
)
option(
  'vdpau-libs-path',
  type : 'string',
  value : '',
  description : 'path to put vdpau libraries. defaults to $libdir/vdpau.'
)
option(
  'gallium-xvmc',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'enable gallium xvmc frontend.',
)
option(
  'xvmc-libs-path',
  type : 'string',
  value : '',
  description : 'path to put xvmc libraries. defaults to $libdir.'
)
option(
  'gallium-omx',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'disabled', 'bellagio', 'tizonia'],
  description : 'enable gallium omx frontend.',
)
option(
  'omx-libs-path',
  type : 'string',
  value : '',
  description : 'path to put omx libraries. defaults to omx-bellagio pkg-config pluginsdir.'
)
option(
  'gallium-va',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'enable gallium va frontend.',
)
option(
  'va-libs-path',
  type : 'string',
  value : '',
  description : 'path to put va libraries. defaults to $libdir/dri.'
)
option(
  'gallium-xa',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'enable gallium xa frontend.',
)
option(
  'gallium-nine',
  type : 'boolean',
  value : false,
  description : 'build gallium "nine" Direct3D 9.x frontend.',
)
option(
  'gallium-d3d10umd',
  type : 'boolean',
  value : false,
  description : 'build gallium D3D10 WDDM UMD frontend.',
)
option(
  'gallium-opencl',
  type : 'combo',
  choices : ['icd', 'standalone', 'disabled'],
  value : 'disabled',
  description : 'build gallium "clover" OpenCL frontend.',
)
option(
  'opencl-spirv',
  type : 'boolean',
  value : false,
  description : 'build gallium "clover" OpenCL frontend with SPIR-V binary support.',
)
option(
  'opencl-native',
  type : 'boolean',
  value : true,
  description : 'build gallium "clover" OpenCL frontend with native LLVM codegen support.',
)
option(
  'static-libclc',
  type : 'array',
  value : [],
  choices : ['spirv', 'spirv64', 'all'],
  description : 'Link libclc SPIR-V statically.',
)
option(
  'd3d-drivers-path',
  type : 'string',
  value : '',
  description : 'Location of D3D drivers. Default: $libdir/d3d',
)
option(
  'vulkan-drivers',
  type : 'array',
  value : ['auto'],
  choices : ['auto', 'amd', 'broadcom', 'freedreno', 'imagination-experimental', 'intel', 'microsoft-experimental', 'panfrost', 'swrast', 'virtio-experimental'],
  description : 'List of vulkan drivers to build. If this is set to auto all drivers applicable to the target OS/architecture will be built'
)
option(
  'freedreno-kgsl',
  type : 'boolean',
  value : false,
  description : 'use kgsl backend for freedreno vulkan driver',
)
option(
  'freedreno-virtio',
  type : 'boolean',
  value : false,
  description : 'use experimental virtio backend for freedreno (currently only gallium driver)',
)
option(
  'imagination-srv',
  type : 'boolean',
  value : false,
  description : 'Enable Services backend for Imagination Technologies vulkan driver',
)
option(
  'shader-cache',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Build with on-disk shader cache support.',
)
option(
  'shader-cache-default',
  type : 'boolean',
  value : true,
  description : 'If set to false, the feature is only activated when environment variable MESA_SHADER_CACHE_DISABLE is set to false',
)
option(
  'shader-cache-max-size',
  type : 'string',
  value : '',
  description : '''Default value for MESA_SHADER_CACHE_MAX_SIZE enviroment variable.
   If set, determines the maximum size of the on-disk cache of compiled
   shader programs, can be overriden by enviroment variable if needed. Should be set to a number optionally followed by
   ``K``, ``M``, or ``G`` to specify a size in kilobytes, megabytes, or
   gigabytes. By default, gigabytes will be assumed. And if unset, a
   maximum size of 1GB will be used.'''
)
option(
  'vulkan-icd-dir',
  type : 'string',
  value : '',
  description : 'Location relative to prefix to put vulkan icds on install. Default: $datadir/vulkan/icd.d'
)
option(
  'moltenvk-dir',
  type : 'string',
  value : '',
  description : 'Location of the MoltenVk SDK. Default: '
)
option(
  'vulkan-layers',
  type : 'array',
  value : [],
  choices : ['device-select', 'intel-nullhw', 'overlay'],
  description : 'List of vulkan layers to build'
)
option(
  'shared-glapi',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Whether to build a shared or static glapi. Defaults to false on Windows, true elsewhere'
)
option(
  'gles1',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Build support for OpenGL ES 1.x'
)
option(
  'gles2',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Build support for OpenGL ES 2.x and 3.x'
)
option(
  'opengl',
  type : 'boolean',
  value : true,
  description : 'Build support for OpenGL (all versions)'
)
option(
  'gbm',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Build support for gbm platform'
)
option(
  'gbm-backends-path',
  type : 'string',
  value : '',
  description : 'Locations to search for gbm backends, passed as colon separated list. Default: $libdir/gbm.'
)
option(
  'glx',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'disabled', 'dri', 'xlib'],
  description : 'Build support for GLX platform'
)
option(
  'egl',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Build support for EGL platform'
)
option(
  'glvnd',
  type : 'boolean',
  value : false,
  description : 'Enable GLVND support.'
)
option(
  'microsoft-clc',
  type : 'feature',
  value : 'auto',
  description : 'Build support for the Microsoft CLC to DXIL compiler'
)
option(
  'spirv-to-dxil',
  type : 'boolean',
  value : false,
  description : 'Build support for the SPIR-V to DXIL library'
)
option(
  'glvnd-vendor-name',
  type : 'string',
  value : 'mesa',
  description : 'Vendor name string to use for glvnd libraries'
)
option(
   'glx-read-only-text',
   type : 'boolean',
   value : false,
   description : 'Disable writable .text section on x86 (decreases performance)'
)
option(
  'llvm',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Build with LLVM support.'
)
option(
  'shared-llvm',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Whether to link LLVM shared or statically.'
)
option(
  'draw-use-llvm',
  type : 'boolean',
  value : true,
  description : 'Whether to use LLVM for the Gallium draw module, if LLVM is included.'
)
option(
  'valgrind',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Build with valgrind support'
)
option(
  'libunwind',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Use libunwind for stack-traces'
)
option(
  'lmsensors',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Enable HUD lmsensors support.'
)
option(
  'build-tests',
  type : 'boolean',
  value : false,
  description : 'Build unit tests. Currently this will build *all* unit tests except the ACO tests, which may build more than expected.'
)
option(
  'build-aco-tests',
  type : 'boolean',
  value : false,
  description : 'Build ACO tests. These require RADV and glslang but not an AMD GPU.'
)
option(
  'install-intel-gpu-tests',
  type : 'boolean',
  value : false,
  description : 'Build and install Intel unit tests which require the GPU.  This option is for developers and the Intel CI system only.'
)
option(
  'selinux',
  type : 'boolean',
  value : false,
  description : 'Build an SELinux-aware Mesa.  This currently disables execmem support at runtime unless SELinux is configured with allow_execmem.'
)
option(
  'execmem',
  type : 'boolean',
  value : true,
  description : 'Enable execmem support.  Without execmem, glapi will fail to generate dynamic glapi stubs when entrypoints unknown to glapi but known to DRI drivers are requested in eglGetProcAddress or glXGetProcAddress.  This should be enabled unless the platform can guarantee glapi and DRI drivers are always built from the same source tree.'
)
option(
  'osmesa',
  type : 'boolean',
  value : false,
  description : 'Build OSmesa.'
)
option(
  'osmesa-bits',
  type : 'combo',
  value : 'unspecified',
  choices : ['unspecified', '8', '16', '32'],
  description : 'DEPRECATED: Number of channel bits for OSMesa.'
)

option(
  'tools',
  type : 'array',
  value : [],
  choices : ['drm-shim', 'etnaviv', 'freedreno', 'glsl', 'intel', 'intel-ui', 'nir', 'nouveau', 'xvmc', 'lima', 'panfrost', 'asahi', 'imagination', 'all', 'dlclose-skip'],
  description : 'List of tools to build. (Note: `intel-ui` selects `intel`)',
)
option(
  'power8',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Enable power8 optimizations.',
)
option(
  'xlib-lease',
  type : 'combo',
  value : 'auto',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  description : 'Enable VK_EXT_acquire_xlib_display.'
)
option(
  'glx-direct',
  type : 'boolean',
  value : true,
  description : 'Enable direct rendering in GLX and EGL for DRI',
)
option('egl-lib-suffix',
  type : 'string',
  value : '',
  description : 'Suffix to append to EGL library name.  Default: none.'
)
option(
  'gles-lib-suffix',
  type : 'string',
  value : '',
  description : 'Suffix to append to GLES library names.  Default: none.'
)
option(
  'platform-sdk-version',
  type : 'integer',
  min : 25,
  max : 10000,
  value : 25,
  description : 'Android Platform SDK version. Default: Nougat version.'
)
option(
  'zstd',
  type : 'combo',
  choices : ['auto', 'true', 'false', 'enabled', 'disabled'],
  value : 'auto',
  description : 'Use ZSTD instead of ZLIB in some cases.'
)
option(
   'zlib',
   type : 'feature',
   value : 'enabled',
   description : 'Use ZLIB to build driver. Default: enabled'
)
option(
  'sse2',
  type : 'boolean',
  value : true,
  description : 'use msse2 flag for x86. Uses sse/sse2 instead of x87. Default: true',
)
option(
  'perfetto',
  type : 'boolean',
  value : false,
  description : 'Enable performance analysis with Perfetto. Default: false'
)
option(
  'datasources',
  type : 'array',
  value : ['auto'],
  choices : ['auto', 'panfrost', 'intel', 'freedreno'],
  description: 'List of Perfetto datasources to build. If this is set to `auto`, datasources that can not be build are skipped. Default: [`auto`]'
)
option(
  'custom-shader-replacement',
  type : 'string',
  value : '',
  description : 'Enable a custom shader replacement mechanism. Note that enabling this option requires adding/generating a shader_replacement.h file that can be included (see shaderapi.c).'
)
option(
  'vmware-mks-stats',
  type : 'boolean',
  value : false,
  description : 'Build gallium VMware/svga driver with mksGuestStats instrumentation.'
)
option(
  'vulkan-beta',
  type : 'boolean',
  value : false,
  description : 'Build vulkan drivers with BETA extensions enabled.'
)
option(
  'intel-clc',
  type : 'feature',
  value : 'disabled',
  description : 'Build the intel-clc compiler (required for ray queries).'
)
option(
  'video-codecs',
  type : 'array',
  value : [],
  choices: [
    'vc1dec', 'h264dec', 'h264enc', 'h265dec', 'h265enc'
  ],
  description : 'List of patent encumbered codecs to build support for. Distros might want to consult their legal department before enabling these. This is used for all video APIs (vaapi, vdpau, vulkan). Non-patent encumbered codecs will be enabled by default.'
)
option(
  'gallium-d3d12-video',
  type : 'feature',
  value : 'auto',
  description : 'build gallium d3d12 with video support.',
)
option(
  'radv-build-id',
  type : 'string',
  value : '',
  description : 'Override build id for shader cache keys (hex string). Can be extracted with readelf -x .note.gnu.build-id'
)
option(
  'min-windows-version',
  type : 'integer',
  min : 7,
  max : 11,
  value : 8,
  description : 'Minimum Windows version to support. Defaults to Windows 8.'
)



================================================
FILE: VERSION
================================================
22.3.0-devel



================================================
FILE: .dir-locals.el
================================================
((nil . ((show-trailing-whitespace . t)))
 (prog-mode
  (indent-tabs-mode . nil)
  (tab-width . 8)
  (c-basic-offset . 3)
  (c-file-style . "stroustrup")
  (fill-column . 78)
  (eval . (progn
	    (c-set-offset 'case-label '0)
	    (c-set-offset 'innamespace '0)
	    (c-set-offset 'inline-open '0)))
  (whitespace-style face indentation)
  (whitespace-line-column . 79)
  (eval ignore-errors
        (require 'whitespace)
        (whitespace-mode 1)))
 (makefile-mode (indent-tabs-mode . t))
 )



================================================
FILE: .editorconfig
================================================
# To use this config on you editor, follow the instructions at:
# http://editorconfig.org

root = true

[*]
charset = utf-8
insert_final_newline = true
tab_width = 8

[*.{c,h,cpp,hpp,cc,hh}]
indent_style = space
indent_size = 3
max_line_length = 78

[{Makefile*,*.mk}]
indent_style = tab

[*.py]
indent_style = space
indent_size = 4

[*.yml]
indent_style = space
indent_size = 2

[*.rst]
indent_style = space
indent_size = 3

[*.patch]
trim_trailing_whitespace = false

[{meson.build,meson_options.txt}]
indent_style = space
indent_size = 2


[*.ps1]
indent_style = space
indent_size = 2



================================================
FILE: .gitlab-ci.yml
================================================
variables:
  FDO_UPSTREAM_REPO: mesa/mesa
  MESA_TEMPLATES_COMMIT: &ci-templates-commit 290b79e0e78eab67a83766f4e9691be554fc4afd
  CI_PRE_CLONE_SCRIPT: |-
          set -o xtrace
          wget -q -O download-git-cache.sh ${CI_PROJECT_URL}/-/raw/${CI_COMMIT_SHA}/.gitlab-ci/download-git-cache.sh
          bash download-git-cache.sh
          rm download-git-cache.sh
          set +o xtrace
  CI_JOB_JWT_FILE: /minio_jwt
  MINIO_HOST: minio-packet.freedesktop.org
  # per-pipeline artifact storage on MinIO
  PIPELINE_ARTIFACTS_BASE: ${MINIO_HOST}/artifacts/${CI_PROJECT_PATH}/${CI_PIPELINE_ID}
  # per-job artifact storage on MinIO
  JOB_ARTIFACTS_BASE: ${PIPELINE_ARTIFACTS_BASE}/${CI_JOB_ID}
  # reference images stored for traces
  PIGLIT_REPLAY_REFERENCE_IMAGES_BASE: "${MINIO_HOST}/mesa-tracie-results/$FDO_UPSTREAM_REPO"
  # Individual CI farm status, set to "offline" to disable jobs
  # running on a particular CI farm (ie. for outages, etc):
  FD_FARM: "online"
  COLLABORA_FARM: "online"
  MICROSOFT_FARM: "online"
  LIMA_FARM: "offline"
  IGALIA_FARM: "online"

default:
  before_script:
    - echo -e "\e[0Ksection_start:$(date +%s):unset_env_vars_section[collapsed=true]\r\e[0KUnsetting vulnerable environment variables"
    - echo -n "${CI_JOB_JWT}" > "${CI_JOB_JWT_FILE}"
    - unset CI_JOB_JWT
    - echo -e "\e[0Ksection_end:$(date +%s):unset_env_vars_section\r\e[0K"

  after_script:
    - >
      set +x

      test -e "${CI_JOB_JWT_FILE}" &&
      export CI_JOB_JWT="$(<${CI_JOB_JWT_FILE})" &&
      rm "${CI_JOB_JWT_FILE}"

  # Retry build or test jobs up to twice when the gitlab-runner itself fails somehow.
  retry:
    max: 2
    when:
      - runner_system_failure

include:
  - project: 'freedesktop/ci-templates'
    ref: 34f4ade99434043f88e164933f570301fd18b125
    file:
      - '/templates/ci-fairy.yml'
  - project: 'freedesktop/ci-templates'
    ref: *ci-templates-commit
    file:
      - '/templates/debian.yml'
      - '/templates/fedora.yml'
  - local: '.gitlab-ci/image-tags.yml'
  - local: '.gitlab-ci/lava/lava-gitlab-ci.yml'
  - local: '.gitlab-ci/container/gitlab-ci.yml'
  - local: '.gitlab-ci/build/gitlab-ci.yml'
  - local: '.gitlab-ci/test/gitlab-ci.yml'
  - local: '.gitlab-ci/test-source-dep.yml'
  - local: 'src/amd/ci/gitlab-ci.yml'
  - local: 'src/broadcom/ci/gitlab-ci.yml'
  - local: 'src/etnaviv/ci/gitlab-ci.yml'
  - local: 'src/freedreno/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/crocus/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/d3d12/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/i915/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/lima/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/llvmpipe/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/nouveau/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/radeonsi/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/softpipe/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/virgl/ci/gitlab-ci.yml'
  - local: 'src/gallium/drivers/zink/ci/gitlab-ci.yml'
  - local: 'src/gallium/frontends/lavapipe/ci/gitlab-ci.yml'
  - local: 'src/intel/ci/gitlab-ci.yml'
  - local: 'src/microsoft/ci/gitlab-ci.yml'
  - local: 'src/panfrost/ci/gitlab-ci.yml'
  - local: 'src/virtio/ci/gitlab-ci.yml'

stages:
  - sanity
  - container
  - git-archive
  - build-x86_64
  - build-misc
  - amd
  - intel
  - nouveau
  - arm
  - broadcom
  - freedreno
  - etnaviv
  - software-renderer
  - layered-backends
  - deploy


# YAML anchors for rule conditions
# --------------------------------
.rules-anchors:
  rules:
    # Pipeline for forked project branch
    - if: &is-forked-branch '$CI_COMMIT_BRANCH && $CI_PROJECT_NAMESPACE != "mesa"'
      when: manual
    # Forked project branch / pre-merge pipeline not for Marge bot
    - if: &is-forked-branch-or-pre-merge-not-for-marge '$CI_PROJECT_NAMESPACE != "mesa" || ($GITLAB_USER_LOGIN != "marge-bot" && $CI_PIPELINE_SOURCE == "merge_request_event")'
      when: manual
    # Pipeline runs for the main branch of the upstream Mesa project
    - if: &is-mesa-main '$CI_PROJECT_NAMESPACE == "mesa" && $CI_COMMIT_REF_NAME == $CI_DEFAULT_BRANCH && $CI_COMMIT_BRANCH'
      when: always
    # Post-merge pipeline
    - if: &is-post-merge '$CI_PROJECT_NAMESPACE == "mesa" && $CI_COMMIT_BRANCH'
      when: on_success
    # Post-merge pipeline, not for Marge Bot
    - if: &is-post-merge-not-for-marge '$CI_PROJECT_NAMESPACE == "mesa" && $GITLAB_USER_LOGIN != "marge-bot" && $CI_COMMIT_BRANCH'
      when: on_success
    # Pre-merge pipeline
    - if: &is-pre-merge '$CI_PIPELINE_SOURCE == "merge_request_event"'
      when: on_success
    # Pre-merge pipeline for Marge Bot
    - if: &is-pre-merge-for-marge '$GITLAB_USER_LOGIN == "marge-bot" && $CI_PIPELINE_SOURCE == "merge_request_event"'
      when: on_success


.docs-base:
  extends:
    - .fdo.ci-fairy
    - .build-rules
  script:
  - apk --no-cache add graphviz doxygen
  - pip3 install sphinx breathe mako sphinx_rtd_theme
  - docs/doxygen-wrapper.py --out-dir=docs/doxygen_xml
  - sphinx-build -W -b html docs public

pages:
  extends: .docs-base
  stage: deploy
  artifacts:
    paths:
    - public
  needs: []
  rules:
    - !reference [.no_scheduled_pipelines-rules, rules]
    - if: *is-mesa-main
      changes: &docs-or-ci
      - docs/**/*
      - .gitlab-ci.yml
      when: always
    # Other cases default to never

test-docs:
  extends: .docs-base
  # Cancel job if a newer commit is pushed to the same branch
  interruptible: true
  stage: deploy
  needs: []
  rules:
    - !reference [.no_scheduled_pipelines-rules, rules]
    - if: *is-forked-branch
      changes: *docs-or-ci
      when: manual
    # Other cases default to never

test-docs-mr:
  extends:
    - test-docs
  needs:
    - sanity
  artifacts:
    expose_as: 'Documentation preview'
    paths:
    - public/
  rules:
    - if: *is-pre-merge
      changes: *docs-or-ci
      when: on_success
    # Other cases default to never

# When to automatically run the CI for build jobs
.build-rules:
  rules:
    - !reference [.no_scheduled_pipelines-rules, rules]
    # If any files affecting the pipeline are changed, build/test jobs run
    # automatically once all dependency jobs have passed
    - changes: &all_paths
      - VERSION
      - bin/git_sha1_gen.py
      - bin/install_megadrivers.py
      - bin/meson_get_version.py
      - bin/symbols-check.py
      # GitLab CI
      - .gitlab-ci.yml
      - .gitlab-ci/**/*
      # Meson
      - meson*
      - build-support/**/*
      - subprojects/**/*
      # Source code
      - include/**/*
      - src/**/*
      when: on_success
    # Otherwise, build/test jobs won't run because no rule matched.


.ci-deqp-artifacts:
  artifacts:
    name: "mesa_${CI_JOB_NAME}"
    when: always
    untracked: false
    paths:
      # Watch out!  Artifacts are relative to the build dir.
      # https://gitlab.com/gitlab-org/gitlab-ce/commit/8788fb925706cad594adf6917a6c5f6587dd1521
      - artifacts
      - _build/meson-logs/*.txt
      - _build/meson-logs/strace

.container-rules:
  rules:
    - !reference [.no_scheduled_pipelines-rules, rules]
    # Run pipeline by default in the main project if any CI pipeline
    # configuration files were changed, to ensure docker images are up to date
    - if: *is-post-merge
      changes:
      - .gitlab-ci.yml
      - .gitlab-ci/**/*
      when: on_success
    # Run pipeline by default if it was triggered by Marge Bot, is for a
    # merge request, and any files affecting the pipeline were changed
    - if: *is-pre-merge-for-marge
      changes:
        *all_paths
      when: on_success
    # Run pipeline by default in the main project if it was not triggered by
    # Marge Bot, and any files affecting the pipeline were changed
    - if: *is-post-merge-not-for-marge
      changes:
        *all_paths
      when: on_success
    # Allow triggering jobs manually in other cases if any files affecting the
    # pipeline were changed
    - changes:
        *all_paths
      when: manual
    # Otherwise, container jobs won't run because no rule matched.

# Git archive

make git archive:
  extends:
    - .fdo.ci-fairy
  stage: git-archive
  rules:
    - !reference [.scheduled_pipeline-rules, rules]
  # ensure we are running on packet
  tags:
    - packet.net
  script:
    # Compactify the .git directory
    - git gc --aggressive
    # compress the current folder
    - tar -cvzf ../$CI_PROJECT_NAME.tar.gz .

    # login with the JWT token file
    - ci-fairy minio login --token-file "${CI_JOB_JWT_FILE}"
    - ci-fairy minio cp ../$CI_PROJECT_NAME.tar.gz minio://$MINIO_HOST/git-cache/$CI_PROJECT_NAMESPACE/$CI_PROJECT_NAME/$CI_PROJECT_NAME.tar.gz


# Sanity checks of MR settings and commit logs
sanity:
  extends:
    - .fdo.ci-fairy
  stage: sanity
  rules:
    - if: *is-pre-merge
      when: on_success
    # Other cases default to never
  variables:
    GIT_STRATEGY: none
  script:
    # ci-fairy check-commits --junit-xml=check-commits.xml
    - ci-fairy check-merge-request --require-allow-collaboration --junit-xml=check-merge-request.xml
  artifacts:
    when: on_failure
    reports:
      junit: check-*.xml

# Rules for tests that should not block merging, but should be available to
# optionally run with the "play" button in the UI in pre-merge non-marge
# pipelines.  This should appear in "extends:" after any includes of
# test-source-dep.yml rules, so that these rules replace those.
.test-manual-mr:
  rules:
    - !reference [.no_scheduled_pipelines-rules, rules]
    - if: *is-forked-branch-or-pre-merge-not-for-marge
      changes:
        *all_paths
      when: manual
  variables:
    JOB_TIMEOUT: 80




================================================
FILE: .graphqlrc.yml
================================================
schema: 'schema.graphql'
documents: 'src/**/*.{graphql,js,ts,jsx,tsx}'



================================================
FILE: .mailmap
================================================
Aapo Tahkola <aet@rasterburn.org> <aapo@aapo-desktop.(none)>

Adam Jackson <ajax@redhat.com> <ajax@benzedrine.nwnk.net>
Adam Jackson <ajax@redhat.com> <ajax@freedesktop.org>

Adrian Marius Negreanu <adrian.m.negreanu@intel.com> Adrian Negreanu <adrian.m.negreanu@intel.com>
Adrian Marius Negreanu <adrian.m.negreanu@intel.com> Negreanu Marius Adrian <adrian.m.negreanu@intel.com>

Alan Swanson <reiver@improbability.net> <swanson@ukfsn.org>

Dave Airlie <airlied@redhat.com> <airliedfreedesktop.org>
Dave Airlie <airlied@redhat.com> airlied <airlied@unused-12-215.bne.redhat.com>
Dave Airlie <airlied@redhat.com> <airlied@dhcp-1-203.bne.redhat.com>
Dave Airlie <airlied@redhat.com> <airlied@dhcp-40-204.bne.redhat.com>
Dave Airlie <airlied@redhat.com> <airlied@gmail.com>
Dave Airlie <airlied@redhat.com> <airlied@itt42.(none)>
Dave Airlie <airlied@redhat.com> <airlied@linux.ie>
Dave Airlie <airlied@redhat.com> <airlied@nx6125b.(none)>
Dave Airlie <airlied@redhat.com> <airlied@panoply-rh.(none)>
Dave Airlie <airlied@redhat.com> <airlied@ppcg5.localdomain>

Alan Coopersmith <alan.coopersmith@oracle.com> <alan.coopersmith@sun.com>

Alan Hourihane <alanh@vmware.com> <alanh@tungstengraphics.com>
Alan Hourihane <alanh@vmware.com> <alanh@fairlite.demon.co.uk>
Alan Hourihane <alanh@vmware.com> <alanh@jetpack.(none)>

Alexander Monakov <amonakov@gmail.com> <amonakov@ispras.ru>

Alexander von Gluck IV <kallisti5@unixzen.com> Alexander von Gluck <kallisti5@unixzen.com>

Alexandros Frantzis <alexandros.frantzis@collabora.com> <Alexandros.Frantzis@canonical.com>

Alex Corscadden <alexc@vmware.com> <alexc@alexc-dev1.prom.eng.vmware.com>
Alex Corscadden <alexc@vmware.com> <alexc@alexc-dev1.vmware.com>

Alex Deucher <alexdeucher@gmail.com> <alexander.deucher@amd.com>
Alex Deucher <alexdeucher@gmail.com> <agd5f@yahoo.com>
Alex Deucher <alexdeucher@gmail.com> <alex@botch2.com>
Alex Deucher <alexdeucher@gmail.com> <alex@botch2.(none)>
Alex Deucher <alexdeucher@gmail.com> <alex@cube.(none)>
Alex Deucher <alexdeucher@gmail.com> <alex@samba.(none)>

Alyssa Rosenzweig <alyssa.rosenzweig@collabora.com> <alyssa@rosenzweig.io>
Alyssa Rosenzweig <alyssa.rosenzweig@collabora.com> <a@rosenzweig.io>
Alyssa Rosenzweig <alyssa.rosenzweig@collabora.com> <alyssa@collabora.com>

Andreas Fänger <a.faenger@e-sign.com> <a.faenger@e-sign.com>

Andreas Hartmetz <ahartmetz@gmail.com> <andreas.hartmetz@kdab.com>

Andre Heider <a.heider@gmail.com>
Andreas Heider <andreas@heider.io>

Andreas Pokorny <andreas.pokorny@canonical.com> <andreas.pokorny@elektrobit.com>

Andres Gomez <agomez@igalia.com> <tanty@igalia.com>

Andrew Randrianasulu <randrianasulu@gmail.com> <randrik_a@yahoo.com>
Andrew Randrianasulu <randrianasulu@gmail.com> <randrik@mail.ru>

Andrii Simiklit <andrii.simiklit@globallogic.com> <asimiklit.work@gmail.com>

Anuj Phogat <anuj.phogat@gmail.com> <anuj.phogat@intel.com>

Arthur Huillet <arthur.huillet@free.fr> Arthur HUILLET <arthur.huillet@free.fr>

Axel Davy <davyaxel0@gmail.com> <axel.davy@ens.fr>

Bas Nieuwenhuizen <bas@basnieuwenhuizen.nl> <basni@chromium.org>

Benjamin Franzke <benjaminfranzke@googlemail.com> ben <benjaminfranzke@googlemail.com>

Ben Skeggs <bskeggs@redhat.com> <darktama@beleth.(none)>
Ben Skeggs <bskeggs@redhat.com> <darktama@iinet.net.au>
Ben Skeggs <bskeggs@redhat.com> <darktama@nisroch.keine.ath.cx>
Ben Skeggs <bskeggs@redhat.com> <skeggsb-at-gmail.com>
Ben Skeggs <bskeggs@redhat.com> <skeggsb@gmail.com>
Ben Skeggs <bskeggs@redhat.com> <skeggsb@localhost.localdomain>
Ben Skeggs <bskeggs@redhat.com> <skeggsb@nisroch.keine.ath.cx>

Ben Widawsky <benjamin.widawsky@intel.com> Ben Widawsky <ben@bwidawsk.net>

Blair Sadewitz <blair.sadewitz@gmail.com> Blair Sadewitz <blair.sadewitz.gmail.com>

Boris Brezillon <boris.brezillon@collabora.com> <boris.brezillon@free-electrons.com>

Boris Peterbarg <reist@users.sourceforge.net> reist <reist>

Brian Paul <brianp@vmware.com> Brian <brian.paul@tungstengraphics.com>
Brian Paul <brianp@vmware.com> <brian.paul@tungstengraphics.com>
Brian Paul <brianp@vmware.com> <brian.e.paul@gmail.com>
Brian Paul <brianp@vmware.com> <brianp@kemper.freedesktop.org>
Brian Paul <brianp@vmware.com> brian <brian@cvp965.(none)>
Brian Paul <brianp@vmware.com> Brian <brian@i915.localnet.net>
Brian Paul <brianp@vmware.com> Brian <brian@nostromo.localnet.net>
Brian Paul <brianp@vmware.com> Brian <brian@poulsbo.localnet.net>
Brian Paul <brianp@vmware.com> Brian <brian@ps3.localnet.net>
Brian Paul <brianp@vmware.com> Brian <brianp@vmware.com>
Brian Paul <brianp@vmware.com> Brian <brian@yutani.localnet.net>
Brian Paul <brianp@vmware.com> root <brian.paul@tungstengraphics.com>
Brian Paul <brianp@vmware.com> root <root@i915.localnet.net>
Brian Paul <brianp@vmware.com> root <root@nostromo.localnet.net>
Brian Paul <brianp@vmware.com> root <root@i965.localnet.net>

Bruce Cherniak <bruce.cherniak@intel.com>

Bruce Merry <bmerry@users.sourceforge.net> <bmerry@gmail.com>

Caio Oliveira <caio.oliveira@intel.com>

Carl-Philip Hänsch <cphaensch@googlemail.com>
Carl-Philip Hänsch <cphaensch@googlemail.com> <s3734770@mail.zih.tu-dresden.de>
Carl-Philip Hänsch <cphaensch@googlemail.com> <carli@carli-laptop.(none)>
Carl-Philip Hänsch <cphaensch@googlemail.com> <Carl-Philip.Haensch@mailbox.tu-dresden.de>

Chad Versace <chadversary@chromium.org> <chad@kiwitree.net>
Chad Versace <chadversary@chromium.org> <chad@chad-versace.us>
Chad Versace <chadversary@chromium.org> <Chad Versace chad@chad-versace.us>
Chad Versace <chadversary@chromium.org> <chad.versace@intel.com>
Chad Versace <chadversary@chromium.org> <chad.versace@linux.intel.com>
Chad Versace <chadversary@chromium.org> <chadversary@google.com>

Chandu Babu Namburu <chandu@amd.com>
Chandu Babu Namburu <chandu@amd.com> <mailto:chandu@amd.com>

Chenglei Ren <chenglei.ren@intel.com>

Chia-I Wu <olvaffe@gmail.com> <olv@lunarg.com>
Chia-I Wu <olvaffe@gmail.com> Chia-Wu <olvaffe@gmail.com>

Chih-Wei Huang <cwhuang@linux.org.tw> Chih-Wei Huang <cwhuang@android-x86.org>

Christian Gmeiner <christian.gmeiner@gmail.com> <christian.GMEINER@bachmann.info>

Christian Inci <chris.bugsfd@broke-the-inter.net> <chris.pcguy.inci@gmail.com>

Christian König <christian.koenig@amd.com> Christian Koenig <christian.koenig@amd.com>
Christian König <christian.koenig@amd.com> Christian König <christian.koenig at amd.com>
Christian König <christian.koenig@amd.com> Christian König <deathsimple@vodafone.de>

Christoph Brill <egore911@egore911.de> Christoph Bill <egore@gmx.de>
Christoph Brill <egore911@egore911.de> <egore@gmx.de>

Christoph Bumiller <christoph.bumiller@speed.at> <e0425955@student.tuwien.ac.at>

Christoph Haag <haagch@frickel.club> <christoph.haag@collabora.com>
Christoph Haag <haagch@frickel.club> <haagch+mesa@frickel.club>
Christoph Haag <haagch@frickel.club> <haagch+mesadev@frickel.club>

Christopher James Halse Rogers <christopher.halse.rogers@canonical.com> Christopher James Halse Rogers <raof@ubuntu.com>

Christopher Li <chrisl@vmware.com> Chris Li <chrisl@vmware.com>
Christopher Li <chrisl@vmware.com> Qicheng Christopher Li <chrisl@vmware.com>

Claudio Ciccani <klan@directfb.org> <klan@users.sf.net>
Claudio Ciccani <klan@directfb.org> <klan@users.sourceforge.net>

Colin McDonald <cjmmail10-bz@yahoo.co.uk> <cjmcdonald@qinetiq.com>

Connor Abbott <cwabbott0@gmail.com> <connor.w.abbott@intel.com>
Connor Abbott <cwabbott0@gmail.com> <connor.abbott@intel.com>

Constantine Kharlamov <Hi-Angel@yandex.ru>

Corbin Simpson <MostAwesomeDude@gmail.com> <mostawesomed...@gmail.com>
Corbin Simpson <MostAwesomeDude@gmail.com> <mostawesomedude@gmail.com>

Courtney Goeltzenleuchter <courtney@lunarg.com> <courtney@LunarG.com>

Craig Stout <cstout@google.com>

Daniel Schürmann <daniel@schuermann.dev> <daniel.schuermann@campus.tu-berlin.de>

Daniel Skinner <sio@users.sourceforge.net> sio <sio>

Daniel Stone <daniels@collabora.com> <daniel@fooishbar.org>

Danylo Piliaiev <dpiliaiev@igalia.com> <danylo.piliaiev@globallogic.com>
Danylo Piliaiev <dpiliaiev@igalia.com> <danylo.piliaiev@gmail.com>

David Miller <davem@davemloft.net> David S. Miller <davem@davemloft.net>
David Miller <davem@davemloft.net> Dave Miller <davem@davemloft.net>
David Miller <davem@davemloft.net> davem69 <davem69>

David Heidelberg <david@ixit.cz> David Heidelberger <david.heidelberger@ixit.cz>
David Heidelberg <david@ixit.cz> <d.okias@gmail.com>

David Reveman <reveman@chromium.org> <c99drn@cs.umu.se>

Dieter Nützel <Dieter@nuetzel-hh.de> Dieter Nützel <dieter@nuetzel-hh.de>

Dmitry Cherkassov <dcherkassov@gmail.com> Dmitry Cherkasov <dcherkassov@gmail.com>

Dylan Baker <dylanx.c.baker@intel.com> <baker.dylan.c@gmail.com>
Dylan Baker <dylanx.c.baker@intel.com> <dylan@pnwbakers.com>

Dylan Noblesmith <nobled@dreamwidth.org>
Dylan Noblesmith <nobled@dreamwidth.org> nobled <nobled2@nobled2-karmic.(none)>

Edward O'Callaghan <funfunctor@folklore1984.net> <eocallaghan@alterapraxis.com>

Eleni Maria Stea <estea@igalia.com> <elene.mst@gmail.com>

Elie Tournier <tournier.elie@gmail.com>

Emeric Grange <emeric.grange@gmail.com> Emeric <emeric.grange@gmail.com>

Emil Velikov <emil.l.velikov@gmail.com> <emil.velikov@collabora.com>
Emil Velikov <emil.l.velikov@gmail.com> <emil.veliko@collabora.com>
Emil Velikov <emil.l.velikov@gmail.com> <emil.velikov@collabora.co.uk>
Emil Velikov <emil.l.velikov@gmail.com> <emil.veliikov@collabora.com>
Emil Velikov <emil.l.velikov@gmail.com> <emil.velikov@gmail.com>
Emil Velikov <emil.l.velikov@gmail.com> <emmil.velikov@collabora.com>

Emmanuel Gil Peyrot <linkmauve@linkmauve.fr> <emmanuel.peyrot@collabora.com>

Emmanuel Vadot <manu@FreeBSD.org> Emmanuel <manu@FreeBSD.org>

Emma Anholt <emma@anholt.net> <anholt@FreeBSD.org>
Emma Anholt <emma@anholt.net> <eric@anholt.net>

Eric Engestrom <eric@igalia.com> <eric@engestrom.ch>
Eric Engestrom <eric@igalia.com> <eric.engestrom@imgtec.com>
Eric Engestrom <eric@igalia.com> <eric.engestrom@intel.com>

Erik Faye-Lund <kusmabite@gmail.com> <erik.faye-lund@collabora.com>

Eugeni Dodonov <eugeni.dodonov@intel.com> <eugeni@mandriva.com>

Fabian Bieler <der.fabe@gmx.net> <fabianbieler@fastmail.fm>
Fabian Bieler <der.fabe@gmx.net> <&lt;der.fabe@gmx.net&gt>

Feng, Haitao <haitao.feng@intel.com> Haitao Feng <haitao.feng@intel.com>

Francesco Ansanelli <francians@gmail.com>

Frank Binns <frank.binns@imgtec.com> <francisbinns@gmail.com>

Frank Henigman <fjhenigman@google.com> <fjhenigman@chromium.org>

George Sapountzis <gsapountzis@gmail.com> George Sapountzis <gsap7@yahoo.gr>

Gert Wollny <gert.wollny@collabora.com> <gw.fossdev@gmail.com>

Gurchetan Singh <gurchetansingh@chromium.org>

Gwenole Beauchesne <gwenole.beauchesne@intel.com> <gb.devel@gmail.com>

Haihao Xiang <haihao.xiang@intel.com>

Hamish Marson <hmarson@users.sourceforge.net> hmarson <hmarson>

Hans de Goede <hdegoede@redhat.com> Hans de Goede <j.w..r..degoede@hhs.nl>

Harish Krupo <harish.krupo.kps@intel.com> <harishkrupo@gmail.com>

Heinrich Fink <heinrich.fink@daqri.com>

Henri Verbeet <hverbeet@gmail.com>

Homer Hsing <dongsheng.xing@intel.com> <homer.hsing@gmail.com>

Hui Qi Tay <hqtay@vmware.com> <tayhuiqithq@gmail.com>

Iago Toral Quiroga <itoral@igalia.com> Iago Toral <itoral@igalia.com>

Ian Romanick <ian.d.romanick@intel.com> <idr@freedesktop.org>
Ian Romanick <ian.d.romanick@intel.com> <idr@us.ibm.com>

Icecream95 <ixn@disroot.org> <ixn@keemail.me>

Igor Gnatenko <i.gnatenko.brain@gmail.com> <ignatenko@redhat.com>

Illia Iorin <illia.iorin@globallogic.com> <illia.iorin@gmail.com>

Indrajit Das <indrajit-kumar.das@amd.com> Indrajit Kumar Das <indrajit-kumar.das@amd.com>

Jakob Bornecrantz <wallbraker@gmail.com> <jakob@vmware.com>
Jakob Bornecrantz <wallbraker@gmail.com> <jakob@aurora.(none)>
Jakob Bornecrantz <wallbraker@gmail.com> <jakob@aurora.walkyrie.se>
Jakob Bornecrantz <wallbraker@gmail.com> <jakob@tungstengraphics.com>
Jakob Bornecrantz <wallbraker@gmail.com> <wallbraker 'at' gmail 'dot' com>
Jakob Bornecrantz <wallbraker@gmail.com> <jakob.bornecrantz@collabora.com>
Jakob Bornecrantz <wallbraker@gmail.com> <jakob@collabora.com>

Jakub Bogusz <qboosh@pld-linux.org> <gboosh@pld-linux.org>

James Legg <jlegg@feralinteractive.com> <lankyleggy@gmail.com>

James Xiong <james.xiong@intel.com> Xiong, James <james.xiong@intel.com>

James Zhu <James.Zhu@amd.com>

Jan Beich <jbeich@freebsd.org> <jbeich@FreeBSD.org>

Jan Vesely <jano.vesely@gmail.com> Jan Vesely <jan.vesely@rutgers.edu>

Jan Zielinski <jan.zielinski@intel.com> jzielins <jan.zielinski@intel.com>

Jason Ekstrand <jason.ekstrand@collabora.com> <jason@jlekstrand.net>
Jason Ekstrand <jason.ekstrand@collabora.com> <jason.ekstrand@intel.com>

Jeremy Huddleston <jeremyhu@apple.com>
Jeremy Huddleston <jeremyhu@apple.com> <jeremyhu@freedesktop.org>
Jeremy Huddleston <jeremyhu@apple.com> <jeremy@tifa.local>
Jeremy Huddleston <jeremyhu@apple.com> <jeremy@vincent.local>
Jeremy Huddleston <jeremyhu@apple.com> <jeremy@yuffie.local>

Jeremy Kolb <jkolb@freedesktop.org> <jkolb@brandeis.edu>

Jerome Glisse <jglisse@redhat.com> <glisse@freedesktop.org>
Jerome Glisse <jglisse@redhat.com> <glisse@kemper.freedesktop.org>
Jerome Glisse <jglisse@redhat.com> John Doe <glisse@barney.(none)>
Jerome Glisse <jglisse@redhat.com> John Doe <glisse@localhost.localdomain>

Jesse Barnes <jesse.barnes@intel.com> <jbarnes@hobbes.lan>
Jesse Barnes <jesse.barnes@intel.com> <jbarnes@hobbes.(none)>
Jesse Barnes <jesse.barnes@intel.com> <jbarnes@jbarnes-desktop.localdomain>
Jesse Barnes <jesse.barnes@intel.com> <jbarnes@jbarnes-t61.(none)>
Jesse Barnes <jesse.barnes@intel.com> <jbarnes@virtuousgeek.org>

Joakim Sindholt <bacn@zhasha.com> <opensource@zhasha.com>
Joakim Sindholt <bacn@zhasha.com> <zhasha@gallium-dev.(none)>

Jochen Gerlach <jtg@users.sourceforge.net> jtg <jtg>

Joel Bosveld <joel.bosveld@gmail.com> <Joel.Bosveld@gmail.com>

Jonathan Adamczewski <jadamcze@utas.edu.au> <jadamcze@utas.edu.a>

Jon Turney <jon.turney@dronecode.org.uk> Jon TURNEY <jon.turney@dronecode.org.uk>

José Fonseca <jfonseca@vmware.com> Jose Fonseca <jfonseca@vmware.com>
José Fonseca <jfonseca@vmware.com> Jose Fonseca <jrfonseca@tungstengraphics.com>
José Fonseca <jfonseca@vmware.com> <jfonseca@pegasus.(none)>
José Fonseca <jfonseca@vmware.com> <jfonseca@titan.(none)>
José Fonseca <jfonseca@vmware.com> <jose.r.fonseca@gmail.com>
José Fonseca <jfonseca@vmware.com> <jrfonseca@tungstengraphics.com>
José Fonseca <jfonseca@vmware.com> <j_r_fonseca@yahoo.co.uk>

Jouk Jansen <joukj@hrem.nano.tudelft.nl> Jouk Jansen <jouk@hrem.nano.tudelft.nl>
Jouk Jansen <joukj@hrem.nano.tudelft.nl> Jouk Jansen <joukj@hrem.stm.tudelft.nl>
Jouk Jansen <joukj@hrem.nano.tudelft.nl> joukj <joukj@tarantella.(none)>
Jouk Jansen <joukj@hrem.nano.tudelft.nl> Jouk <joukj@tarantella.nano.tudelft.nl>
Jouk Jansen <joukj@hrem.nano.tudelft.nl> Jouk <joukj@tarantella.(none)>
Jouk Jansen <joukj@hrem.nano.tudelft.nl> J.Jansen <joukj@tarantella.nano.tudelft.nl>

Juan Zhao <juan.j.zhao@intel.com> <juan.j.zhao@linux.intel.com>

Julien Cristau <jcristau@debian.org> <julien.cristau@logilab.fr>

Julien Isorce <j.isorce@samsung.com> <julien.isorce@gmail.com>
Julien Isorce <j.isorce@samsung.com> <jisorce@oblong.com>

Kalyan Kondapally <kalyan.kondapally@intel.com> <kondapallykalyancontribute@gmail.com>

Karl Schultz <karl.w.schultz@gmail.com> Karl Schultze <k.w.schultz@comcast.net>
Karl Schultz <karl.w.schultz@gmail.com> unknown <kwschult@.na.qualcomm.com>
Karl Schultz <karl.w.schultz@gmail.com> <k.w.schultz@comcast.net>
Karl Schultz <karl.w.schultz@gmail.com> <Karl.W.Schultz@gmail.com>
Karl Schultz <karl.w.schultz@gmail.com> <kschultz@freedesktop.org>

Karol Herbst <kherbst@redhat.com> <git@karolherbst.de>
Karol Herbst <kherbst@redhat.com> <karolherbst@gmail.com>
Karol Herbst <kherbst@redhat.com> <nouveau@karolherbst.de>

Keith Harrison <sio2@users.sourceforge.net> sio2 <sio2>

Keith Packard <keithp@keithp.com> <keithp@koto.keithp.com>
Keith Packard <keithp@keithp.com> <keithp@neko.keithp.com>

Keith Whitwell <keithw@vmware.com> <keith@tungstengraphics.com>
Keith Whitwell <keithw@vmware.com> keithw <keithw@keithw-laptop.(none)>

Kevin Rogovin <kevin.rogovin@intel.com> <kevin.rogovin@gmail.com>

Kristian Høgsberg <krh@bitplanet.net> <krh@redhat.com>
Kristian Høgsberg <krh@bitplanet.net> <krh@hinata.boston.redhat.com>
Kristian Høgsberg <krh@bitplanet.net> <krh@sasori.boston.redhat.com>
Kristian Høgsberg <krh@bitplanet.net> <krh@temari.boston.redhat.com>
Kristian Høgsberg <krh@bitplanet.net> <kristian.h.kristensen@intel.com>
Kristian Høgsberg <krh@bitplanet.net> <hoegsberg@chromium.org>
Kristian Høgsberg <krh@bitplanet.net> <hoegsberg@google.com>
Kristian Høgsberg <krh@bitplanet.net> <hoegsberg@gmail.com>
Kristian Høgsberg <krh@bitplanet.net> <krh@sweater.jf.intel.com>
Kristian Høgsberg <krh@bitplanet.net> <krh@bitplanet.net>
Kristian Høgsberg <krh@bitplanet.net> <krh@owl.jf.intel.com>

Krzesimir Nowak <qdlacz@gmail.com> <krzesimir@kinvolk.io>

Li Peng <peng.li@intel.com> <peng.li@linux.intel.com>

Lin Johnson <johnson.lin@intel.com> Johnson Lin <johnson.lin@intel.com>

Lionel Landwerlin <lionel.g.landwerlin@intel.com> <llandwerlin@gmail.com>

Liviu Prodea <liviuprodea@yahoo.com>

Lucas Stach <dev@lynxeye.de> <l.stach@pengutronix.de>

Maarten Lankhorst <maarten.lankhorst@ubuntu.com> <dev@mblankhorst.nl>
Maarten Lankhorst <maarten.lankhorst@ubuntu.com> <m.b.lankhorst@gmail.com>
Maarten Lankhorst <maarten.lankhorst@ubuntu.com> <maarten.lankhorst@canonical.com>

Maciej Cencora <m.cencora@gmail.com> <maciej@osiris.(none)>

Marc-André Lureau <marcandre.lureau@gmail.com> <marcandre.lureau@gmail.com>
Marc-André Lureau <marcandre.lureau@gmail.com> <marcandre.lureau@redhat.com>

Marc Dietrich <marvin24@gmx.de> Marc <marvin24@gmx.de>
Marc Dietrich <marvin24@gmx.de> marvin24 <marvin24@gmx.de>

Marcin Ślusarz <marcin.slusarz@gmail.com> Marcin Slusarz <marcin.slusarz@gmail.com>

Marek Olšák <maraeo@gmail.com> <marek.olsak@amd.com>

Mario Kleiner <mario.kleiner.de@gmail.com> kleinerm <mario.kleiner@tuebingen.mpg.de>
Mario Kleiner <mario.kleiner.de@gmail.com> <mario.kleiner@tuebingen.mpg.de>

Mark Menzynski <mmenzyns@redhat.com> mmenzyns <mmenzyns@redhat.com>

Mark Mueller <markkmueller@gmail.com> <MarkKMueller@gmail.com>

Marta Lofstedt <marta.lofstedt@intel.com> <marta.lofstedt@linux.intel.com>

Martin Peres <martin.peres@linux.intel.com> <martin.peres@labri.fr>

Mathias Fröhlich <mathias.froehlich@gmx.net> Mathias Froehlich <Mathias.Froehlich@gmx.net>
Mathias Fröhlich <mathias.froehlich@gmx.net> Mathias Froehlich <Mathias.Froehlich@web.de>
Mathias Fröhlich <mathias.froehlich@gmx.net> Mathias Frohlich <M.Froehlich@science-computing.de>
Mathias Fröhlich <mathias.froehlich@gmx.net> <frohlich8@users.sourceforge.net>
Mathias Fröhlich <mathias.froehlich@gmx.net> <Mathias.Froehlich@gmx.net>
Mathias Fröhlich <mathias.froehlich@gmx.net> <Mathias.Froehlich@web.de>
Mathias Fröhlich <mathias.froehlich@gmx.net> M.Froehlich@science-computing.de <M.Froehlich@science-computing.de>

Matthias Groß <grmat@sub.red>

Matthias Hopf <mhopf@suse.de> Mathias Hopf <mhopf@suse.de>

Matthias Lorenz <oschowa@web.de> Oschowa <oschowa@web.de>

Matthew W. S. Bell <matthew@bells23.org.uk> Matthew Bell <matthew@bells23.org.uk>

Maxence Le Doré <maxence.ledore@gmail.com> Maxence Le Dore <maxence.ledore@gmail.com>

Maya Rashish <coypu@sdf.org> coypu <coypu@sdf.org>

Micah Fedke <micah.fedke@collabora.co.uk> <M.Fedke@Astronautics.com>

Michal Krol <michal@vmware.com> <michal@tungstengraphics.com>
Michal Krol <michal@vmware.com> Michal Krol <michal@ubuntu-vbox.(none)>
Michal Krol <michal@vmware.com> Michal Krol <mjkrol@gmail.org>
Michal Krol <michal@vmware.com> michal <michal@capacitor.(none)>
Michal Krol <michal@vmware.com> michal <michal@michal-laptop.(none)>
Michal Krol <michal@vmware.com> michal <michal@quad.(none)>
Michal Krol <michal@vmware.com> michal <michal@transistor.(none)>
Michal Krol <michal@vmware.com> Michal <michal@tungstengraphics.com>
Michal Krol <michal@vmware.com> michal <michal@wmvare.com>

Michel Dänzer <michel@daenzer.net> <michel.daenzer@amd.com>
Michel Dänzer <michel@daenzer.net> <daenzer@vmware.com>
Michel Dänzer <michel@daenzer.net> <michel@tungstengraphics.com>
Michel Dänzer <michel@daenzer.net> Michel Daenzer <michel.daenzer@amd.com>
Michel Dänzer <michel@daenzer.net> Michel Daenzer <daenzer@localhost.(none)>
Michel Dänzer <michel@daenzer.net> <mdaenzer@redhat.com>

Mike Kaplinskiy <mike.kaplinskiy@gmail.com> Mike Kaplinksiy <mike.kaplinskiy@gmail.com>
Mike Kaplinskiy <mike.kaplinskiy@gmail.com> <mike.kaplinskiy@gmai.com>

Mike Stroyan <mike@lunarg.com> <mike@LunarG.com>

Mun Gwan-gyeong <elongbug@gmail.com> Gwan-gyeong Mun <elongbug@gmail.com>

Neha Bhende <bhenden@vmware.com> <nbhende@vmware.com>

Neil Roberts <nroberts@igalia.com> <neil@linux.intel.com>

Nian Wu <nian.wu@intel.com>
Nian Wu <nian.wu@intel.com> <nian@graphics.(none)>
Nian Wu <nian.wu@intel.com> <nian@tinderbox.sh.intel.com>

Nicholas Bishop <nbishop@neverware.com> <nicholasbishop@gmail.com>

Nick Bowler <nbowler@draconx.ca>

Nick Sarnie <commendsarnex@gmail.com>

Nicolai Hähnle <nicolai.haehnle@amd.com>
Nicolai Hähnle <nicolai.haehnle@amd.com> <nhaehnle@gmail.com>
Nicolai Hähnle <nicolai.haehnle@amd.com> <prefect_@gmx.net>
Nicolai Hähnle <nicolai.haehnle@amd.com> <prefect@upb.de>

Nigel Stewart <nigels@users.sourceforge.net> <nigels@sourceforge.net>
Nigel Stewart <nigels@users.sourceforge.net> <nstewart@nvidia.com>

nobled <nobled@dreamwidth.org> <nobled2@nobled2-karmic.(none)>

Oliver McFadden <oliver.mcfadden@linux.intel.com> <z3ro.geek@gmail.com>

Owain Ainsworth <zerooa@googlemail.com> Owain G. Ainsworth <oga@openbsd.org>

Owen W. Taylor <otaylor@fishsoup.net> Owen Taylor <otaylor@snell.localdomain>

Patrice Mandin <patmandin@gmail.com> <patrice@manoir.racoon.city>
Patrice Mandin <patmandin@gmail.com> <pmandin@caramail.com>
Patrice Mandin <patmandin@gmail.com> <pmandin@freedesktop.org>

Pauli Nieminen <pauli.nieminen@linux.intel.com> <suokkos@gmail.com>

Paulo Zanoni <paulo.r.zanoni@intel.com> Paulo Zanoni <pzanoni@mandriva.com>

Paul Seidler <sepek@exherbo.org> Paul Seidler <pl.seidler@googlemail.com>

Pekka Paalanen <pekka.paalanen@collabora.co.uk> <ppaalanen@gmail.com>
Pekka Paalanen <pekka.paalanen@collabora.co.uk> <pq@iki.fi>

Peter Hutterer <peter.hutterer@who-t.net> <peter@cs.unisa.edu.au>

Philipp Zabel <p.zabel@pengutronix.de> <philipp.zabel@gmail.com>

Pierre-Eric Pelloux-Prayer <pelloux@gmail.com> <pelloux@gmail.com>
Pierre-Eric Pelloux-Prayer <pelloux@gmail.com> <pierre-eric.pelloux-prayer@amd.com>

Pierre Willenbrock <pierre@pirsoft.de> Pierre Willenbrok <pierre@pirsoft.de>

Plamena Manolova <plamena.manolova@intel.com> <plamena.n.manolova@gmail.com>

Qiang Yu <yuq825@gmail.com> <Qiang.Yu@amd.com>

Quentin Glidic <sardemff7+git@sardemff7.net> <sardemff7@sardemff7.net>

Randy Xu <randy.xu@intel.com>

RALOVICH, Kristóf <tade60@freemail.hu> <kristof.ralovich@gmail.com>

Renato Caldas <seventhguardian@gmail.com>

Richard Li <richardradeon@gmail.com> <RichardZ.Li@amd.com>
# The next ones are not 100% sure
Richard Li <richardradeon@gmail.com> richard <richard@richard-desktop3.(none)>
Richard Li <richardradeon@gmail.com> richard <richard@richard-desktop.(none)>
Richard Li <richardradeon@gmail.com> root <root@richard-desktop.(none)>

Richard Sandiford <rsandifo@linux.vnet.ibm.com> <r.sandiford@uk.ibm.com>

Rob Clark <robclark@freedesktop.org> <Rob Clark robdclark@freedesktop.org>
Rob Clark <robclark@freedesktop.org> <robdclark@gmail.com>
Rob Clark <robclark@freedesktop.org> <robdclark@chromium.org>

Robert Bragg <robert@sixbynine.org> <robert@linux.intel.com>

Robert Ellison <papillo@vmware.com> <papillo@i965-laptop.(none)>
Robert Ellison <papillo@vmware.com> <papillo@tungstengraphics.com>

Robert Hooker <sarvatt@ubuntu.com> <robert.hooker@canonical.com>

Rodrigo Vivi <rodrigo.vivi@intel.com> <rodrigo.vivi@gmail.com>

Roland Scheidegger <sroland@vmware.com> <rscheidegger@gmx.ch>
Roland Scheidegger <sroland@vmware.com> <sroland@tungstengraphics.com>

Roy Spliet <rspliet@eclipso.eu> <r.spliet@student.tudelft.nl>

Rune Petersen <rune@megahurts.dk> Rune Peterson <rune@megahurts.dk>

Ryan Houdek <sonicadvance1@gmail.com> <Sonicadvance1@gmail.com>

Sam Hocevar <sam@hocevar.net> Sam Hocevar <sam@zoy.org>

Samuel Iglesias Gonsálvez <siglesias@igalia.com> Samuel Iglesias Gonsalvez <siglesias@igalia.com>

Samuel Li <samuel.li@amd.com> <Samuel.Li@amd.com>

Satyeshwar Singh <satyeshwar.singh@intel.com> Singh, Satyeshwar <satyeshwar.singh@intel.com>

Sean D'Epagnier <sean@depagnier.com> <geckosenator@freedesktop.org>

Serge Martin <edb+mesa@sigluy.net> Serge Martin (EdB) <edb+mesa@sigluy.net>
Serge Martin <edb+mesa@sigluy.net> EdB <edb+mesa@sigluy.net>

Sergii Romantsov <sergii.romantsov@globallogic.com> <sergii.romantsov@gmail.com>

Sinclair Yeh <syeh@vmware.com> <sinclair.yeh@intel.com>

Sonny Jiang <sonny.jiang@amd.com>

Stefan Brüns <stefan.bruens@rwth-aachen.de> <Stefan.Bruens@rwth-aachen.de>

Steinar H. Gunderson <sgunderson@bigfoot.com> <sesse@google.com>
Steinar H. Gunderson <sgunderson@bigfoot.com> <steinar+mesa@gunderson.no>

Stéphane Marchesin <marcheu@chromium.org> Stephane Marchesin <marchesin@icps.u-strasbg.fr>
Stéphane Marchesin <marcheu@chromium.org> Stephane Marchesin <stephane.marchesin@gmail.com>

Suresh Guttula <suresh.guttula@amd.com>
Suresh Guttula <suresh.guttula@amd.com> <Suresh.Guttula@amd.com>

Sven M. Hallberg <pesco@users.sourceforge.net> pesco <pesco>

Tapani Pälli <tapani.palli@intel.com> <tapani.palli@gmail.com>
Tapani Pälli <tapani.palli@intel.com> Tapani <tapani.palli@intel.com>

Thierry Reding <treding@nvidia.com> <thierry@gilfi.de>
Thierry Reding <treding@nvidia.com> <thierry.reding@avionic-design.de>
Thierry Reding <treding@nvidia.com> <thierry.reding@gmail.com>

Thierry Vignaud <thierry.vignaud@gmail.com> <tvignaud@mandriva.com>

Thomas Balling Sørensen <tball@io.dk> <tball@tball-laptop.(none)>

Thomas Hellstrom <thellstrom@vmware.com> Thomas <thellstrom@vmware.com>
Thomas Hellstrom <thellstrom@vmware.com> Thomas Hellstrom <thellstrom-at-vmware-dot-com>
Thomas Hellstrom <thellstrom@vmware.com> Thomas Hellstrom <thomas-at-tungstengraphics-dot-com>
Thomas Hellstrom <thellstrom@vmware.com> Thomas Hellstrom <thomas@tungstengraphics.com>
Thomas Hellstrom <thellstrom@vmware.com> Thomas Hellström <thomas@tungstengraphics.com>

Thomas Tanner <tanner@gmx.net> tanner <tanner>

Tilman Sauerbeck <tilman@code-monkey.de> <tilman@freedesktop.org>

Tim Wiederhake <twied@gmx.net>

Timo Aaltonen <tjaalton@debian.org> <tjaalton@cc.hut.fi>

Timothy Arceri <tarceri@itsqueeze.com> <tarceri@localhost.localdomain>
Timothy Arceri <tarceri@itsqueeze.com> <timothy.arceri@collabora.com>
Timothy Arceri <tarceri@itsqueeze.com> <t_arceri@yahoo.com.au>
Timothy Arceri <tarceri@itsqueeze.com> Timothy <t_arceri@yahoo.com.au>

Tom Fogal <tfogal@alumni.unh.edu> <tfogal@sci.utah.edu>

Tom Stellard <thomas.stellard@amd.com> <tstellar@gmail.com>
Tom Stellard <thomas.stellard@amd.com> Thomas Stellard <tom.stellard@amd.com>
Tom Stellard <thomas.stellard@amd.com> <tstellar@redhat.com>

Tomasz Figa <tfiga@chromium.org> <tomasz.figa@gmail.com>

Tomeu Vizoso <tomeu.vizoso@collabora.com> <tomeu@tomeuvizoso.net>

Topi Pohjolainen <topi.pohjolainen@intel.com> <topi.pohjolainen@gmail.com>

Tormod Volden <debian.tormod@gmail.com> <lists.tormod@gmail.com>

Török Edwin <edwin+mesa@etorok.net> Török Edvin <edwintorok@gmail.com>
Török Edwin <edwin+mesa@etorok.net> <edwintorok@gmail.com>

Vadym Shovkoplias <vadym.shovkoplias@globallogic.com>
Vadym Shovkoplias <vadym.shovkoplias@globallogic.com> <vadim.shovkoplias@gmail.com>

Varad Gautam <varad.gautam@collabora.com> <varadgautam@gmail.com>

Ville Syrjälä <ville.syrjala@linux.intel.com> Ville Syrjala <syrjala@freedesktop.org>
Ville Syrjälä <ville.syrjala@linux.intel.com> Ville Syrjala <syrjala@sci.fi>

Vincent Lejeune <vljn@ovi.com> <peluche.canard@gmail.com>

Vinson Lee <vlee@freedesktop.org> <vlee@vmware.com>

Vivek Kasireddy <vivek.kasireddy@intel.com>

Yaakov Selkowitz <yselkowi@redhat.com> <yselkowitz@users.sourceforge.net>

Yogesh Mohan Marimuthu <yogesh.mohanmarimuthu@amd.com> Yogesh mohan marimuthu <yogesh.mohanmarimuthu@amd.com>

Wladimir J. van der Laan <laanwj@gmail.com>

Xavier Bouchoux <xavierb@gmail.com>

Zhaowei Yuan <zhaowei.yuan@samsung.com>

Zhenyu Wang <zhenyuw@linux.intel.com> Wang Zhenyu <zhenyu.z.wang@intel.com>

Zhongmin Wu <zhongmin.wu@intel.com>

Zack Rusin <zackr@vmware.com> <zack@kde.org>
Zack Rusin <zackr@vmware.com> <zack@pixel.(none)>
Zack Rusin <zackr@vmware.com> <zack@tungstengraphics.com>

Zhang <zxpmyth@yahoo.com.cn> zhang <zxpmyth@yahoo.com.cn>



================================================
FILE: android/Android.mk
================================================
# Mesa 3-D graphics library
#
# Copyright (C) 2021 GlobalLogic Ukraine
# Copyright (C) 2021 Roman Stratiienko (r.stratiienko@gmail.com)
#
# Permission is hereby granted, free of charge, to any person obtaining a
# copy of this software and associated documentation files (the "Software"),
# to deal in the Software without restriction, including without limitation
# the rights to use, copy, modify, merge, publish, distribute, sublicense,
# and/or sell copies of the Software, and to permit persons to whom the
# Software is furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included
# in all copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
# DEALINGS IN THE SOFTWARE.

ifneq ($(filter true, $(BOARD_MESA3D_USES_MESON_BUILD)),)

LOCAL_PATH := $(call my-dir)
MESA3D_TOP := $(dir $(LOCAL_PATH))

LIBDRM_VERSION = $(shell cat external/libdrm/meson.build | grep -o "\<version\>\s*:\s*'\w*\.\w*\.\w*'" | grep -o "\w*\.\w*\.\w*" | head -1)

MESA_VK_LIB_SUFFIX_amd := radeon
MESA_VK_LIB_SUFFIX_intel := intel
MESA_VK_LIB_SUFFIX_freedreno := freedreno
MESA_VK_LIB_SUFFIX_broadcom := broadcom
MESA_VK_LIB_SUFFIX_panfrost := panfrost
MESA_VK_LIB_SUFFIX_virtio-experimental := virtio
MESA_VK_LIB_SUFFIX_swrast := lvp

include $(CLEAR_VARS)

LOCAL_SHARED_LIBRARIES := libc libdl libdrm libm liblog libcutils libz libc++ libnativewindow libsync libhardware
LOCAL_STATIC_LIBRARIES := libexpat libarect libelf
LOCAL_HEADER_LIBRARIES := libnativebase_headers hwvulkan_headers libbacktrace_headers
MESON_GEN_PKGCONFIGS := backtrace cutils expat hardware libdrm:$(LIBDRM_VERSION) nativewindow sync zlib:1.2.11 libelf
LOCAL_CFLAGS += $(BOARD_MESA3D_CFLAGS)

ifneq ($(filter swrast,$(BOARD_MESA3D_GALLIUM_DRIVERS) $(BOARD_MESA3D_VULKAN_DRIVERS)),)
ifeq ($(BOARD_MESA3D_FORCE_SOFTPIPE),)
MESON_GEN_LLVM_STUB := true
endif
endif

ifneq ($(filter zink,$(BOARD_MESA3D_GALLIUM_DRIVERS)),)
LOCAL_SHARED_LIBRARIES += libvulkan
MESON_GEN_PKGCONFIGS += vulkan
endif

ifneq ($(filter iris,$(BOARD_MESA3D_GALLIUM_DRIVERS)),)
LOCAL_SHARED_LIBRARIES += libdrm_intel
MESON_GEN_PKGCONFIGS += libdrm_intel:$(LIBDRM_VERSION)
endif

ifneq ($(filter radeonsi amd,$(BOARD_MESA3D_GALLIUM_DRIVERS) $(BOARD_MESA3D_VULKAN_DRIVERS)),)
MESON_GEN_LLVM_STUB := true
LOCAL_CFLAGS += -DFORCE_BUILD_AMDGPU   # instructs LLVM to declare LLVMInitializeAMDGPU* functions
LOCAL_SHARED_LIBRARIES += libdrm_amdgpu
MESON_GEN_PKGCONFIGS += libdrm_amdgpu:$(LIBDRM_VERSION)
endif

ifneq ($(filter radeonsi r300 r600,$(BOARD_MESA3D_GALLIUM_DRIVERS)),)
LOCAL_SHARED_LIBRARIES += libdrm_radeon
MESON_GEN_PKGCONFIGS += libdrm_radeon:$(LIBDRM_VERSION)
endif

ifneq ($(filter nouveau,$(BOARD_MESA3D_GALLIUM_DRIVERS)),)
LOCAL_SHARED_LIBRARIES += libdrm_nouveau
MESON_GEN_PKGCONFIGS += libdrm_nouveau:$(LIBDRM_VERSION)
endif

ifneq ($(filter d3d12,$(BOARD_MESA3D_GALLIUM_DRIVERS)),)
LOCAL_HEADER_LIBRARIES += DirectX-Headers
LOCAL_STATIC_LIBRARIES += DirectX-Guids
MESON_GEN_PKGCONFIGS += DirectX-Headers
endif

ifneq ($(MESON_GEN_LLVM_STUB),)
MESON_LLVM_VERSION := 12.0.0
LOCAL_SHARED_LIBRARIES += libLLVM12
endif

ifeq ($(shell test $(PLATFORM_SDK_VERSION) -ge 30; echo $$?), 0)
LOCAL_SHARED_LIBRARIES += \
    android.hardware.graphics.mapper@4.0 \
    libgralloctypes \
    libhidlbase \
    libutils

MESON_GEN_PKGCONFIGS += android.hardware.graphics.mapper:4.0
endif

__MY_SHARED_LIBRARIES := $(LOCAL_SHARED_LIBRARIES)

ifeq ($(TARGET_IS_64_BIT),true)
LOCAL_MULTILIB := 64
else
LOCAL_MULTILIB := 32
endif
include $(LOCAL_PATH)/mesa3d_cross.mk

ifdef TARGET_2ND_ARCH
LOCAL_MULTILIB := 32
include $(LOCAL_PATH)/mesa3d_cross.mk
endif

#-------------------------------------------------------------------------------

# $1: name
# $2: symlink suffix
# $3: subdir
# $4: source prebuilt
# $5: export headers
define mesa3d-lib
include $(CLEAR_VARS)
LOCAL_MODULE_CLASS := SHARED_LIBRARIES
LOCAL_MODULE := $1
LOCAL_VENDOR_MODULE := true
LOCAL_MODULE_RELATIVE_PATH := $3
LOCAL_PREBUILT_MODULE_FILE := $($4)
LOCAL_MULTILIB := first
LOCAL_CHECK_ELF_FILES := false
LOCAL_MODULE_SUFFIX := .so
LOCAL_MODULE_SYMLINKS := $1$2
LOCAL_SHARED_LIBRARIES := $(__MY_SHARED_LIBRARIES)
LOCAL_EXPORT_C_INCLUDE_DIRS := $5
include $(BUILD_PREBUILT)

ifdef TARGET_2ND_ARCH
include $(CLEAR_VARS)
LOCAL_MODULE_CLASS := SHARED_LIBRARIES
LOCAL_MODULE := $1
LOCAL_VENDOR_MODULE := true
LOCAL_MODULE_RELATIVE_PATH := $3
LOCAL_PREBUILT_MODULE_FILE := $(2ND_$4)
LOCAL_MULTILIB := 32
LOCAL_CHECK_ELF_FILES := false
LOCAL_MODULE_SUFFIX := .so
LOCAL_MODULE_SYMLINKS := $1$2
LOCAL_SHARED_LIBRARIES := $(__MY_SHARED_LIBRARIES)
LOCAL_EXPORT_C_INCLUDE_DIRS := $5
include $(BUILD_PREBUILT)
endif
endef

# Module 'libgallium_dri', produces '/vendor/lib{64}/dri/libgallium_dri.so'
# This module also trigger DRI symlinks creation process
$(eval $(call mesa3d-lib,libgallium_dri,.so.0,dri,MESA3D_GALLIUM_DRI_BIN))
# Module 'libglapi', produces '/vendor/lib{64}/libglapi.so'
$(eval $(call mesa3d-lib,libglapi,.so.0,,MESA3D_LIBGLAPI_BIN))

# Module 'libEGL_mesa', produces '/vendor/lib{64}/egl/libEGL_mesa.so'
$(eval $(call mesa3d-lib,libEGL_mesa,.so.1,egl,MESA3D_LIBEGL_BIN))
# Module 'libGLESv1_CM_mesa', produces '/vendor/lib{64}/egl/libGLESv1_CM_mesa.so'
$(eval $(call mesa3d-lib,libGLESv1_CM_mesa,.so.1,egl,MESA3D_LIBGLESV1_BIN))
# Module 'libGLESv2_mesa', produces '/vendor/lib{64}/egl/libGLESv2_mesa.so'
$(eval $(call mesa3d-lib,libGLESv2_mesa,.so.2,egl,MESA3D_LIBGLESV2_BIN))

# Modules 'vulkan.{driver_name}', produces '/vendor/lib{64}/hw/vulkan.{driver_name}.so' HAL
$(foreach driver,$(BOARD_MESA3D_VULKAN_DRIVERS), \
    $(eval $(call mesa3d-lib,vulkan.$(MESA_VK_LIB_SUFFIX_$(driver)),.so.0,hw,MESA3D_VULKAN_$(driver)_BIN)))

ifneq ($(filter true, $(BOARD_MESA3D_BUILD_LIBGBM)),)
# Modules 'libgbm', produces '/vendor/lib{64}/libgbm.so'
$(eval $(call mesa3d-lib,libgbm,.so.1,,MESA3D_LIBGBM_BIN,$(MESA3D_TOP)/src/gbm/main))
endif

#-------------------------------------------------------------------------------

endif



================================================
FILE: android/mesa3d_cross.mk
================================================
# Mesa 3-D graphics library
#
# Copyright (C) 2021 GlobalLogic Ukraine
# Copyright (C) 2021 Roman Stratiienko (r.stratiienko@gmail.com)
#
# Permission is hereby granted, free of charge, to any person obtaining a
# copy of this software and associated documentation files (the "Software"),
# to deal in the Software without restriction, including without limitation
# the rights to use, copy, modify, merge, publish, distribute, sublicense,
# and/or sell copies of the Software, and to permit persons to whom the
# Software is furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included
# in all copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
# DEALINGS IN THE SOFTWARE.

MY_PATH := $(call my-dir)

AOSP_ABSOLUTE_PATH := $(realpath .)
define relative-to-absolute
$(if $(patsubst /%,,$1),$(AOSP_ABSOLUTE_PATH)/$1,$1)
endef

LOCAL_MODULE_CLASS := SHARED_LIBRARIES
LOCAL_MODULE := meson.dummy.$(LOCAL_MULTILIB)

m_dummy := $(local-generated-sources-dir)/dummy.c
$(m_dummy):
	mkdir -p $(dir $@)
	touch $@

LOCAL_GENERATED_SOURCES := $(m_dummy)
LOCAL_VENDOR_MODULE := true

# Prepare intermediate variables by AOSP make/core internals
include $(BUILD_SHARED_LIBRARY)

LOCAL_PATH := $(MY_PATH)

link_deps := \
	$(built_static_libraries) \
	$(built_shared_libraries) \
	$(built_whole_libraries) \
	$(strip $(all_objects)) \
	$(my_target_libatomic) \
	$(my_target_libcrt_builtins) \
	$(my_target_crtbegin_so_o) \
	$(my_target_crtend_so_o)

# Build mesa3d using intermediate variables provided by AOSP make/core internals
M_TARGET_PREFIX := $(my_2nd_arch_prefix)

MESA3D_LIB_DIR := lib$(subst 32,,$(LOCAL_MULTILIB))

MESON_OUT_DIR                            := $($(M_TARGET_PREFIX)TARGET_OUT_INTERMEDIATES)/MESON_MESA3D
MESON_GEN_DIR                            := $(MESON_OUT_DIR)_GEN
MESON_GEN_FILES_TARGET                   := $(MESON_GEN_DIR)/.timestamp

MESA3D_GALLIUM_DRI_DIR                   := $(MESON_OUT_DIR)/install/usr/local/lib/dri
$(M_TARGET_PREFIX)MESA3D_GALLIUM_DRI_BIN := $(MESON_OUT_DIR)/install/usr/local/lib/libgallium_dri.so
$(M_TARGET_PREFIX)MESA3D_LIBEGL_BIN      := $(MESON_OUT_DIR)/install/usr/local/lib/libEGL.so.1.0.0
$(M_TARGET_PREFIX)MESA3D_LIBGLESV1_BIN   := $(MESON_OUT_DIR)/install/usr/local/lib/libGLESv1_CM.so.1.1.0
$(M_TARGET_PREFIX)MESA3D_LIBGLESV2_BIN   := $(MESON_OUT_DIR)/install/usr/local/lib/libGLESv2.so.2.0.0
$(M_TARGET_PREFIX)MESA3D_LIBGLAPI_BIN    := $(MESON_OUT_DIR)/install/usr/local/lib/libglapi.so.0.0.0
$(M_TARGET_PREFIX)MESA3D_LIBGBM_BIN      := $(MESON_OUT_DIR)/install/usr/local/lib/libgbm.so.1.0.0


MESA3D_GLES_BINS := \
    $($(M_TARGET_PREFIX)MESA3D_LIBEGL_BIN)    \
    $($(M_TARGET_PREFIX)MESA3D_LIBGLESV1_BIN) \
    $($(M_TARGET_PREFIX)MESA3D_LIBGLESV2_BIN) \
    $($(M_TARGET_PREFIX)MESA3D_LIBGLAPI_BIN)  \

MESON_GEN_NINJA := \
	cd $(MESON_OUT_DIR) && PATH=/usr/bin:/usr/local/bin:$$PATH meson ./build     \
	--cross-file $(call relative-to-absolute,$(MESON_GEN_DIR))/aosp_cross        \
	--buildtype=release                                                          \
	-Ddri-search-path=/vendor/$(MESA3D_LIB_DIR)/dri                              \
	-Dplatforms=android                                                          \
	-Dplatform-sdk-version=$(PLATFORM_SDK_VERSION)                               \
	-Ddri-drivers=                                                               \
	-Dgallium-drivers=$(subst $(space),$(comma),$(BOARD_MESA3D_GALLIUM_DRIVERS)) \
	-Dvulkan-drivers=$(subst $(space),$(comma),$(subst radeon,amd,$(BOARD_MESA3D_VULKAN_DRIVERS)))   \
	-Dgbm=enabled                                                                \
	-Degl=enabled                                                                \
	-Dcpp_rtti=false                                                             \

MESON_BUILD := PATH=/usr/bin:/bin:/sbin:$$PATH ninja -C $(MESON_OUT_DIR)/build

$(MESON_GEN_FILES_TARGET): MESON_CPU_FAMILY := $(subst arm64,aarch64,$(TARGET_$(M_TARGET_PREFIX)ARCH))

define create-pkgconfig
echo -e "Name: $2" \
	"\nDescription: $2" \
	"\nVersion: $3" > $1/$2.pc

endef

# Taken from build/make/core/binary.mk. We need this
# to use definitions from build/make/core/definitions.mk
$(MESON_GEN_FILES_TARGET): PRIVATE_GLOBAL_C_INCLUDES := $(my_target_global_c_includes)
$(MESON_GEN_FILES_TARGET): PRIVATE_GLOBAL_C_SYSTEM_INCLUDES := $(my_target_global_c_system_includes)

$(MESON_GEN_FILES_TARGET): PRIVATE_2ND_ARCH_VAR_PREFIX := $(M_TARGET_PREFIX)
$(MESON_GEN_FILES_TARGET): PRIVATE_CC := $(my_cc)
$(MESON_GEN_FILES_TARGET): PRIVATE_LINKER := $(my_linker)
$(MESON_GEN_FILES_TARGET): PRIVATE_CXX := $(my_cxx)
$(MESON_GEN_FILES_TARGET): PRIVATE_CXX_LINK := $(my_cxx_link)
$(MESON_GEN_FILES_TARGET): PRIVATE_YACCFLAGS := $(LOCAL_YACCFLAGS)
$(MESON_GEN_FILES_TARGET): PRIVATE_ASFLAGS := $(my_asflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_CONLYFLAGS := $(my_conlyflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_CFLAGS := $(my_cflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_CPPFLAGS := $(my_cppflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_CFLAGS_NO_OVERRIDE := $(my_cflags_no_override)
$(MESON_GEN_FILES_TARGET): PRIVATE_CPPFLAGS_NO_OVERRIDE := $(my_cppflags_no_override)
$(MESON_GEN_FILES_TARGET): PRIVATE_RTTI_FLAG := $(LOCAL_RTTI_FLAG)
$(MESON_GEN_FILES_TARGET): PRIVATE_DEBUG_CFLAGS := $(debug_cflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_C_INCLUDES := $(my_c_includes)
$(MESON_GEN_FILES_TARGET): PRIVATE_IMPORTED_INCLUDES := $(imported_includes)
$(MESON_GEN_FILES_TARGET): PRIVATE_LDFLAGS := $(my_ldflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_LDLIBS := $(my_ldlibs)
$(MESON_GEN_FILES_TARGET): PRIVATE_TIDY_CHECKS := $(my_tidy_checks)
$(MESON_GEN_FILES_TARGET): PRIVATE_TIDY_FLAGS := $(my_tidy_flags)
$(MESON_GEN_FILES_TARGET): PRIVATE_ARFLAGS := $(my_arflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_ALL_SHARED_LIBRARIES := $(built_shared_libraries)
$(MESON_GEN_FILES_TARGET): PRIVATE_ALL_STATIC_LIBRARIES := $(built_static_libraries)
$(MESON_GEN_FILES_TARGET): PRIVATE_ALL_WHOLE_STATIC_LIBRARIES := $(built_whole_libraries)
$(MESON_GEN_FILES_TARGET): PRIVATE_ALL_OBJECTS := $(strip $(all_objects))

$(MESON_GEN_FILES_TARGET): PRIVATE_ARM_CFLAGS := $(normal_objects_cflags)

$(MESON_GEN_FILES_TARGET): PRIVATE_TARGET_GLOBAL_CFLAGS := $(my_target_global_cflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_TARGET_GLOBAL_CONLYFLAGS := $(my_target_global_conlyflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_TARGET_GLOBAL_CPPFLAGS := $(my_target_global_cppflags)
$(MESON_GEN_FILES_TARGET): PRIVATE_TARGET_GLOBAL_LDFLAGS := $(my_target_global_ldflags)

$(MESON_GEN_FILES_TARGET): PRIVATE_TARGET_LIBCRT_BUILTINS := $(my_target_libcrt_builtins)
$(MESON_GEN_FILES_TARGET): PRIVATE_TARGET_LIBATOMIC := $(my_target_libatomic)
$(MESON_GEN_FILES_TARGET): PRIVATE_TARGET_CRTBEGIN_SO_O := $(my_target_crtbegin_so_o)
$(MESON_GEN_FILES_TARGET): PRIVATE_TARGET_CRTEND_SO_O := $(my_target_crtend_so_o)
##

define m-lld-flags
  -nostdlib -Wl,--gc-sections \
  $(PRIVATE_TARGET_CRTBEGIN_SO_O) \
  $(PRIVATE_ALL_OBJECTS) \
  -Wl,--whole-archive \
  $(PRIVATE_ALL_WHOLE_STATIC_LIBRARIES) \
  -Wl,--no-whole-archive \
  $(if $(PRIVATE_GROUP_STATIC_LIBRARIES),-Wl$(comma)--start-group) \
  $(PRIVATE_ALL_STATIC_LIBRARIES) \
  $(if $(PRIVATE_GROUP_STATIC_LIBRARIES),-Wl$(comma)--end-group) \
  $(if $(filter true,$(NATIVE_COVERAGE)),$(PRIVATE_TARGET_COVERAGE_LIB)) \
  $(PRIVATE_TARGET_LIBCRT_BUILTINS) \
  $(PRIVATE_TARGET_LIBATOMIC) \
  $(PRIVATE_TARGET_GLOBAL_LDFLAGS) \
  $(PRIVATE_LDFLAGS) \
  $(PRIVATE_ALL_SHARED_LIBRARIES) \
  $(PRIVATE_TARGET_CRTEND_SO_O) \
  $(PRIVATE_LDLIBS)
endef

define m-lld-flags-cleaned
  $(subst prebuilts/,$(AOSP_ABSOLUTE_PATH)/prebuilts/, \
  $(subst $(OUT_DIR)/,$(call relative-to-absolute,$(OUT_DIR))/, \
  $(subst -Wl$(comma)--fatal-warnings,,                \
  $(subst -Wl$(comma)--no-undefined-version,,          \
  $(subst -Wl$(comma)--gc-sections,,                   \
  $(patsubst %dummy.o,,                                \
    $(m-lld-flags)))))))
endef

define m-cpp-flags
  $(PRIVATE_TARGET_GLOBAL_CFLAGS) \
  $(PRIVATE_TARGET_GLOBAL_CPPFLAGS) \
  $(PRIVATE_ARM_CFLAGS) \
  $(PRIVATE_RTTI_FLAG) \
  $(PRIVATE_CFLAGS) \
  $(PRIVATE_CPPFLAGS) \
  $(PRIVATE_DEBUG_CFLAGS) \
  $(PRIVATE_CFLAGS_NO_OVERRIDE) \
  $(PRIVATE_CPPFLAGS_NO_OVERRIDE)
endef

define m-c-flags
  $(PRIVATE_TARGET_GLOBAL_CFLAGS) \
  $(PRIVATE_TARGET_GLOBAL_CONLYFLAGS) \
  $(PRIVATE_ARM_CFLAGS) \
  $(PRIVATE_CFLAGS) \
  $(PRIVATE_CONLYFLAGS) \
  $(PRIVATE_DEBUG_CFLAGS) \
  $(PRIVATE_CFLAGS_NO_OVERRIDE)
endef

define filter-c-flags
  $(filter-out -std=gnu++17 -std=gnu99 -fno-rtti, \
    $(patsubst  -W%,, $1))
endef

define nospace-includes
  $(subst $(space)-isystem$(space),$(space)-isystem, \
  $(subst $(space)-I$(space),$(space)-I, \
  $(strip $(c-includes))))
endef

# Ensure include paths are always absolute
# When OUT_DIR_COMMON_BASE env variable is set the AOSP/KATI will use absolute paths
# for headers in intermediate output directories, but relative for all others.
define abs-include
$(strip \
  $(if $(patsubst -I%,,$1),\
    $(if $(patsubst -isystem/%,,$1),\
      $(subst -isystem,-isystem$(AOSP_ABSOLUTE_PATH)/,$1),\
      $1\
    ),\
    $(if $(patsubst -I/%,,$1),\
      $(subst -I,-I$(AOSP_ABSOLUTE_PATH)/,$1),\
      $1\
    )\
  )
)
endef

$(MESON_GEN_FILES_TARGET): PREPROCESS_MESON_CONFIGS:=$(PREPROCESS_MESON_CONFIGS)
$(MESON_GEN_FILES_TARGET): MESON_GEN_DIR:=$(MESON_GEN_DIR)
$(MESON_GEN_FILES_TARGET): $(sort $(shell find -L $(MESA3D_TOP) -not -path '*/\.*'))
	mkdir -p $(dir $@)
	echo -e "[properties]\n"                                                                                                  \
		"c_args = [$(foreach flag,$(call filter-c-flags,$(m-c-flags)),'$(flag)', ) \
                           $(foreach inc,$(nospace-includes),'$(call abs-include,$(inc))', )'']\n" \
		"cpp_args = [$(foreach flag,$(call filter-c-flags,$(m-cpp-flags)),'$(flag)', ) \
                             $(foreach inc,$(nospace-includes),'$(call abs-include,$(inc))', )'']\n" \
		"c_link_args = [$(foreach flag, $(m-lld-flags-cleaned),'$(flag)',)'']\n"                                          \
		"cpp_link_args = [$(foreach flag, $(m-lld-flags-cleaned),'$(flag)',)'']\n"                                        \
		"needs_exe_wrapper = true\n"                                                                                      \
		"[binaries]\n"                                                                                                    \
		"ar = '$(AOSP_ABSOLUTE_PATH)/$($($(M_TARGET_PREFIX))TARGET_AR)'\n"                                                \
		"c = [$(foreach arg,$(PRIVATE_CC),'$(subst prebuilts/,$(AOSP_ABSOLUTE_PATH)/prebuilts/,$(arg))',)'']\n"           \
		"cpp = [$(foreach arg,$(PRIVATE_CXX),'$(subst prebuilts/,$(AOSP_ABSOLUTE_PATH)/prebuilts/,$(arg))',)'']\n"        \
		"c_ld = 'lld'\n"                                                                                                  \
		"cpp_ld = 'lld'\n\n"                                                                                              \
		"pkgconfig = ['env', 'PKG_CONFIG_LIBDIR=' + '$(call relative-to-absolute,$(MESON_GEN_DIR))', '/usr/bin/pkg-config']\n\n" \
		"llvm-config = '/dev/null'\n"                                                                                     \
		"[host_machine]\n"                                                                                                \
		"system = 'linux'\n"                                                                                              \
		"cpu_family = '$(MESON_CPU_FAMILY)'\n"                                                                            \
		"cpu = '$(MESON_CPU_FAMILY)'\n"                                                                                   \
		"endian = 'little'" > $(dir $@)/aosp_cross

	#
	$(foreach pkg, $(MESON_GEN_PKGCONFIGS), $(call create-pkgconfig,$(dir $@),$(word 1, $(subst :, ,$(pkg))),$(word 2, $(subst :, ,$(pkg)))))
	touch $@

$(MESON_OUT_DIR)/.build.timestamp: MESON_GEN_NINJA:=$(MESON_GEN_NINJA)
$(MESON_OUT_DIR)/.build.timestamp: MESON_BUILD:=$(MESON_BUILD)
$(MESON_OUT_DIR)/.build.timestamp: $(MESON_GEN_FILES_TARGET) $(link_deps)
	rm -rf $(dir $@)
	mkdir -p $(dir $@)
	mkdir -p $(dir $@)/build
	# Meson will update timestamps in sources directory, continuously retriggering the build
	# even if nothing changed. Copy sources into intermediate dir to avoid this effect.
	cp -r $(MESA3D_TOP)/* $(dir $@)
ifneq ($(MESON_GEN_LLVM_STUB),)
	mkdir -p $(dir $@)/subprojects/llvm/
	echo -e "project('llvm', 'cpp', version : '$(MESON_LLVM_VERSION)')\n" \
		"dep_llvm = declare_dependency()\n"                           \
		"has_rtti = false\n" > $(dir $@)/subprojects/llvm/meson.build
endif
	$(MESON_GEN_NINJA)
	$(MESON_BUILD)
	touch $@

MESON_COPY_LIBGALLIUM := \
	cp `ls -1 $(MESA3D_GALLIUM_DRI_DIR)/* | head -1` $($(M_TARGET_PREFIX)MESA3D_GALLIUM_DRI_BIN)

$(MESON_OUT_DIR)/install/.install.timestamp: MESON_COPY_LIBGALLIUM:=$(MESON_COPY_LIBGALLIUM)
$(MESON_OUT_DIR)/install/.install.timestamp: MESON_BUILD:=$(MESON_BUILD)
$(MESON_OUT_DIR)/install/.install.timestamp: $(MESON_OUT_DIR)/.build.timestamp
	rm -rf $(dir $@)
	mkdir -p $(dir $@)
	DESTDIR=$(call relative-to-absolute,$(dir $@)) $(MESON_BUILD) install
	$(MESON_COPY_LIBGALLIUM)
	touch $@

$($(M_TARGET_PREFIX)MESA3D_LIBGBM_BIN) $(MESA3D_GLES_BINS): $(MESON_OUT_DIR)/install/.install.timestamp
	echo "Build $@"
	touch $@

define vulkan_target
$(M_TARGET_PREFIX)MESA3D_VULKAN_$1_BIN := $(MESON_OUT_DIR)/install/usr/local/lib/libvulkan_$(MESA_VK_LIB_SUFFIX_$1).so
$(MESON_OUT_DIR)/install/usr/local/lib/libvulkan_$(MESA_VK_LIB_SUFFIX_$1).so: $(MESON_OUT_DIR)/install/.install.timestamp
	touch $(MESON_OUT_DIR)/install/usr/local/lib/libvulkan_$(MESA_VK_LIB_SUFFIX_$1).so

endef

$(foreach driver,$(BOARD_MESA3D_VULKAN_DRIVERS), $(eval $(call vulkan_target,$(driver))))

$($(M_TARGET_PREFIX)TARGET_OUT_VENDOR_SHARED_LIBRARIES)/dri/.symlinks.timestamp: MESA3D_GALLIUM_DRI_DIR:=$(MESA3D_GALLIUM_DRI_DIR)
$($(M_TARGET_PREFIX)TARGET_OUT_VENDOR_SHARED_LIBRARIES)/dri/.symlinks.timestamp: $(MESON_OUT_DIR)/install/.install.timestamp
	# Create Symlinks
	mkdir -p $(dir $@)
	ls -1 $(MESA3D_GALLIUM_DRI_DIR)/ | PATH=/usr/bin:$$PATH xargs -I{} ln -s -f libgallium_dri.so $(dir $@)/{}
	touch $@

$($(M_TARGET_PREFIX)MESA3D_GALLIUM_DRI_BIN): $(TARGET_OUT_VENDOR)/$(MESA3D_LIB_DIR)/dri/.symlinks.timestamp
	echo "Build $@"
	touch $@



================================================
FILE: build-support/conftest.dyn
================================================
{
	radeon_drm_winsys_create;
};



================================================
FILE: docs/README.UVD
================================================
The software may implement third party technologies (e.g. third party
libraries) that are not licensed to you by AMD and for which you may need
to obtain licenses from other parties.  Unless explicitly stated otherwise,
these third party technologies are not licensed hereunder.  Such third
party technologies include, but are not limited, to H.264, H.265, HEVC, MPEG-2,
MPEG-4, AVC, and VC-1.

For MPEG-2 Encoding Products ANY USE OF THIS PRODUCT IN ANY MANNER OTHER
THAN PERSONAL USE THAT COMPLIES WITH THE MPEG-2 STANDARD FOR ENCODING VIDEO
INFORMATION FOR PACKAGED MEDIA IS EXPRESSLY PROHIBITED WITHOUT A LICENSE
UNDER APPLICABLE PATENTS IN THE MPEG-2 PATENT PORTFOLIO, WHICH LICENSES IS
AVAILABLE FROM MPEG LA, LLC, 6312 S. Fiddlers Green Circle, Suite 400E,
Greenwood Village, Colorado 80111 U.S.A.

WARRANTY DISCLAIMER: THE SOFTWARE IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY
KIND.  AMD DISCLAIMS ALL WARRANTIES, EXPRESS, IMPLIED, OR STATUTORY, INCLUDING
BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
PARTICULAR PURPOSE, TITLE, NON-INFRINGEMENT, THAT THE SOFTWARE WILL RUN
UNINTERRUPTED OR ERROR-FREE OR WARRANTIES ARISING FROM CUSTOM OF TRADE OR
COURSE OF USAGE.  THE ENTIRE RISK ASSOCIATED WITH THE USE OF THE SOFTWARE IS
ASSUMED BY YOU.  Some jurisdictions do not allow the exclusion of implied
warranties, so the above exclusion may not apply to You.

LIMITATION OF LIABILITY AND INDEMNIFICATION:  AMD AND ITS LICENSORS WILL NOT,
UNDER ANY CIRCUMSTANCES BE LIABLE FOR ANY PUNITIVE, DIRECT, INCIDENTAL,
INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING FROM USE OF THE SOFTWARE OR
THIS AGREEMENT EVEN IF AMD AND ITS LICENSORS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  In no event shall AMD's total liability to You
for all damages, losses, and causes of action (whether in contract, tort
(including negligence) or otherwise) exceed the amount of $100 USD.  You agree
to defend, indemnify and hold harmless AMD and its licensors, and any of their
directors, officers, employees, affiliates or agents from and against any and
all loss, damage, liability and other expenses (including reasonable
attorneys' fees), resulting from Your use of the Software or violation of the
terms and conditions of this Agreement.

U.S. GOVERNMENT RESTRICTED RIGHTS: The Software is provided with "RESTRICTED
RIGHTS." Use, duplication, or disclosure by the Government is subject to the
restrictions as set forth in FAR 52.227-14 and DFAR252.227-7013, et seq., or
its successor.  Use of the Software by the Government constitutes
acknowledgement of AMD's proprietary rights in them.

EXPORT RESTRICTIONS: The Software may be subject to export restrictions as
stated in the Software License Agreement.



================================================
FILE: docs/README.VCE
================================================
The software may implement third party technologies (e.g. third party
libraries) that are not licensed to you by AMD and for which you may need
to obtain licenses from other parties.  Unless explicitly stated otherwise,
these third party technologies are not licensed hereunder.  Such third
party technologies include, but are not limited, to H.264, MPEG-2, MPEG-4,
AVC, and VC-1.  

For MPEG-2 Intermediate Products: ANY USE OF THIS PRODUCT IN ANY MANNER OTHER
THAN PERSONAL USE THAT COMPLIES WITH THE MPEG-2 STANDARD IS EXPRESSLY
PROHIBITED WITHOUT A LICENSE UNDER APPLICABLE PATENTS IN THE MPEG-2 PATENT
PORTFOLIO, WHICH LICENSES IS AVAILABLE FROM MPEG LA, LLC, 6312 S. Fiddlers
Green Circle, Suite 400E, Greenwood Village, Colorado 80111 U.S.A.

WARRANTY DISCLAIMER: THE SOFTWARE IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY
KIND.  AMD DISCLAIMS ALL WARRANTIES, EXPRESS, IMPLIED, OR STATUTORY, INCLUDING
BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
PARTICULAR PURPOSE, TITLE, NON-INFRINGEMENT, THAT THE SOFTWARE WILL RUN
UNINTERRUPTED OR ERROR-FREE OR WARRANTIES ARISING FROM CUSTOM OF TRADE OR
COURSE OF USAGE.  THE ENTIRE RISK ASSOCIATED WITH THE USE OF THE SOFTWARE IS
ASSUMED BY YOU.  Some jurisdictions do not allow the exclusion of implied
warranties, so the above exclusion may not apply to You.

LIMITATION OF LIABILITY AND INDEMNIFICATION:  AMD AND ITS LICENSORS WILL NOT,
UNDER ANY CIRCUMSTANCES BE LIABLE FOR ANY PUNITIVE, DIRECT, INCIDENTAL,
INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING FROM USE OF THE SOFTWARE OR
THIS AGREEMENT EVEN IF AMD AND ITS LICENSORS HAVE BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.  In no event shall AMD's total liability to You
for all damages, losses, and causes of action (whether in contract, tort
(including negligence) or otherwise) exceed the amount of $100 USD.  You agree
to defend, indemnify and hold harmless AMD and its licensors, and any of their
directors, officers, employees, affiliates or agents from and against any and
all loss, damage, liability and other expenses (including reasonable
attorneys' fees), resulting from Your use of the Software or violation of the
terms and conditions of this Agreement.

U.S. GOVERNMENT RESTRICTED RIGHTS: The Software is provided with "RESTRICTED
RIGHTS." Use, duplication, or disclosure by the Government is subject to the
restrictions as set forth in FAR 52.227-14 and DFAR252.227-7013, et seq., or
its successor.  Use of the Software by the Government constitutes
acknowledgement of AMD's proprietary rights in them.

EXPORT RESTRICTIONS: The Software may be subject to export restrictions as
stated in the Software License Agreement.



================================================
FILE: docs/android.rst
================================================
Android
=======

Mesa hardware drivers can be built for Android one of two ways: built
into the Android OS using the Android.mk build system on older versions
of Android, or out-of-tree using the Meson build system and the
Android NDK.

The Android.mk build system has proven to be hard to maintain, as one
needs a built Android tree to build against, and it has never been
tested in CI.  The meson build system flow is frequently used by
Chrome OS developers for building and testing Android drivers.

Building using the Android NDK
------------------------------

Download and install the NDK using whatever method you normally would.
Then, create your meson cross file to use it, something like this
``~/.local/share/meson/cross/android-aarch64`` file::

    [binaries]
    ar = 'NDKDIR/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android-ar'
    c = ['ccache', 'NDKDIR/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android29-clang']
    cpp = ['ccache', 'NDKDIR/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android29-clang++', '-fno-exceptions', '-fno-unwind-tables', '-fno-asynchronous-unwind-tables', '-static-libstdc++']
    c_ld = 'lld'
    cpp_ld = 'lld'
    strip = 'NDKDIR/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android-strip'
    # Android doesn't come with a pkg-config, but we need one for meson to be happy not
    # finding all the optional deps it looks for.  Use system pkg-config pointing at a
    # directory we get to populate with any .pc files we want to add for Android
    pkgconfig = ['env', 'PKG_CONFIG_LIBDIR=NDKDIR/pkgconfig', '/usr/bin/pkg-config']

    [host_machine]
    system = 'linux'
    cpu_family = 'arm'
    cpu = 'armv8'
    endian = 'little'

Now, use that cross file for your Android build directory (as in this
one cross-compiling the turnip driver for a stock Pixel phone)

.. code-block:: console

    meson build-android-aarch64 \
        --cross-file android-aarch64 \
	-Dplatforms=android \
	-Dplatform-sdk-version=26 \
	-Dandroid-stub=true \
	-Dgallium-drivers= \
	-Dvulkan-drivers=freedreno \
	-Dfreedreno-kgsl=true
    ninja -C build-android-aarch64

Replacing Android drivers on stock Android
------------------------------------------

The vendor partition with the drivers is normally mounted from a
read-only disk image on ``/vendor``.  To be able to replace them for
driver development, we need to unlock the device and remount
``/vendor`` read/write.

.. code-block:: console

    adb disable-verity
    adb reboot
    adb remount -R

Now you can replace drivers as in:

.. code-block:: console

    adb push build-android-aarch64/src/freedreno/vulkan/libvulkan_freedreno.so /vendor/lib64/hw/vulkan.sdm710.so

Note this command doesn't quite work because libvulkan wants the
SONAME to match.  For now, in turnip we have been using a hack to the
meson.build to change the SONAME.

Replacing Android drivers on Chrome OS
--------------------------------------

Chrome OS's ARC++ is an Android container with hardware drivers inside
of it.  The vendor partition with the drivers is normally mounted from
a read-only squashfs image on disk.  For doing rapid driver
development, you don't want to regenerate that image.  So, we'll take
the existing squashfs image, copy it out on the host, and then use a
bind mount instead of a loopback mount so we can update our drivers
using scp from outside the container.

On your device, you'll want to make ``/`` read-write.  ssh in as root
and run:

.. code-block:: console

    crossystem dev_boot_signed_only=0
    /usr/share/vboot/bin/make_dev_ssd.sh --remove_rootfs_verification --partitions 4
    reboot

Then, we'll switch Android from using an image for ``/vendor`` to using a
bind-mount from a directory we control.

.. code-block:: console

    cd /opt/google/containers/android/
    mkdir vendor-ro
    mount -o loop vendor.raw.img vendor-ro
    cp -a vendor-ro vendor-rw
    emacs config.json

In the ``config.json``, you want to find the block for ``/vendor`` and
change it to::

            {
                "destination": "/vendor",
                "type": "bind",
                "source": "/opt/google/containers/android/vendor-rw",
                "options": [
                    "bind",
                    "rw"
                ]
            },

Now, restart the UI to do a full reload:

.. code-block:: console

    restart ui

At this point, your android container is restarted with your new
bind-mount ``/vendor``, and if you use ``android-sh`` to shell into it
then the ``mount`` command should show::

    /dev/root on /vendor type ext2 (rw,seclabel,relatime)

Now, replacing your DRI driver with a new one built for Android should
be a matter of:

.. code-block:: console

    scp msm_dri.so $HOST:/opt/google/containers/android/vendor-rw/lib64/dri/

You can do your build of your DRI driver using ``emerge-$BOARD
arc-mesa-freedreno`` (for example) if you have a source tree with
ARC++, but it should also be possible to build using the NDK as
described above.  There are currently rough edges with this, for
example the build will require that you have your arc-libdrm build
available to the NDK, assuming you're building anything but the
freedreno Vulkan driver for KGSL.  You can mostly put things in place
with:

.. code-block:: console

    scp $HOST:/opt/google/containers/android/vendor-rw/lib64/libdrm.so \
        NDKDIR/sysroot/usr/lib/aarch64-linux-android/lib/

    ln -s \
        /usr/include/xf86drm.h \
	/usr/include/libsync.h \
	/usr/include/libdrm \
	NDKDIR/sysroot/usr/include/

It seems that new invocations of an application will often reload the
DRI driver, but depending on the component you're working on you may
find you need to reload the whole Android container.  To do so without
having to log in to Chrome again every time, you can just kill the
container and let it restart:

.. code-block:: console

    kill $(cat /run/containers/android-run_oci/container.pid )



================================================
FILE: docs/application-issues.rst
================================================
Application Issues
==================

This page documents known issues with some OpenGL applications.

Topogun
-------

`Topogun <http://www.topogun.com/>`__ for Linux (version 2, at least)
creates a GLX visual without requesting a depth buffer. This causes bad
rendering if the OpenGL driver happens to choose a visual without a
depth buffer.

Mesa 9.1.2 and later (will) support a DRI configuration option to work
around this issue. Using the
`driconf <https://dri.freedesktop.org/wiki/DriConf>`__ tool, set the
"Create all visuals with a depth buffer" option before running Topogun.
Then, all GLX visuals will be created with a depth buffer.

Old OpenGL games
----------------

Some old OpenGL games (approx. ten years or older) may crash during
start-up because of an extension string buffer-overflow problem.

The problem is a modern OpenGL driver will return a very long string for
the ``glGetString(GL_EXTENSIONS)`` query and if the application naively
copies the string into a fixed-size buffer it can overflow the buffer
and crash the application.

The work-around is to set the ``MESA_EXTENSION_MAX_YEAR`` environment
variable to the approximate release year of the game. This will cause
the ``glGetString(GL_EXTENSIONS)`` query to only report extensions older
than the given year.

For example, if the game was released in 2001, do

.. code-block:: console

   export MESA_EXTENSION_MAX_YEAR=2001

before running the game.

Viewperf
--------

See the :doc:`Viewperf issues <viewperf>` page for a detailed list of
Viewperf issues.



================================================
FILE: docs/ARB_color_buffer_float.txt
================================================
Known issues in the ARB_color_buffer_float implementation:
- Rendering to multiple render targets, some fixed-point, some floating-point, with FIXED_ONLY fragment clamping and polygon smooth enabled may write incorrect values to the fixed point buffers (depends on spec interpretation)
- For fragment programs with ARB_fog_* options, colors are clamped before fog application regardless of the fragment clamping setting (this depends on spec interpretation)




================================================
FILE: docs/bugs.rst
================================================
Report a Bug
============

To file a Mesa bug, go to `GitLab on
freedesktop.org <https://gitlab.freedesktop.org/mesa/mesa/-/issues>`__.

Please follow these bug reporting guidelines:

-  Check if a new version of Mesa is available which might have fixed
   the problem.
-  Check if your bug is already reported in the database.
-  Monitor your bug report for requests for additional information, etc.
-  Attach the output of running glxinfo or wglinfo. This will tell us
   the Mesa version, which device driver you're using, etc.
-  If you're reporting a crash, try to use your debugger (gdb) to get a
   stack trace. Also, recompile Mesa in debug mode to get more detailed
   information.
-  Describe in detail how to reproduce the bug, especially with games
   and applications that the Mesa developers might not be familiar with.
-  Provide an `apitrace <https://github.com/apitrace/apitrace>`__ or
   simple GLUT-based test program if possible.

The easier a bug is to reproduce, the sooner it will be fixed. Please do
everything you can to facilitate quickly fixing bugs. If your bug report
is vague or your test program doesn't compile easily, the problem may
not be fixed very quickly.



================================================
FILE: docs/codingstyle.rst
================================================
Coding Style
============

Mesa is over 20 years old and the coding style has evolved over time.
Some old parts use a style that's a bit out of date. Different sections
of mesa can use different coding style as set in the local EditorConfig
(.editorconfig) and/or Emacs (.dir-locals.el) file. Alternatively the
following is applicable. If the guidelines below don't cover something,
try following the format of existing, neighboring code.

Basic formatting guidelines

-  3-space indentation, no tabs.
-  Limit lines to 78 or fewer characters. The idea is to prevent line
   wrapping in 80-column editors and terminals. There are exceptions,
   such as if you're defining a large, static table of information.
-  Opening braces go on the same line as the if/for/while statement. For
   example:

   .. code-block:: c

      if (condition) {
         foo;
      } else {
         bar;
      }

-  Put a space before/after operators. For example, ``a = b + c;`` and
   not ``a=b+c;``
-  This GNU indent command generally does the right thing for
   formatting:

   .. code-block:: console

      indent -br -i3 -npcs --no-tabs infile.c -o outfile.c

-  Use comments wherever you think it would be helpful for other
   developers. Several specific cases and style examples follow. Note
   that we roughly follow `Doxygen <http://www.doxygen.nl>`__
   conventions.

   Single-line comments:

   .. code-block:: c

      /* null-out pointer to prevent dangling reference below */
      bufferObj = NULL;

   Or,

   .. code-block:: c

      bufferObj = NULL;  /* prevent dangling reference below */

   Multi-line comment:

   .. code-block:: c

      /* If this is a new buffer object id, or one which was generated but
       * never used before, allocate a buffer object now.
       */

   We try to quote the OpenGL specification where prudent:

   .. code-block:: c

      /* Page 38 of the PDF of the OpenGL ES 3.0 spec says:
       *
       *     "An INVALID_OPERATION error is generated for any of the following
       *     conditions:
       *
       *     * <length> is zero."
       *
       * Additionally, page 94 of the PDF of the OpenGL 4.5 core spec
       * (30.10.2014) also says this, so it's no longer allowed for desktop GL,
       * either.
       */

   Function comment example:

   .. code-block:: c

      /**
       * Create and initialize a new buffer object.  Called via the
       * ctx->Driver.CreateObject() driver callback function.
       * \param  name  integer name of the object
       * \param  type  one of GL_FOO, GL_BAR, etc.
       * \return  pointer to new object or NULL if error
       */
      struct gl_object *
      _mesa_create_object(GLuint name, GLenum type)
      {
         /* function body */
      }

-  Put the function return type and qualifiers on one line and the
   function name and parameters on the next, as seen above. This makes
   it easy to use ``grep ^function_name dir/*`` to find function
   definitions. Also, the opening brace goes on the next line by itself
   (see above.)
-  Function names follow various conventions depending on the type of
   function:

   +---------------------+------------------------------------------+
   | Convention          | Explanation                              |
   +=====================+==========================================+
   | ``glFooBar()``      | a public GL entry point (in              |
   |                     | :file:`glapi_dispatch.c`)                |
   +---------------------+------------------------------------------+
   | ``_mesa_FooBar()``  | the internal immediate mode function     |
   +---------------------+------------------------------------------+
   | ``save_FooBar()``   | retained mode (display list) function in |
   |                     | :file:`dlist.c`                          |
   +---------------------+------------------------------------------+
   | ``foo_bar()``       | a static (private) function              |
   +---------------------+------------------------------------------+
   | ``_mesa_foo_bar()`` | an internal non-static Mesa function     |
   +---------------------+------------------------------------------+

-  Constants, macros and enum names are ``ALL_UPPERCASE``, with \_
   between words.
-  Mesa usually uses camel case for local variables (Ex:
   ``localVarname``) while Gallium typically uses underscores (Ex:
   ``local_var_name``).
-  Global variables are almost never used because Mesa should be
   thread-safe.
-  Booleans. Places that are not directly visible to the GL API should
   prefer the use of ``bool``, ``true``, and ``false`` over
   ``GLboolean``, ``GL_TRUE``, and ``GL_FALSE``. In C code, this may
   mean that ``#include <stdbool.h>`` needs to be added. The
   ``try_emit_*`` method ``src/mesa/state_tracker/st_glsl_to_tgsi.cpp``
   can serve as an example.



================================================
FILE: docs/conf.py
================================================
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sphinx_rtd_theme

#
# The Mesa 3D Graphics Library documentation build configuration file, created by
# sphinx-quickstart on Wed Mar 29 14:08:51 2017.
#
# This file is execfile()d with the current directory set to its
# containing dir.
#
# Note that not all possible configuration values are present in this
# autogenerated file.
#
# All configuration values have a default; values that are commented out
# serve to show the default.

# If extensions (or modules to document with autodoc) are in another directory,
# add these directories to sys.path here. If the directory is relative to the
# documentation root, use os.path.abspath to make it absolute, like shown here.
#
import os
import sys

# If extensions (or modules to document with autodoc) are in another directory,
# add these directories to sys.path here. If the directory is relative to the
# documentation root, use os.path.abspath to make it absolute, like shown here.
sys.path.append(os.path.abspath('_exts'))


# -- General configuration ------------------------------------------------

# If your documentation needs a minimal Sphinx version, state it here.
#
# needs_sphinx = '1.0'

# Add any Sphinx extension module names here, as strings. They can be
# extensions coming with Sphinx (named 'sphinx.ext.*') or your custom
# ones.
extensions = ['sphinx.ext.graphviz', 'breathe', 'formatting', 'nir', 'redirects']

# Add any paths that contain templates here, relative to this directory.
templates_path = ['_templates']

# The suffix(es) of source filenames.
# You can specify multiple suffix as a list of string:
#
# source_suffix = ['.rst', '.md']
source_suffix = '.rst'

# The master toctree document.
master_doc = 'index'

# General information about the project.
project = 'The Mesa 3D Graphics Library'
copyright = '1995-2018, Brian Paul'
author = 'Brian Paul'
html_show_copyright = False

html_theme_path = [sphinx_rtd_theme.get_html_theme_path()]

# The version info for the project you're documenting, acts as replacement for
# |version| and |release|, also used in various other places throughout the
# built documents.
#
# The short X.Y version.
version = 'latest'
# The full version, including alpha/beta/rc tags.
release = 'latest'

# The language for content autogenerated by Sphinx. Refer to documentation
# for a list of supported languages.
#
# This is also used if you do content translation via gettext catalogs.
# Usually you set "language" from the command line for these cases.
language = 'en'

# List of patterns, relative to source directory, that match files and
# directories to ignore when looking for source files.
# This patterns also effect to html_static_path and html_extra_path
exclude_patterns = []

# The name of the Pygments (syntax highlighting) style to use.
pygments_style = 'sphinx'

# If true, `todo` and `todoList` produce output, else they produce nothing.
todo_include_todos = False

# Disable highlighting unless a language is specified, otherwise we'll get
# python keywords highlit in literal blocks.
highlight_language = "none"


# -- Options for HTML output ----------------------------------------------

# The theme to use for HTML and HTML Help pages.  See the documentation for
# a list of builtin themes.
#
html_theme = 'sphinx_rtd_theme'

html_favicon = "favicon.ico"

# Theme options are theme-specific and customize the look and feel of a theme
# further.  For a list of options available for each theme, see the
# documentation.
#
html_theme_options = {
  'display_version': False,
}

html_context = {
  'display_gitlab': True,
  'gitlab_host': 'gitlab.freedesktop.org',
  'gitlab_user': 'mesa',
  'gitlab_repo': 'mesa',
  'gitlab_version': 'main',
  'conf_py_path': '/docs/',
}

html_copy_source = False

# Add any paths that contain custom static files (such as style sheets) here,
# relative to this directory. They are copied after the builtin static files,
# so a file named "default.css" will overwrite the builtin "default.css".
html_static_path = []

html_extra_path = [
  '_extra/',
  'release-maintainers-keys.asc',
  'features.txt',
  'libGL.txt',
  'README.UVD',
  'README.VCE',
]

html_redirects = [
  ('webmaster', 'https://www.mesa3d.org/website/'),
]


# -- Options for HTMLHelp output ------------------------------------------

# Output file base name for HTML help builder.
htmlhelp_basename = 'TheMesa3DGraphicsLibrarydoc'


# -- Options for LaTeX output ---------------------------------------------

latex_elements = {
    # The paper size ('letterpaper' or 'a4paper').
    #
    # 'papersize': 'letterpaper',

    # The font size ('10pt', '11pt' or '12pt').
    #
    # 'pointsize': '10pt',

    # Additional stuff for the LaTeX preamble.
    #
    # 'preamble': '',

    # Latex figure (float) alignment
    #
    # 'figure_align': 'htbp',
}

# Grouping the document tree into LaTeX files. List of tuples
# (source start file, target name, title,
#  author, documentclass [howto, manual, or own class]).
latex_documents = [
    (master_doc, 'TheMesa3DGraphicsLibrary.tex', 'The Mesa 3D Graphics Library Documentation',
     'Brian Paul', 'manual'),
]


# -- Options for manual page output ---------------------------------------

# One entry per manual page. List of tuples
# (source start file, name, description, authors, manual section).
man_pages = [
    (master_doc, 'themesa3dgraphicslibrary', 'The Mesa 3D Graphics Library Documentation',
     [author], 1)
]


# -- Options for Texinfo output -------------------------------------------

# Grouping the document tree into Texinfo files. List of tuples
# (source start file, target name, title, author,
#  dir menu entry, description, category)
texinfo_documents = [
    (master_doc, 'TheMesa3DGraphicsLibrary', 'The Mesa 3D Graphics Library Documentation',
     author, 'TheMesa3DGraphicsLibrary', 'One line description of project.',
     'Miscellaneous'),
]

# -- Options for Graphviz -------------------------------------------------

graphviz_output_format = 'svg'

# -- Options for breathe --------------------------------------------------
breathe_projects = {
    'mesa' : 'doxygen_xml',
}
breathe_default_project = 'mesa'
breathe_show_define_initializer = True
breathe_show_enumvalue_initializer = True



================================================
FILE: docs/conform.rst
================================================
Conformance Testing
===================

Mesa as a project does not get certified conformant by Khronos for the
APIs it implements.  Rather, individual driver teams run the
conformance tests and submit their results on a set of hardware on a
particular operating system.  The canonical list is at Khronos' list
of `conformant
products <https://www.khronos.org/conformance/adopters/conformant-products/>`_
and you can find some reports there by searching for "Mesa",
"Raspbian" and "RADV" for example.

Submitting conformance results to Khronos
-----------------------------------------

If your driver team is associated with an organization that is a
Khronos member and has submitted conformance for your API on another
software stack (likely you're a hardware company), it will probably be
easiest to submit your conformance through them.

If you are an individual developer or your organization hasn't
submitted results for the given API yet, X.Org is a member through
Software in the Public Interest, and they can help submit your
conformance results to get added to the list of conformant products.
You should probably coordinate with board@foundation.x.org for your
first submission.



================================================
FILE: docs/debugging.rst
================================================
Debugging Tips
==============

Normally Mesa (and OpenGL) records but does not notify the user of
errors. It is up to the application to call ``glGetError`` to check for
errors. Mesa supports an environment variable, ``MESA_DEBUG``, to help
with debugging. If ``MESA_DEBUG`` is defined, a message will be printed
to stdout whenever an error occurs.

More extensive error checking is done in DEBUG builds
(``--buildtype debug`` for Meson).

In your debugger you can set a breakpoint in ``_mesa_error()`` to trap
Mesa errors.

There is a display list printing/debugging facility. See the end of
``src/dlist.c`` for details.



================================================
FILE: docs/developers.rst
================================================
Developers
==========

Both professional and volunteer developers contribute to Mesa.

`VMware <https://www.vmware.com/>`__ employs several of the main Mesa
developers including Brian Paul and Keith Whitwell.

In the past, Tungsten Graphics contracts implemented many Mesa features
including:

-  DRI drivers for Intel i965, i945, i915 and other chips
-  Advanced memory manager and framebuffer object support
-  Shading language compiler and OpenGL 2.0 support
-  MiniGLX environment

Other companies including `Intel <https://01.org/linuxgraphics>`__ and
RedHat also actively contribute to the project. Intel has recently
contributed the new GLSL compiler in Mesa 7.9.

`LunarG <https://www.lunarg.com/>`__ can be contacted for custom Mesa /
3D graphics development.

Volunteers have made significant contributions to all parts of Mesa,
including complete device drivers.



================================================
FILE: docs/devinfo.rst
================================================
Development Notes
=================

Adding Extensions
-----------------

To add a new GL extension to Mesa you have to do at least the following.

-  If ``glext.h`` doesn't define the extension, edit ``include/GL/gl.h``
   and add code like this:

   .. code-block:: c

           #ifndef GL_EXT_the_extension_name
           #define GL_EXT_the_extension_name 1
           /* declare the new enum tokens */
           /* prototype the new functions */
           /* TYPEDEFS for the new functions */
           #endif
         

-  In the ``src/mapi/glapi/gen/`` directory, add the new extension
   functions and enums to the ``gl_API.xml`` file. Then, a bunch of
   source files must be regenerated by executing the corresponding
   Python scripts.
-  Add a new entry to the ``gl_extensions`` struct in ``consts_exts.h`` if
   the extension requires driver capabilities not already exposed by
   another extension.
-  Add a new entry to the ``src/mesa/main/extensions_table.h`` file.
-  From this point, the best way to proceed is to find another
   extension, similar to the new one, that's already implemented in Mesa
   and use it as an example.
-  If the new extension adds new GL state, the functions in ``get.c``,
   ``enable.c`` and ``attrib.c`` will most likely require new code.
-  To determine if the new extension is active in the current context,
   use the auto-generated ``_mesa_has_##name_str()`` function defined in
   ``src/mesa/main/extensions.h``.
-  The dispatch tests ``check_table.cpp`` and ``dispatch_sanity.cpp``
   should be updated with details about the new extensions functions.
   These tests are run using ``meson test``.



================================================
FILE: docs/dispatch.rst
================================================
GL Dispatch
===========

Several factors combine to make efficient dispatch of OpenGL functions
fairly complicated. This document attempts to explain some of the issues
and introduce the reader to Mesa's implementation. Readers already
familiar with the issues around GL dispatch can safely skip ahead to the
:ref:`overview of Mesa's implementation <overview>`.

1. Complexity of GL Dispatch
----------------------------

Every GL application has at least one object called a GL *context*. This
object, which is an implicit parameter to every GL function, stores all
of the GL related state for the application. Every texture, every buffer
object, every enable, and much, much more is stored in the context.
Since an application can have more than one context, the context to be
used is selected by a window-system dependent function such as
``glXMakeContextCurrent``.

In environments that implement OpenGL with X-Windows using GLX, every GL
function, including the pointers returned by ``glXGetProcAddress``, are
*context independent*. This means that no matter what context is
currently active, the same ``glVertex3fv`` function is used.

This creates the first bit of dispatch complexity. An application can
have two GL contexts. One context is a direct rendering context where
function calls are routed directly to a driver loaded within the
application's address space. The other context is an indirect rendering
context where function calls are converted to GLX protocol and sent to a
server. The same ``glVertex3fv`` has to do the right thing depending on
which context is current.

Highly optimized drivers or GLX protocol implementations may want to
change the behavior of GL functions depending on current state. For
example, ``glFogCoordf`` may operate differently depending on whether or
not fog is enabled.

In multi-threaded environments, it is possible for each thread to have a
different GL context current. This means that poor old ``glVertex3fv``
has to know which GL context is current in the thread where it is being
called.

.. _overview:

2. Overview of Mesa's Implementation
------------------------------------

Mesa uses two per-thread pointers. The first pointer stores the address
of the context current in the thread, and the second pointer stores the
address of the *dispatch table* associated with that context. The
dispatch table stores pointers to functions that actually implement
specific GL functions. Each time a new context is made current in a
thread, these pointers are updated.

The implementation of functions such as ``glVertex3fv`` becomes
conceptually simple:

-  Fetch the current dispatch table pointer.
-  Fetch the pointer to the real ``glVertex3fv`` function from the
   table.
-  Call the real function.

This can be implemented in just a few lines of C code. The file
``src/mesa/glapi/glapitemp.h`` contains code very similar to this.

.. code-block:: c
   :caption: Sample dispatch function

   void glVertex3f(GLfloat x, GLfloat y, GLfloat z)
   {
       const struct _glapi_table * const dispatch = GET_DISPATCH();

       (*dispatch->Vertex3f)(x, y, z);
   }

The problem with this simple implementation is the large amount of
overhead that it adds to every GL function call.

In a multithreaded environment, a naive implementation of
``GET_DISPATCH`` involves a call to ``pthread_getspecific`` or a similar
function. Mesa provides a wrapper function called
``_glapi_get_dispatch`` that is used by default.

3. Optimizations
----------------

A number of optimizations have been made over the years to diminish the
performance hit imposed by GL dispatch. This section describes these
optimizations. The benefits of each optimization and the situations
where each can or cannot be used are listed.

3.1. Dual dispatch table pointers
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The vast majority of OpenGL applications use the API in a single
threaded manner. That is, the application has only one thread that makes
calls into the GL. In these cases, not only do the calls to
``pthread_getspecific`` hurt performance, but they are completely
unnecessary! It is possible to detect this common case and avoid these
calls.

Each time a new dispatch table is set, Mesa examines and records the ID
of the executing thread. If the same thread ID is always seen, Mesa
knows that the application is, from OpenGL's point of view, single
threaded.

As long as an application is single threaded, Mesa stores a pointer to
the dispatch table in a global variable called ``_glapi_Dispatch``. The
pointer is also stored in a per-thread location via
``pthread_setspecific``. When Mesa detects that an application has
become multithreaded, ``NULL`` is stored in ``_glapi_Dispatch``.

Using this simple mechanism the dispatch functions can detect the
multithreaded case by comparing ``_glapi_Dispatch`` to ``NULL``. The
resulting implementation of ``GET_DISPATCH`` is slightly more complex,
but it avoids the expensive ``pthread_getspecific`` call in the common
case.

.. code-block:: c
   :caption: Improved ``GET_DISPATCH`` Implementation

   #define GET_DISPATCH() \
       (_glapi_Dispatch != NULL) \
           ? _glapi_Dispatch : pthread_getspecific(&_glapi_Dispatch_key)

3.2. ELF TLS
~~~~~~~~~~~~

Starting with the 2.4.20 Linux kernel, each thread is allocated an area
of per-thread, global storage. Variables can be put in this area using
some extensions to GCC. By storing the dispatch table pointer in this
area, the expensive call to ``pthread_getspecific`` and the test of
``_glapi_Dispatch`` can be avoided.

The dispatch table pointer is stored in a new variable called
``_glapi_tls_Dispatch``. A new variable name is used so that a single
libGL can implement both interfaces. This allows the libGL to operate
with direct rendering drivers that use either interface. Once the
pointer is properly declared, ``GET_DISPACH`` becomes a simple variable
reference.

.. code-block:: c
   :caption: TLS ``GET_DISPATCH`` Implementation

   extern __THREAD_INITIAL_EXEC struct _glapi_table *_glapi_tls_Dispatch;

   #define GET_DISPATCH() _glapi_tls_Dispatch

Use of this path is controlled by the preprocessor define
``USE_ELF_TLS``. Any platform capable of using ELF TLS should use this
as the default dispatch method.

Windows has a similar concept, and beginning with Windows Vista, shared
libraries can take advantage of compiler-assisted TLS. This TLS data
has no fixed size and does not compete with API-based TLS (``TlsAlloc``)
for the limited number of slots available there, and so ``USE_ELF_TLS`` can
be used on Windows too, even though it's not truly ELF.

3.3. Assembly Language Dispatch Stubs
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Many platforms have difficulty properly optimizing the tail-call in the
dispatch stubs. Platforms like x86 that pass parameters on the stack
seem to have even more difficulty optimizing these routines. All of the
dispatch routines are very short, and it is trivial to create optimal
assembly language versions. The amount of optimization provided by using
assembly stubs varies from platform to platform and application to
application. However, by using the assembly stubs, many platforms can
use an additional space optimization (see :ref:`below <fixedsize>`).

The biggest hurdle to creating assembly stubs is handling the various
ways that the dispatch table pointer can be accessed. There are four
different methods that can be used:

#. Using ``_glapi_Dispatch`` directly in builds for non-multithreaded
   environments.
#. Using ``_glapi_Dispatch`` and ``_glapi_get_dispatch`` in
   multithreaded environments.
#. Using ``_glapi_Dispatch`` and ``pthread_getspecific`` in
   multithreaded environments.
#. Using ``_glapi_tls_Dispatch`` directly in TLS enabled multithreaded
   environments.

People wishing to implement assembly stubs for new platforms should
focus on #4 if the new platform supports TLS. Otherwise, implement #2
followed by #3. Environments that do not support multithreading are
uncommon and not terribly relevant.

Selection of the dispatch table pointer access method is controlled by a
few preprocessor defines.

-  If ``USE_ELF_TLS`` is defined, method #3 is used.
-  If ``HAVE_PTHREAD`` is defined, method #2 is used.
-  If none of the preceding are defined, method #1 is used.

Two different techniques are used to handle the various different cases.
On x86 and SPARC, a macro called ``GL_STUB`` is used. In the preamble of
the assembly source file different implementations of the macro are
selected based on the defined preprocessor variables. The assembly code
then consists of a series of invocations of the macros such as:

.. code-block:: c
   :caption: SPARC Assembly Implementation of ``glColor3fv``

   GL_STUB(Color3fv, _gloffset_Color3fv)

The benefit of this technique is that changes to the calling pattern
(i.e., addition of a new dispatch table pointer access method) require
fewer changed lines in the assembly code.

However, this technique can only be used on platforms where the function
implementation does not change based on the parameters passed to the
function. For example, since x86 passes all parameters on the stack, no
additional code is needed to save and restore function parameters around
a call to ``pthread_getspecific``. Since x86-64 passes parameters in
registers, varying amounts of code needs to be inserted around the call
to ``pthread_getspecific`` to save and restore the GL function's
parameters.

The other technique, used by platforms like x86-64 that cannot use the
first technique, is to insert ``#ifdef`` within the assembly
implementation of each function. This makes the assembly file
considerably larger (e.g., 29,332 lines for ``glapi_x86-64.S`` versus
1,155 lines for ``glapi_x86.S``) and causes simple changes to the
function implementation to generate many lines of diffs. Since the
assembly files are typically generated by scripts, this isn't a
significant problem.

Once a new assembly file is created, it must be inserted in the build
system. There are two steps to this. The file must first be added to
``src/mesa/sources``. That gets the file built and linked. The second
step is to add the correct ``#ifdef`` magic to
``src/mesa/glapi/glapi_dispatch.c`` to prevent the C version of the
dispatch functions from being built.

.. _fixedsize:

3.4. Fixed-Length Dispatch Stubs
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To implement ``glXGetProcAddress``, Mesa stores a table that associates
function names with pointers to those functions. This table is stored in
``src/mesa/glapi/glprocs.h``. For different reasons on different
platforms, storing all of those pointers is inefficient. On most
platforms, including all known platforms that support TLS, we can avoid
this added overhead.

If the assembly stubs are all the same size, the pointer need not be
stored for every function. The location of the function can instead be
calculated by multiplying the size of the dispatch stub by the offset of
the function in the table. This value is then added to the address of
the first dispatch stub.

This path is activated by adding the correct ``#ifdef`` magic to
``src/mesa/glapi/glapi.c`` just before ``glprocs.h`` is included.



================================================
FILE: docs/download.rst
================================================
Downloading and Unpacking
=========================

Downloading
-----------

You can download the released versions of Mesa via
`HTTPS <https://mesa.freedesktop.org/archive/>`__ or
`FTP <ftp://ftp.freedesktop.org/pub/mesa/>`__.

Our release tarballs are GPG-signed, and the public keys are available
here: `release-maintainers-keys.asc <release-maintainers-keys.asc>`__.

Starting with the first release of 2017, Mesa's version scheme is
year-based. Filenames are in the form ``mesa-Y.N.P.tar.gz``, where ``Y``
is the year (two digits), ``N`` is an incremental number (starting at 0)
and ``P`` is the patch number (0 for the first release, 1 for the first
patch after that).

When a new release is coming, release candidates (betas) may be found in
the same directory, and are recognizable by the
``mesa-Y.N.P-rcX.tar.gz`` filename.

Unpacking
---------

Mesa releases are available in two formats: ``.tar.xz`` and ``.tar.gz``.

To unpack the tarball:

.. code-block:: console

      tar xf mesa-Y.N.P.tar.xz

or

.. code-block:: console

      tar xf mesa-Y.N.P.tar.gz

Contents
--------

Proceed to the :doc:`compilation and installation
instructions <install>`.

Demos, GLUT, and GLU
--------------------

A package of SGI's GLU library is available
`here <ftp://ftp.freedesktop.org/pub/mesa/glu/>`__

A package of Mark Kilgard's GLUT library is available
`here <ftp://ftp.freedesktop.org/pub/mesa/glut/>`__

The Mesa demos collection is available
`here <ftp://ftp.freedesktop.org/pub/mesa/demos/>`__

In the past, GLUT, GLU and the Mesa demos were released in conjunction
with Mesa releases. But since GLUT, GLU and the demos change
infrequently, they were split off into their own Git repositories:
`GLUT <https://gitlab.freedesktop.org/mesa/glut>`__,
`GLU <https://gitlab.freedesktop.org/mesa/glu>`__ and
`Demos <https://gitlab.freedesktop.org/mesa/demos>`__,



================================================
FILE: docs/doxygen-wrapper.py
================================================
#!/usr/bin/env python3
#
# Copyright © 2021 Intel Corporation
#
# Permission is hereby granted, free of charge, to any person obtaining a
# copy of this software and associated documentation files (the
# "Software"), to deal in the Software without restriction, including
# without limitation the rights to use, copy, modify, merge, publish,
# distribute, sub license, and/or sell copies of the Software, and to
# permit persons to whom the Software is furnished to do so, subject to
# the following conditions:
#
# The above copyright notice and this permission notice (including the
# next paragraph) shall be included in all copies or substantial portions
# of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.
# IN NO EVENT SHALL VMWARE AND/OR ITS SUPPLIERS BE LIABLE FOR
# ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
# TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
# SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

import argparse
from mako.template import Template
import os
import subprocess
import tempfile

INPUT_PATHS = [
    'src/compiler/nir/nir.h',
    'src/intel/isl',
    'src/vulkan/runtime',
]

TEMPLATE_DOXYFILE = Template("""
# Doxyfile 1.9.1
DOXYFILE_ENCODING = UTF-8
PROJECT_NAME = "Mesa"

INPUT = ${' '.join(input_files)}
XML_OUTPUT = ${output_xml}

# Only generate XML
GENERATE_HTML = NO
GENERATE_LATEX = NO
GENERATE_XML = YES

# Add aliases for easily writing reStructuredText in comments
ALIASES  = "rst=\\verbatim embed:rst:leading-asterisk"
ALIASES += "endrst=\endverbatim"

ENABLE_PREPROCESSING = YES
MACRO_EXPANSION = YES
EXPAND_ONLY_PREDEF = YES

# Defines required to keep doxygen from tripping on our attribute macros
PREDEFINED  = PACKED=
PREDEFINED += ATTRIBUTE_CONST=
PREDEFINED += MUST_CHECK=
""")

def run_doxygen(output_path, input_paths=[]):
    doxyfile = tempfile.NamedTemporaryFile(mode='w', delete=False)
    try:
        doxyfile.write(TEMPLATE_DOXYFILE.render(
            input_files=[ os.path.abspath(i) for i in input_paths ],
            output_xml=os.path.abspath(output_path),
        ))
        doxyfile.close()

        subprocess.run(['doxygen', doxyfile.name])

    finally:
        doxyfile.close()
        os.unlink(doxyfile.name)

if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('--out-dir',
                        help='Output XML directory.',
                        required=True)
    args = parser.parse_args()

    this_dir = os.path.dirname(os.path.abspath(__file__))
    mesa_dir = os.path.join(this_dir, '..')
    def fixpath(p):
        if os.path.isabs(p):
            return p
        return os.path.join(mesa_dir, p)

    input_paths = [ fixpath(p) for p in INPUT_PATHS ]

    run_doxygen(args.out_dir, input_paths)



================================================
FILE: docs/egl.rst
================================================
EGL
===

The current version of EGL in Mesa implements EGL 1.4. More information
about EGL can be found at https://www.khronos.org/egl/.

The Mesa's implementation of EGL uses a driver architecture. The main
library (``libEGL``) is window system neutral. It provides the EGL API
entry points and helper functions for use by the drivers. Drivers are
dynamically loaded by the main library and most of the EGL API calls are
directly dispatched to the drivers.

The driver in use decides the window system to support.

Build EGL
---------

#. Configure your build with the desired client APIs and enable the
   driver for your hardware. For example:

   .. code-block:: console

      $ meson configure \
              -D egl=enabled \
              -D gles1=enabled \
              -D gles2=enabled \
              -D dri-drivers=... \
              -D gallium-drivers=...

   The main library and OpenGL is enabled by default. The first two
   options above enables :doc:`OpenGL ES 1.x and 2.x <opengles>`. The
   last two options enables the listed classic and Gallium drivers
   respectively.

#. Build and install Mesa as usual.

In the given example, it will build and install ``libEGL``, ``libGL``,
``libGLESv1_CM``, ``libGLESv2``, and one or more EGL drivers.

Configure Options
~~~~~~~~~~~~~~~~~

There are several options that control the build of EGL at configuration
time

``-D egl=enabled``
   By default, EGL is enabled. When disabled, the main library and the
   drivers will not be built.

``-D platforms=...``
   List the platforms (window systems) to support. Its argument is a
   comma separated string such as ``-D platforms=x11,wayland``. It decides
   the platforms a driver may support. The first listed platform is also
   used by the main library to decide the native platform.

   The available platforms are ``x11``, ``wayland``,
   ``android``, and ``haiku``. The ``android`` platform
   can either be built as a system component, part of AOSP, using
   ``Android.mk`` files, or cross-compiled using appropriate options.
   Unless for special needs, the build system should select the right
   platforms automatically.

``-D gles1=enabled`` and ``-D gles2=enabled``
   These options enable OpenGL ES support in OpenGL. The result is one
   big internal library that supports multiple APIs.

``-D shared-glapi=enabled``
   By default, ``libGL`` has its own copy of ``libglapi``. This options
   makes ``libGL`` use the shared ``libglapi``. This is required if
   applications mix OpenGL and OpenGL ES.

Use EGL
-------

Demos
~~~~~

There are demos for the client APIs supported by EGL. They can be found
in mesa/demos repository.

Environment Variables
~~~~~~~~~~~~~~~~~~~~~

There are several environment variables that control the behavior of EGL
at runtime

``EGL_PLATFORM``
   This variable specifies the native platform. The valid values are the
   same as those for ``-D platforms=...``. When the variable is not set,
   the main library uses the first platform listed in
   ``-D platforms=...`` as the native platform.

   Extensions like ``EGL_MESA_drm_display`` define new functions to
   create displays for non-native platforms. These extensions are
   usually used by applications that support non-native platforms.
   Setting this variable is probably required only for some of the demos
   found in mesa/demo repository.

``EGL_LOG_LEVEL``
   This changes the log level of the main library and the drivers. The
   valid values are: ``debug``, ``info``, ``warning``, and ``fatal``.

Packaging
---------

The ABI between the main library and its drivers are not stable. Nor is
there a plan to stabilize it at the moment.

Developers
----------

The sources of the main library and drivers can be found at
``src/egl/``.

The code basically consists of two things:

1. An EGL API dispatcher. This directly routes all the ``eglFooBar()``
   API calls into driver-specific functions.

2. Two EGL drivers (``dri2`` and ``haiku``), implementing the API
   functions handling the platforms' specifics.

Two of API functions are optional (``eglQuerySurface()`` and
``eglSwapInterval()``); the former provides fallback for all the
platform-agnostic attributes (i.e. everything except ``EGL_WIDTH``
& ``EGL_HEIGHT``), and the latter just silently pretends the API call
succeeded (as per EGL spec).

A driver _could_ implement all the other EGL API functions, but several of
them are only needed for extensions, like ``eglSwapBuffersWithDamageEXT()``.
See ``src/egl/main/egldriver.h`` to see which driver hooks are only
required by extensions.

Bootstrapping
~~~~~~~~~~~~~

When the apps calls ``eglInitialize()``, the driver's ``Initialize()``
function is called. If the first driver initialization attempt fails,
a second one is tried using only software components (this can be forced
using the ``LIBGL_ALWAYS_SOFTWARE`` environment variable). Typically,
this function takes care of setting up visual configs, creating EGL
devices, etc.

Teardown
~~~~~~~~

When ``eglTerminate()`` is called, the ``driver->Terminate()`` function
is called. The driver should clean up after itself.

Subclassing
~~~~~~~~~~~

The internal libEGL data structures such as ``_EGLDisplay``,
``_EGLContext``, ``_EGLSurface``, etc. should be considered base classes
from which drivers will derive subclasses.

EGL Drivers
-----------

``egl_dri2``
   This driver supports several platforms: ``android``, ``device``,
   ``drm``, ``surfaceless``, ``wayland`` and ``x11``. It functions as
   a DRI driver loader. For ``x11`` support, it talks to the X server
   directly using (XCB-)DRI3 protocol when available, and falls back to
   DRI2 if necessary (can be forced with ``LIBGL_DRI3_DISABLE``).

   This driver can share DRI drivers with ``libGL``.

``haiku``
   This driver supports only the `Haiku <https://haiku-os.org>`__
   platform. It is also much less feature-complete than ``egl_dri2``,
   supporting only part of EGL 1.4 and none of the extensions beyond it.

Lifetime of Display Resources
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Contexts and surfaces are examples of display resources. They might live
longer than the display that creates them.

In EGL, when a display is terminated through ``eglTerminate``, all
display resources should be destroyed. Similarly, when a thread is
released through ``eglReleaseThread``, all current display resources
should be released. Another way to destroy or release resources is
through functions such as ``eglDestroySurface`` or ``eglMakeCurrent``.

When a resource that is current to some thread is destroyed, the
resource should not be destroyed immediately. EGL requires the resource
to live until it is no longer current. A driver usually calls
``eglIs<Resource>Bound`` to check if a resource is bound (current) to
any thread in the destroy callbacks. If it is still bound, the resource
is not destroyed.

The main library will mark destroyed current resources as unlinked. In a
driver's ``MakeCurrent`` callback, ``eglIs<Resource>Linked`` can then be
called to check if a newly released resource is linked to a display. If
it is not, the last reference to the resource is removed and the driver
should destroy the resource. But it should be careful here because
``MakeCurrent`` might be called with an uninitialized display.

This is the only mechanism provided by the main library to help manage
the resources. The drivers are responsible to the correct behavior as
defined by EGL.

``EGL_RENDER_BUFFER``
~~~~~~~~~~~~~~~~~~~~~

In EGL, the color buffer a context should try to render to is decided by
the binding surface. It should try to render to the front buffer if the
binding surface has ``EGL_RENDER_BUFFER`` set to ``EGL_SINGLE_BUFFER``;
If the same context is later bound to a surface with
``EGL_RENDER_BUFFER`` set to ``EGL_BACK_BUFFER``, the context should try
to render to the back buffer. However, the context is allowed to make
the final decision as to which color buffer it wants to or is able to
render to.

For pbuffer surfaces, the render buffer is always ``EGL_BACK_BUFFER``.
And for pixmap surfaces, the render buffer is always
``EGL_SINGLE_BUFFER``. Unlike window surfaces, EGL spec requires their
``EGL_RENDER_BUFFER`` values to be honored. As a result, a driver should
never set ``EGL_PIXMAP_BIT`` or ``EGL_PBUFFER_BIT`` bits of a config if
the contexts created with the config won't be able to honor the
``EGL_RENDER_BUFFER`` of pixmap or pbuffer surfaces.

It should also be noted that pixmap and pbuffer surfaces are assumed to
be single-buffered, in that ``eglSwapBuffers`` has no effect on them. It
is desirable that a driver allocates a private color buffer for each
pbuffer surface created. If the window system the driver supports has
native pbuffers, or if the native pixmaps have more than one color
buffers, the driver should carefully attach the native color buffers to
the EGL surfaces, re-route them if required.

There is no defined behavior as to, for example, how ``glDrawBuffer``
interacts with ``EGL_RENDER_BUFFER``. Right now, it is desired that the
draw buffer in a client API be fixed for pixmap and pbuffer surfaces.
Therefore, the driver is responsible to guarantee that the client API
renders to the specified render buffer for pixmap and pbuffer surfaces.

``EGLDisplay`` Mutex
~~~~~~~~~~~~~~~~~~~~

The ``EGLDisplay`` will be locked before calling any of the dispatch
functions (well, except for GetProcAddress which does not take an
``EGLDisplay``). This guarantees that the same dispatch function will
not be called with the same display at the same time. If a driver has
access to an ``EGLDisplay`` without going through the EGL APIs, the
driver should as well lock the display before using it.



================================================
FILE: docs/envvars.rst
================================================
Environment Variables
=====================

Normally, no environment variables need to be set. Most of the
environment variables used by Mesa/Gallium are for debugging purposes,
but they can sometimes be useful for debugging end-user issues.

LibGL environment variables
---------------------------

:envvar:`LIBGL_DEBUG`
   If defined debug information will be printed to stderr. If set to
   ``verbose`` additional information will be printed.
:envvar:`LIBGL_DRIVERS_PATH`
   colon-separated list of paths to search for DRI drivers
:envvar:`LIBGL_ALWAYS_INDIRECT`
   if set to ``true``, forces an indirect rendering context/connection.
:envvar:`LIBGL_ALWAYS_SOFTWARE`
   if set to ``true``, always use software rendering
:envvar:`LIBGL_NO_DRAWARRAYS`
   if set to ``true``, do not use DrawArrays GLX protocol (for
   debugging)
:envvar:`LIBGL_SHOW_FPS`
   print framerate to stdout based on the number of ``glXSwapBuffers``
   calls per second.
:envvar:`LIBGL_DRI2_DISABLE`
   disable DRI2 if set to ``true``.
:envvar:`LIBGL_DRI3_DISABLE`
   disable DRI3 if set to ``true``.

Core Mesa environment variables
-------------------------------

:envvar:`MESA_NO_ASM`
   if set, disables all assembly language optimizations
:envvar:`MESA_NO_MMX`
   if set, disables Intel MMX optimizations
:envvar:`MESA_NO_3DNOW`
   if set, disables AMD 3DNow! optimizations
:envvar:`MESA_NO_SSE`
   if set, disables Intel SSE optimizations
:envvar:`MESA_NO_ERROR`
   if set to 1, error checking is disabled as per ``KHR_no_error``. This
   will result in undefined behavior for invalid use of the API, but
   can reduce CPU use for apps that are known to be error free.
:envvar:`MESA_DEBUG`
   if set, error messages are printed to stderr. For example, if the
   application generates a ``GL_INVALID_ENUM`` error, a corresponding
   error message indicating where the error occurred, and possibly why,
   will be printed to stderr. For release builds, :envvar:`MESA_DEBUG`
   defaults to off (no debug output). :envvar:`MESA_DEBUG` accepts the
   following comma-separated list of named flags, which adds extra
   behavior to just set :envvar:`MESA_DEBUG` to ``1``:

   ``silent``
      turn off debug messages. Only useful for debug builds.
   ``flush``
      flush after each drawing command
   ``incomplete_tex``
      extra debug messages when a texture is incomplete
   ``incomplete_fbo``
      extra debug messages when a FBO is incomplete
   ``context``
      create a debug context (see ``GLX_CONTEXT_DEBUG_BIT_ARB``) and
      print error and performance messages to stderr (or
      ``MESA_LOG_FILE``).

:envvar:`MESA_LOG_FILE`
   specifies a file name for logging all errors, warnings, etc., rather
   than stderr
:envvar:`MESA_EXTENSION_OVERRIDE`
   can be used to enable/disable extensions. A value such as
   ``GL_EXT_foo -GL_EXT_bar`` will enable the ``GL_EXT_foo`` extension
   and disable the ``GL_EXT_bar`` extension. Note that this will override
   extensions override configured using driconf.
:envvar:`MESA_EXTENSION_MAX_YEAR`
   The ``GL_EXTENSIONS`` string returned by Mesa is sorted by extension
   year. If this variable is set to year X, only extensions defined on
   or before year X will be reported. This is to work-around a bug in
   some games where the extension string is copied into a fixed-size
   buffer without truncating. If the extension string is too long, the
   buffer overrun can cause the game to crash. This is a work-around for
   that.
:envvar:`MESA_GL_VERSION_OVERRIDE`
   changes the value returned by ``glGetString(GL_VERSION)`` and
   possibly the GL API type.

   -  The format should be ``MAJOR.MINOR[FC|COMPAT]``
   -  ``FC`` is an optional suffix that indicates a forward compatible
      context. This is only valid for versions >= 3.0.
   -  ``COMPAT`` is an optional suffix that indicates a compatibility
      context or ``GL_ARB_compatibility`` support. This is only valid
      for versions >= 3.1.
   -  GL versions <= 3.0 are set to a compatibility (non-Core) profile
   -  GL versions = 3.1, depending on the driver, it may or may not have
      the ``ARB_compatibility`` extension enabled.
   -  GL versions >= 3.2 are set to a Core profile
   -  Examples:

      ``2.1``
         select a compatibility (non-Core) profile with GL version 2.1.
      ``3.0``
         select a compatibility (non-Core) profile with GL version 3.0.
      ``3.0FC``
         select a Core+Forward Compatible profile with GL version 3.0.
      ``3.1``
         select GL version 3.1 with ``GL_ARB_compatibility`` enabled per
         the driver default.
      ``3.1FC``
         select GL version 3.1 with forward compatibility and
         ``GL_ARB_compatibility`` disabled.
      ``3.1COMPAT``
         select GL version 3.1 with ``GL_ARB_compatibility`` enabled.
      ``X.Y``
         override GL version to X.Y without changing the profile.
      ``X.YFC``
         select a Core+Forward Compatible profile with GL version X.Y.
      ``X.YCOMPAT``
         select a Compatibility profile with GL version X.Y.

   -  Mesa may not really implement all the features of the given
      version. (for developers only)

:envvar:`MESA_GLES_VERSION_OVERRIDE`
   changes the value returned by ``glGetString(GL_VERSION)`` for OpenGL
   ES.

   -  The format should be ``MAJOR.MINOR``
   -  Examples: ``2.0``, ``3.0``, ``3.1``
   -  Mesa may not really implement all the features of the given
      version. (for developers only)

:envvar:`MESA_GLSL_VERSION_OVERRIDE`
   changes the value returned by
   ``glGetString(GL_SHADING_LANGUAGE_VERSION)``. Valid values are
   integers, such as ``130``. Mesa will not really implement all the
   features of the given language version if it's higher than what's
   normally reported. (for developers only)
:envvar:`MESA_SHADER_CACHE_DISABLE`
   if set to ``true``, disables the on-disk shader cache. If set to
   ``false``, enables the on-disk shader cache when it is disabled by
   default.
:envvar:`MESA_SHADER_CACHE_MAX_SIZE`
   if set, determines the maximum size of the on-disk cache of compiled
   shader programs. Should be set to a number optionally followed by
   ``K``, ``M``, or ``G`` to specify a size in kilobytes, megabytes, or
   gigabytes. By default, gigabytes will be assumed. And if unset, a
   maximum size of 1GB will be used.

   .. note::

      A separate cache might be created for each architecture that Mesa is
      installed for on your system. For example under the default settings
      you may end up with a 1GB cache for x86_64 and another 1GB cache for
      i386.

:envvar:`MESA_SHADER_CACHE_DIR`
   if set, determines the directory to be used for the on-disk cache of
   compiled shader programs. If this variable is not set, then the cache
   will be stored in ``$XDG_CACHE_HOME/mesa_shader_cache`` (if that
   variable is set), or else within ``.cache/mesa_shader_cache`` within
   the user's home directory.
:envvar:`MESA_GLSL`
   :ref:`shading language compiler options <envvars>`
:envvar:`MESA_NO_MINMAX_CACHE`
   when set, the minmax index cache is globally disabled.
:envvar:`MESA_SHADER_CAPTURE_PATH`
   see :ref:`Capturing Shaders <capture>`
:envvar:`MESA_SHADER_DUMP_PATH` and :envvar:`MESA_SHADER_READ_PATH`
   see :ref:`Experimenting with Shader
   Replacements <replacement>`
:envvar:`MESA_VK_VERSION_OVERRIDE`
   changes the Vulkan physical device version as returned in
   ``VkPhysicalDeviceProperties::apiVersion``.

   -  The format should be ``MAJOR.MINOR[.PATCH]``
   -  This will not let you force a version higher than the driver's
      instance version as advertised by ``vkEnumerateInstanceVersion``
   -  This can be very useful for debugging but some features may not be
      implemented correctly. (For developers only)
:envvar:`MESA_VK_WSI_PRESENT_MODE`
   overrides the WSI present mode clients specify in
   ``VkSwapchainCreateInfoKHR::presentMode``. Values can be ``fifo``,
   ``relaxed``, ``mailbox`` or ``immediate``.
:envvar:`MESA_VK_ABORT_ON_DEVICE_LOSS`
   causes the Vulkan driver to call abort() immediately after detecting a
   lost device.  This is extremely useful when testing as it prevents the
   test suite from continuing on with a lost device.
:envvar:`MESA_VK_ENABLE_SUBMIT_THREAD`
   for Vulkan drivers which support real timeline semaphores, this forces
   them to use a submit thread from the beginning, regardless of whether or
   not they ever see a wait-before-signal condition.
:envvar:`MESA_LOADER_DRIVER_OVERRIDE`
   chooses a different driver binary such as ``etnaviv`` or ``zink``.
:envvar:`DRI_PRIME`
   the default GPU is the one used by Wayland/Xorg or the one connected to a
   display. This variable allows to select a different GPU. It applies to OpenGL
   and Vulkan (in this case "select" means the GPU will be first in the reported
   physical devices list). The supported syntaxes are:

   - ``DRI_PRIME=1``: selects the first non-default GPU.
   - ``DRI_PRIME=pci-0000_02_00_0``: selects the GPU connected to this PCIe bus
   - ``DRI_PRIME=vendor_id:device_id``: selects the first GPU matching these ids

   .. note::

      ``lspci -nn | grep VGA`` can be used to know the PCIe bus or ids to use.

NIR passes environment variables
--------------------------------

The following are only applicable for drivers that uses NIR, as they
modify the behavior for the common ``NIR_PASS`` and ``NIR_PASS_V`` macros,
that wrap calls to NIR lowering/optimizations.

:envvar:`NIR_DEBUG`
   a comma-separated list of debug options to apply to NIR
   shaders. Use `NIR_DEBUG=help` to print a list of available options.
:envvar:`NIR_SKIP`
   a comma-separated list of optimization/lowering passes to skip.

Mesa Xlib driver environment variables
--------------------------------------

The following are only applicable to the Mesa Xlib software driver. See
the :doc:`Xlib software driver page <xlibdriver>` for details.

:envvar:`MESA_RGB_VISUAL`
   specifies the X visual and depth for RGB mode
:envvar:`MESA_BACK_BUFFER`
   specifies how to implement the back color buffer, either ``pixmap``
   or ``ximage``
:envvar:`MESA_XSYNC`
   enable synchronous X behavior (for debugging only)
:envvar:`MESA_GLX_FORCE_ALPHA`
   if set, forces RGB windows to have an alpha channel.
:envvar:`MESA_GLX_DEPTH_BITS`
   specifies default number of bits for depth buffer.
:envvar:`MESA_GLX_ALPHA_BITS`
   specifies default number of bits for alpha channel.

Mesa WGL driver environment variables
-------------------------------------

The following are only applicable to the Mesa WGL driver, which is in use
on Windows.

:envvar:`WGL_FORCE_MSAA`
   if set to a positive value, specifies the number of MSAA samples to
   force when choosing the display configuration.
:envvar:`WGL_DISABLE_ERROR_DIALOGS`
   if set to 1, true or yes, disables Win32 error dialogs. Useful for
   automated test-runs.

Intel driver environment variables
----------------------------------------------------

:envvar:`INTEL_BLACKHOLE_DEFAULT`
   if set to 1, true or yes, then the OpenGL implementation will
   default ``GL_BLACKHOLE_RENDER_INTEL`` to true, thus disabling any
   rendering.
:envvar:`INTEL_COMPUTE_CLASS`
   If set to 1, true or yes, then I915_ENGINE_CLASS_COMPUTE will be
   supported. For OpenGL, iris will attempt to use a compute engine
   for compute dispatches if one is detected. For Vulkan, anvil will
   advertise support for a compute queue if a compute engine is
   detected.
:envvar:`INTEL_DEBUG`
   a comma-separated list of named flags, which do various things:

   ``ann``
      annotate IR in assembly dumps
   ``bat``
      emit batch information
   ``blit``
      emit messages about blit operations
   ``blorp``
      emit messages about the blorp operations (blits & clears)
   ``buf``
      emit messages about buffer objects
   ``bt``
      emit messages binding tables
   ``clip``
      emit messages about the clip unit (for old gens, includes the CLIP
      program)
   ``color``
      use color in output
   ``cs``
      dump shader assembly for compute shaders
   ``do32``
      generate compute shader SIMD32 programs even if workgroup size
      doesn't exceed the SIMD16 limit
   ``fall``
      emit messages about performance issues (same as ``perf``)
   ``fs``
      dump shader assembly for fragment shaders
   ``gs``
      dump shader assembly for geometry shaders
   ``hex``
      print instruction hex dump with the disassembly
   ``l3``
      emit messages about the new L3 state during transitions
   ``mesh``
      dump shader assembly for mesh shaders
   ``no8``
      don't generate SIMD8 fragment shader
   ``no16``
      suppress generation of 16-wide fragment shaders. useful for
      debugging broken shaders
   ``no32``
      suppress generation of 32-wide fragment shaders. useful for
      debugging broken shaders
   ``no-oaconfig``
      disable HW performance metric configuration, and anything
      related to i915-perf (useful when running on simulation)
   ``nocompact``
      disable instruction compaction
   ``nodualobj``
      suppress generation of dual-object geometry shader code
   ``nofc``
      disable fast clears
   ``noccs``
      disable lossless color compression
   ``optimizer``
      dump shader assembly to files at each optimization pass and
      iteration that make progress
   ``pc``
      emit messages about PIPE_CONTROL instruction usage
   ``perf``
      emit messages about performance issues
   ``perfmon``
      emit messages about ``AMD_performance_monitor``
   ``reemit``
      mark all state dirty on each draw call
   ``rt``
      dump shader assembly for ray tracing shaders
   ``sf``
      emit messages about the strips & fans unit (for old gens, includes
      the SF program)
   ``soft64``
      enable implementation of software 64bit floating point support
   ``spill_fs``
      force spilling of all registers in the scalar backend (useful to
      debug spilling code)
   ``spill_vec4``
      force spilling of all registers in the vec4 backend (useful to
      debug spilling code)
   ``stall``
      inserts a stall on the GPU after each draw/dispatch command to
      wait for it to finish before starting any new work.
   ``submit``
      emit batchbuffer usage statistics
   ``sync``
      after sending each batch, wait on the CPU for that batch to
      finish rendering
   ``task``
      dump shader assembly for task shaders
   ``tcs``
      dump shader assembly for tessellation control shaders
   ``tcs8``
      force usage of 8-patches tessellation control shaders (only
      for gfx 9-11)
   ``tes``
      dump shader assembly for tessellation evaluation shaders
   ``tex``
      emit messages about textures.
   ``urb``
      emit messages about URB setup
   ``vs``
      dump shader assembly for vertex shaders
   ``wm``
      dump shader assembly for fragment shaders (same as ``fs``)

:envvar:`INTEL_MEASURE`
   Collects GPU timestamps over common intervals, and generates a CSV report
   to show how long rendering took.  The overhead of collection is limited to
   the flushing that is required at the interval boundaries for accurate
   timestamps. By default, timing data is sent to ``stderr``.  To direct output
   to a file:

   ``INTEL_MEASURE=file=/tmp/measure.csv {workload}``

   To begin capturing timestamps at a particular frame:

   ``INTEL_MEASURE=file=/tmp/measure.csv,start=15 {workload}``

   To capture only 23 frames:

   ``INTEL_MEASURE=count=23 {workload}``

   To capture frames 15-37, stopping before frame 38:

   ``INTEL_MEASURE=start=15,count=23 {workload}``

   Designate an asynchronous control file with:

   ``INTEL_MEASURE=control=path/to/control.fifo {workload}``

   As the workload runs, enable capture for 5 frames with:

   ``$ echo 5 > path/to/control.fifo``

   Enable unbounded capture:

   ``$ echo -1 > path/to/control.fifo``

   and disable with:

   ``$ echo 0 > path/to/control.fifo``

   Select the boundaries of each snapshot with:

   ``INTEL_MEASURE=draw``
      Collects timings for every render (DEFAULT)

   ``INTEL_MEASURE=rt``
      Collects timings when the render target changes

   ``INTEL_MEASURE=batch``
      Collects timings when batches are submitted

   ``INTEL_MEASURE=frame``
      Collects timings at frame boundaries

   With ``INTEL_MEASURE=interval=5``, the duration of 5 events will be
   combined into a single record in the output.  When possible, a single
   start and end event will be submitted to the GPU to minimize
   stalling.  Combined events will not span batches, except in
   the case of ``INTEL_MEASURE=frame``.
:envvar:`INTEL_NO_HW`
   if set to 1, true or yes, prevents batches from being submitted to the
   hardware. This is useful for debugging hangs, etc.
:envvar:`INTEL_PRECISE_TRIG`
   if set to 1, true or yes, then the driver prefers accuracy over
   performance in trig functions.
:envvar:`INTEL_SHADER_ASM_READ_PATH`
   if set, determines the directory to be used for overriding shader
   assembly. The binaries with custom assembly should be placed in
   this folder and have a name formatted as ``sha1_of_assembly.bin``.
   The sha1 of a shader assembly is printed when assembly is dumped via
   corresponding :envvar:`INTEL_DEBUG` flag (e.g. ``vs`` for vertex shader).
   A binary could be generated from a dumped assembly by ``i965_asm``.
   For :envvar:`INTEL_SHADER_ASM_READ_PATH` to work it is necessary to enable
   dumping of corresponding shader stages via :envvar:`INTEL_DEBUG`.
   It is advised to use ``nocompact`` flag of :envvar:`INTEL_DEBUG` when
   dumping and overriding shader assemblies.
   The success of assembly override would be signified by "Successfully
   overrode shader with sha1 <sha1>" in stderr replacing the original
   assembly.


DRI environment variables
-------------------------

:envvar:`DRI_NO_MSAA`
   disable MSAA for GLX/EGL MSAA visuals


Vulkan mesa device select layer environment variables
-----------------------------------------------------

:envvar:`MESA_VK_DEVICE_SELECT`
   when set to "list" prints the list of devices.
   when set to "vid:did" number from pci device. That pci device is
   selected as default. The default device is returned as the first
   device in vkEnumeratePhysicalDevices api.
:envvar:`MESA_VK_DEVICE_SELECT_FORCE_DEFAULT_DEVICE`
   when set to 1, the device identified as default will be the only
   one returned in vkEnumeratePhysicalDevices api.


EGL environment variables
-------------------------

Mesa EGL supports different sets of environment variables. See the
:doc:`Mesa EGL <egl>` page for the details.

Gallium environment variables
-----------------------------

:envvar:`GALLIUM_HUD`
   draws various information on the screen, like framerate, CPU load,
   driver statistics, performance counters, etc. Set
   :envvar:`GALLIUM_HUD` to ``help`` and run e.g. ``glxgears`` for more info.
:envvar:`GALLIUM_HUD_PERIOD`
   sets the HUD update rate in seconds (float). Use zero to update every
   frame. The default period is 1/2 second.
:envvar:`GALLIUM_HUD_VISIBLE`
   control default visibility, defaults to true.
:envvar:`GALLIUM_HUD_TOGGLE_SIGNAL`
   toggle visibility via user specified signal. Especially useful to
   toggle HUD at specific points of application and disable for
   unencumbered viewing the rest of the time. For example, set
   :envvar:`GALLIUM_HUD_VISIBLE` to ``false`` and
   :envvar:`GALLIUM_HUD_TOGGLE_SIGNAL` to ``10`` (``SIGUSR1``). Use
   ``kill -10 <pid>`` to toggle the HUD as desired.
:envvar:`GALLIUM_HUD_SCALE`
   Scale HUD by an integer factor, for high DPI displays. Default is 1.
:envvar:`GALLIUM_HUD_DUMP_DIR`
   specifies a directory for writing the displayed HUD values into
   files.
:envvar:`GALLIUM_DRIVER`
   useful in combination with :envvar:`LIBGL_ALWAYS_SOFTWARE`=`true` for
   choosing one of the software renderers ``softpipe`` or ``llvmpipe``.
:envvar:`GALLIUM_LOG_FILE`
   specifies a file for logging all errors, warnings, etc. rather than
   stderr.
:envvar:`GALLIUM_PIPE_SEARCH_DIR`
   specifies an alternate search directory for pipe-loader which overrides
   the compile-time path based on the install location.
:envvar:`GALLIUM_PRINT_OPTIONS`
   if non-zero, print all the Gallium environment variables which are
   used, and their current values.
:envvar:`GALLIUM_DUMP_CPU`
   if non-zero, print information about the CPU on start-up
:envvar:`TGSI_PRINT_SANITY`
   if set, do extra sanity checking on TGSI shaders and print any errors
   to stderr.
:envvar:`DRAW_FSE`
   Enable fetch-shade-emit middle-end even though its not correct (e.g.
   for softpipe)
:envvar:`DRAW_NO_FSE`
   Disable fetch-shade-emit middle-end even when it is correct
:envvar:`DRAW_USE_LLVM`
   if set to zero, the draw module will not use LLVM to execute shaders,
   vertex fetch, etc.
:envvar:`ST_DEBUG`
   controls debug output from the Mesa/Gallium state tracker. Setting to
   ``tgsi``, for example, will print all the TGSI shaders. See
   :file:`src/mesa/state_tracker/st_debug.c` for other options.

Clover environment variables
----------------------------

:envvar:`CLOVER_EXTRA_BUILD_OPTIONS`
   allows specifying additional compiler and linker options. Specified
   options are appended after the options set by the OpenCL program in
   ``clBuildProgram``.
:envvar:`CLOVER_EXTRA_COMPILE_OPTIONS`
   allows specifying additional compiler options. Specified options are
   appended after the options set by the OpenCL program in
   ``clCompileProgram``.
:envvar:`CLOVER_EXTRA_LINK_OPTIONS`
   allows specifying additional linker options. Specified options are
   appended after the options set by the OpenCL program in
   ``clLinkProgram``.


Nine frontend environment variables
-----------------------------------

:envvar:`D3D_ALWAYS_SOFTWARE`
   an integer, which forces Nine to use the CPU instead of GPU acceleration.

:envvar:`NINE_DEBUG`
   a comma-separated list of named flags that do debugging things.
   Use `NINE_DEBUG=help` to print a list of available options.

:envvar:`NINE_FF_DUMP`
   a boolean, which dumps shaders generated by a fixed function (FF).

:envvar:`NINE_SHADER`
   a comma-separated list of named flags, which do alternate shader handling.
   Use `NINE_SHADER=help` to print a list of available options.

:envvar:`NINE_QUIRKS`
   a comma-separated list of named flags that do various things.
   Use `NINE_DEBUG=help` to print a list of available options.

Softpipe driver environment variables
-------------------------------------

:envvar:`SOFTPIPE_DEBUG`
   a comma-separated list of named flags, which do various things:

   ``vs``
      Dump vertex shader assembly to stderr
   ``fs``
      Dump fragment shader assembly to stderr
   ``gs``
      Dump geometry shader assembly to stderr
   ``cs``
      Dump compute shader assembly to stderr
   ``no_rast``
      rasterization is disabled. For profiling purposes.
   ``use_llvm``
      the softpipe driver will try to use LLVM JIT for vertex
      shading processing.
   ``use_tgsi``
      if set, the softpipe driver will ask to directly consume TGSI, instead
      of NIR.

LLVMpipe driver environment variables
-------------------------------------

:envvar:`LP_NO_RAST`
   if set LLVMpipe will no-op rasterization
:envvar:`LP_DEBUG`
   a comma-separated list of debug options is accepted. See the source
   code for details.
:envvar:`LP_PERF`
   a comma-separated list of options to selectively no-op various parts
   of the driver. See the source code for details.
:envvar:`LP_NUM_THREADS`
   an integer indicating how many threads to use for rendering. Zero
   turns off threading completely. The default value is the number of
   CPU cores present.

VMware SVGA driver environment variables
----------------------------------------

:envvar`SVGA_FORCE_SWTNL`
   force use of software vertex transformation
:envvar`SVGA_NO_SWTNL`
   don't allow software vertex transformation fallbacks (will often
   result in incorrect rendering).
:envvar`SVGA_DEBUG`
   for dumping shaders, constant buffers, etc. See the code for details.
:envvar`SVGA_EXTRA_LOGGING`
   if set, enables extra logging to the ``vmware.log`` file, such as the
   OpenGL program's name and command line arguments.
:envvar`SVGA_NO_LOGGING`
   if set, disables logging to the ``vmware.log`` file. This is useful
   when using Valgrind because it otherwise crashes when initializing
   the host log feature.

See the driver code for other, lesser-used variables.

WGL environment variables
-------------------------

:envvar:`WGL_SWAP_INTERVAL`
   to set a swap interval, equivalent to calling
   ``wglSwapIntervalEXT()`` in an application. If this environment
   variable is set, application calls to ``wglSwapIntervalEXT()`` will
   have no effect.

VA-API environment variables
----------------------------

:envvar:`VAAPI_MPEG4_ENABLED`
   enable MPEG4 for VA-API, disabled by default.

VC4 driver environment variables
--------------------------------

:envvar:`VC4_DEBUG`
   a comma-separated list of named flags, which do various things. Use
   `VC4_DEBUG=help` to print a list of available options.


V3D/V3DV driver environment variables
-------------------------------------

:envvar:`V3D_DEBUG`
    a comma-separated list of debug options. Use `V3D_DEBUG=help` to
    print a list of available options.


.. _radv env-vars:

RADV driver environment variables
---------------------------------

:envvar:`RADV_DEBUG`
   a comma-separated list of named flags, which do various things:

   ``llvm``
      enable LLVM compiler backend
   ``allbos``
      force all allocated buffers to be referenced in submissions
   ``checkir``
      validate the LLVM IR before LLVM compiles the shader
   ``epilogs``
      dump fragment shader epilogs
   ``forcecompress``
      Enables DCC,FMASK,CMASK,HTILE in situations where the driver supports it
      but normally does not deem it beneficial.
   ``hang``
      enable GPU hangs detection and dump a report to
      $HOME/radv_dumps_<pid>_<time> if a GPU hang is detected
   ``img``
      Print image info
   ``info``
      show GPU-related information
   ``invariantgeom``
      Mark geometry-affecting outputs as invariant. This works around a common
      class of application bugs appearing as flickering.
   ``metashaders``
      dump internal meta shaders
   ``noatocdithering``
      disable dithering for alpha to coverage
   ``nobinning``
      disable primitive binning
   ``nocache``
      disable shaders cache
   ``nocompute``
      disable compute queue
   ``nodcc``
      disable Delta Color Compression (DCC) on images
   ``nodisplaydcc``
      disable Delta Color Compression (DCC) on displayable images
   ``nodynamicbounds``
      do not check OOB access for dynamic descriptors
   ``nofastclears``
      disable fast color/depthstencil clears
   ``nohiz``
      disable HIZ for depthstencil images
   ``noibs``
      disable directly recording command buffers in GPU-visible memory
   ``nomemorycache``
      disable memory shaders cache
   ``nongg``
      disable NGG for GFX10 and GFX10.3
   ``nonggc``
      disable NGG culling on GPUs where it's enabled by default (GFX10.3+ only).
   ``nooutoforder``
      disable out-of-order rasterization
   ``notccompatcmask``
      disable TC-compat CMASK for MSAA surfaces
   ``noumr``
      disable UMR dumps during GPU hang detection (only with
      :envvar:`RADV_DEBUG`=``hang``)
   ``novrsflatshading``
      disable VRS for flat shading (only on GFX10.3+)
   ``preoptir``
      dump LLVM IR before any optimizations
   ``prologs``
      dump vertex shader prologs
   ``shaders``
      dump shaders
   ``shaderstats``
      dump shader statistics
   ``spirv``
      dump SPIR-V
   ``splitfma``
      split application-provided fused multiply-add in geometry stages
   ``startup``
      display info at startup
   ``syncshaders``
      synchronize shaders after all draws/dispatches
   ``vmfaults``
      check for VM memory faults via dmesg
   ``zerovram``
      initialize all memory allocated in VRAM as zero

:envvar:`RADV_FORCE_FAMILY`
   create a null device to compile shaders without a AMD GPU (e.g. VEGA10)

:envvar:`RADV_FORCE_VRS`
   allow to force per-pipeline vertex VRS rates on GFX10.3+. This is only
   forced for pipelines that don't explicitely use VRS or flat shading.
   The supported values are 2x2, 1x2, 2x1 and 1x1. Only for testing purposes.

:envvar:`RADV_FORCE_VRS_CONFIG_FILE`
   similar to `RADV_FORCE_VRS` but allow to configure from a file. If present,
   this supersedes `RADV_FORCE_VRS`.

:envvar:`RADV_PERFTEST`
   a comma-separated list of named flags, which do various things:

   ``bolist``
      enable the global BO list
   ``cswave32``
      enable wave32 for compute shaders (GFX10+)
   ``dccmsaa``
      enable DCC for MSAA images
   ``emulate_rt``
      forces ray-tracing to be emulated in software on GFX10_3+ and enables
      rt extensions with older hardware.
   ``gewave32``
      enable wave32 for vertex/tess/geometry shaders (GFX10+)
   ``localbos``
      enable local BOs
   ``nosam``
      disable optimizations that get enabled when all VRAM is CPU visible.
   ``nv_ms``
      enable unofficial experimental support for NV_mesh_shader.
   ``pswave32``
      enable wave32 for pixel shaders (GFX10+)
   ``nggc``
      enable NGG culling on GPUs where it's not enabled by default (GFX10.1 only).
   ``rt``
      enable rt pipelines whose implementation is still experimental.
   ``sam``
      enable optimizations to move more driver internal objects to VRAM.
   ``rtwave64``
      enable wave64 for ray tracing shaders (GFX10+)

:envvar:`RADV_TEX_ANISO`
   force anisotropy filter (up to 16)

:envvar:`RADV_THREAD_TRACE`
   enable frame based SQTT/RGP captures (eg. `export RADV_THREAD_TRACE=100`
   will capture the frame #100)

:envvar:`RADV_THREAD_TRACE_BUFFER_SIZE`
   set the SQTT/RGP buffer size in bytes (default value is 32MiB, the buffer is
   automatically resized if too small)

:envvar:`RADV_THREAD_TRACE_CACHE_COUNTERS`
   enable/disable SQTT/RGP cache counters on GFX10+ (disabled by default)

:envvar:`RADV_THREAD_TRACE_INSTRUCTION_TIMING`
   enable/disable SQTT/RGP instruction timing (enabled by default)

:envvar:`RADV_THREAD_TRACE_TRIGGER`
   enable trigger file based SQTT/RGP captures (eg.
   `export RADV_THREAD_TRACE_TRIGGER=/tmp/radv_sqtt_trigger` and then
   `touch /tmp/radv_sqtt_trigger` to capture a frame)

:envvar:`ACO_DEBUG`
   a comma-separated list of named flags, which do various things:

   ``validateir``
      validate the ACO IR at various points of compilation (enabled by
      default for debug/debugoptimized builds)
   ``validatera``
      validate register assignment of ACO IR and catches many RA bugs
   ``perfwarn``
      abort on some suboptimal code generation
   ``force-waitcnt``
      force emitting waitcnt states if there is something to wait for
   ``novn``
      disable value numbering
   ``noopt``
      disable various optimizations
   ``noscheduling``
      disable instructions scheduling
   ``perfinfo``
      print information used to calculate some pipeline statistics
   ``liveinfo``
      print liveness and register demand information before scheduling

radeonsi driver environment variables
-------------------------------------

:envvar:`radeonsi_no_infinite_interp`
   Kill PS with infinite interp coeff (might fix hangs)

:envvar:`radeonsi_clamp_div_by_zero`
   Clamp div by zero (x / 0 becomes FLT_MAX instead of NaN) (might fix rendering corruptions)

:envvar:`radeonsi_zerovram`
   Clear all allocated memory to 0 before usage (might fix rendering corruptions)

:envvar:`AMD_DEBUG`
   a comma-separated list of named flags, which do various things:

   ``nodcc``
      Disable DCC.
   ``nodccclear``
      Disable DCC fast clear
   ``nodisplaydcc``
      disable Delta Color Compression (DCC) on displayable images
   ``nodccmsaa``
      Disable DCC for MSAA
   ``nodpbb``
      Disable DPBB.
   ``nodfsm``
      Disable DFSM.
   ``notiling``
      Disable tiling
   ``nofmask``
      Disable MSAA compression
   ``nohyperz``
      Disable Hyper-Z
   ``no2d``
      Disable 2D tiling
   ``info``
      Print driver information
   ``tex``
      Print texture info
   ``compute``
      Print compute info
   ``vm``
      Print virtual addresses when creating resources
   ``vs``
      Print vertex shaders
   ``ps``
      Print pixel shaders
   ``gs``
      Print geometry shaders
   ``tcs``
      Print tessellation control shaders
   ``tes``
      Print tessellation evaluation shaders
   ``cs``
      Print compute shaders
   ``noir``
      Don't print the LLVM IR
   ``nonir``
      Don't print NIR when printing shaders
   ``noasm``
      Don't print disassembled shaders
   ``preoptir``
      Print the LLVM IR before initial optimizations
   ``w32ge``
      Use Wave32 for vertex, tessellation, and geometry shaders.
   ``w32ps``
      Use Wave32 for pixel shaders.
   ``w32cs``
      Use Wave32 for computes shaders.
   ``w64ge``
      Use Wave64 for vertex, tessellation, and geometry shaders.
   ``w64ps``
      Use Wave64 for pixel shaders.
   ``w64cs``
      Use Wave64 for computes shaders.
   ``checkir``
      Enable additional sanity checks on shader IR
   ``mono``
      Use old-style monolithic shaders compiled on demand
   ``nooptvariant``
      Disable compiling optimized shader variants.
   ``nowc``
      Disable GTT write combining
   ``check_vm``
      Check VM faults and dump debug info.
   ``reserve_vmid``
      Force VMID reservation per context.
   ``nogfx``
      Disable graphics. Only multimedia compute paths can be used.
   ``nongg``
      Disable NGG and use the legacy pipeline.
   ``nggc``
      Always use NGG culling even when it can hurt.
   ``nonggc``
      Disable NGG culling.
   ``switch_on_eop``
      Program WD/IA to switch on end-of-packet.
   ``nooutoforder``
      Disable out-of-order rasterization
   ``dpbb``
      Enable DPBB.
   ``dfsm``
      Enable DFSM.

r600 driver environment variables
---------------------------------

:envvar:`R600_DEBUG`
   a comma-separated list of named flags, which do various things:

   ``nocpdma``
      Disable CP DMA
   ``nosb``
      Disable sb backend for graphics shaders
   ``sbcl``
      Enable sb backend for compute shaders
   ``sbdry``
      Don't use optimized bytecode (just print the dumps)
   ``sbstat``
      Print optimization statistics for shaders
   ``sbdump``
      Print IR dumps after some optimization passes
   ``sbnofallback``
      Abort on errors instead of fallback
   ``sbdisasm``
      Use sb disassembler for shader dumps
   ``sbsafemath``
      Disable unsafe math optimizations
   ``nirsb``
      Enable NIR with SB optimizer
   ``tex``
      Print texture info
   ``nir``
      Enable experimental NIR shaders
   ``compute``
      Print compute info
   ``vm``
      Print virtual addresses when creating resources
   ``info``
      Print driver information
   ``fs``
      Print fetch shaders
   ``vs``
      Print vertex shaders
   ``gs``
      Print geometry shaders
   ``ps``
      Print pixel shaders
   ``cs``
      Print compute shaders
   ``tcs``
      Print tessellation control shaders
   ``tes``
      Print tessellation evaluation shaders
   ``noir``
      Don't print the LLVM IR
   ``notgsi``
      Don't print the TGSI
   ``noasm``
      Don't print disassembled shaders
   ``preoptir``
      Print the LLVM IR before initial optimizations
   ``checkir``
      Enable additional sanity checks on shader IR
   ``nooptvariant``
      Disable compiling optimized shader variants.
   ``testdma``
      Invoke SDMA tests and exit.
   ``testvmfaultcp``
      Invoke a CP VM fault test and exit.
   ``testvmfaultsdma``
      Invoke a SDMA VM fault test and exit.
   ``testvmfaultshader``
      Invoke a shader VM fault test and exit.
   ``nodma``
      Disable asynchronous DMA
   ``nohyperz``
      Disable Hyper-Z
   ``noinvalrange``
      Disable handling of INVALIDATE_RANGE map flags
   ``no2d``
      Disable 2D tiling
   ``notiling``
      Disable tiling
   ``switch_on_eop``
      Program WD/IA to switch on end-of-packet.
   ``forcedma``
      Use asynchronous DMA for all operations when possible.
   ``precompile``
      Compile one shader variant at shader creation.
   ``nowc``
      Disable GTT write combining
   ``check_vm``
      Check VM faults and dump debug info.
   ``unsafemath``
      Enable unsafe math shader optimizations

:envvar:`R600_DEBUG_COMPUTE`
   if set to ``true``, various compute-related debug information will
   be printed to stderr. Defaults to ``false``.
:envvar:`R600_DUMP_SHADERS`
   if set to ``true``, NIR shaders will be printed to stderr. Defaults
   to ``false``.
:envvar:`R600_HYPERZ`
   If set to ``false``, disables HyperZ optimizations. Defaults to ``true``.
:envvar:`R600_NIR_DEBUG`
   a comma-separated list of named flags, which do various things:

   ``instr``
      Log all consumed nir instructions
   ``ir``
      Log created R600 IR
   ``cc``
      Log R600 IR to assembly code creation
   ``noerr``
      Don't log shader conversion errors
   ``si``
      Log shader info (non-zero values)
   ``reg``
      Log register allocation and lookup
   ``io``
      Log shader in and output
   ``ass``
      Log IR to assembly conversion
   ``flow``
      Log control flow instructions
   ``merge``
      Log register merge operations
   ``nomerge``
      Skip register merge step
   ``tex``
      Log texture ops
   ``trans``
      Log generic translation messages

r300 driver environment variables
---------------------------------

:envvar:`RADEON_DEBUG`
   a comma-separated list of named flags, which do various things:

   ``info``
      Print hardware info (printed by default on debug builds
   ``fp``
      Log fragment program compilation
   ``vp``
      Log vertex program compilation
   ``draw``
      Log draw calls
   ``swtcl``
      Log SWTCL-specific info
   ``rsblock``
      Log rasterizer registers
   ``psc``
      Log vertex stream registers
   ``tex``
      Log basic info about textures
   ``texalloc``
      Log texture mipmap tree info
   ``rs``
      Log rasterizer
   ``fb``
      Log framebuffer
   ``cbzb``
      Log fast color clear info
   ``hyperz``
      Log HyperZ info
   ``scissor``
      Log scissor info
   ``msaa``
      Log MSAA resources
   ``anisohq``
      Use high quality anisotropic filtering
   ``notiling``
      Disable tiling
   ``noimmd``
      Disable immediate mode
   ``noopt``
      Disable shader optimizations
   ``nocbzb``
      Disable fast color clear
   ``nozmask``
      Disable zbuffer compression
   ``nohiz``
      Disable hierarchical zbuffer
   ``nocmask``
      Disable AA compression and fast AA clear
   ``use_tgsi``
      Request TGSI shaders from the state tracker
   ``notcl``
      Disable hardware accelerated Transform/Clip/Lighting

Other Gallium drivers have their own environment variables. These may
change frequently so the source code should be consulted for details.



================================================
FILE: docs/extensions.rst
================================================
Mesa Extensions
===============

A number of extensions have been developed especially for Mesa. The
specifications follow.

-  `MESA_agp_offset.spec <specs/OLD/MESA_agp_offset.spec>`__
-  `MESA_copy_sub_buffer.spec <specs/MESA_copy_sub_buffer.spec>`__
-  `MESA_drm_image.spec <specs/MESA_drm_image.spec>`__
-  `MESA_multithread_makecurrent.spec <specs/MESA_multithread_makecurrent.spec>`__
-  `MESA_packed_depth_stencil.spec <specs/OLD/MESA_packed_depth_stencil.spec>`__
   (obsolete)
-  `MESA_pack_invert.spec <specs/MESA_pack_invert.spec>`__
-  `MESA_pixmap_colormap.spec <specs/MESA_pixmap_colormap.spec>`__
-  `MESA_program_debug.spec <specs/OLD/MESA_program_debug.spec>`__
   (obsolete)
-  `MESA_release_buffers.spec <specs/MESA_release_buffers.spec>`__
-  `MESA_resize_buffers.spec <specs/OLD/MESA_resize_buffers.spec>`__
   (obsolete)
-  `MESA_set_3dfx_mode.spec <specs/OLD/MESA_set_3dfx_mode.spec>`__
-  `MESA_shader_debug.spec <specs/MESA_shader_debug.spec>`__
-  `MESA_sprite_point.spec <specs/OLD/MESA_sprite_point.spec>`__
   (obsolete)
-  `MESA_swap_control.spec <specs/MESA_swap_control.spec>`__
-  `MESA_swap_frame_usage.spec <specs/MESA_swap_frame_usage.spec>`__
-  `MESA_texture_array.spec <specs/MESA_texture_array.spec>`__
-  `MESA_texture_signed_rgba.spec <specs/MESA_texture_signed_rgba.spec>`__
-  `MESA_trace.spec <specs/OLD/MESA_trace.spec>`__ (obsolete)
-  `MESA_window_pos.spec <specs/MESA_window_pos.spec>`__
-  `MESA_ycbcr_texture.spec <specs/MESA_ycbcr_texture.spec>`__
-  `WL_bind_wayland_display.spec <specs/WL_bind_wayland_display.spec>`__



================================================
FILE: docs/faq.rst
================================================
Frequently Asked Questions
==========================

Last updated: 19 September 2018

1. High-level Questions and Answers
-----------------------------------

1.1 What is Mesa?
~~~~~~~~~~~~~~~~~

Mesa is an open-source implementation of the OpenGL specification.
OpenGL is a programming library for writing interactive 3D applications.
See the `OpenGL website <https://www.opengl.org/>`__ for more
information.

Mesa 9.x supports the OpenGL 3.1 specification.

1.2 Does Mesa support/use graphics hardware?
--------------------------------------------

Yes. Specifically, Mesa serves as the OpenGL core for the open-source
DRI drivers for X.org.

-  See the `DRI website <https://dri.freedesktop.org/>`__ for more
   information.
-  See `01.org <https://01.org/linuxgraphics>`__ for more information
   about Intel drivers.
-  See `nouveau.freedesktop.org <https://nouveau.freedesktop.org>`__ for
   more information about Nouveau drivers.
-  See
   `www.x.org/wiki/RadeonFeature <https://www.x.org/wiki/RadeonFeature>`__
   for more information about Radeon drivers.

1.3 What purpose does Mesa serve today?
---------------------------------------

Hardware-accelerated OpenGL implementations are available for most
popular operating systems today. Still, Mesa serves at least these
purposes:

-  Mesa is used as the core of the open-source X.org DRI hardware
   drivers.
-  Mesa is quite portable and allows OpenGL to be used on systems that
   have no other OpenGL solution.
-  Software rendering with Mesa serves as a reference for validating the
   hardware drivers.
-  A software implementation of OpenGL is useful for experimentation,
   such as testing new rendering techniques.
-  Mesa can render images with deep color channels: 16-bit integer and
   32-bit floating point color channels are supported. This capability
   is only now appearing in hardware.
-  Mesa's internal limits (max lights, clip planes, texture size, etc)
   can be changed for special needs (hardware limits are hard to
   overcome).

1.4 What's the difference between "Stand-Alone" Mesa and the DRI drivers?
-------------------------------------------------------------------------

*Stand-alone Mesa* is the original incarnation of Mesa. On systems
running the X Window System it does all its rendering through the Xlib
API:

-  The GLX API is supported, but it's really just an emulation of the
   real thing.
-  The GLX wire protocol is not supported and there's no OpenGL
   extension loaded by the X server.
-  There is no hardware acceleration.
-  The OpenGL library, ``libGL.so``, contains everything (the
   programming API, the GLX functions and all the rendering code).

Alternately, Mesa acts as the core for a number of OpenGL hardware
drivers within the DRI (Direct Rendering Infrastructure):

-  The ``libGL.so`` library provides the GL and GLX API functions, a GLX
   protocol encoder, and a device driver loader.
-  The device driver modules (such as ``r200_dri.so``) contain a
   built-in copy of the core Mesa code.
-  The X server loads the GLX module. The GLX module decodes incoming
   GLX protocol and dispatches the commands to a rendering module. For
   the DRI, this module is basically a software Mesa renderer.

1.5 How do I upgrade my DRI installation to use a new Mesa release?
-------------------------------------------------------------------

This wasn't easy in the past. Now, the DRI drivers are included in the
Mesa tree and can be compiled separately from the X server. Just follow
the Mesa :doc:`compilation instructions <install>`.

1.6 Are there other open-source implementations of OpenGL?
----------------------------------------------------------

Yes, SGI's `OpenGL Sample Implementation
(SI) <http://web.archive.org/web/20171010115110_/http://oss.sgi.com/projects/ogl-sample/index.html>`__
is available. The SI was written during the time that OpenGL was
originally designed. Unfortunately, development of the SI has stagnated.
Mesa is much more up to date with modern features and extensions.

`Vincent <https://sourceforge.net/projects/ogl-es/>`__ is an open-source
implementation of OpenGL ES for mobile devices.

`miniGL <http://web.archive.org/web/20130830162848/http://www.dsbox.com/minigl.html>`__
is a subset of OpenGL for PalmOS devices. The website is gone, but the
source code can still be found on
`sourceforge.net <https://sourceforge.net/projects/minigl/>`__.

`TinyGL <http://bellard.org/TinyGL/>`__ is a subset of OpenGL.

`SoftGL <https://sourceforge.net/projects/softgl/>`__ is an OpenGL
subset for mobile devices.

`Chromium <http://chromium.sourceforge.net/>`__ isn't a conventional
OpenGL implementation (it's layered upon OpenGL), but it does export the
OpenGL API. It allows tiled rendering, sort-last rendering, etc.

`ClosedGL <http://www.ticalc.org/archives/files/fileinfo/361/36173.html>`__
is an OpenGL subset library for TI graphing calculators.

There may be other open OpenGL implementations, but Mesa is the most
popular and feature-complete.

2. Compilation and Installation Problems
----------------------------------------

2.1 What's the easiest way to install Mesa?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you're using a Linux-based system, your distro CD most likely already
has Mesa packages (like RPM or DEB) which you can easily install.

2.2 I get undefined symbols such as bgnpolygon, v3f, etc...
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Your application is written in IRIS GL, not OpenGL. IRIS GL was the
predecessor to OpenGL and is a different thing (almost) entirely. Mesa's
not the solution.

2.3 Where is the GLUT library?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

GLUT (OpenGL Utility Toolkit) is no longer in the separate
``MesaGLUT-x.y.z.tar.gz`` file. If you don't already have GLUT
installed, you should grab
`freeglut <http://freeglut.sourceforge.net/>`__.

2.4 Where is the GLw library?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

GLw (OpenGL widget library) is now available from a separate `git
repository <https://gitlab.freedesktop.org/mesa/glw>`__. Unless you're
using very old Xt/Motif applications with OpenGL, you shouldn't need it.

2.5 What's the proper place for the libraries and headers?
----------------------------------------------------------

On Linux-based systems you'll want to follow the `Linux
ABI <https://www.khronos.org/registry/OpenGL/ABI/>`__ standard.
Basically you'll want the following:

``/usr/include/GL/gl.h``
   the main OpenGL header
``/usr/include/GL/glu.h``
   the OpenGL GLU (utility) header
``/usr/include/GL/glx.h``
   the OpenGL GLX header
``/usr/include/GL/glext.h``
   the OpenGL extensions header
``/usr/include/GL/glxext.h``
   the OpenGL GLX extensions header
``/usr/include/GL/osmesa.h``
   the Mesa off-screen rendering header
``/usr/lib/libGL.so``
   a symlink to ``libGL.so.1``
``/usr/lib/libGL.so.1``
   a symlink to ``libGL.so.1.xyz``
``/usr/lib/libGL.so.xyz``
   the actual OpenGL/Mesa library. xyz denotes the Mesa version number.

When configuring Mesa, there are three meson options that affect the
install location that you should take care with: ``--prefix``,
``--libdir``, and ``-D dri-drivers-path``. To install Mesa into the
system location where it will be available for all programs to use, set
``--prefix=/usr``. Set ``--libdir`` to where your Linux distribution
installs system libraries, usually either ``/usr/lib`` or
``/usr/lib64``. Set ``-D dri-drivers-path`` to the directory where your
Linux distribution installs DRI drivers. To find your system's DRI
driver directory, try executing ``find /usr -type d -name dri``. For
example, if the ``find`` command listed ``/usr/lib64/dri``, then set
``-D dri-drivers-path=/usr/lib64/dri``.

After determining the correct values for the install location, configure
Mesa with
``meson configure --prefix=/usr --libdir=xxx -D dri-drivers-path=xxx``
and then install with ``sudo ninja install``.

3. Runtime / Rendering Problems
-------------------------------

3.1 Rendering is slow / why isn't my graphics hardware being used?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If Mesa can't use its hardware accelerated drivers it falls back on one
of its software renderers. (e.g. classic swrast, softpipe or llvmpipe)

You can run the ``glxinfo`` program to learn about your OpenGL library.
Look for the ``OpenGL vendor`` and ``OpenGL renderer`` values. That will
identify who's OpenGL library with which driver you're using and what
sort of hardware it has detected.

If you're using a hardware accelerated driver you want
``direct rendering: Yes``.

If your DRI-based driver isn't working, go to the `DRI
website <https://dri.freedesktop.org/>`__ for trouble-shooting
information.

3.2 I'm seeing errors in depth (Z) buffering. Why?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Make sure the ratio of the far to near clipping planes isn't too great.
Look
`here <https://www.opengl.org/archives/resources/faq/technical/depthbuffer.htm#0040>`__
for details.

Mesa uses a 16-bit depth buffer by default which is smaller and faster
to clear than a 32-bit buffer but not as accurate. If you need a deeper
you can modify the parameters to ``glXChooseVisual`` in your code.

3.3 Why Isn't depth buffering working at all?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Be sure you're requesting a depth buffered-visual. If you set the
``MESA_DEBUG`` environment variable it will warn you about trying to
enable depth testing when you don't have a depth buffer.

Specifically, make sure ``glutInitDisplayMode`` is being called with
``GLUT_DEPTH`` or ``glXChooseVisual`` is being called with a non-zero
value for ``GLX_DEPTH_SIZE``.

This discussion applies to stencil buffers, accumulation buffers and
alpha channels too.

3.4 Why does ``glGetString()`` always return ``NULL``?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Be sure you have an active/current OpenGL rendering context before
calling ``glGetString``.

3.5 ``GL_POINTS`` and ``GL_LINES`` don't touch the right pixels
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you're trying to draw a filled region by using ``GL_POINTS`` or
``GL_LINES`` and seeing holes or gaps it's because of a float-to-int
rounding problem. But this is not a bug. See Appendix H of the OpenGL
Programming Guide - "OpenGL Correctness Tips". Basically, applying a
translation of (0.375, 0.375, 0.0) to your coordinates will fix the
problem.

4. Developer Questions
----------------------

4.1 How can I contribute?
~~~~~~~~~~~~~~~~~~~~~~~~~

First, join the :doc:`mesa-dev mailing list <lists>`. That's where
Mesa development is discussed.

The `OpenGL Specification <https://www.opengl.org/documentation>`__ is
the bible for OpenGL implementation work. You should read it.

Most of the Mesa development work involves implementing new OpenGL
extensions, writing hardware drivers (for the DRI), and code
optimization.

4.2 How do I write a new device driver?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Unfortunately, writing a device driver isn't easy. It requires detailed
understanding of OpenGL, the Mesa code, and your target
hardware/operating system. 3D graphics are not simple.

The best way to get started is to use an existing driver as your
starting point. For a classic hardware driver, the i965 driver is a good
example. For a Gallium3D hardware driver, the r300g, r600g and the i915g
are good examples.

The DRI website has more information about writing hardware drivers. The
process isn't well document because the Mesa driver interface changes
over time, and we seldom have spare time for writing documentation. That
being said, many people have managed to figure out the process.

Joining the appropriate mailing lists and asking questions (and
searching the archives) is a good way to get information.

4.3 Why isn't ``GL_EXT_texture_compression_s3tc`` implemented in Mesa?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Oh but it is! Prior to 2nd October 2017, the Mesa project did not
include S3TC support due to intellectual property (IP) and/or patent
issues around the S3TC algorithm.

As of Mesa 17.3.0, Mesa now officially supports S3TC, as the patent has
expired.

In versions prior to this, a 3rd party `plug-in
library <https://dri.freedesktop.org/wiki/S3TC>`__ was required.



================================================
FILE: docs/features.txt
================================================
# Status of OpenGL extensions in Mesa

Here's how to read this file:

all DONE: <driver>, ...
    All the extensions are done for the given list of drivers.

DONE
    The extension is done for Mesa and no implementation is necessary on the
    driver-side.

DONE ()
    The extension is done for Mesa and all the drivers in the "all DONE" list.

DONE (<driver>, ...)
    The extension is done for Mesa, all the drivers in the "all DONE" list, and
    all the drivers in the brackets.

in progress
    The extension is started but not finished yet.

not started
    The extension isn't started yet.

# OpenGL Core and Compatibility context support

Some drivers do not support the Compatibility profile or the
ARB_compatibility extensions.  If an application does not request a
specific version without the forward-compatiblity flag, such drivers
will be limited to OpenGL 3.0.  If an application requests OpenGL 3.1,
it will get a context that may or may not have the ARB_compatibility
extension enabled.  Some of the later GL features are exposed in the 3.0
context as extensions.


Feature                                                 Status
------------------------------------------------------- ------------------------

GL 3.0, GLSL 1.30 --- all DONE: freedreno, i965, nv50, nvc0, r600, radeonsi, llvmpipe, softpipe, virgl, zink, d3d12, panfrost

  glBindFragDataLocation, glGetFragDataLocation         DONE
  GL_NV_conditional_render (Conditional rendering)      DONE ()
  GL_ARB_map_buffer_range (Map buffer subranges)        DONE (v3d, vc4, lima)
  GL_ARB_color_buffer_float (Clamping controls)         DONE (v3d, vc4, lima)
  GL_ARB_texture_float (Float textures, renderbuffers)  DONE (v3d)
  GL_EXT_packed_float                                   DONE (v3d)
  GL_EXT_texture_shared_exponent                        DONE (v3d)
  GL_ARB_depth_buffer_float (Float depth buffers)       DONE (v3d)
  GL_ARB_framebuffer_object (Framebuffer objects)       DONE (v3d, vc4)
  GL_ARB_half_float_pixel                               DONE (all drivers)
  GL_ARB_half_float_vertex                              DONE (v3d, vc4, lima)
  GL_EXT_texture_integer                                DONE (v3d)
  GL_EXT_texture_array                                  DONE (v3d)
  GL_EXT_draw_buffers2 (Per-buffer blend and masks)     DONE (v3d)
  GL_EXT_texture_compression_rgtc                       DONE ()
  GL_ARB_texture_rg                                     DONE (v3d, lima)
  GL_EXT_transform_feedback (Transform feedback)        DONE (v3d)
  GL_ARB_vertex_array_object (Vertex array objects)     DONE (v3d, vc4, lima)
  GL_EXT_framebuffer_sRGB (sRGB framebuffer format)     DONE (v3d, vc4, lima)
  glClearBuffer commands                                DONE
  glGetStringi command                                  DONE
  glTexParameterI, glGetTexParameterI commands          DONE
  glVertexAttribI commands                              DONE
  Depth format cube textures                            DONE ()
  GLX_ARB_create_context (GLX 1.4 is required)          DONE (v3d, vc4)
  Multisample anti-aliasing                             DONE (freedreno/a5xx+, freedreno (*), llvmpipe (*), softpipe (*)))
  8 draw buffers                                        DONE (panfrost/t760+)

(*) freedreno (a2xx-a4xx), llvmpipe, and softpipe have fake Multisample anti-aliasing support


GL 3.1, GLSL 1.40 --- all DONE: freedreno, i965, nv50, nvc0, r600, radeonsi, llvmpipe, softpipe, virgl, zink, d3d12, panfrost

  Forward compatible context support/deprecations       DONE
  GL_ARB_draw_instanced (Instanced drawing)             DONE (v3d)
  GL_ARB_copy_buffer (Buffer copying)                   DONE (v3d, vc4, lima)
  GL_NV_primitive_restart (Primitive restart)           DONE (v3d)
  16 vertex texture image units                         DONE ()
  GL_ARB_texture_buffer_object (Texture buffer objs)    DONE (v3d)
  GL_ARB_texture_rectangle (Rectangular textures)       DONE (v3d, vc4, lima)
  GL_ARB_uniform_buffer_object (Uniform buffer objs)    DONE (v3d)
  GL_EXT_texture_snorm (Signed normalized textures)     DONE (v3d)


GL 3.2, GLSL 1.50 --- all DONE: freedreno, i965, nv50, nvc0, r600, radeonsi, llvmpipe, softpipe, virgl, zink, d3d12

  Core/compatibility profiles                           DONE
  Geometry shaders                                      DONE (freedreno/a6xx)
  GL_ARB_vertex_array_bgra (BGRA vertex order)          DONE (v3d, panfrost)
  GL_ARB_draw_elements_base_vertex (Base vertex offset) DONE (v3d, vc4, panfrost, lima)
  GL_ARB_fragment_coord_conventions (Frag shader coord) DONE (v3d, vc4, panfrost, lima)
  GL_ARB_provoking_vertex (Provoking vertex)            DONE (v3d, vc4, panfrost, lima)
  GL_ARB_seamless_cube_map (Seamless cubemaps)          DONE (panfrost)
  GL_ARB_texture_multisample (Multisample textures)     DONE (freedreno/a5xx+, v3d, vc4, panfrost)
  GL_ARB_depth_clamp (Frag depth clamp)                 DONE (panfrost)
  GL_ARB_sync (Fence objects)                           DONE (v3d, vc4, panfrost, lima)
  GLX_ARB_create_context_profile                        DONE


GL 3.3, GLSL 3.30 --- all DONE: freedreno, i965, nv50, nvc0, r600, radeonsi, llvmpipe, softpipe, virgl, zink, d3d12

  GL_ARB_blend_func_extended                            DONE (freedreno/a3xx, freedreno/a6xx, panfrost, lima)
  GL_ARB_explicit_attrib_location                       DONE (all drivers that support GLSL)
  GL_ARB_occlusion_query2                               DONE (v3d, panfrost)
  GL_ARB_sampler_objects                                DONE (all drivers)
  GL_ARB_shader_bit_encoding                            DONE (v3d, panfrost)
  GL_ARB_texture_rgb10_a2ui                             DONE (v3d, panfrost)
  GL_ARB_texture_swizzle                                DONE (v3d, vc4, panfrost, lima)
  GL_ARB_timer_query                                    DONE ()
  GL_ARB_instanced_arrays                               DONE (v3d, panfrost)
  GL_ARB_vertex_type_2_10_10_10_rev                     DONE (v3d, panfrost)


GL 4.0, GLSL 4.00 --- all DONE: i965/gen7+, nvc0, r600, radeonsi, llvmpipe, virgl, zink, d3d12

  GL_ARB_draw_buffers_blend                             DONE (freedreno, i965/gen6+, nv50, softpipe, panfrost, v3d)
  GL_ARB_draw_indirect                                  DONE (freedreno, i965/gen7+, softpipe, v3d)
  GL_ARB_gpu_shader5                                    DONE (i965/gen7+)
  - 'precise' qualifier                                 DONE (softpipe)
  - Dynamically uniform sampler array indices           DONE (softpipe)
  - Dynamically uniform UBO array indices               DONE (freedreno, softpipe)
  - Implicit signed -> unsigned conversions             DONE (softpipe, )
  - Fused multiply-add                                  DONE (softpipe, )
  - Packing/bitfield/conversion functions               DONE (freedreno, softpipe, panfrost)
  - Enhanced textureGather                              DONE (freedreno, softpipe, panfrost)
  - Geometry shader instancing                          DONE (softpipe, )
  - Geometry shader multiple streams                    DONE (softpipe, )
  - Enhanced per-sample shading                         DONE ()
  - Interpolation functions                             DONE (softpipe)
  - New overload resolution rules                       DONE (softpipe)
  GL_ARB_gpu_shader_fp64                                DONE (i965/gen7+, softpipe, )
  GL_ARB_sample_shading                                 DONE (freedreno/a6xx, i965/gen6+, nv50, panfrost)
  GL_ARB_shader_subroutine                              DONE (freedreno, i965/gen6+, nv50, softpipe)
  GL_ARB_tessellation_shader                            DONE (freedreno/a6xx, i965/gen7+, )
  GL_ARB_texture_buffer_object_rgb32                    DONE (freedreno, i965/gen6+, softpipe, panfrost)
  GL_ARB_texture_cube_map_array                         DONE (freedreno/a4xx+, i965/gen6+, nv50, softpipe)
  GL_ARB_texture_gather                                 DONE (freedreno, i965/gen6+, nv50, softpipe, v3d, panfrost)
  GL_ARB_texture_query_lod                              DONE (freedreno, i965, nv50, softpipe, v3d, panfrost)
  GL_ARB_transform_feedback2                            DONE (freedreno/a3xx+, i965/gen6+, nv50, softpipe, v3d, panfrost)
  GL_ARB_transform_feedback3                            DONE (freedreno/a3xx+, i965/gen7+, softpipe, )


GL 4.1, GLSL 4.10 --- all DONE: i965/gen7+, nvc0, r600, radeonsi, llvmpipe, virgl, zink, d3d12

  GL_ARB_ES2_compatibility                              DONE (freedreno, i965, nv50, softpipe, v3d, vc4, panfrost, lima)
  GL_ARB_get_program_binary                             DONE (freedreno, v3d, 0 or 1 binary formats)
  GL_ARB_separate_shader_objects                        DONE (all drivers)
  GL_ARB_shader_precision                               DONE (i965/gen7+, all drivers that support GLSL 4.10)
  GL_ARB_vertex_attrib_64bit                            DONE (i965/gen7+, softpipe, )
  GL_ARB_viewport_array                                 DONE (i965, nv50, softpipe, )


GL 4.2, GLSL 4.20 -- all DONE: i965/gen7+, nvc0, r600, radeonsi, llvmpipe, virgl, zink, d3d12

  GL_ARB_texture_compression_bptc                       DONE (freedreno, i965, softpipe, panfrost/if SoC supports)
  GL_ARB_compressed_texture_pixel_storage               DONE (all drivers)
  GL_ARB_shader_atomic_counters                         DONE (freedreno/a5xx+, i965, softpipe, v3d, panfrost)
  GL_ARB_texture_storage                                DONE (all drivers)
  GL_ARB_transform_feedback_instanced                   DONE (freedreno, i965, nv50, softpipe, v3d)
  GL_ARB_base_instance                                  DONE (freedreno, i965, nv50, softpipe, v3d)
  GL_ARB_shader_image_load_store                        DONE (freedreno/a5xx+, i965, softpipe, panfrost)
  GL_ARB_conservative_depth                             DONE (all drivers that support GLSL 1.30)
  GL_ARB_shading_language_420pack                       DONE (all drivers that support GLSL 1.30)
  GL_ARB_shading_language_packing                       DONE (all drivers)
  GL_ARB_internalformat_query                           DONE (freedreno, i965, nv50, softpipe, v3d, vc4, panfrost, lima)
  GL_ARB_map_buffer_alignment                           DONE (all drivers)


GL 4.3, GLSL 4.30 -- all DONE: i965/gen8+, nvc0, r600, radeonsi, llvmpipe, virgl, zink

  GL_ARB_arrays_of_arrays                               DONE (all drivers that support GLSL 1.30)
  GL_ARB_ES3_compatibility                              DONE (all drivers that support GLSL 3.30)
  GL_ARB_clear_buffer_object                            DONE (all drivers)
  GL_ARB_compute_shader                                 DONE (freedreno/a5xx+, i965, softpipe, v3d, panfrost, d3d12)
  GL_ARB_copy_image                                     DONE (i965, nv50, softpipe, v3d)
  GL_KHR_debug                                          DONE (all drivers)
  GL_ARB_explicit_uniform_location                      DONE (all drivers that support GLSL)
  GL_ARB_fragment_layer_viewport                        DONE (i965, nv50, softpipe, d3d12)
  GL_ARB_framebuffer_no_attachments                     DONE (freedreno, i965, softpipe, v3d, d3d12)
  GL_ARB_internalformat_query2                          DONE (all drivers)
  GL_ARB_invalidate_subdata                             DONE (all drivers)
  GL_ARB_multi_draw_indirect                            DONE (freedreno, i965, softpipe, v3d, d3d12)
  GL_ARB_program_interface_query                        DONE (all drivers)
  GL_ARB_robust_buffer_access_behavior                  DONE (freedreno, i965, d3d12)
  GL_ARB_shader_image_size                              DONE (freedreno/a5xx+, i965, softpipe, v3d, panfrost, d3d12)
  GL_ARB_shader_storage_buffer_object                   DONE (freedreno/a5xx+, i965, softpipe, v3d, panfrost, d3d12)
  GL_ARB_stencil_texturing                              DONE (freedreno, i965/hsw+, nv50, softpipe, v3d, panfrost, d3d12)
  GL_ARB_texture_buffer_range                           DONE (freedreno, nv50, i965, softpipe, v3d, d3d12)
  GL_ARB_texture_query_levels                           DONE (all drivers that support GLSL 1.30)
  GL_ARB_texture_storage_multisample                    DONE (all drivers that support GL_ARB_texture_multisample)
  GL_ARB_texture_view                                   DONE (freedreno, i965, nv50, softpipe, v3d)
  GL_ARB_vertex_attrib_binding                          DONE (all drivers)


GL 4.4, GLSL 4.40 -- all DONE: i965/gen8+, nvc0, r600, radeonsi, llvmpipe, zink

  GL_MAX_VERTEX_ATTRIB_STRIDE                           DONE (all drivers)
  GL_ARB_buffer_storage                                 DONE (freedreno, i965, nv50, v3d, vc4, lima)
  GL_ARB_clear_texture                                  DONE (i965, nv50, softpipe, virgl)
  GL_ARB_enhanced_layouts                               DONE (i965, nv50, softpipe, virgl)
  - compile-time constant expressions                   DONE
  - explicit byte offsets for blocks                    DONE
  - forced alignment within blocks                      DONE
  - specified vec4-slot component numbers               DONE
  - specified transform/feedback layout                 DONE
  - input/output block locations                        DONE
  GL_ARB_multi_bind                                     DONE (all drivers)
  GL_ARB_query_buffer_object                            DONE (i965/hsw+, virgl)
  GL_ARB_texture_mirror_clamp_to_edge                   DONE (i965, nv50, softpipe, virgl, v3d, panfrost)
  GL_ARB_texture_stencil8                               DONE (freedreno, i965/hsw+, nv50, softpipe, virgl, v3d, panfrost, d3d12)
  GL_ARB_vertex_type_10f_11f_11f_rev                    DONE (freedreno, i965, nv50, softpipe, virgl, panfrost, d3d12)

GL 4.5, GLSL 4.50 -- all DONE: nvc0, r600, radeonsi, llvmpipe, zink

  GL_ARB_ES3_1_compatibility                            DONE (i965/hsw+, softpipe, virgl)
  GL_ARB_clip_control                                   DONE (freedreno, i965, nv50, softpipe, virgl, lima, d3d12)
  GL_ARB_conditional_render_inverted                    DONE (freedreno, i965, nv50, softpipe, virgl, panfrost, d3d12)
  GL_ARB_cull_distance                                  DONE (freedreno/a6xx, i965, nv50, softpipe, virgl)
  GL_ARB_derivative_control                             DONE (i965, nv50, softpipe, virgl)
  GL_ARB_direct_state_access                            DONE (all drivers)
  GL_ARB_get_texture_sub_image                          DONE (all drivers)
  GL_ARB_shader_texture_image_samples                   DONE (i965, nv50, virgl)
  GL_ARB_texture_barrier                                DONE (freedreno, i965, nv50, vc4, virgl, lima)
  GL_KHR_context_flush_control                          DONE (all - but needs GLX/EGL extension to be useful)
  GL_KHR_robustness                                     DONE (freedreno, i965, virgl)
  GL_EXT_shader_integer_mix                             DONE (all drivers that support GLSL)

GL 4.6, GLSL 4.60 -- all DONE: radeonsi, zink

  GL_ARB_gl_spirv                                       DONE (i965/gen7+, llvmpipe)
  GL_ARB_indirect_parameters                            DONE (i965/gen7+, nvc0, llvmpipe, virgl, d3d12)
  GL_ARB_pipeline_statistics_query                      DONE (i965, nvc0, r600, llvmpipe, softpipe, )
  GL_ARB_polygon_offset_clamp                           DONE (freedreno, i965, nv50, nvc0, r600, llvmpipe, v3d, virgl)
  GL_ARB_shader_atomic_counter_ops                      DONE (freedreno/a5xx+, i965/gen7+, nvc0, r600, llvmpipe, softpipe, virgl, v3d)
  GL_ARB_shader_draw_parameters                         DONE (i965, llvmpipe, nvc0, d3d12)
  GL_ARB_shader_group_vote                              DONE (i965, nvc0, llvmpipe)
  GL_ARB_spirv_extensions                               DONE (i965/gen7+, llvmpipe)
  GL_ARB_texture_filter_anisotropic                     DONE (etnaviv/HALTI0, freedreno, i965, nv50, nvc0, r600, softpipe, llvmpipe, d3d12, virgl, v3d)
  GL_ARB_transform_feedback_overflow_query              DONE (i965/gen6+, nvc0, llvmpipe, softpipe, virgl)
  GL_KHR_no_error                                       DONE (all drivers)

These are the extensions cherry-picked to make GLES 3.1
GLES3.1, GLSL ES 3.1 -- all DONE: i965/hsw+, nvc0, r600, radeonsi, virgl, v3d, softpipe, llvmpipe, zink, panfrost, d3d12

  GL_ARB_arrays_of_arrays                               DONE (all drivers that support GLSL 1.30)
  GL_ARB_compute_shader                                 DONE (freedreno/a5xx+, i965/gen7+)
  GL_ARB_draw_indirect                                  DONE (freedreno, i965/gen7+)
  GL_ARB_explicit_uniform_location                      DONE (all drivers that support GLSL)
  GL_ARB_framebuffer_no_attachments                     DONE (freedreno, i965/gen7+, softpipe)
  GL_ARB_program_interface_query                        DONE (all drivers)
  GL_ARB_shader_atomic_counters                         DONE (freedreno/a5xx+, i965/gen7+)
  GL_ARB_shader_image_load_store                        DONE (freedreno/a5xx+, i965/gen7+)
  GL_ARB_shader_image_size                              DONE (freedreno/a5xx+, i965/gen7+)
  GL_ARB_shader_storage_buffer_object                   DONE (freedreno/a5xx+, i965/gen7+)
  GL_ARB_shading_language_packing                       DONE (all drivers)
  GL_ARB_separate_shader_objects                        DONE (all drivers)
  GL_ARB_stencil_texturing                              DONE (freedreno, nv50)
  GL_ARB_texture_multisample (Multisample textures)     DONE (freedreno/a5xx+, i965/gen7+, nv50)
  GL_ARB_texture_storage_multisample                    DONE (all drivers that support GL_ARB_texture_multisample)
  GL_ARB_vertex_attrib_binding                          DONE (all drivers)
  GS5 Enhanced textureGather                            DONE (freedreno, i965/gen7+)
  GS5 Packing/bitfield/conversion functions             DONE (freedreno/a5xx+, i965/gen6+)
  GL_EXT_shader_integer_mix                             DONE (all drivers that support GLSL)

  Additional functionality not covered above:
      glMemoryBarrierByRegion                           DONE
      glGetTexLevelParameter[fi]v - needs updates       DONE
      glGetBooleani_v - restrict to GLES enums
      gl_HelperInvocation support                       DONE (i965, r600, panfrost)

GLES3.2, GLSL ES 3.2 -- all DONE: i965/gen9+, radeonsi, virgl, llvmpipe, zink

  GL_EXT_color_buffer_float                             DONE (all drivers)
  GL_KHR_blend_equation_advanced                        DONE (freedreno/a6xx, i965, nvc0, panfrost)
  GL_KHR_debug                                          DONE (all drivers)
  GL_KHR_robustness                                     DONE (freedreno, i965, nvc0, r600)
  GL_KHR_texture_compression_astc_ldr                   DONE (freedreno, i965/gen9+, r600, v3d, vc4, panfrost, softpipe, lima)
  GL_OES_copy_image                                     DONE (all drivers)
  GL_OES_draw_buffers_indexed                           DONE (all drivers that support GL_ARB_draw_buffers_blend)
  GL_OES_draw_elements_base_vertex                      DONE (all drivers)
  GL_OES_geometry_shader                                DONE (freedreno/a6xx, i965/hsw+, nvc0, r600, softpipe, v3d)
  GL_OES_gpu_shader5                                    DONE (freedreno/a6xx, all drivers that support GL_ARB_gpu_shader5)
  GL_OES_primitive_bounding_box                         DONE (freedreno/a5xx+, i965/gen7+, nvc0, r600, softpipe, v3d)
  GL_OES_sample_shading                                 DONE (freedreno/a6xx, i965, nvc0, r600, panfrost, d3d12)
  GL_OES_sample_variables                               DONE (freedreno/a6xx, i965, nvc0, r600, panfrost/bifrost)
  GL_OES_shader_image_atomic                            DONE (v3d, all drivers that support GL_ARB_shader_image_load_store)
  GL_OES_shader_io_blocks                               DONE (All drivers that support GLES 3.1)
  GL_OES_shader_multisample_interpolation               DONE (freedreno/a6xx, i965, nvc0, r600)
  GL_OES_tessellation_shader                            DONE (freedreno/a6xx, all drivers that support GL_ARB_tessellation_shader)
  GL_OES_texture_border_clamp                           DONE (all drivers)
  GL_OES_texture_buffer                                 DONE (freedreno, i965, nvc0, r600, softpipe, panfrost)
  GL_OES_texture_cube_map_array                         DONE (freedreno/a4xx+, i965/hsw+, nvc0, r600, softpipe)
  GL_OES_texture_stencil8                               DONE (all drivers that support GL_ARB_texture_stencil8)
  GL_OES_texture_storage_multisample_2d_array           DONE (all drivers that support GL_ARB_texture_multisample)

Khronos, ARB, and OES extensions that are not part of any OpenGL or OpenGL ES version:

  GL_ARB_bindless_texture                               DONE (nvc0, radeonsi, zink)
  GL_ARB_cl_event                                       not started
  GL_ARB_compute_variable_group_size                    DONE (i965/gen7+, nvc0, radeonsi, zink)
  GL_ARB_ES3_2_compatibility                            DONE (i965/gen8+, radeonsi, virgl, zink)
  GL_ARB_fragment_shader_interlock                      DONE (i965, zink)
  GL_ARB_gpu_shader_int64                               DONE (i965/gen8+, nvc0, radeonsi, softpipe, llvmpipe, zink, d3d12)
  GL_ARB_parallel_shader_compile                        DONE (freedreno, iris, radeonsi, etnaviv)
  GL_ARB_post_depth_coverage                            DONE (i965, nvc0, radeonsi, llvmpipe, zink)
  GL_ARB_robustness_isolation                           not started
  GL_ARB_sample_locations                               DONE (nvc0, zink)
  GL_ARB_seamless_cubemap_per_texture                   DONE (etnaviv/SEAMLESS_CUBE_MAP, freedreno, i965, nvc0, r600, radeonsi, softpipe, virgl, zink)
  GL_ARB_shader_ballot                                  DONE (i965/gen8+, nvc0, radeonsi, zink)
  GL_ARB_shader_clock                                   DONE (i965/gen7+, nv50, nvc0, r600, radeonsi, llvmpipe, virgl, zink)
  GL_ARB_shader_stencil_export                          DONE (i965/gen9+, r600, radeonsi, softpipe, llvmpipe, virgl, panfrost, zink)
  GL_ARB_shader_viewport_layer_array                    DONE (i965/gen6+, nvc0, radeonsi, zink)
  GL_ARB_shading_language_include                       DONE
  GL_ARB_sparse_buffer                                  DONE (radeonsi/gfx9+, zink)
  GL_ARB_sparse_texture                                 DONE (radeonsi/gfx9+, zink)
  GL_ARB_sparse_texture2                                DONE (radeonsi/gfx9+, zink)
  GL_ARB_sparse_texture_clamp                           DONE (radeonsi/gfx9+, zink)
  GL_ARB_texture_filter_minmax                          DONE (nvc0/gm200+, zink)
  GL_ARM_shader_framebuffer_fetch_depth_stencil         DONE (llvmpipe)
  GL_EXT_color_buffer_half_float                        DONE (freedreno, i965, iris, llvmpipe, nv50, nvc0, radeonsi, zink)
  GL_EXT_depth_bounds_test                              DONE (i965/gen12+, nv50, nvc0, radeonsi, softpipe, zink)
  GL_EXT_memory_object                                  DONE (radeonsi, i965/gen7+, llvmpipe, zink, d3d12)
  GL_EXT_memory_object_fd                               DONE (radeonsi, i965/gen7+, llvmpipe, zink)
  GL_EXT_memory_object_win32                            DONE (zink, d3d12)
  GL_EXT_multisampled_render_to_texture                 DONE (freedreno/a6xx, panfrost, zink, lima)
  GL_EXT_render_snorm                                   DONE (i965, r600, radeonsi, softpipe, zink)
  GL_EXT_semaphore                                      DONE (radeonsi, i965/gen7+, zink, d3d12)
  GL_EXT_semaphore_fd                                   DONE (radeonsi, i965/gen7+, zink)
  GL_EXT_semaphore_win32                                DONE (zink, d3d12)
  GL_EXT_shader_group_vote                              DONE (all drivers that support GL_ARB_shader_group_vote)
  GL_EXT_sRGB_write_control                             DONE (all drivers that support GLES 3.0+)
  GL_EXT_texture_norm16                                 DONE (freedreno, i965, r600, radeonsi, nvc0i, softpipe, zink)
  GL_EXT_texture_sRGB_R8                                DONE (all drivers that support GLES 3.0+)
  GL_KHR_blend_equation_advanced_coherent               DONE (i965/gen9+, panfrost)
  GL_KHR_texture_compression_astc_hdr                   DONE (core only)
  GL_KHR_texture_compression_astc_sliced_3d             DONE (i965/gen9+, r600, radeonsi, panfrost, softpipe, v3d, zink, lima)
  GL_OES_depth_texture_cube_map                         DONE (all drivers that support GLSL 1.30+)
  GL_OES_EGL_image                                      DONE (all drivers)
  GL_OES_EGL_image_external                             DONE (all drivers)
  GL_OES_EGL_image_external_essl3                       DONE (all drivers)
  GL_OES_required_internalformat                        DONE (all drivers)
  GL_OES_surfaceless_context                            DONE (all drivers)
  GL_OES_texture_compression_astc                       DONE (core only)
  GL_OES_texture_float                                  DONE (freedreno, i965, r300, r600, radeonsi, nv30, nv50, nvc0, softpipe, llvmpipe, panfrost, v3d, zink)
  GL_OES_texture_float_linear                           DONE (freedreno, i965, r300, r600, radeonsi, nv30, nv50, nvc0, softpipe, llvmpipe, panfrost, zink)
  GL_OES_texture_half_float                             DONE (freedreno, i965, r300, r600, radeonsi, nv30, nv50, nvc0, softpipe, llvmpipe, panfrost, v3d, zink, lima)
  GL_OES_texture_half_float_linear                      DONE (freedreno, i965, r300, r600, radeonsi, nv30, nv50, nvc0, softpipe, llvmpipe, panfrost, v3d, zink, lima)
  GL_OES_texture_view                                   DONE (freedreno, i965/gen8+, r600, radeonsi, nv50, nvc0, softpipe, llvmpipe, v3d, zink)
  GL_OES_viewport_array                                 DONE (i965, nvc0, r600, radeonsi, softpipe, zink)
  GLX_ARB_context_flush_control                         DONE (all drivers)
  GLX_ARB_robustness_application_isolation              not started
  GLX_ARB_robustness_share_group_isolation              not started

GL_EXT_direct_state_access subfeatures (in the spec order):
  GL 1.1: Client commands                               DONE
  GL 1.0-1.3: Matrix and transpose matrix commands      DONE
  GL 1.1-1.2: Texture commands                          DONE
  GL 1.2: 3D texture commands                           DONE
  GL 1.2.1: Multitexture commands                       DONE
  GL 1.2.1-3.0: Indexed texture commands                DONE
  GL 1.2.1-3.0: Indexed generic queries                 DONE
  GL 1.2.1: EnableIndexed.. Get*Indexed                 DONE
  GL_ARB_vertex_program                                 DONE
  GL 1.3: Compressed texture and multitexture commands  DONE
  GL 1.5: Buffer commands                               DONE
  GL 2.0-2.1: Uniform and uniform matrix commands       DONE
  GL_EXT_texture_buffer_object                          DONE
  GL_EXT_texture_integer                                DONE
  GL_EXT_gpu_shader4                                    DONE
  GL_EXT_gpu_program_parameters                         DONE
  GL_NV_gpu_program4                                    n/a
  GL_NV_framebuffer_multisample_coverage                n/a
  GL 3.0: Renderbuffer/framebuffer commands, Gen*Mipmap DONE
  GL 3.0: CopyBuffer command                            DONE
  GL_EXT_geometry_shader4 commands (expose in GL 3.2)   D