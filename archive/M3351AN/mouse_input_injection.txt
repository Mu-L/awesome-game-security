Project Path: arc_M3351AN_mouse_input_injection_zq7bbnqa

Source Tree:

```txt
arc_M3351AN_mouse_input_injection_zq7bbnqa
├── LICENSE
├── README.md
├── example.cc
└── mouse_input_injection.h

```

`LICENSE`:

```
TOSSUCU License 2025.9

Copyright (c) 2025 渟雲

Definitions / 定义 
Any first-person pronouns (such as "I", "Me"), "right holder", and "author" in this License refer to the above-mentioned right holder (in this copy of license, specifically 渟雲). 
本许可证中的第一人称代词（如 “我”）、“权利人”、“作者”均指上述权利人（在本许可证副本中，特指 渟雲）。 
"Software" refers to this software and its associated documentation files. 
“软件”指本软件及其相关文档文件。

Permission / 授权 
Permission is hereby granted, free of charge, to any person obtaining a copy of the Software, to deal in the Software without restriction, including but not limited to: Use, Copy, Modify, Merge, Publish, Distribute, Sublicense, Sell. And to permit persons to whom the Software is furnished to do so. 
在满足以下条件的前提下，任何获得本软件副本的人均可免费、无限制地使用本软件，包括但不限于：使用、复制、修改、合并、发布、分发、再许可、出售。并允许被提供本软件的人同样享有上述权利。

Conditions / 条件 
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. 
在所有本软件的副本或重要部分中，必须包含上述版权声明和本许可声明。

Disclaimer / 免责声明 
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO: MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. 
本软件按“现状”提供，不附带任何形式的明示或暗示担保，包括但不限于：适销性、特定用途适用性、非侵权性。 在任何情况下，作者或版权持有人均不对因使用本软件或与本软件相关的行为而产生的任何索赔、损害或其他责任负责，无论其基于合同、侵权行为或其他原因。

Updates and Adjustments / 更新与调整 
The right holder may publish updated versions of this License. Each project or release shall specify the adjustments made to the License, clearly indicating the modified sections, if any. Unless explicitly stated, the terms of the License attached to the project, including its specified adjustments, shall govern. The right holder may choose to continue using older versions. The applicable version shall be the one attached to the obtained copy. 
权利人可以发布本许可证的更新版本。 每个项目或发行版应当明确说明对许可证所作的调整，并清晰标注被修改的部分（如有修改）。 除非另有明确说明，项目所附带的许可证（包括其指明的调整部分）应当优先适用。 权利人可以选择继续使用旧版本，版本以所获得的副本所附带的为准。

Compatibility with Referenced Software / 与引用软件的兼容性 
If the restrictions of this License conflict with the license of the referenced software, the referenced portion (INCLUDING BUT NOT LIMITED TO: modules, text, images, audio, source code, compiled binary fragments) shall be subject to the license of the referenced software, and the rest of the content shall still be subject to this License. 
如果本许可证的限制与所引用软件的许可证发生冲突，则引用部分（包括但不限于：模块、文本、图像、音频、源代码、已编译的二进制片段）应当遵循引用软件的许可证，其余部分仍然适用本许可证。

Legal Liability / 法律责任 
If any provision of this License is violated, directly or indirectly causing damage to the legitimate rights of the right holder, the right holder has the right to pursue legal liability in accordance with the laws of the country or region where the right holder is located. 
如有违反本许可证的条款，直接或间接导致权利人合法权利受损的，权利人有权依据其所在国家或地区的法律追究法律责任。

Language Versions / 语言版本 
This License may have multiple language translations. In case of conflict between translations, the English version shall prevail. 
此许可证可能有多种语言翻译，如有条目冲突，以英文版为准。

```

`README.md`:

```md
# Mouse Input Injection
A lightweight, header-only alternative for emulating mouse movements and actions.

---

## Features

- Utilizes the undocumented `NtUserInjectMouseInput` syscall.  
- Usage is identical to the `mouse_event` function in the Windows API.  
- Header-only design makes it easy to integrate into your program.

## Usage

- Download and include the `mouse_input_injection.h` header in your project.  
- Replace calls to `mouse_event` with `my_mouse_event`.

## License

This project is licensed under [**TOSSUCU License 2025.9**](LICENSE).

## Credits

Inspired by [Zpes](https://github.com/Zpes)' [mouse-input-injection](https://github.com/Zpes/mouse-input-injection).

## See also

[Keyboard Input Injection](https://github.com/M3351AN/keybd_input_injection).

```

`example.cc`:

```cc
#include "mouse_input_injection.h"

int main() {
  // Usuage is same as mouse_event function in Windows API
  // Example usage: Click the left mouse button down (but not up)
  printf("Clicking the left mouse button down...\n");
  my_mouse_event(MOUSEEVENTF_LEFTDOWN, 0, 0, 0, 0);

  system("pause");
  return 0;
}
```

`mouse_input_injection.h`:

```h
// Copyright (c) 2026 渟雲. All rights reserved.
#pragma once
#ifndef _MOUSE_INPUT_INJECTION_H_
#define _MOUSE_INPUT_INJECTION_H_
#include <Windows.h>
#include <iostream>

class MouseInterface {
private:
    using NtUserInjectMouseInput_t = bool (*)(MOUSEINPUT*, int);
    NtUserInjectMouseInput_t nt_user_inject_mouse_input_ = nullptr;

public:
    MouseInterface() {
        LoadLibraryW(L"user32.dll");
        HMODULE win32u_module = LoadLibraryW(L"win32u.dll");
        if (!win32u_module) {
            std::cerr << "[-] Could not load win32u.dll\n";
            return;
        }
        nt_user_inject_mouse_input_ =
            reinterpret_cast<NtUserInjectMouseInput_t>(
                GetProcAddress(win32u_module, "NtUserInjectMouseInput"));
        if (!nt_user_inject_mouse_input_) {
            std::cerr << "[-] Could not locate NtUserInjectMouseInput\n";
        }
    }

    inline bool sendEvent(const MOUSEINPUT& info) {
        if (nt_user_inject_mouse_input_) {
            return nt_user_inject_mouse_input_(
                const_cast<MOUSEINPUT*>(&info), 1);
        }
        return false;
    }
};

inline void my_mouse_event(DWORD dw_flags, LONG dx, LONG dy, DWORD dw_data,
                           ULONG_PTR dw_extra_info) {
    static MouseInterface mouse_interface;

    MOUSEINPUT event = {};
    event.dx = dx;
    event.dy = dy;
    event.mouseData = dw_data;
    event.dwFlags = dw_flags;
    event.time = 0;
    event.dwExtraInfo = dw_extra_info;

    mouse_interface.sendEvent(event);
}
#endif

```