Project Path: arc_Shtan7_VisualUEFI-2.0_4qarf8im

Source Tree:

```txt
arc_Shtan7_VisualUEFI-2.0_4qarf8im
├── README.md
├── edk2
├── edk2 libs
│   ├── BaseCacheMaintenanceLib
│   │   ├── BaseCacheMaintenanceLib.vcxproj
│   │   └── BaseCacheMaintenanceLib.vcxproj.filters
│   ├── BaseCpuLib
│   │   ├── BaseCpuLib.vcxproj
│   │   └── BaseCpuLib.vcxproj.filters
│   ├── BaseDebugPrintErrorLevelLib
│   │   ├── BaseDebugPrintErrorLevelLib.vcxproj
│   │   └── BaseDebugPrintErrorLevelLib.vcxproj.filters
│   ├── BaseIoLib
│   │   ├── BaseIoLib.vcxproj
│   │   └── BaseIoLib.vcxproj.filters
│   ├── BaseLib
│   │   ├── BaseLib.vcxproj
│   │   └── BaseLib.vcxproj.filters
│   ├── BaseMemoryLib
│   │   ├── BaseMemoryLib.vcxproj
│   │   └── BaseMemoryLib.vcxproj.filters
│   ├── BasePrintLib
│   │   ├── BasePrintLib.vcxproj
│   │   └── BasePrintLib.vcxproj.filters
│   ├── BaseSynchronizationLib
│   │   ├── BaseSynchronizationLib.vcxproj
│   │   └── BaseSynchronizationLib.vcxproj.filters
│   ├── CcProbeLib
│   │   ├── CcProbeLib.vcxproj
│   │   └── CcProbeLib.vcxproj.filters
│   ├── GlueLib
│   │   ├── GlueLib.vcxproj
│   │   ├── GlueLib.vcxproj.filters
│   │   ├── guid.c
│   │   ├── initlib.c
│   │   └── pcd.c
│   ├── IntrinsicLib
│   │   ├── IntrinsicLib.vcxproj
│   │   └── IntrinsicLib.vcxproj.filters
│   ├── MSBuild
│   │   ├── nasm.props
│   │   ├── nasm.targets
│   │   └── nasm.xml
│   ├── RegisterFilterLib
│   │   ├── RegisterFilterLib.vcxproj
│   │   └── RegisterFilterLib.vcxproj.filters
│   ├── SerialPortLib
│   │   ├── SerialPortLib.vcxproj
│   │   └── SerialPortLib.vcxproj.filters
│   ├── TdxLib
│   │   ├── TdxLib.vcxproj
│   │   └── TdxLib.vcxproj.filters
│   ├── UefiApplicationEntryPoint
│   │   ├── UefiApplicationEntryPoint.vcxproj
│   │   └── UefiApplicationEntryPoint.vcxproj.filters
│   ├── UefiBootServicesTableLib
│   │   ├── UefiBootServicesTableLib.vcxproj
│   │   └── UefiBootServicesTableLib.vcxproj.filters
│   ├── UefiDebugLibConOut
│   │   ├── UefiDebugLibConOut.vcxproj
│   │   └── UefiDebugLibConOut.vcxproj.filters
│   ├── UefiDevicePathLibDevicePathProtocol
│   │   ├── UefiDevicePathLibDevicePathProtocol.vcxproj
│   │   └── UefiDevicePathLibDevicePathProtocol.vcxproj.filters
│   ├── UefiDriverEntryPoint
│   │   ├── UefiDriverEntryPoint.vcxproj
│   │   └── UefiDriverEntryPoint.vcxproj.filters
│   ├── UefiFileHandleLib
│   │   ├── UefiFileHandleLib.vcxproj
│   │   └── UefiFileHandleLib.vcxproj.filters
│   ├── UefiHiiLib
│   │   ├── UefiHiiLib.vcxproj
│   │   └── UefiHiiLib.vcxproj.filters
│   ├── UefiHiiServicesLib
│   │   ├── UefiHiiServicesLib.vcxproj
│   │   └── UefiHiiServicesLib.vcxproj.filters
│   ├── UefiLib
│   │   ├── UefiLib.vcxproj
│   │   └── UefiLib.vcxproj.filters
│   ├── UefiMemoryAllocationLib
│   │   ├── UefiMemoryAllocationLib.vcxproj
│   │   └── UefiMemoryAllocationLib.vcxproj.filters
│   ├── UefiMemoryLib
│   │   ├── UefiMemoryLib.vcxproj
│   │   └── UefiMemoryLib.vcxproj.filters
│   ├── UefiRuntimeLib
│   │   ├── UefiRuntimeLib.vcxproj
│   │   └── UefiRuntimeLib.vcxproj.filters
│   ├── UefiRuntimeServicesTableLib
│   │   ├── UefiRuntimeServicesTableLib.vcxproj
│   │   └── UefiRuntimeServicesTableLib.vcxproj.filters
│   ├── UefiShellLib
│   │   ├── UefiShellLib.vcxproj
│   │   └── UefiShellLib.vcxproj.filters
│   ├── UefiSortLib
│   │   ├── UefiSortLib.vcxproj
│   │   └── UefiSortLib.vcxproj.filters
│   ├── edk2 libs.sln
│   ├── paths.default.props
│   ├── vshacks.h
│   └── vshacks.nasm
├── pictures
│   ├── slide1.jpg
│   ├── slide2.jpg
│   ├── slide3.jpg
│   ├── slide4.jpg
│   └── slide5.jpg
└── samples
    ├── samples.props
    ├── samples.sln
    └── template_app
        ├── common.cpp
        ├── common.hpp
        ├── cpp_support.cpp
        ├── cpp_support.hpp
        ├── delete_constructors.hpp
        ├── drvproto.h
        ├── edk2_vars.c
        ├── efi_stub.cpp
        ├── efi_stub.hpp
        ├── enum_to_str.hpp
        ├── exc_common.cpp
        ├── exc_common.hpp
        ├── exc_dispatch.cpp
        ├── fh3.cpp
        ├── fh4.cpp
        ├── globals.hpp
        ├── main.cpp
        ├── memory_manager.hpp
        ├── template_app.vcxproj
        ├── template_app.vcxproj.filters
        ├── throw_exception.asm
        ├── tlsf.c
        ├── tlsf.h
        ├── type_info.cpp
        ├── type_info.hpp
        └── uefi.hpp

```

`README.md`:

```md
## The description

This is the VisualUEFI like project, but configurated to use the Clang compiler and emit DWARF debug information. 
It gives you a possibility to debug your UEFI applications in the source level on Windows using Vmware Workstation and
GDB.

## Installation

Install nasm https://www.nasm.us/ and add ```NASM\``` folder to the PATH variable, install Clang 
https://learn.microsoft.com/en-us/cpp/build/clang-support-msbuild?view=msvc-170#install-1 and build ```edk2 libs```
project. At this point you are ready to build the main project in the ```samples``` folder.

## Environment setting

I will cover setting up and using Clion as a GDB frontend. This is the easiest and hassle-free option.
First, open the virtual machine's .vmx configuration file and put in these lines.

```
debugStub.listen.guest64 = "TRUE"
debugStub.port.guest64 = "55555"
debugStub.hideBreakpoints = "TRUE"
```

Next, you need to open the run \ debug configurations menu.

![plot](/pictures/slide1.jpg)

Add a new configuration.

![plot](/pictures/slide2.jpg)

Select remote debug and fill the connection information like below.

![plot](/pictures/slide3.jpg)

Then launch a virtual machine and load your UEFI application. You should use a dead loop in your app
where an application waits for a debugger in an endless loop. After this we start remote debugging in Clion
and pause code execution. After pausing enter ```add-symbol-file path_to_your_executable``` to GDB console.
There is one important moment to mention - you should have at least 1 GB of RAM in your VM, because otherwise
the application possibly can be loaded at any random address and in this case you have to specify with the
last argument the address of the text section of the binary: ```add-symbol-file path_to_your_executable 0x<text_section_address>```.
By default a base address is ```0xD846000```, so if you have 1 GB of RAM, then you can skip this argument and
leave the work for GDB.

P.S.
Ensure that your Vmware Workstation isn't launched in the compatability mode with Hyper-V using Windows Hypervisor Platform (WHP),
because in this case GDB stub just crashes a VM when you try to load symbols.

![plot](/pictures/slide4.jpg)

Put a breakpoint at an endless loop, change a loop condition variable and after this you can freely do the source level
debugging of your code.

![plot](/pictures/slide5.jpg)

```

`edk2 libs/BaseCacheMaintenanceLib/BaseCacheMaintenanceLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseCacheMaintenanceLib\X86Cache.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{8ceaf1f8-e3b3-4365-8028-daf22c5bf6cb}</ProjectGuid>
    <RootNamespace>BaseCacheMaintenanceLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <IncludePath>$(IncludePath);$(IncludePath);$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <IncludePath>$(VC_IncludePath);$(WindowsSDK_IncludePath);;$(IncludePath);$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <IncludePath>$(VC_IncludePath);$(WindowsSDK_IncludePath);;$(IncludePath);$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <IncludePath>$(VC_IncludePath);$(WindowsSDK_IncludePath);;$(IncludePath);$(IncludePath)</IncludePath>
  </PropertyGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <AdditionalIncludeDirectories>$(EDK_PATH)\MdePkg\Include;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/BaseCacheMaintenanceLib/BaseCacheMaintenanceLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseCacheMaintenanceLib\X86Cache.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/BaseCpuLib/BaseCpuLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseCpuLib\X64\CpuFlushTlb.nasm">
      <FileType>Document</FileType>
    </NASM>
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseCpuLib\X64\CpuSleep.nasm">
      <FileType>Document</FileType>
    </NASM>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{d3a17bc7-dbac-4919-b32a-a114d831661e}</ProjectGuid>
    <RootNamespace>BaseCpuLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
    <Import Project="..\MSBuild\nasm.props" />
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
    <Import Project="..\MSBuild\nasm.targets" />
  </ImportGroup>
</Project>
```

`edk2 libs/BaseCpuLib/BaseCpuLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseCpuLib\X64\CpuFlushTlb.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseCpuLib\X64\CpuSleep.nasm">
      <Filter>Source Files</Filter>
    </NASM>
  </ItemGroup>
</Project>
```

`edk2 libs/BaseDebugPrintErrorLevelLib/BaseDebugPrintErrorLevelLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseDebugPrintErrorLevelLib\BaseDebugPrintErrorLevelLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{127b7a45-7195-4983-b3ab-1e1790fa80b0}</ProjectGuid>
    <RootNamespace>BaseDebugPrintErrorLevelLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/BaseDebugPrintErrorLevelLib/BaseDebugPrintErrorLevelLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseDebugPrintErrorLevelLib\BaseDebugPrintErrorLevelLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/BaseIoLib/BaseIoLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoHighLevel.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLib.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibFifo.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibInternalTdx.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibMmioBuffer.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibMsc.c" />
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\BaseIoLibIntrinsicInternal.h" />
    <ClInclude Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibSev.h" />
    <ClInclude Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibTdx.h" />
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\X64\IoFifoSev.nasm">
      <FileType>Document</FileType>
    </NASM>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{b7dae0ec-aff4-4a6d-ab90-c27590b9b12d}</ProjectGuid>
    <RootNamespace>BaseIoLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="ExtensionSettings">
    <Import Project="..\MSBuild\nasm.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <IncludePath>$(EDK_PATH)\MdePkg\Library\BaseIoLibIntrinsic\;$(EDK_PATH)\MdePkg;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <IncludePath>$(EDK_PATH)\MdePkg\Library\BaseIoLibIntrinsic\;$(EDK_PATH)\MdePkg;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
    <Import Project="..\MSBuild\nasm.targets" />
  </ImportGroup>
</Project>
```

`edk2 libs/BaseIoLib/BaseIoLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoHighLevel.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibFifo.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibInternalTdx.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibMmioBuffer.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibMsc.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\BaseIoLibIntrinsicInternal.h">
      <Filter>Header Files</Filter>
    </ClInclude>
    <ClInclude Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibSev.h">
      <Filter>Header Files</Filter>
    </ClInclude>
    <ClInclude Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\IoLibTdx.h">
      <Filter>Header Files</Filter>
    </ClInclude>
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseIoLibIntrinsic\X64\IoFifoSev.nasm" />
  </ItemGroup>
</Project>
```

`edk2 libs/BaseLib/BaseLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\ARShiftU64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\BitField.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\CheckSum.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\ChkStkGcc.c">
      <WholeProgramOptimization Condition="'$(Configuration)|$(Platform)'=='Release|x64'">false</WholeProgramOptimization>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\Cpu.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\CpuDeadLoop.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\DivS64x64Remainder.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\DivU64x32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\DivU64x32Remainder.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\DivU64x64Remainder.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\FilePaths.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\GetPowerOfTwo32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\GetPowerOfTwo64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\HighBitSet32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\HighBitSet64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LinkedList.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LowBitSet32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LowBitSet64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LRotU32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LRotU64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LShiftU64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\Math64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\ModU64x32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\MultS64x64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\MultU64x32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\MultU64x64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\QuickSort.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\RRotU32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\RRotU64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\RShiftU64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\SafeString.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\String.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\SwapBytes16.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\SwapBytes32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\SwapBytes64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\Unaligned.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\CpuBreakpoint.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Non-existing.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMsr64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\TdProbe.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMsr64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86DisablePaging32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86DisablePaging64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86EnablePaging32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86EnablePaging64.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86FxRestore.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86FxSave.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86GetInterruptState.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86MemoryFence.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86Msr.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86PatchInstruction.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86RdRand.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86ReadGdtr.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86ReadIdtr.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86Thunk.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86WriteGdtr.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86WriteIdtr.c" />
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\CpuId.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\CpuIdEx.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\CpuPause.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\DisableCache.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\DisableInterrupts.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\DisablePaging64.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\EnableCache.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\EnableDisableInterrupts.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\EnableInterrupts.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\FlushCacheLine.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\FxRestore.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\FxSave.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Invd.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Lfence.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\LongJump.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Monitor.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Mwait.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Pvalidate.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\RdRand.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCr0.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCr2.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCr3.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCr4.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCs.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr0.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr1.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr2.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr3.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr4.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr5.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr6.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr7.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDs.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadEflags.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadEs.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadFs.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadGdtr.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadGs.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadIdtr.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadLdtr.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm0.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm1.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm2.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm3.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm4.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm5.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm6.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm7.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadPmc.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadSs.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadTr.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadTsc.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\RmpAdjust.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\SetJump.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\SwitchStack.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\TdCall.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\TdVmcall.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\VmgExit.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Wbinvd.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteCr0.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteCr2.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteCr3.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteCr4.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr0.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr1.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr2.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr3.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr4.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr5.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr6.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr7.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteGdtr.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteIdtr.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteLdtr.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm0.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm1.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm2.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm3.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm4.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm5.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm6.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm7.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteTr.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\XGetBv.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\XSetBv.nasm">
      <FileType>Document</FileType>
    </NASM>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{215cfcb4-909d-426e-810a-31bd525ceff7}</ProjectGuid>
    <RootNamespace>BaseLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="ExtensionSettings">
    <Import Project="..\MSBuild\nasm.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <IncludePath>$(EDK_PATH)\MdePkg\Test\UnitTest\Include;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <IncludePath>$(EDK_PATH)\MdePkg\Test\UnitTest\Include;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <IncludePath>$(EDK_PATH)\MdePkg\Test\UnitTest\Include;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <IncludePath>$(EDK_PATH)\MdePkg\Test\UnitTest\Include;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
    <Import Project="..\MSBuild\nasm.targets" />
  </ImportGroup>
</Project>
```

`edk2 libs/BaseLib/BaseLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\ARShiftU64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\BitField.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\CheckSum.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\Cpu.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\CpuDeadLoop.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\DivS64x64Remainder.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\DivU64x32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\DivU64x32Remainder.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\DivU64x64Remainder.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\FilePaths.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\GetPowerOfTwo32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\GetPowerOfTwo64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\HighBitSet32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\HighBitSet64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LinkedList.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LowBitSet32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LowBitSet64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LRotU32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LRotU64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\LShiftU64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\Math64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\ModU64x32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\MultS64x64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\MultU64x32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\MultU64x64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\QuickSort.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\RRotU32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\RRotU64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\RShiftU64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\SafeString.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\String.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\SwapBytes16.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\SwapBytes32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\SwapBytes64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\Unaligned.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86DisablePaging32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86DisablePaging64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86EnablePaging32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86EnablePaging64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86FxRestore.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86FxSave.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86GetInterruptState.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86MemoryFence.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86Msr.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86PatchInstruction.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86RdRand.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86ReadGdtr.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86ReadIdtr.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86Thunk.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86WriteGdtr.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X86WriteIdtr.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\CpuBreakpoint.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Non-existing.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMsr64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\TdProbe.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMsr64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseLib\ChkStkGcc.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\CpuId.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\CpuIdEx.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\DisablePaging64.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\DisableInterrupts.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\DisableCache.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\CpuPause.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\EnableCache.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\EnableDisableInterrupts.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\EnableInterrupts.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\FlushCacheLine.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\FxRestore.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\FxSave.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Invd.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Lfence.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\LongJump.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Monitor.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Mwait.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Pvalidate.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCr0.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCr2.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCr3.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCr4.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\RdRand.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadCs.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr0.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr1.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr2.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr3.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr4.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr5.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr6.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDr7.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadDs.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadEflags.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm7.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm6.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm5.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm4.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm3.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm2.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm1.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadMm0.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadLdtr.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadIdtr.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadGs.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadGdtr.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadFs.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadEs.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadPmc.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadSs.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadTr.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\ReadTsc.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\RmpAdjust.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\SetJump.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\SwitchStack.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\TdCall.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\TdVmcall.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\VmgExit.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\Wbinvd.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteCr0.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteCr2.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteCr3.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteCr4.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr0.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr1.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr2.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr3.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr4.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr5.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr6.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteDr7.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteGdtr.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteIdtr.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteLdtr.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm0.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm1.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm2.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm3.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm4.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm5.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm6.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteMm7.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\WriteTr.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\XGetBv.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseLib\X64\XSetBv.nasm">
      <Filter>Source Files</Filter>
    </NASM>
  </ItemGroup>
</Project>
```

`edk2 libs/BaseMemoryLib/BaseMemoryLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\CompareMemWrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\CopyMem.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\CopyMemWrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\IsZeroBufferWrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\MemLibGeneric.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\MemLibGuid.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ScanMem16Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ScanMem32Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ScanMem64Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ScanMem8Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMem.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMem16Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMem32Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMem64Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMemWrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ZeroMemWrapper.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{3462bec7-32d7-4cd2-9acd-1f5f9474ff53}</ProjectGuid>
    <RootNamespace>BaseMemoryLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/BaseMemoryLib/BaseMemoryLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\CompareMemWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\CopyMem.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\CopyMemWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\IsZeroBufferWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\MemLibGeneric.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\MemLibGuid.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ScanMem8Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ScanMem16Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ScanMem32Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ScanMem64Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMem.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMem16Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMem32Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMem64Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\SetMemWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseMemoryLib\ZeroMemWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/BasePrintLib/BasePrintLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BasePrintLib\PrintLib.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BasePrintLib\PrintLibInternal.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{06652321-0ab8-4321-a803-5e500608b528}</ProjectGuid>
    <RootNamespace>BasePrintLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/BasePrintLib/BasePrintLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BasePrintLib\PrintLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BasePrintLib\PrintLibInternal.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/BaseSynchronizationLib/BaseSynchronizationLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\SynchronizationMsc.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedCompareExchange16.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedCompareExchange32.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedCompareExchange64.c" />
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedDecrement.nasm">
      <FileType>Document</FileType>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedIncrement.nasm">
      <FileType>Document</FileType>
    </NASM>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{e2a2fa49-9fbb-44be-9171-f3ddee6ab246}</ProjectGuid>
    <RootNamespace>BaseSynchronizationLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="ExtensionSettings">
    <Import Project="..\MSBuild\nasm.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
    <Import Project="..\MSBuild\nasm.targets" />
  </ImportGroup>
</Project>
```

`edk2 libs/BaseSynchronizationLib/BaseSynchronizationLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\SynchronizationMsc.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedCompareExchange16.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedCompareExchange32.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedCompareExchange64.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
  <ItemGroup>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedDecrement.nasm">
      <Filter>Source Files</Filter>
    </NASM>
    <NASM Include="..\..\edk2\MdePkg\Library\BaseSynchronizationLib\X64\InterlockedIncrement.nasm">
      <Filter>Source Files</Filter>
    </NASM>
  </ItemGroup>
</Project>
```

`edk2 libs/CcProbeLib/CcProbeLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\CcProbeLibNull\CcProbeLibNull.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{b2c93471-539a-416b-9f04-b448ef701fd2}</ProjectGuid>
    <RootNamespace>CcProbeLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <BufferSecurityCheck>false</BufferSecurityCheck>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/CcProbeLib/CcProbeLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\CcProbeLibNull\CcProbeLibNull.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/GlueLib/GlueLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="guid.c" />
    <ClCompile Include="initlib.c" />
    <ClCompile Include="pcd.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{790b7a96-73bf-4987-a845-facbd9c14218}</ProjectGuid>
    <RootNamespace>GlueLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/GlueLib/GlueLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Source Files\Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="guid.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="initlib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="pcd.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/GlueLib/guid.c`:

```c
/** @file
  Global GUID Definitions

Copyright (c) 2015, Alex Ionescu. All rights reserved.<BR>
This program and the accompanying materials
are licensed and made available under the terms and conditions of the BSD License
which accompanies this distribution.  The full text of the license may be found at
http://opensource.org/licenses/bsd-license.php

THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS,
WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.

**/

#include <Uefi.h>
#include <Library/UefiLib.h>

#include <Protocol/HiiFont.h>
#include <Protocol/GraphicsOutput.h>
#include <Protocol/UgaDraw.h>
#include <Protocol/DebugPort.h>
#include <Protocol/DevicePathFromText.h>
#include <Protocol/DevicePathToText.h>
#include <Protocol/DevicePathUtilities.h>
#include <Protocol/PciIo.h>
#include <Protocol/LoadedImage.h>
#include <Protocol/AcpiTable.h>
#include <Protocol/Decompress.h>

#include <Protocol/SerialIo.h>
#include <Protocol/UsbIo.h>

#include <Pi/PiDxeCis.h>
#include <Protocol/MpService.h>

#include <Guid/PcAnsi.h>
#include <Guid/GlobalVariable.h>
#include <Guid/EventGroup.h>

#include <Protocol/EfiShellInterface.h>
#include <Protocol/Shell.h>
#include <Protocol/EfiShellEnvironment2.h>
#include <Protocol/ShellParameters.h>
#include <Protocol/UnicodeCollation.h>

#include <Protocol/HiiDatabase.h>
#include <Protocol/HiiString.h>
#include <Protocol/HiiConfigRouting.h>
#include <Protocol/FormBrowser2.h>
#include <Guid/MdeModuleHii.h>

EFI_GUID gEfiPciIoProtocolGuid = EFI_PCI_IO_PROTOCOL_GUID;
EFI_GUID gEfiDriverDiagnosticsProtocolGuid = EFI_DRIVER_DIAGNOSTICS_PROTOCOL_GUID;
EFI_GUID gEfiDriverDiagnostics2ProtocolGuid = EFI_DRIVER_DIAGNOSTICS2_PROTOCOL_GUID;
EFI_GUID gEfiDriverConfigurationProtocolGuid = EFI_DRIVER_CONFIGURATION_PROTOCOL_GUID;
EFI_GUID gEfiDriverConfiguration2ProtocolGuid = EFI_DRIVER_CONFIGURATION2_PROTOCOL_GUID;
EFI_GUID gEfiComponentName2ProtocolGuid = EFI_COMPONENT_NAME2_PROTOCOL_GUID;
EFI_GUID gEfiComponentNameProtocolGuid = EFI_COMPONENT_NAME_PROTOCOL_GUID;
EFI_GUID gEfiDriverBindingProtocolGuid = EFI_DRIVER_BINDING_PROTOCOL_GUID;
EFI_GUID gEfiSimpleTextOutProtocolGuid = EFI_SIMPLE_TEXT_OUTPUT_PROTOCOL_GUID;
EFI_GUID gEfiGraphicsOutputProtocolGuid = EFI_GRAPHICS_OUTPUT_PROTOCOL_GUID;
EFI_GUID gEfiUgaDrawProtocolGuid = EFI_UGA_DRAW_PROTOCOL_GUID;
EFI_GUID gEfiHiiFontProtocolGuid = EFI_HII_FONT_PROTOCOL_GUID;
EFI_GUID gEfiDevicePathProtocolGuid = EFI_DEVICE_PATH_PROTOCOL_GUID;
EFI_GUID gEfiPcAnsiGuid = EFI_PC_ANSI_GUID;
EFI_GUID gEfiVT100Guid = EFI_VT_100_GUID;
EFI_GUID gEfiVT100PlusGuid = EFI_VT_100_PLUS_GUID;
EFI_GUID gEfiVTUTF8Guid = EFI_VT_UTF8_GUID;
EFI_GUID gEfiUartDevicePathGuid = DEVICE_PATH_MESSAGING_UART_FLOW_CONTROL;
EFI_GUID gEfiSasDevicePathGuid = EFI_SAS_DEVICE_PATH_GUID;
EFI_GUID gEfiDebugPortProtocolGuid = EFI_DEBUGPORT_PROTOCOL_GUID;
EFI_GUID gEfiDevicePathUtilitiesProtocolGuid = EFI_DEVICE_PATH_UTILITIES_PROTOCOL_GUID;
EFI_GUID gEfiDevicePathToTextProtocolGuid = EFI_DEVICE_PATH_TO_TEXT_PROTOCOL_GUID;
EFI_GUID gEfiDevicePathFromTextProtocolGuid = EFI_DEVICE_PATH_FROM_TEXT_PROTOCOL_GUID;
EFI_GUID gEfiGlobalVariableGuid = EFI_GLOBAL_VARIABLE;
EFI_GUID gEfiLoadedImageProtocolGuid = EFI_LOADED_IMAGE_PROTOCOL_GUID;
EFI_GUID gEfiAcpiTableProtocolGuid = EFI_ACPI_TABLE_PROTOCOL_GUID;
EFI_GUID gEfiDecompressProtocolGuid = EFI_DECOMPRESS_PROTOCOL_GUID;

EFI_GUID gEfiEventExitBootServicesGuid = EFI_EVENT_GROUP_EXIT_BOOT_SERVICES;
EFI_GUID gEfiEventVirtualAddressChangeGuid = EFI_EVENT_GROUP_VIRTUAL_ADDRESS_CHANGE;

EFI_GUID gEfiUsbIoProtocolGuid = EFI_USB_IO_PROTOCOL_GUID;
EFI_GUID gEfiSerialIoProtocolGuid = EFI_SERIAL_IO_PROTOCOL_GUID;

EFI_GUID gEfiMpServiceProtocolGuid = EFI_MP_SERVICES_PROTOCOL_GUID;

EFI_GUID gEfiShellInterfaceGuid = SHELL_INTERFACE_PROTOCOL_GUID;
EFI_GUID gEfiShellProtocolGuid = EFI_SHELL_PROTOCOL_GUID;
EFI_GUID gEfiFileInfoGuid = EFI_FILE_INFO_ID;
EFI_GUID gEfiShellEnvironment2Guid = SHELL_ENVIRONMENT_PROTOCOL_GUID;
EFI_GUID gEfiShellEnvironment2ExtGuid = EFI_SE_EXT_SIGNATURE_GUID;
EFI_GUID gEfiSimpleFileSystemProtocolGuid = EFI_SIMPLE_FILE_SYSTEM_PROTOCOL_GUID;
EFI_GUID gEfiShellParametersProtocolGuid = EFI_SHELL_PARAMETERS_PROTOCOL_GUID;
EFI_GUID gEfiUnicodeCollation2ProtocolGuid = EFI_UNICODE_COLLATION_PROTOCOL2_GUID;

EFI_GUID gEfiHiiStringProtocolGuid = EFI_HII_STRING_PROTOCOL_GUID;
EFI_GUID gEfiHiiDatabaseProtocolGuid = EFI_HII_DATABASE_PROTOCOL_GUID;
EFI_GUID gEfiHiiImageProtocolGuid = EFI_HII_IMAGE_PROTOCOL_GUID;
EFI_GUID gEfiHiiConfigRoutingProtocolGuid = EFI_HII_CONFIG_ROUTING_PROTOCOL_GUID;

EFI_GUID gEfiFormBrowser2ProtocolGuid = EFI_FORM_BROWSER2_PROTOCOL_GUID;

EFI_GUID gEdkiiIfrBitVarstoreGuid = EDKII_IFR_BIT_VARSTORE_GUID;

```

`edk2 libs/GlueLib/initlib.c`:

```c
/** @file
  Glue Library Initialization Code

Copyright (c) 2015, Alex Ionescu. All rights reserved.<BR>
This program and the accompanying materials
are licensed and made available under the terms and conditions of the BSD License
which accompanies this distribution.  The full text of the license may be found at
http://opensource.org/licenses/bsd-license.php

THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS,
WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.

**/

#include <Uefi.h>

#include <Library/DevicePathLib.h>
#include <Library/UefiLib.h>
#include <Library/UefiBootServicesTableLib.h>
#include <Library/UefiRuntimeServicesTableLib.h>

EFI_STATUS
EFIAPI
UefiMain (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
  );

EFI_STATUS
EFIAPI
UefiUnload (
  IN EFI_HANDLE        ImageHandle
  );

EFI_STATUS
EFIAPI
UefiBootServicesTableLibConstructor (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
);

EFI_STATUS
EFIAPI
UefiRuntimeServicesTableLibConstructor (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
);

EFI_STATUS
EFIAPI
UefiLibConstructor (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
);

EFI_STATUS
EFIAPI
DevicePathLibConstructor (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
);

EFI_STATUS
EFIAPI
RuntimeDriverLibConstruct (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
);

EFI_STATUS
EFIAPI
RuntimeDriverLibDeconstruct (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
);

EFI_STATUS
EFIAPI
UefiHiiServicesLibConstructor (
    IN EFI_HANDLE        ImageHandle,
    IN EFI_SYSTEM_TABLE  *SystemTable
);

/**
  Calls library constructors.

  This function calls all the constructors that the UEFI libraries contain. As
  of now this includes the Boot and Runtime Services Table Library constructor,
  the UEFI Library constructor, and the Device Path Library constructor.

  @param  ImageHandle           The image handle of the UEFI Application.
  @param  SystemTable           A pointer to the EFI System Table.

  @retval EFI_SUCCESS           Operation was completed sucessfully.
**/
EFI_STATUS 
EFIAPI
ProcessLibraryConstructorList (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
  )
{
  UefiBootServicesTableLibConstructor(ImageHandle, SystemTable);

  UefiRuntimeServicesTableLibConstructor(ImageHandle, SystemTable);

  UefiLibConstructor(ImageHandle, SystemTable);

  DevicePathLibConstructor(ImageHandle, SystemTable);

//  RuntimeDriverLibConstruct(ImageHandle, SystemTable);

  UefiHiiServicesLibConstructor(ImageHandle, SystemTable);

  return EFI_SUCCESS;
}

/**
  Call library destructors.

  This function calls all the destructors that the UEFI libraries contain. As
  of now, none of the libraries have any destructors.

  @param  ImageHandle           The image handle of the UEFI Application.
  @param  SystemTable           A pointer to the EFI System Table.
**/
VOID
EFIAPI
ProcessLibraryDestructorList (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
  )
{
 // RuntimeDriverLibDeconstruct(ImageHandle, SystemTable);
}

/**
  Calls module entrypoints.

  This function calls all the entrypoints that are part of this UEFI module.
  For modules being built with this library, we assume that only one entry
  point exists, and that it is called UefiMain.

  @param  ImageHandle           The image handle of the UEFI Application.
  @param  SystemTable           A pointer to the EFI System Table.

  @retval EFI_SUCCESS           Operation was completed sucessfully.
**/
EFI_STATUS
EFIAPI
ProcessModuleEntryPointList (
  IN EFI_HANDLE        ImageHandle,
  IN EFI_SYSTEM_TABLE  *SystemTable
  )
{
  return UefiMain (ImageHandle, SystemTable);
}

/**
  Calls module unload functions.

  This function calls all the unload functions part of this UEFI module.
  For modules being built with this library, we assume that only one unload
  function exists, and that it is called UefiUnload.

  @param  ImageHandle           The image handle of the UEFI Application.

  @retval EFI_SUCCESS           Operation was completed sucessfully.
**/
EFI_STATUS
EFIAPI
ProcessModuleUnloadList (
  IN EFI_HANDLE        ImageHandle
  )
{
  return UefiUnload (ImageHandle);
}


```

`edk2 libs/GlueLib/pcd.c`:

```c
/** @file
  Global Platform Configuration Data (PCD)

Copyright (c) 2015, Alex Ionescu. All rights reserved.<BR>
This program and the accompanying materials
are licensed and made available under the terms and conditions of the BSD License
which accompanies this distribution.  The full text of the license may be found at
http://opensource.org/licenses/bsd-license.php

THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS,
WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.

**/

#include <Uefi.h>
#include <Library/UefiLib.h>
#include <Pi/PiStatusCode.h>

BOOLEAN _PCD_GET_MODE_BOOL_PcdComponentNameDisable = FALSE;
BOOLEAN _PCD_GET_MODE_BOOL_PcdDriverDiagnosticsDisable = FALSE;
BOOLEAN _PCD_GET_MODE_BOOL_PcdComponentName2Disable = FALSE;
BOOLEAN _PCD_GET_MODE_BOOL_PcdDriverDiagnostics2Disable = FALSE;
BOOLEAN _PCD_GET_MODE_BOOL_PcdUefiVariableDefaultLangDeprecate  = FALSE;
BOOLEAN _PCD_GET_MODE_BOOL_PcdUgaConsumeSupport = TRUE;
BOOLEAN _PCD_GET_MODE_BOOL_PcdVerifyNodeInList = FALSE;
BOOLEAN _PCD_GET_MODE_BOOL_PcdValidateOrderedCollection = FALSE;

UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueEfiWatchDogTimerExpired = EFI_COMPUTING_UNIT_HOST_PROCESSOR | EFI_CU_HP_EC_TIMER_EXPIRED;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueSetVirtualAddressMap = EFI_SOFTWARE_EFI_RUNTIME_SERVICE | EFI_SW_RS_PC_SET_VIRTUAL_ADDRESS_MAP;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueMemoryTestStarted = EFI_COMPUTING_UNIT_MEMORY | EFI_CU_MEMORY_PC_TEST;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueUncorrectableMemoryError = EFI_COMPUTING_UNIT_MEMORY | EFI_CU_MEMORY_EC_UNCORRECTABLE;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueRemoteConsoleError = EFI_PERIPHERAL_REMOTE_CONSOLE | EFI_P_EC_CONTROLLER_ERROR;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueRemoteConsoleReset = EFI_PERIPHERAL_REMOTE_CONSOLE | EFI_P_PC_RESET;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueRemoteConsoleInputError = EFI_PERIPHERAL_REMOTE_CONSOLE | EFI_P_EC_INPUT_ERROR;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueRemoteConsoleOutputError = EFI_PERIPHERAL_REMOTE_CONSOLE | EFI_P_EC_OUTPUT_ERROR;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueMouseInterfaceError = EFI_PERIPHERAL_MOUSE | EFI_P_EC_INTERFACE_ERROR;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueMouseEnable = EFI_PERIPHERAL_MOUSE | EFI_P_PC_ENABLE;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueMouseDisable = EFI_PERIPHERAL_MOUSE | EFI_P_PC_DISABLE;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueKeyboardEnable = EFI_PERIPHERAL_KEYBOARD | EFI_P_PC_ENABLE;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueKeyboardDisable = EFI_PERIPHERAL_KEYBOARD | EFI_P_PC_DISABLE;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueKeyboardPresenceDetect = EFI_PERIPHERAL_KEYBOARD | EFI_P_PC_PRESENCE_DETECT;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueKeyboardReset = EFI_PERIPHERAL_KEYBOARD | EFI_P_PC_RESET;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueKeyboardClearBuffer = EFI_PERIPHERAL_KEYBOARD | EFI_P_KEYBOARD_PC_CLEAR_BUFFER;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueKeyboardSelfTest = EFI_PERIPHERAL_KEYBOARD | EFI_P_KEYBOARD_PC_SELF_TEST;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueKeyboardInterfaceError = EFI_PERIPHERAL_KEYBOARD | EFI_P_EC_INTERFACE_ERROR;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueKeyboardInputError = EFI_PERIPHERAL_KEYBOARD | EFI_P_EC_INPUT_ERROR;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueMouseInputError = EFI_PERIPHERAL_MOUSE | EFI_P_EC_INPUT_ERROR;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueMouseReset = EFI_PERIPHERAL_MOUSE | EFI_P_PC_RESET;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValuePeiHandoffToDxe = EFI_SOFTWARE_PEI_CORE | EFI_SW_PEI_CORE_PC_HANDOFF_TO_NEXT;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValuePeimDispatch = EFI_SOFTWARE_PEI_CORE | EFI_SW_PC_INIT_BEGIN;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValuePeiCoreEntry = EFI_SOFTWARE_PEI_CORE | EFI_SW_PC_INIT;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueDxeCoreEntry = EFI_SOFTWARE_DXE_CORE | EFI_SW_DXE_CORE_PC_ENTRY_POINT;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueDxeCoreHandoffToBds = EFI_SOFTWARE_DXE_CORE | EFI_SW_DXE_CORE_PC_HANDOFF_TO_NEXT;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueBootServiceExit = EFI_SOFTWARE_EFI_BOOT_SERVICE | EFI_SW_BS_PC_EXIT_BOOT_SERVICES;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueDxeDriverBegin = EFI_SOFTWARE_DXE_CORE | EFI_SW_PC_INIT_BEGIN;
UINT32 _PCD_GET_MODE_32_PcdStatusCodeValueDxeDriverEnd = EFI_SOFTWARE_DXE_CORE | EFI_SW_PC_INIT_END;

UINT32 _PCD_GET_MODE_32_PcdFixedDebugPrintErrorLevel = 0xFFFFFFFF;
UINT32 _PCD_GET_MODE_32_PcdMaximumUnicodeStringLength = 1000000;
UINT32 _PCD_GET_MODE_32_PcdMaximumAsciiStringLength = 1000000;
UINT32 _PCD_GET_MODE_32_PcdMaximumLinkedListLength = 1000000;
UINT32 _PCD_GET_MODE_32_PcdMaximumDevicePathNodeCount = 0;
UINT32 _PCD_GET_MODE_32_PcdSpinLockTimeout = 10000000;

UINT8 _PCD_GET_MODE_8_PcdDebugPropertyMask = 0;
UINT32 _PCD_GET_MODE_32_PcdDebugPrintErrorLevel = 0x80000000;
UINT8 _PCD_GET_MODE_8_PcdReportStatusCodePropertyMask = 0;
UINT8 _PCD_GET_MODE_8_PcdDebugClearMemoryValue = 0xAF;
UINT8 _PCD_GET_MODE_8_PcdPerformanceLibraryPropertyMask = 0;

UINT8 _PCD_GET_MODE_8_PcdPostCodePropertyMask = 0;

UINT32 _PCD_GET_MODE_32_PcdFSBClock = 200000000;
UINT32 _PCD_GET_MODE_32_PcdUefiLibMaxPrintBufferSize = 320;

UINT16 _PCD_GET_MODE_16_PcdUefiFileHandleLibPrintBufferSize = 1536;

UINT32 _PCD_GET_MODE_32_PcdMaximumGuidedExtractHandler = 0x10;
UINT32 _PCD_GET_MODE_32_PcdUsbTransferTimeoutValue = 3000;

UINT64 _PCD_GET_MODE_64_PcdGuidedExtractHandlerTableAddress = 0x1000000;
UINT64 _PCD_GET_MODE_64_PcdIoBlockBaseAddressForIpf = 0x0ffffc000000;
UINT64 _PCD_GET_MODE_64_PcdPciExpressBaseAddress = 0xE0000000;

CHAR8* PcdUefiVariableDefaultLangCodes = "engfraengfra";
CHAR8* PcdUefiVariableDefaultLang = "eng";
CHAR8* PcdUefiVariableDefaultPlatformLangCodes = "en;fr;en-US;fr-FR";
CHAR8* PcdUefiVariableDefaultPlatformLang = "en-US";

UINT64 _PCD_GET_MODE_64_PcdUartDefaultBaudRate = 115200;
UINT8 _PCD_GET_MODE_8_PcdUartDefaultDataBits = 8;
UINT8 _PCD_GET_MODE_8_PcdUartDefaultParity = 1;
UINT8 _PCD_GET_MODE_8_PcdUartDefaultStopBits = 1;
UINT8 _PCD_GET_MODE_8_PcdDefaultTerminalType = 0;

UINT16 _PCD_GET_MODE_16_PcdHardwareErrorRecordLevel = 0;
UINT16 _PCD_GET_MODE_16_PcdPlatformBootTimeOut = 0xffff;

BOOLEAN _PCD_GET_MODE_BOOL_PcdShellLibAutoInitialize = FALSE;
UINT16 _PCD_GET_MODE_16_PcdShellPrintBufferSize = 16000;
```

`edk2 libs/IntrinsicLib/IntrinsicLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\CryptoPkg\Library\IntrinsicLib\CopyMem.c" />
    <ClCompile Include="..\..\edk2\CryptoPkg\Library\IntrinsicLib\MemoryIntrinsics.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{ca90cecf-def2-45a1-878b-863fd8d4c1c3}</ProjectGuid>
    <RootNamespace>IntrinsicLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>false</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <WholeProgramOptimization>false</WholeProgramOptimization>
      <Optimization>MinSpace</Optimization>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>false</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <WholeProgramOptimization>false</WholeProgramOptimization>
      <Optimization>MinSpace</Optimization>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/IntrinsicLib/IntrinsicLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\CryptoPkg\Library\IntrinsicLib\CopyMem.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\CryptoPkg\Library\IntrinsicLib\MemoryIntrinsics.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/MSBuild/nasm.props`:

```props
<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup Condition="'$(NASMBeforeTargets)' == '' and '$(NASMAfterTargets)' == '' and '$(ConfigurationType)' != 'Makefile'">
    <NASMBeforeTargets>Midl</NASMBeforeTargets>
    <NASMAfterTargets>CustomBuild</NASMAfterTargets>
  </PropertyGroup>
  <ItemDefinitionGroup>
    <NASM>
      <GenerateDebugInformation>True</GenerateDebugInformation>
      <IncludePaths>$(EDK_PATH)\MdePkg;$(EDK_PATH)\MdePkg\Include;$(EDK_PATH)\MdePkg\Library\BaseLib\X64;$(EDK_PATH)\MdePkg\Include\X64</IncludePaths>
      <PreIncludeFiles>$(SolutionDir)vshacks.nasm</PreIncludeFiles>
      <OutputFormat>$(IntDir)%(FileName).obj</OutputFormat>
      <Outputswitch>1</Outputswitch>
      <CompilerNasm>$(NASM_PREFIX)nasm.exe</CompilerNasm>
      <PackAlignmentBoundary>0</PackAlignmentBoundary>
      <CommandLineTemplate>"%(CompilerNasm)" [AllOptions] [AdditionalOptions] "%(FullPath)"</CommandLineTemplate>
      <ExecutionDescription>Assembling %(Filename)%(Extension)</ExecutionDescription>
    </NASM>
  </ItemDefinitionGroup>
</Project>
```

`edk2 libs/MSBuild/nasm.targets`:

```targets
<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <PropertyPageSchema Include="$(MSBuildThisFileDirectory)$(MSBuildThisFileName).xml"/>
    <AvailableItemName Include="NASM">
      <Targets>_NASM</Targets>
    </AvailableItemName>
  </ItemGroup>
  <PropertyGroup>
    <ComputeLinkInputsTargets>
      $(ComputeLinkInputsTargets);
      ComputeNASMOutput;
    </ComputeLinkInputsTargets>
    <ComputeLibInputsTargets>
      $(ComputeLibInputsTargets);
      ComputeNASMOutput;
    </ComputeLibInputsTargets>
  </PropertyGroup>
  <UsingTask TaskName="NASM" TaskFactory="XamlTaskFactory" AssemblyName="Microsoft.Build.Tasks.v4.0">
    <Task>$(MSBuildThisFileDirectory)$(MSBuildThisFileName).xml</Task>
  </UsingTask>
  <Target Name="_NASM" BeforeTargets="$(NASMBeforeTargets)" AfterTargets="$(NASMAfterTargets)" Condition="'@(NASM)' != ''" Outputs="%(NASM.OutputFormat)" Inputs="%(NASM.Identity);%(NASM.AdditionalDependencies);$(MSBuildProjectFile)" DependsOnTargets="_SelectedFiles">
    <ItemGroup Condition="'@(SelectedFiles)' != ''">
      <NASM Remove="@(NASM)" Condition="'%(Identity)' != '@(SelectedFiles)'"/>
    </ItemGroup>
    <ItemGroup>
      <NASM_tlog Include="%(NASM.OutputFormat)" Condition="'%(NASM.OutputFormat)' != '' and '%(NASM.ExcludedFromBuild)' != 'true'">
        <Source>@(NASM, '|')</Source>
      </NASM_tlog>
    </ItemGroup>
    <Message Importance="High" Text="%(NASM.ExecutionDescription)"/>
    <WriteLinesToFile Condition="'@(NASM_tlog)' != '' and '%(NASM_tlog.ExcludedFromBuild)' != 'true'" File="$(IntDir)$(ProjectName).write.1.tlog" Lines="^%(NASM_tlog.Source);@(NASM_tlog-&gt;'%(Fullpath)')"/>
    <NASM Condition="'@(NASM)' != '' and '%(NASM.ExcludedFromBuild)' != 'true'" Inputs="%(NASM.Inputs)" OutputFormat="%(NASM.OutputFormat)" Outputswitch="%(NASM.Outputswitch)" AssembledCodeListingFile="%(NASM.AssembledCodeListingFile)" GenerateDebugInformation="%(NASM.GenerateDebugInformation)" ErrorReporting="%(NASM.ErrorReporting)" IncludePaths="%(NASM.IncludePaths)" PreIncludeFiles="%(NASM.PreIncludeFiles)" PreprocessorDefinitions="%(NASM.PreprocessorDefinitions)" UndefinePreprocessorDefinitions="%(NASM.UndefinePreprocessorDefinitions)" ErrorReportingFormat="%(NASM.ErrorReportingFormat)" TreatWarningsAsErrors="%(NASM.TreatWarningsAsErrors)" floatunderflow="%(NASM.floatunderflow)" macrodefaults="%(NASM.macrodefaults)" user="%(NASM.user)" floatoverflow="%(NASM.floatoverflow)" floatdenorm="%(NASM.floatdenorm)" numberoverflow="%(NASM.numberoverflow)" macroselfref="%(NASM.macroselfref)" floattoolong="%(NASM.floattoolong)" orphanlabels="%(NASM.orphanlabels)" CommandLineTemplate="%(NASM.CommandLineTemplate)" AdditionalOptions="%(NASM.AdditionalOptions)"/>
  </Target>
  <Target Name="ComputeNASMOutput" Condition="'@(NASM)' != ''">
    <ItemGroup>
      <Link Include="@(NASM-&gt;Metadata('OutputFormat')-&gt;Distinct()-&gt;ClearMetadata())" Condition="'%(NASM.ExcludedFromBuild)' != 'true'"/>
      <Lib Include="@(NASM-&gt;Metadata('OutputFormat')-&gt;Distinct()-&gt;ClearMetadata())" Condition="'%(NASM.ExcludedFromBuild)' != 'true'"/>
    </ItemGroup>
  </Target>
</Project>
```

`edk2 libs/MSBuild/nasm.xml`:

```xml
<?xml version="1.0" encoding="utf-8"?>
<ProjectSchemaDefinitions xmlns="http://schemas.microsoft.com/build/2009/properties" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:sys="clr-namespace:System;assembly=mscorlib">
  <Rule Name="NASM" PageTemplate="tool" DisplayName="Netwide Assembler" Order="200">
    <Rule.DataSource>
      <DataSource Persistence="ProjectFile" ItemType="NASM"/>
    </Rule.DataSource>
    <Rule.Categories>
      <Category Name="General">
        <Category.DisplayName>
          <sys:String>General</sys:String>
        </Category.DisplayName>
      </Category>
      <Category Name="Preprocessor">
        <Category.DisplayName>
          <sys:String>Preprocessing Options</sys:String>
        </Category.DisplayName>
      </Category>
      <Category Name="Assembler Options">
        <Category.DisplayName>
          <sys:String>Assembler Options</sys:String>
        </Category.DisplayName>
      </Category>
      <Category Name="Advanced">
        <Category.DisplayName>
          <sys:String>Advanced </sys:String>
        </Category.DisplayName>
      </Category>
      <Category Name="Command Line" Subtype="CommandLine">
        <Category.DisplayName>
          <sys:String>Command Line</sys:String>
        </Category.DisplayName>
      </Category>
    </Rule.Categories>
    <StringProperty Name="Inputs" Category="Command Line" IsRequired="true">
      <StringProperty.DataSource>
        <DataSource Persistence="ProjectFile" ItemType="NASM" SourceType="Item"/>
      </StringProperty.DataSource>
    </StringProperty>
    <StringProperty Name="OutputFormat" Category="Assembler Options" HelpUrl="http://www.nasm.us/doc/" DisplayName="Output File Name" Description="Specify Output Filename.-o [value]" Switch="-o &quot;[value]&quot;"/>
    <BoolProperty Name="tasmmode" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="SciTech TASM compatible mode" Description="assemble in SciTech TASM compatible mode" Switch="-t"/>
    <EnumProperty Name="Outputswitch" Category="Assembler Options" HelpUrl="http://www.nasm.us/doc/" DisplayName="Output Switch" Description="Select the type of output format required. Linking Should be disabled for ELF and Binary ,else error will popup">
      <EnumValue Name="0" DisplayName="Object File win32" Switch="-fwin32"/>
      <EnumValue Name="1" DisplayName="Object File win64" Switch="-fwin64"/>
      <EnumValue Name="2" DisplayName="ELF32 (i386) object files (e.g. Linux)" Switch="-felf32"/>
      <EnumValue Name="3" DisplayName="ELF64 (x86_64) object files (e.g. Linux)" Switch="-felf64"/>
    </EnumProperty>
    <StringListProperty Name="AssembledCodeListingFile" Category="Assembler Options" DisplayName="Assembled Code Listing File" Description="Generates an assembled code listing file.     (-l [file])" HelpUrl="http://www.nasm.us/doc/" Switch="-l &quot;[value]&quot;"/>
    <BoolProperty Name="GenerateDebugInformation" Category="Assembler Options" DisplayName="Generate Debug Information" Description="Generates Debug Information.     (-g)" HelpUrl="http://www.nasm.us/doc/" Switch="-g"/>
    <StringListProperty Name="ErrorReporting" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="Redirect Error Messages to File" Description="Drops the error Message on specified device" Switch="-Z &quot;[value]&quot;"/>
    <StringListProperty Name="IncludePaths" Category="General" DisplayName="Include Paths" Description="Sets path for include file.     (-I[path])" HelpUrl="http://www.nasm.us/doc/" Switch="-I&quot;[value]&quot;"/>
    <StringListProperty Name="PreIncludeFiles" Category="General" DisplayName="Pre-Include Files" Description="Sets files for pre-include.     (-P[path])" HelpUrl="http://www.nasm.us/doc/" Switch="-P&quot;[value]&quot;"/>
    <StringListProperty Name="PreprocessorDefinitions" Category="Preprocessor" HelpUrl="http://www.nasm.us/doc/" DisplayName="Preprocessor Definitions" Description="Defines a text macro with the given name.     (-D[symbol])" Switch="-D&quot;[value]&quot;"/>
    <StringListProperty Name="UndefinePreprocessorDefinitions" Category="Preprocessor" HelpUrl="http://www.nasm.us/doc/" DisplayName="Undefine Preprocessor Definitions" Description="Undefines a text macro with the given name.     (-U[symbol])" Switch="-U&quot;[value]&quot;"/>
    <EnumProperty Name="ErrorReportingFormat" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="Error Reporting Format" Description="Select the error reporting format ie. GNU or VC">
      <EnumValue Name="0" DisplayName="-Xgnu GNU format: Default format" Switch="-Xgnu"/>
      <EnumValue Name="1" DisplayName="-Xvc Style used by Microsoft Visual C++" Switch="-Xvc"/>
    </EnumProperty>
    <BoolProperty Name="TreatWarningsAsErrors" Category="Assembler Options" DisplayName="Treat Warnings As Errors" Description="Returns an error code if warnings are generated.     (-Werror)" HelpUrl="http://www.nasm.us/doc/" Switch="-Werror"/>
    <BoolProperty Name="floatunderflow" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="float-underflow" Description="floating point underflow (default off)" Switch="-w+float-underflow"/>
    <BoolProperty Name="macrodefaults" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="Disable macro-defaults" Description="macros with more default than optional parameters (default on)" Switch="-w-macro-defaults"/>
    <BoolProperty Name="user" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="Disable user" Description="%warning directives (default on)" Switch="-w-user"/>
    <BoolProperty Name="floatoverflow" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="Disable float-overflow" Description="floating point overflow (default on)" Switch="-w-float-overflow"/>
    <BoolProperty Name="floatdenorm" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="float-denorm" Description="floating point denormal (default off)" Switch="-w+float-denorm"/>
    <BoolProperty Name="numberoverflow" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="Disable number-overflow" Description="numeric constant does not fit (default on)" Switch="-w-number-overflow"/>
    <BoolProperty Name="macroselfref" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="macro-selfref" Description="cyclic macro references (default off)" Switch="-w+macro-selfref"/>
    <BoolProperty Name="floattoolong" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="Disable float-toolong" Description=" too many digits in floating-point number (default on)" Switch="-w-float-toolong"/>
    <BoolProperty Name="orphanlabels" Category="Advanced" HelpUrl="http://www.nasm.us/doc/" DisplayName="Disable orphan-labels" Description="labels alone on lines without trailing `:' (default on)" Switch="-w-orphan-labels"/>
    <StringProperty Name="CommandLineTemplate" DisplayName="Command Line" Visible="False" IncludeInCommandLine="False"/>
    <DynamicEnumProperty Name="NASMBeforeTargets" Category="General" EnumProvider="Targets" IncludeInCommandLine="False">
      <DynamicEnumProperty.DisplayName>
        <sys:String>Execute Before</sys:String>
      </DynamicEnumProperty.DisplayName>
      <DynamicEnumProperty.Description>
        <sys:String>Specifies the targets for the build customization to run before.</sys:String>
      </DynamicEnumProperty.Description>
      <DynamicEnumProperty.ProviderSettings>
        <NameValuePair Name="Exclude" Value="^NASMBeforeTargets|^Compute"/>
      </DynamicEnumProperty.ProviderSettings>
      <DynamicEnumProperty.DataSource>
        <DataSource Persistence="ProjectFile" ItemType="" HasConfigurationCondition="true"/>
      </DynamicEnumProperty.DataSource>
    </DynamicEnumProperty>
    <DynamicEnumProperty Name="NASMAfterTargets" Category="General" EnumProvider="Targets" IncludeInCommandLine="False">
      <DynamicEnumProperty.DisplayName>
        <sys:String>Execute After</sys:String>
      </DynamicEnumProperty.DisplayName>
      <DynamicEnumProperty.Description>
        <sys:String>Specifies the targets for the build customization to run after.</sys:String>
      </DynamicEnumProperty.Description>
      <DynamicEnumProperty.ProviderSettings>
        <NameValuePair Name="Exclude" Value="^NASMAfterTargets|^Compute"/>
      </DynamicEnumProperty.ProviderSettings>
      <DynamicEnumProperty.DataSource>
        <DataSource Persistence="ProjectFile" ItemType="" HasConfigurationCondition="true"/>
      </DynamicEnumProperty.DataSource>
    </DynamicEnumProperty>
    <StringProperty Name="ExecutionDescription" DisplayName="Execution Description" IncludeInCommandLine="False" Visible="False"/>
    <StringListProperty Name="AdditionalDependencies" DisplayName="Additional Dependencies" IncludeInCommandLine="False" Visible="False"/>
    <StringProperty Subtype="AdditionalOptions" Name="AdditionalOptions" Category="Command Line">
      <StringProperty.DisplayName>
        <sys:String>Additional Options</sys:String>
      </StringProperty.DisplayName>
      <StringProperty.Description>
        <sys:String>Additional Options</sys:String>
      </StringProperty.Description>
    </StringProperty>
  </Rule>
  <ItemType Name="NASM" DisplayName="Netwide Assembler"/>
  <FileExtension Name="*.asm" ContentType="NASM"/>
  <FileExtension Name="*.nasm" ContentType="NASM"/>
  <ContentType Name="NASM" DisplayName="Netwide Assembler" ItemType="NASM"/>
</ProjectSchemaDefinitions>
```

`edk2 libs/RegisterFilterLib/RegisterFilterLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\RegisterFilterLibNull\RegisterFilterLibNull.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{6b130d56-47ab-4c44-8440-5d7304db70c3}</ProjectGuid>
    <RootNamespace>RegisterFilterLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <BufferSecurityCheck>false</BufferSecurityCheck>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/RegisterFilterLib/RegisterFilterLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\RegisterFilterLibNull\RegisterFilterLibNull.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/SerialPortLib/SerialPortLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\PcAtChipsetPkg\Library\SerialIoLib\SerialPortLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{890faf51-8887-4936-a59d-dc39b5f01db1}</ProjectGuid>
    <RootNamespace>SerialPortLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/SerialPortLib/SerialPortLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\PcAtChipsetPkg\Library\SerialIoLib\SerialPortLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/TdxLib/TdxLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\TdxLib\AcceptPages.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\TdxLib\Rtmr.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\TdxLib\TdInfo.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{14ef2cab-d40a-4b59-bb1a-09b750fbb466}</ProjectGuid>
    <RootNamespace>TdxLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>Use</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <BufferSecurityCheck>false</BufferSecurityCheck>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/TdxLib/TdxLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\TdxLib\AcceptPages.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\TdxLib\Rtmr.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\TdxLib\TdInfo.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiApplicationEntryPoint/UefiApplicationEntryPoint.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiApplicationEntryPoint\ApplicationEntryPoint.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{16ccf8db-8daf-47d6-a805-4a134606f055}</ProjectGuid>
    <RootNamespace>UefiApplicationEntryPoint</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiApplicationEntryPoint/UefiApplicationEntryPoint.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiApplicationEntryPoint\ApplicationEntryPoint.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiBootServicesTableLib/UefiBootServicesTableLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiBootServicesTableLib\UefiBootServicesTableLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{52bbe19a-9420-4fd3-af1d-11259170ab39}</ProjectGuid>
    <RootNamespace>UefiBootServicesTableLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiBootServicesTableLib/UefiBootServicesTableLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiBootServicesTableLib\UefiBootServicesTableLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiDebugLibConOut/UefiDebugLibConOut.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiDebugLibConOut\DebugLib.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiDebugLibConOut\DebugLibConstructor.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{ac030f18-f8f9-4769-ac61-d13fa54ba406}</ProjectGuid>
    <RootNamespace>UefiDebugLibConOut</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiDebugLibConOut/UefiDebugLibConOut.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiDebugLibConOut\DebugLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiDebugLibConOut\DebugLibConstructor.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiDevicePathLibDevicePathProtocol/UefiDevicePathLibDevicePathProtocol.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiDevicePathLibDevicePathProtocol\UefiDevicePathLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{61438086-f7fd-4d4d-a795-51e4f101a349}</ProjectGuid>
    <RootNamespace>UefiDevicePathLibDevicePathProtocol</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiDevicePathLibDevicePathProtocol/UefiDevicePathLibDevicePathProtocol.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiDevicePathLibDevicePathProtocol\UefiDevicePathLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiDriverEntryPoint/UefiDriverEntryPoint.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiDriverEntryPoint\DriverEntryPoint.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{01c7214a-1b73-403a-bbaf-9b8df7d30468}</ProjectGuid>
    <RootNamespace>UefiDriverEntryPoint</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiDriverEntryPoint/UefiDriverEntryPoint.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiDriverEntryPoint\DriverEntryPoint.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiFileHandleLib/UefiFileHandleLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiFileHandleLib\UefiFileHandleLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{1d1b217b-d66d-473b-b0d4-a94fec4d3975}</ProjectGuid>
    <RootNamespace>UefiFileHandleLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiFileHandleLib/UefiFileHandleLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiFileHandleLib\UefiFileHandleLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiHiiLib/UefiHiiLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiHiiLib\HiiLanguage.c" />
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiHiiLib\HiiLib.c" />
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiHiiLib\HiiString.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{99a841c1-a28b-42e5-8909-ef7e769d4200}</ProjectGuid>
    <RootNamespace>UefiHiiLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiHiiLib/UefiHiiLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiHiiLib\HiiLanguage.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiHiiLib\HiiLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiHiiLib\HiiString.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiHiiServicesLib/UefiHiiServicesLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiHiiServicesLib\UefiHiiServicesLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{80b07f31-038b-4896-8131-58c36ffd95dd}</ProjectGuid>
    <RootNamespace>UefiHiiServicesLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiHiiServicesLib/UefiHiiServicesLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiHiiServicesLib\UefiHiiServicesLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiLib/UefiLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\Acpi.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\Console.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\UefiDriverModel.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\UefiLib.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\UefiLibPrint.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\UefiNotTiano.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{f2cf1de8-0750-4b50-8fe9-755e025d6f4f}</ProjectGuid>
    <RootNamespace>UefiLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiLib/UefiLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\Acpi.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\Console.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\UefiDriverModel.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\UefiLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\UefiLibPrint.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiLib\UefiNotTiano.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiMemoryAllocationLib/UefiMemoryAllocationLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryAllocationLib\MemoryAllocationLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{7db693e0-eccf-4b3f-a02c-c678019851b5}</ProjectGuid>
    <RootNamespace>UefiMemoryAllocationLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiMemoryAllocationLib/UefiMemoryAllocationLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryAllocationLib\MemoryAllocationLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiMemoryLib/UefiMemoryLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\CompareMemWrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\CopyMemWrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\IsZeroBufferWrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\MemLib.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\MemLibGeneric.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\MemLibGuid.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ScanMem16Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ScanMem32Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ScanMem64Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ScanMem8Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\SetMem16Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\SetMem32Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\SetMem64Wrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\SetMemWrapper.c" />
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ZeroMemWrapper.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{0afe4da8-d00f-41c4-a1cf-304a34b29336}</ProjectGuid>
    <RootNamespace>UefiMemoryLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiMemoryLib/UefiMemoryLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\CompareMemWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\CopyMemWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\IsZeroBufferWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\MemLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\MemLibGeneric.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\MemLibGuid.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ScanMem8Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ScanMem16Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ScanMem32Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ScanMem64Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\SetMem16Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\SetMem32Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\SetMem64Wrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\SetMemWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiMemoryLib\ZeroMemWrapper.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiRuntimeLib/UefiRuntimeLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiRuntimeLib\RuntimeLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{916674ce-00f8-49ed-ac62-e340a75fbc79}</ProjectGuid>
    <RootNamespace>UefiRuntimeLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiRuntimeLib/UefiRuntimeLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiRuntimeLib\RuntimeLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiRuntimeServicesTableLib/UefiRuntimeServicesTableLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiRuntimeServicesTableLib\UefiRuntimeServicesTableLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{5afc483d-f78f-4451-b1e1-b87e944f9dd6}</ProjectGuid>
    <RootNamespace>UefiRuntimeServicesTableLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiRuntimeServicesTableLib/UefiRuntimeServicesTableLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdePkg\Library\UefiRuntimeServicesTableLib\UefiRuntimeServicesTableLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiShellLib/UefiShellLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\ShellPkg\Library\UefiShellLib\UefiShellLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{fac5d81b-b4a0-4e4d-9b1e-2734b42a69c7}</ProjectGuid>
    <RootNamespace>UefiShellLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiShellLib/UefiShellLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\ShellPkg\Library\UefiShellLib\UefiShellLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/UefiSortLib/UefiSortLib.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiSortLib\UefiSortLib.c" />
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{d97b4ae3-733c-4ce3-b439-87f2403e0e27}</ProjectGuid>
    <RootNamespace>UefiSortLib</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\paths.default.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>true</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>_WIN32;_WIN64;_MSC_VER</UndefinePreprocessorDefinitions>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_LIB;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile>pch.h</PrecompiledHeaderFile>
      <ExceptionHandling>false</ExceptionHandling>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <InlineFunctionExpansion>AnySuitable</InlineFunctionExpansion>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>
      </SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
    <ProjectReference>
      <LinkLibraryDependencies>false</LinkLibraryDependencies>
    </ProjectReference>
  </ItemDefinitionGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>
```

`edk2 libs/UefiSortLib/UefiSortLib.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="Source Files">
      <UniqueIdentifier>{4FC737F1-C7A5-4376-A066-2A32D752A2FF}</UniqueIdentifier>
      <Extensions>cpp;c;cc;cxx;c++;cppm;ixx;def;odl;idl;hpj;bat;asm;asmx</Extensions>
    </Filter>
    <Filter Include="Header Files">
      <UniqueIdentifier>{93995380-89BD-4b04-88EB-625FBE52EBFB}</UniqueIdentifier>
      <Extensions>h;hh;hpp;hxx;h++;hm;inl;inc;ipp;xsd</Extensions>
    </Filter>
    <Filter Include="Resource Files">
      <UniqueIdentifier>{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}</UniqueIdentifier>
      <Extensions>rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav;mfcribbon-ms</Extensions>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="..\..\edk2\MdeModulePkg\Library\UefiSortLib\UefiSortLib.c">
      <Filter>Source Files</Filter>
    </ClCompile>
  </ItemGroup>
</Project>
```

`edk2 libs/edk2 libs.sln`:

```sln

Microsoft Visual Studio Solution File, Format Version 12.00
# Visual Studio Version 17
VisualStudioVersion = 17.2.32616.157
MinimumVisualStudioVersion = 10.0.40219.1
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "BaseCacheMaintenanceLib", "BaseCacheMaintenanceLib\BaseCacheMaintenanceLib.vcxproj", "{8CEAF1F8-E3B3-4365-8028-DAF22C5BF6CB}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "BaseDebugPrintErrorLevelLib", "BaseDebugPrintErrorLevelLib\BaseDebugPrintErrorLevelLib.vcxproj", "{127B7A45-7195-4983-B3AB-1E1790FA80B0}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "BaseLib", "BaseLib\BaseLib.vcxproj", "{215CFCB4-909D-426E-810A-31BD525CEFF7}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "BaseMemoryLib", "BaseMemoryLib\BaseMemoryLib.vcxproj", "{3462BEC7-32D7-4CD2-9ACD-1F5F9474FF53}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "BasePrintLib", "BasePrintLib\BasePrintLib.vcxproj", "{06652321-0AB8-4321-A803-5E500608B528}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "BaseSynchronizationLib", "BaseSynchronizationLib\BaseSynchronizationLib.vcxproj", "{E2A2FA49-9FBB-44BE-9171-F3DDEE6AB246}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "GlueLib", "GlueLib\GlueLib.vcxproj", "{790B7A96-73BF-4987-A845-FACBD9C14218}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "IntrinsicLib", "IntrinsicLib\IntrinsicLib.vcxproj", "{CA90CECF-DEF2-45A1-878B-863FD8D4C1C3}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiApplicationEntryPoint", "UefiApplicationEntryPoint\UefiApplicationEntryPoint.vcxproj", "{16CCF8DB-8DAF-47D6-A805-4A134606F055}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiBootServicesTableLib", "UefiBootServicesTableLib\UefiBootServicesTableLib.vcxproj", "{52BBE19A-9420-4FD3-AF1D-11259170AB39}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiDebugLibConOut", "UefiDebugLibConOut\UefiDebugLibConOut.vcxproj", "{AC030F18-F8F9-4769-AC61-D13FA54BA406}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiDevicePathLibDevicePathProtocol", "UefiDevicePathLibDevicePathProtocol\UefiDevicePathLibDevicePathProtocol.vcxproj", "{61438086-F7FD-4D4D-A795-51E4F101A349}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiDriverEntryPoint", "UefiDriverEntryPoint\UefiDriverEntryPoint.vcxproj", "{01C7214A-1B73-403A-BBAF-9B8DF7D30468}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiFileHandleLib", "UefiFileHandleLib\UefiFileHandleLib.vcxproj", "{1D1B217B-D66D-473B-B0D4-A94FEC4D3975}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiHiiLib", "UefiHiiLib\UefiHiiLib.vcxproj", "{99A841C1-A28B-42E5-8909-EF7E769D4200}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiHiiServicesLib", "UefiHiiServicesLib\UefiHiiServicesLib.vcxproj", "{80B07F31-038B-4896-8131-58C36FFD95DD}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiLib", "UefiLib\UefiLib.vcxproj", "{F2CF1DE8-0750-4B50-8FE9-755E025D6F4F}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiMemoryAllocationLib", "UefiMemoryAllocationLib\UefiMemoryAllocationLib.vcxproj", "{7DB693E0-ECCF-4B3F-A02C-C678019851B5}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiMemoryLib", "UefiMemoryLib\UefiMemoryLib.vcxproj", "{0AFE4DA8-D00F-41C4-A1CF-304A34B29336}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiRuntimeLib", "UefiRuntimeLib\UefiRuntimeLib.vcxproj", "{916674CE-00F8-49ED-AC62-E340A75FBC79}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiRuntimeServicesTableLib", "UefiRuntimeServicesTableLib\UefiRuntimeServicesTableLib.vcxproj", "{5AFC483D-F78F-4451-B1E1-B87E944F9DD6}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiShellLib", "UefiShellLib\UefiShellLib.vcxproj", "{FAC5D81B-B4A0-4E4D-9B1E-2734B42A69C7}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "UefiSortLib", "UefiSortLib\UefiSortLib.vcxproj", "{D97B4AE3-733C-4CE3-B439-87F2403E0E27}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "BaseCpuLib", "BaseCpuLib\BaseCpuLib.vcxproj", "{D3A17BC7-DBAC-4919-B32A-A114D831661E}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "BaseIoLib", "BaseIoLib\BaseIoLib.vcxproj", "{B7DAE0EC-AFF4-4A6D-AB90-C27590B9B12D}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "SerialPortLib", "SerialPortLib\SerialPortLib.vcxproj", "{890FAF51-8887-4936-A59D-DC39B5F01DB1}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "TdxLib", "TdxLib\TdxLib.vcxproj", "{14EF2CAB-D40A-4B59-BB1A-09B750FBB466}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "CcProbeLib", "CcProbeLib\CcProbeLib.vcxproj", "{B2C93471-539A-416B-9F04-B448EF701FD2}"
EndProject
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "RegisterFilterLib", "RegisterFilterLib\RegisterFilterLib.vcxproj", "{6B130D56-47AB-4C44-8440-5D7304DB70C3}"
EndProject
Global
	GlobalSection(SolutionConfigurationPlatforms) = preSolution
		Release|x64 = Release|x64
		Release|x86 = Release|x86
	EndGlobalSection
	GlobalSection(ProjectConfigurationPlatforms) = postSolution
		{8CEAF1F8-E3B3-4365-8028-DAF22C5BF6CB}.Release|x64.ActiveCfg = Release|x64
		{8CEAF1F8-E3B3-4365-8028-DAF22C5BF6CB}.Release|x64.Build.0 = Release|x64
		{8CEAF1F8-E3B3-4365-8028-DAF22C5BF6CB}.Release|x86.ActiveCfg = Release|Win32
		{8CEAF1F8-E3B3-4365-8028-DAF22C5BF6CB}.Release|x86.Build.0 = Release|Win32
		{127B7A45-7195-4983-B3AB-1E1790FA80B0}.Release|x64.ActiveCfg = Release|x64
		{127B7A45-7195-4983-B3AB-1E1790FA80B0}.Release|x64.Build.0 = Release|x64
		{127B7A45-7195-4983-B3AB-1E1790FA80B0}.Release|x86.ActiveCfg = Release|Win32
		{127B7A45-7195-4983-B3AB-1E1790FA80B0}.Release|x86.Build.0 = Release|Win32
		{215CFCB4-909D-426E-810A-31BD525CEFF7}.Release|x64.ActiveCfg = Release|x64
		{215CFCB4-909D-426E-810A-31BD525CEFF7}.Release|x64.Build.0 = Release|x64
		{215CFCB4-909D-426E-810A-31BD525CEFF7}.Release|x86.ActiveCfg = Release|Win32
		{215CFCB4-909D-426E-810A-31BD525CEFF7}.Release|x86.Build.0 = Release|Win32
		{3462BEC7-32D7-4CD2-9ACD-1F5F9474FF53}.Release|x64.ActiveCfg = Release|x64
		{3462BEC7-32D7-4CD2-9ACD-1F5F9474FF53}.Release|x64.Build.0 = Release|x64
		{3462BEC7-32D7-4CD2-9ACD-1F5F9474FF53}.Release|x86.ActiveCfg = Release|Win32
		{3462BEC7-32D7-4CD2-9ACD-1F5F9474FF53}.Release|x86.Build.0 = Release|Win32
		{06652321-0AB8-4321-A803-5E500608B528}.Release|x64.ActiveCfg = Release|x64
		{06652321-0AB8-4321-A803-5E500608B528}.Release|x64.Build.0 = Release|x64
		{06652321-0AB8-4321-A803-5E500608B528}.Release|x86.ActiveCfg = Release|Win32
		{06652321-0AB8-4321-A803-5E500608B528}.Release|x86.Build.0 = Release|Win32
		{E2A2FA49-9FBB-44BE-9171-F3DDEE6AB246}.Release|x64.ActiveCfg = Release|x64
		{E2A2FA49-9FBB-44BE-9171-F3DDEE6AB246}.Release|x64.Build.0 = Release|x64
		{E2A2FA49-9FBB-44BE-9171-F3DDEE6AB246}.Release|x86.ActiveCfg = Release|Win32
		{E2A2FA49-9FBB-44BE-9171-F3DDEE6AB246}.Release|x86.Build.0 = Release|Win32
		{790B7A96-73BF-4987-A845-FACBD9C14218}.Release|x64.ActiveCfg = Release|x64
		{790B7A96-73BF-4987-A845-FACBD9C14218}.Release|x64.Build.0 = Release|x64
		{790B7A96-73BF-4987-A845-FACBD9C14218}.Release|x86.ActiveCfg = Release|Win32
		{790B7A96-73BF-4987-A845-FACBD9C14218}.Release|x86.Build.0 = Release|Win32
		{CA90CECF-DEF2-45A1-878B-863FD8D4C1C3}.Release|x64.ActiveCfg = Release|x64
		{CA90CECF-DEF2-45A1-878B-863FD8D4C1C3}.Release|x64.Build.0 = Release|x64
		{CA90CECF-DEF2-45A1-878B-863FD8D4C1C3}.Release|x86.ActiveCfg = Release|Win32
		{CA90CECF-DEF2-45A1-878B-863FD8D4C1C3}.Release|x86.Build.0 = Release|Win32
		{16CCF8DB-8DAF-47D6-A805-4A134606F055}.Release|x64.ActiveCfg = Release|x64
		{16CCF8DB-8DAF-47D6-A805-4A134606F055}.Release|x64.Build.0 = Release|x64
		{16CCF8DB-8DAF-47D6-A805-4A134606F055}.Release|x86.ActiveCfg = Release|Win32
		{16CCF8DB-8DAF-47D6-A805-4A134606F055}.Release|x86.Build.0 = Release|Win32
		{52BBE19A-9420-4FD3-AF1D-11259170AB39}.Release|x64.ActiveCfg = Release|x64
		{52BBE19A-9420-4FD3-AF1D-11259170AB39}.Release|x64.Build.0 = Release|x64
		{52BBE19A-9420-4FD3-AF1D-11259170AB39}.Release|x86.ActiveCfg = Release|Win32
		{52BBE19A-9420-4FD3-AF1D-11259170AB39}.Release|x86.Build.0 = Release|Win32
		{AC030F18-F8F9-4769-AC61-D13FA54BA406}.Release|x64.ActiveCfg = Release|x64
		{AC030F18-F8F9-4769-AC61-D13FA54BA406}.Release|x64.Build.0 = Release|x64
		{AC030F18-F8F9-4769-AC61-D13FA54BA406}.Release|x86.ActiveCfg = Release|Win32
		{AC030F18-F8F9-4769-AC61-D13FA54BA406}.Release|x86.Build.0 = Release|Win32
		{61438086-F7FD-4D4D-A795-51E4F101A349}.Release|x64.ActiveCfg = Release|x64
		{61438086-F7FD-4D4D-A795-51E4F101A349}.Release|x64.Build.0 = Release|x64
		{61438086-F7FD-4D4D-A795-51E4F101A349}.Release|x86.ActiveCfg = Release|Win32
		{61438086-F7FD-4D4D-A795-51E4F101A349}.Release|x86.Build.0 = Release|Win32
		{01C7214A-1B73-403A-BBAF-9B8DF7D30468}.Release|x64.ActiveCfg = Release|x64
		{01C7214A-1B73-403A-BBAF-9B8DF7D30468}.Release|x64.Build.0 = Release|x64
		{01C7214A-1B73-403A-BBAF-9B8DF7D30468}.Release|x86.ActiveCfg = Release|Win32
		{01C7214A-1B73-403A-BBAF-9B8DF7D30468}.Release|x86.Build.0 = Release|Win32
		{1D1B217B-D66D-473B-B0D4-A94FEC4D3975}.Release|x64.ActiveCfg = Release|x64
		{1D1B217B-D66D-473B-B0D4-A94FEC4D3975}.Release|x64.Build.0 = Release|x64
		{1D1B217B-D66D-473B-B0D4-A94FEC4D3975}.Release|x86.ActiveCfg = Release|Win32
		{1D1B217B-D66D-473B-B0D4-A94FEC4D3975}.Release|x86.Build.0 = Release|Win32
		{99A841C1-A28B-42E5-8909-EF7E769D4200}.Release|x64.ActiveCfg = Release|x64
		{99A841C1-A28B-42E5-8909-EF7E769D4200}.Release|x64.Build.0 = Release|x64
		{99A841C1-A28B-42E5-8909-EF7E769D4200}.Release|x86.ActiveCfg = Release|Win32
		{99A841C1-A28B-42E5-8909-EF7E769D4200}.Release|x86.Build.0 = Release|Win32
		{80B07F31-038B-4896-8131-58C36FFD95DD}.Release|x64.ActiveCfg = Release|x64
		{80B07F31-038B-4896-8131-58C36FFD95DD}.Release|x64.Build.0 = Release|x64
		{80B07F31-038B-4896-8131-58C36FFD95DD}.Release|x86.ActiveCfg = Release|Win32
		{80B07F31-038B-4896-8131-58C36FFD95DD}.Release|x86.Build.0 = Release|Win32
		{F2CF1DE8-0750-4B50-8FE9-755E025D6F4F}.Release|x64.ActiveCfg = Release|x64
		{F2CF1DE8-0750-4B50-8FE9-755E025D6F4F}.Release|x64.Build.0 = Release|x64
		{F2CF1DE8-0750-4B50-8FE9-755E025D6F4F}.Release|x86.ActiveCfg = Release|Win32
		{F2CF1DE8-0750-4B50-8FE9-755E025D6F4F}.Release|x86.Build.0 = Release|Win32
		{7DB693E0-ECCF-4B3F-A02C-C678019851B5}.Release|x64.ActiveCfg = Release|x64
		{7DB693E0-ECCF-4B3F-A02C-C678019851B5}.Release|x64.Build.0 = Release|x64
		{7DB693E0-ECCF-4B3F-A02C-C678019851B5}.Release|x86.ActiveCfg = Release|Win32
		{7DB693E0-ECCF-4B3F-A02C-C678019851B5}.Release|x86.Build.0 = Release|Win32
		{0AFE4DA8-D00F-41C4-A1CF-304A34B29336}.Release|x64.ActiveCfg = Release|x64
		{0AFE4DA8-D00F-41C4-A1CF-304A34B29336}.Release|x64.Build.0 = Release|x64
		{0AFE4DA8-D00F-41C4-A1CF-304A34B29336}.Release|x86.ActiveCfg = Release|Win32
		{0AFE4DA8-D00F-41C4-A1CF-304A34B29336}.Release|x86.Build.0 = Release|Win32
		{916674CE-00F8-49ED-AC62-E340A75FBC79}.Release|x64.ActiveCfg = Release|x64
		{916674CE-00F8-49ED-AC62-E340A75FBC79}.Release|x64.Build.0 = Release|x64
		{916674CE-00F8-49ED-AC62-E340A75FBC79}.Release|x86.ActiveCfg = Release|Win32
		{916674CE-00F8-49ED-AC62-E340A75FBC79}.Release|x86.Build.0 = Release|Win32
		{5AFC483D-F78F-4451-B1E1-B87E944F9DD6}.Release|x64.ActiveCfg = Release|x64
		{5AFC483D-F78F-4451-B1E1-B87E944F9DD6}.Release|x64.Build.0 = Release|x64
		{5AFC483D-F78F-4451-B1E1-B87E944F9DD6}.Release|x86.ActiveCfg = Release|Win32
		{5AFC483D-F78F-4451-B1E1-B87E944F9DD6}.Release|x86.Build.0 = Release|Win32
		{FAC5D81B-B4A0-4E4D-9B1E-2734B42A69C7}.Release|x64.ActiveCfg = Release|x64
		{FAC5D81B-B4A0-4E4D-9B1E-2734B42A69C7}.Release|x64.Build.0 = Release|x64
		{FAC5D81B-B4A0-4E4D-9B1E-2734B42A69C7}.Release|x86.ActiveCfg = Release|Win32
		{FAC5D81B-B4A0-4E4D-9B1E-2734B42A69C7}.Release|x86.Build.0 = Release|Win32
		{D97B4AE3-733C-4CE3-B439-87F2403E0E27}.Release|x64.ActiveCfg = Release|x64
		{D97B4AE3-733C-4CE3-B439-87F2403E0E27}.Release|x64.Build.0 = Release|x64
		{D97B4AE3-733C-4CE3-B439-87F2403E0E27}.Release|x86.ActiveCfg = Release|Win32
		{D97B4AE3-733C-4CE3-B439-87F2403E0E27}.Release|x86.Build.0 = Release|Win32
		{D3A17BC7-DBAC-4919-B32A-A114D831661E}.Release|x64.ActiveCfg = Release|x64
		{D3A17BC7-DBAC-4919-B32A-A114D831661E}.Release|x64.Build.0 = Release|x64
		{D3A17BC7-DBAC-4919-B32A-A114D831661E}.Release|x86.ActiveCfg = Release|Win32
		{D3A17BC7-DBAC-4919-B32A-A114D831661E}.Release|x86.Build.0 = Release|Win32
		{B7DAE0EC-AFF4-4A6D-AB90-C27590B9B12D}.Release|x64.ActiveCfg = Release|x64
		{B7DAE0EC-AFF4-4A6D-AB90-C27590B9B12D}.Release|x64.Build.0 = Release|x64
		{B7DAE0EC-AFF4-4A6D-AB90-C27590B9B12D}.Release|x86.ActiveCfg = Release|Win32
		{B7DAE0EC-AFF4-4A6D-AB90-C27590B9B12D}.Release|x86.Build.0 = Release|Win32
		{890FAF51-8887-4936-A59D-DC39B5F01DB1}.Release|x64.ActiveCfg = Release|x64
		{890FAF51-8887-4936-A59D-DC39B5F01DB1}.Release|x64.Build.0 = Release|x64
		{890FAF51-8887-4936-A59D-DC39B5F01DB1}.Release|x86.ActiveCfg = Release|Win32
		{890FAF51-8887-4936-A59D-DC39B5F01DB1}.Release|x86.Build.0 = Release|Win32
		{14EF2CAB-D40A-4B59-BB1A-09B750FBB466}.Release|x64.ActiveCfg = Release|x64
		{14EF2CAB-D40A-4B59-BB1A-09B750FBB466}.Release|x64.Build.0 = Release|x64
		{14EF2CAB-D40A-4B59-BB1A-09B750FBB466}.Release|x86.ActiveCfg = Release|Win32
		{14EF2CAB-D40A-4B59-BB1A-09B750FBB466}.Release|x86.Build.0 = Release|Win32
		{B2C93471-539A-416B-9F04-B448EF701FD2}.Release|x64.ActiveCfg = Release|x64
		{B2C93471-539A-416B-9F04-B448EF701FD2}.Release|x64.Build.0 = Release|x64
		{B2C93471-539A-416B-9F04-B448EF701FD2}.Release|x86.ActiveCfg = Release|Win32
		{B2C93471-539A-416B-9F04-B448EF701FD2}.Release|x86.Build.0 = Release|Win32
		{6B130D56-47AB-4C44-8440-5D7304DB70C3}.Release|x64.ActiveCfg = Release|x64
		{6B130D56-47AB-4C44-8440-5D7304DB70C3}.Release|x64.Build.0 = Release|x64
		{6B130D56-47AB-4C44-8440-5D7304DB70C3}.Release|x86.ActiveCfg = Release|Win32
		{6B130D56-47AB-4C44-8440-5D7304DB70C3}.Release|x86.Build.0 = Release|Win32
	EndGlobalSection
	GlobalSection(SolutionProperties) = preSolution
		HideSolutionNode = FALSE
	EndGlobalSection
	GlobalSection(ExtensibilityGlobals) = postSolution
		SolutionGuid = {406EF46F-59D3-4563-BF68-D4911491E44E}
	EndGlobalSection
EndGlobal

```

`edk2 libs/paths.default.props`:

```props
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ImportGroup Label="PropertySheets" />
  <PropertyGroup Label="UserMacros">
    <EDK_PATH>$(ProjectDir)..\..\edk2</EDK_PATH>
    <OPENSSL_PATH>$(ProjectDir)..\..\openssl</OPENSSL_PATH>
  </PropertyGroup>
  <PropertyGroup>
    <IncludePath>$(EDK_PATH)\MdePkg\Include;$(EDK_PATH)\MdePkg\Include\X64;$(EDK_PATH)\MdeModulePkg\Include;$(EDK_PATH)\ShellPkg\Include;$(EDK_PATH)\CryptoPkg\include;$(OPENSSL_PATH)\include;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
      <ForcedIncludeFiles>$(ProjectDir)..\vshacks.h;%(ForcedIncludeFiles)</ForcedIncludeFiles>
    </ClCompile>
    <NASM>
      <AdditionalOptions>-i"$(EDK_PATH)\MdePkg" -i"$(EDK_PATH)\MdePkg\Include" -i"$(EDK_PATH)\MdePkg\Library\BaseLib\X64" -i"$(EDK_PATH)\MdePkg\Include\X64" -p "$(ProjectDir)\..\vshacks.nasm" %(AdditionalOptions)</AdditionalOptions>
    </NASM>
  </ItemDefinitionGroup>
  <ItemGroup>
    <BuildMacro Include="EDK_PATH">
      <Value>$(EDK_PATH)</Value>
      <EnvironmentVariable>true</EnvironmentVariable>
    </BuildMacro>
    <BuildMacro Include="OPENSSL_PATH">
      <Value>$(OPENSSL_PATH)</Value>
      <EnvironmentVariable>true</EnvironmentVariable>
    </BuildMacro>
  </ItemGroup>
</Project>
```

`edk2 libs/vshacks.h`:

```h
#include <Uefi.h>

#define PcdSpeculationBarrierType 0x01

extern UINT32 _PCD_GET_MODE_32_PcdMaximumLinkedListLength;
extern UINT32 _PCD_GET_MODE_32_PcdMaximumAsciiStringLength;
extern UINT32 _PCD_GET_MODE_32_PcdMaximumUnicodeStringLength;
extern UINT32 _PCD_GET_MODE_32_PcdUefiLibMaxPrintBufferSize;
extern UINT32 _PCD_GET_MODE_32_PcdFixedDebugPrintErrorLevel;
extern UINT32 _PCD_GET_MODE_32_PcdDebugPrintErrorLevel;
extern UINT32 _PCD_GET_MODE_32_PcdMaximumDevicePathNodeCount;
extern UINT32 _PCD_GET_MODE_32_PcdSpinLockTimeout;

extern UINT16 _PCD_GET_MODE_16_PcdUefiFileHandleLibPrintBufferSize;

extern BOOLEAN _PCD_GET_MODE_BOOL_PcdVerifyNodeInList;
extern BOOLEAN _PCD_GET_MODE_BOOL_PcdDriverDiagnosticsDisable;
extern BOOLEAN _PCD_GET_MODE_BOOL_PcdComponentNameDisable;
extern BOOLEAN _PCD_GET_MODE_BOOL_PcdComponentName2Disable;
extern BOOLEAN _PCD_GET_MODE_BOOL_PcdUgaConsumeSupport;
extern BOOLEAN _PCD_GET_MODE_BOOL_PcdDriverDiagnostics2Disable;

extern UINT8 _PCD_GET_MODE_8_PcdDebugPropertyMask;
extern UINT8 _PCD_GET_MODE_8_PcdDebugClearMemoryValue;

extern BOOLEAN _PCD_GET_MODE_BOOL_PcdShellLibAutoInitialize;
extern UINT16 _PCD_GET_MODE_16_PcdShellPrintBufferSize;

extern CHAR8 *gEfiCallerBaseName;

```

`edk2 libs/vshacks.nasm`:

```nasm
%define ASM_PFX(a) a

%define PcdGet32(a) _gPcd_FixedAtBuild_ %+ a

%macro retfq 0

    DB 0x48
    retf 

%endmacro
```

`samples/samples.props`:

```props
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ImportGroup Label="PropertySheets" />
  <PropertyGroup Label="UserMacros">
    <EDK_PATH>$(ProjectDir)..\..\edk2</EDK_PATH>
    <OPENSSL_PATH>$(ProjectDir)..\..\openssl</OPENSSL_PATH>
  </PropertyGroup>
  <PropertyGroup>
    <TargetExt>.efi</TargetExt>
    <GenerateManifest />
    <LibraryPath>$(ProjectDir)..\..\edk2 libs\x64;$(ProjectDir)..\..\edk2 libs\x64\Release;$(LibraryPath)</LibraryPath>
    <IncludePath>$(EDK_PATH)\MdePkg\Include;$(EDK_PATH)\MdePkg\Include\X64;$(EDK_PATH)\MdeModulePkg\Include;$(EDK_PATH)\ShellPkg\Include;$(EDK_PATH)\CryptoPkg\include;$(OPENSSL_PATH)\include;$(IncludePath)</IncludePath>
  </PropertyGroup>
  <ItemDefinitionGroup>
    <ClCompile>
      <ExceptionHandling>false</ExceptionHandling>
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup>
    <ClCompile>
      <BufferSecurityCheck>false</BufferSecurityCheck>
      <ForcedIncludeFiles>%(ForcedIncludeFiles)</ForcedIncludeFiles>
    </ClCompile>
    <Link>
      <ManifestFile />
    </Link>
    <Link>
      <AllowIsolation />
    </Link>
    <Link>
      <EnableUAC />
    </Link>
    <Link>
      <UACExecutionLevel />
    </Link>
    <Link>
      <UACUIAccess />
      <SubSystem>EFI Application</SubSystem>
      <EntryPointSymbol>EfiMain</EntryPointSymbol>
      <RandomizedBaseAddress>false</RandomizedBaseAddress>
      <DataExecutionPrevention>false</DataExecutionPrevention>
      <AdditionalDependencies>BaseCacheMaintenanceLib.lib;BaseCpuLib.lib;BaseDebugPrintErrorLevelLib.lib;BaseLib.lib;BaseMemoryLib.lib;BasePrintLib.lib;BaseSynchronizationLib.lib;GlueLib.lib;UefiFileHandleLib.lib;IntrinsicLib.lib;UefiApplicationEntryPoint.lib;UefiBootServicesTableLib.lib;UefiDebugLibConOut.lib;UefiDevicePathLibDevicePathProtocol.lib;UefiDriverEntryPoint.lib;UefiHiiServicesLib.lib;UefiHiiLib.lib;UefiLib.lib;UefiMemoryAllocationLib.lib;UefiMemoryLib.lib;UefiRuntimeServicesTableLib.lib;UefiRuntimeLib.lib;UefiShellLib.lib;UefiSortLib.lib;BaseIoLib.lib;SerialPortLib.lib;TdxLib.lib;RegisterFilterLib.lib;CcProbeLib.lib;%(AdditionalDependencies)</AdditionalDependencies>
    </Link>
  </ItemDefinitionGroup>
  <ItemGroup>
    <BuildMacro Include="EDK_PATH">
      <Value>$(EDK_PATH)</Value>
      <EnvironmentVariable>true</EnvironmentVariable>
    </BuildMacro>
    <BuildMacro Include="OPENSSL_PATH">
      <Value>$(OPENSSL_PATH)</Value>
      <EnvironmentVariable>true</EnvironmentVariable>
    </BuildMacro>
  </ItemGroup>
</Project>
```

`samples/samples.sln`:

```sln

Microsoft Visual Studio Solution File, Format Version 12.00
# Visual Studio Version 17
VisualStudioVersion = 17.2.32616.157
MinimumVisualStudioVersion = 10.0.40219.1
Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "template_app", "template_app\template_app.vcxproj", "{8893FA1F-46FD-4CCC-9994-0729368D28FB}"
EndProject
Global
	GlobalSection(SolutionConfigurationPlatforms) = preSolution
		DebugUEFI|x64 = DebugUEFI|x64
		DebugUEFI|x86 = DebugUEFI|x86
		Release|x64 = Release|x64
		Release|x86 = Release|x86
	EndGlobalSection
	GlobalSection(ProjectConfigurationPlatforms) = postSolution
		{8893FA1F-46FD-4CCC-9994-0729368D28FB}.DebugUEFI|x64.ActiveCfg = DebugUEFI|x64
		{8893FA1F-46FD-4CCC-9994-0729368D28FB}.DebugUEFI|x64.Build.0 = DebugUEFI|x64
		{8893FA1F-46FD-4CCC-9994-0729368D28FB}.DebugUEFI|x86.ActiveCfg = DebugUEFI|Win32
		{8893FA1F-46FD-4CCC-9994-0729368D28FB}.DebugUEFI|x86.Build.0 = DebugUEFI|Win32
		{8893FA1F-46FD-4CCC-9994-0729368D28FB}.Release|x64.ActiveCfg = Release|x64
		{8893FA1F-46FD-4CCC-9994-0729368D28FB}.Release|x64.Build.0 = Release|x64
		{8893FA1F-46FD-4CCC-9994-0729368D28FB}.Release|x86.ActiveCfg = Release|Win32
		{8893FA1F-46FD-4CCC-9994-0729368D28FB}.Release|x86.Build.0 = Release|Win32
	EndGlobalSection
	GlobalSection(SolutionProperties) = preSolution
		HideSolutionNode = FALSE
	EndGlobalSection
	GlobalSection(ExtensibilityGlobals) = postSolution
		SolutionGuid = {FB1F6315-2273-4847-A9F1-D3F31C15D4A1}
	EndGlobalSection
EndGlobal

```

`samples/template_app/common.cpp`:

```cpp
#include "common.hpp"
#include "uefi.hpp"
#include <intrin.h>

extern "C"
{
#include <Pi/PiMultiPhase.h>
#include <Protocol/MpService.h>
#include <Uefi/UefiBaseType.h>
#include <Library/PrintLib.h>
#include <Library/SerialPortLib.h>
}

namespace hh::common
{
  spinlock_guard::spinlock_guard(volatile long* lock) noexcept : lock_{ lock }
  {
    lock_spinlock();
  }

  spinlock_guard::~spinlock_guard() noexcept
  {
    if (lock_ != nullptr)
    {
      unlock();
    }
  }

  bool spinlock_guard::try_lock() noexcept
  {
    return (!(*lock_) && !_interlockedbittestandset(lock_, 0));
  }

  void spinlock_guard::unlock() noexcept
  {
    *lock_ = 0;
  }

  spinlock_guard::spinlock_guard(spinlock_guard&& obj) noexcept
  {
    lock_ = obj.lock_;
    obj.lock_ = nullptr;
  }

  spinlock_guard& spinlock_guard::operator=(spinlock_guard&& obj) noexcept
  {
    if (lock_ != nullptr)
    {
      unlock();
    }

    lock_ = obj.lock_;
    obj.lock_ = nullptr;

    return *this;
  }

  void spinlock_guard::lock_spinlock() noexcept
  {
    uint32_t wait = 1;

    while (!try_lock())
    {
      for (uint32_t j = 0; j < wait; j++)
      {
        _mm_pause();
      }

      if (wait * 2 > max_wait_)
      {
        wait = max_wait_;
      }
      else
      {
        wait *= 2;
      }
    }
  }
}

```

`samples/template_app/common.hpp`:

```hpp
#pragma once
#include "delete_constructors.hpp"
#include <cstdint>

namespace hh::common
{
  constexpr uint32_t page_size = 0x1000;

  // RAII spinlock.
  class spinlock_guard : non_copyable
  {
  private:
    static constexpr uint32_t max_wait_ = 65536;
    volatile long* lock_;

  private:
    bool try_lock() noexcept;
    void lock_spinlock() noexcept;
    void unlock() noexcept;

  public:
    spinlock_guard(spinlock_guard&&) noexcept;
    spinlock_guard& operator=(spinlock_guard&&) noexcept;
    explicit spinlock_guard(volatile long* lock) noexcept;
    ~spinlock_guard() noexcept;
  };
}

```

`samples/template_app/cpp_support.cpp`:

```cpp
#include "uefi.hpp"
#include <exception>
#include <intrin.h>
#include "efi_stub.hpp"
#include "globals.hpp"
#include "memory_manager.hpp"
#include <stdexcept>

using _PVFV = void(__cdecl*)(void); // PVFV = Pointer to Void Func(Void)
using _PIFV = int(__cdecl*)(void); // PIFV = Pointer to Int Func(Void)
using _PVFVP = void(__cdecl*)(void*); // PVFVP = Pointer to Void Func(Void*)

constexpr int max_destructors_count = 64;
static _PVFV onexitarray[max_destructors_count] = {};
static _PVFV* onexitbegin = nullptr, * onexitend = nullptr;

// C initializers:
#pragma section(".CRT$XIA", long, read)
__declspec(allocate(".CRT$XIA")) _PIFV __xi_a[] = { 0 };
#pragma section(".CRT$XIZ", long, read)
__declspec(allocate(".CRT$XIZ")) _PIFV __xi_z[] = { 0 };

// C++ initializers:
#pragma section(".CRT$XCA", long, read)
__declspec(allocate(".CRT$XCA")) _PVFV __xc_a[] = { 0 };
#pragma section(".CRT$XCZ", long, read)
__declspec(allocate(".CRT$XCZ")) _PVFV __xc_z[] = { 0 };

// C pre-terminators:
#pragma section(".CRT$XPA", long, read)
__declspec(allocate(".CRT$XPA")) _PVFV __xp_a[] = { 0 };
#pragma section(".CRT$XPZ", long, read)
__declspec(allocate(".CRT$XPZ")) _PVFV __xp_z[] = { 0 };

// C terminators:
#pragma section(".CRT$XTA", long, read)
__declspec(allocate(".CRT$XTA")) _PVFV __xt_a[] = { 0 };
#pragma section(".CRT$XTZ", long, read)
__declspec(allocate(".CRT$XTZ")) _PVFV __xt_z[] = { 0 };

#pragma data_seg()

#pragma comment(linker, "/merge:.CRT=.rdata")

extern "C" void __std_terminate()
{
  hh::bug_check(hh::bug_check_codes::kmode_exception_not_handled);
}

extern "C" int __cdecl __init_on_exit_array()
{
  onexitend = onexitbegin = onexitarray;
  *onexitbegin = 0;
  return 0;
}

extern "C" int __cdecl atexit(_PVFV fn)
{
  // ToDo: replace with dynamically allocated list of destructors!
  if (onexitend > &onexitarray[max_destructors_count - 1])
    return 1; // Not enough space
  *onexitend = fn;
  onexitend++;
  return 0;
}

extern "C" int __cdecl _purecall()
{
  // It's abnormal execution, so we should detect it:
  __int2c();
  return 0;
}

static void execute_pvfv_array(_PVFV* begin, _PVFV* end)
{
  _PVFV* fn = begin;
  while (fn != end)
  {
    if (*fn) (**fn)();
    ++fn;
  }
}

static int execute_pifv_array(_PIFV* begin, _PIFV* end)
{
  _PIFV* fn = begin;
  while (fn != end)
  {
    if (*fn)
    {
      int result = (**begin)();
      if (result) return result;
    }
    ++fn;
  }
  return 0;
}

extern "C" int __crt_init()
{
  __init_on_exit_array();
  int result = execute_pifv_array(__xi_a, __xi_z);
  if (result) return result;
  execute_pvfv_array(__xc_a, __xc_z);
  return 0;
}

extern "C" void __crt_deinit()
{
  if (onexitbegin)
  {
    while (--onexitend >= onexitbegin)
    {
      if (*onexitend != 0)(**onexitend)();
    }
  }
  execute_pvfv_array(__xp_a, __xp_z);
  execute_pvfv_array(__xt_a, __xt_z);
}

void __cdecl destroy_array_in_reversed_order(void* arr_begin, size_t element_size,
  size_t count, _PVFVP destructor)
{
  auto* current_obj{ static_cast<uint8_t*>(arr_begin) + element_size * count };

  while (count-- > 0)
  {
    current_obj -= element_size;
    destructor(current_obj);
  }
}

void __cdecl construct_array(void* arr_begin, size_t element_size,
  size_t count, _PVFVP constructor, _PVFVP destructor)
{
  auto* current_obj{ static_cast<uint8_t*>(arr_begin) };
  size_t idx{ 0 };

  try
  {
    for (; idx < count; ++idx)
    {
      constructor(current_obj);
      current_obj += element_size;
    }
  }
  catch (...)
  {
    destroy_array_in_reversed_order(arr_begin, element_size, idx, destructor);
    throw;
  }
}

extern "C" void __cdecl __ehvec_ctor(void* arr_begin, size_t element_size,
  size_t count, _PVFVP constructor, _PVFVP destructor)
{
  construct_array(arr_begin, element_size, count, constructor, destructor);
}

extern "C" void __cdecl __ehvec_dtor(void* arr_end, size_t element_size,
  size_t count, _PVFVP destructor)
{
  destroy_array_in_reversed_order(arr_end, element_size, count, destructor);
}

#define allocate_pool() if(hh::globals::boot_state) \
{ \
  if(EFI_ERROR(gBS->AllocatePool(EfiRuntimeServicesData, size, &pointer))) \
  { \
    hh::bug_check(hh::bug_check_codes::install_more_memory); \
  } \
} \
else \
{ \
  hh::bug_check(hh::bug_check_codes::boot_services_unavailable); \
} \

#define deallocate_pool() if(hh::globals::boot_state) \
{ \
  gBS->FreePool(pointer); \
} \
else \
{ \
  hh::bug_check(hh::bug_check_codes::boot_services_unavailable); \
} \

void* __cdecl operator new(size_t size)
{
  void* pointer;

  if (hh::globals::mem_manager != nullptr)
  {
    pointer = hh::globals::mem_manager->allocate(size);
  }
  else
  {
    allocate_pool();
  }

  if(pointer == nullptr)
  {
    throw std::bad_alloc{};
  }

  return pointer;
}

void* __cdecl operator new(size_t size, std::align_val_t align)
{
  void* pointer;

  if (hh::globals::mem_manager != nullptr)
  {
    pointer = hh::globals::mem_manager->allocate_align(size, align);
  }
  else
  {
    allocate_pool();
  }

  if (pointer == nullptr)
  {
    throw std::bad_alloc{};
  }

  return pointer;
}

void* __cdecl operator new[](size_t size)
{
  void* pointer;

  if (hh::globals::mem_manager != nullptr)
  {
    pointer = hh::globals::mem_manager->allocate(size);
  }
  else
  {
    allocate_pool();
  }

  if (pointer == nullptr)
  {
    throw std::bad_alloc{};
  }

  return pointer;
}

void* __cdecl operator new[](size_t size, std::align_val_t align)
{
  void* pointer;

  if (hh::globals::mem_manager != nullptr)
  {
    pointer = hh::globals::mem_manager->allocate_align(size, align);
  }
  else
  {
    allocate_pool();
  }

  if (pointer == nullptr)
  {
    throw std::bad_alloc{};
  }

  return pointer;
}

void __cdecl operator delete(void* pointer)
{
  if (pointer == nullptr)
  {
    return;
  }

  if (hh::globals::mem_manager != nullptr)
  {
    hh::globals::mem_manager->deallocate(pointer);
  }
  else
  {
    deallocate_pool();
  }
}

void __cdecl operator delete(void* pointer, [[maybe_unused]] std::align_val_t align)
{
  if (pointer == nullptr)
  {
    return;
  }

  if (hh::globals::mem_manager != nullptr)
  {
    hh::globals::mem_manager->deallocate(pointer);
  }
  else
  {
    deallocate_pool();
  }
}

void __cdecl operator delete(void* pointer, [[maybe_unused]] size_t size)
{
  if (pointer == nullptr)
  {
    return;
  }

  if (hh::globals::mem_manager != nullptr)
  {
    hh::globals::mem_manager->deallocate(pointer);
  }
  else
  {
    deallocate_pool();
  }
}

void __cdecl operator delete(void* pointer, [[maybe_unused]] size_t size, [[maybe_unused]] std::align_val_t align)
{
  if (pointer == nullptr)
  {
    return;
  }

  if (hh::globals::mem_manager != nullptr)
  {
    hh::globals::mem_manager->deallocate(pointer);
  }
  else
  {
    deallocate_pool();
  }
}

void __cdecl operator delete[](void* pointer)
{
  if (pointer == nullptr)
  {
    return;
  }

  if (hh::globals::mem_manager != nullptr)
  {
    hh::globals::mem_manager->deallocate(pointer);
  }
  else
  {
    deallocate_pool();
  }
}

void __cdecl operator delete[](void* pointer, [[maybe_unused]] std::align_val_t align)
{
  if (pointer == nullptr)
  {
    return;
  }

  if (hh::globals::mem_manager != nullptr)
  {
    hh::globals::mem_manager->deallocate(pointer);
  }
  else
  {
    deallocate_pool();
  }
}

void __cdecl operator delete[](void* pointer, [[maybe_unused]] size_t size)
{
  if (pointer == nullptr)
  {
    return;
  }

  if (hh::globals::mem_manager != nullptr)
  {
    hh::globals::mem_manager->deallocate(pointer);
  }
  else
  {
    deallocate_pool();
  }
}

void __cdecl operator delete[](void* pointer, [[maybe_unused]] size_t size, [[maybe_unused]] std::align_val_t align)
{
  if(pointer == nullptr)
  {
    return;
  }

  if (hh::globals::mem_manager != nullptr)
  {
    hh::globals::mem_manager->deallocate(pointer);
  }
  else
  {
    deallocate_pool();
  }
}

[[noreturn]]
static void RaiseException(hh::bug_check_codes code)
{
  hh::bug_check(code);
}

void __cdecl _invalid_parameter_noinfo_noreturn()
{
  throw std::invalid_argument{ "Invalid argument has been passed to CRT function." };
}

namespace std
{
  [[noreturn]]
  void __cdecl _Xbad_alloc()
  {
    throw std::bad_alloc{};
  }

  [[noreturn]]
  void __cdecl _Xinvalid_argument(_In_z_ const char* m_str)
  {
    throw std::invalid_argument{ m_str };
  }

  [[noreturn]]
  void __cdecl _Xlength_error(_In_z_ const char* m_str)
  {
    throw std::length_error{ m_str };
  }

  [[noreturn]]
  void __cdecl _Xout_of_range(_In_z_ const char* m_str)
  {
    throw std::out_of_range{ m_str };
  }

  [[noreturn]]
  void __cdecl _Xoverflow_error(_In_z_ const char* m_str)
  {
    throw overflow_error{ m_str };
  }

  [[noreturn]]
  void __cdecl _Xruntime_error(_In_z_ const char* m_str)
  {
    throw std::runtime_error{ m_str };
  }

  [[noreturn]]
  void __cdecl RaiseHandler(const std::exception& e)
  {
    throw e;
  }

  _Prhand _Raise_handler = &RaiseHandler;
}

void __cdecl _invoke_watson(
  [[maybe_unused]] wchar_t const* const expression,
  [[maybe_unused]] wchar_t const* const function_name,
  [[maybe_unused]] wchar_t const* const file_name,
  [[maybe_unused]] unsigned int   const line_number,
  [[maybe_unused]] uintptr_t      const reserved)
{
  RaiseException(hh::bug_check_codes::kmode_exception_not_handled);
}

extern "C" void* memmove(void* dest, const void* src, size_t len)
{
  char* d = static_cast<char*>(dest);
  const char* s = static_cast<const char*>(src);
  if (d < s)
    while (len--)
      *d++ = *s++;
  else
  {
    char* lasts = const_cast<char*>(s) + (len - 1);
    char* lastd = d + (len - 1);
    while (len--)
      *lastd-- = *lasts--;
  }
  return dest;
}

void* memcpy(void* dest, const void* src, size_t len)
{
  char* d = static_cast<char*>(dest);
  const char* s = static_cast<const char*>(src);
  while (len--)
    *d++ = *s++;
  return dest;
}

extern "C" int tolower(int ch)
{
  return ch += (static_cast<unsigned char>(ch - 'A') < 26) << 5;
}

extern "C" int toupper(int ch)
{
  return ch += (static_cast<unsigned char>(ch - 'a') < 26) << 5;
}

extern "C" size_t strlen(const char* str)
{
  if (!str)
  {
    return 0;
  }

  const char* ptr = str;

  while (*str)
  {
    ++str;
  }

  return str - ptr;
}

extern "C" int __cdecl __stdio_common_vsprintf(
  _In_                                    unsigned __int64 _Options,
  _Out_writes_opt_z_(_BufferCount)        char* _Buffer,
  _In_                                    size_t           _BufferCount,
  _In_z_ _Printf_format_string_params_(2) char const* _Format,
  _In_opt_                                _locale_t        _Locale,
  va_list          _ArgList
) {};

// For <unordered_set> and <unordered_map> support:
#ifdef _AMD64_
#pragma function(ceilf)
_Check_return_ float __cdecl ceilf(_In_ float _X)
{
  int v = static_cast<int>(_X);
  return static_cast<float>(_X > static_cast<float>(v) ? v + 1 : v);
}
#else
#pragma function(ceil)
_Check_return_ double __cdecl ceil(_In_ double _X)
{
  int v = static_cast<int>(_X);
  return static_cast<double>(_X > static_cast<double>(v) ? v + 1 : v);
}
#endif

```

`samples/template_app/cpp_support.hpp`:

```hpp
#pragma once

extern "C" int __crt_init();
extern "C" void __crt_deinit();
```

`samples/template_app/delete_constructors.hpp`:

```hpp
#pragma once

struct non_copyable
{
  non_copyable() = default;
  non_copyable(const non_copyable&) = delete;
  non_copyable& operator=(const non_copyable&) = delete;
  non_copyable(non_copyable&&) = default;
  non_copyable& operator=(non_copyable&&) = default;
  ~non_copyable() = default;
};

struct non_relocatable
{
  non_relocatable() = default;
  non_relocatable(const non_relocatable&) = delete;
  non_relocatable& operator=(const non_relocatable&) = delete;
  non_relocatable(non_relocatable&&) = delete;
  non_relocatable& operator=(non_relocatable&&) = delete;
  ~non_relocatable() = default;
};

```

`samples/template_app/drvproto.h`:

```h
#pragma once
#include <Uefi/UefiBaseType.h>

// Custom Protocol GUID
#define EFI_SAMPLE_DRIVER_PROTOCOL_GUID \
    { \
    0xd487ddb4, 0x008b, 0x11d9, {0xaf, 0xdc, 0x00, 0x10, 0x83, 0xff, 0xca, 0x4d } \
    }
extern EFI_GUID gEfiSampleDriverProtocolGuid;

// Custom Protocol Definition
typedef struct _EFI_SAMPLE_DRIVER_PROTOCOL
{
    EFI_HANDLE SampleValue;
} EFI_SAMPLE_DRIVER_PROTOCOL, *PEFI_SAMPLE_DRIVER_PROTOCOL;

```

`samples/template_app/edk2_vars.c`:

```c
#include <Uefi.h>

EFI_GUID gEfiSimplePointerProtocolGuid = { 0x31878C87, 0x0B75, 0x11D5, { 0x9A, 0x4F, 0x00, 0x90, 0x27, 0x3F, 0xC1, 0x4D }};

```

`samples/template_app/efi_stub.cpp`:

```cpp
#include "efi_stub.hpp"
#include <cstdint>
#include <intrin.h>

namespace hh
{
  void bug_check(const bug_check_codes code, const uint64_t arg0, const uint64_t arg1,
    const uint64_t arg2, const uint64_t arg3) noexcept
  {
    // add your own panic handler here
    __halt();
  }
}

```

`samples/template_app/efi_stub.hpp`:

```hpp
#pragma once
#include <cstdint>
#include <map>
#include <string_view>
#include "enum_to_str.hpp"

namespace hh
{
  enum class bug_check_codes
  {
    kmode_exception_not_handled,
    invalid_cruntime_parameter,
    install_more_memory,
    overran_stack_buffer,
    allocator_out_of_memory,
    unexpected_exception_or_interrupt,
    vmx_error,
    boot_services_unavailable,
    corrupted_machine_state,
    corrupted_pe_header,
    no_matching_exception_handler,
    unwinding_non_cxx_frame,
    corrupted_eh_unwind_data,
    corrupted_exception_handler,
  };

  template<> inline std::map<bug_check_codes, std::string_view> enum_map<bug_check_codes> =
  {
    { bug_check_codes::allocator_out_of_memory, "allocator_out_of_memory" },
    { bug_check_codes::install_more_memory, "install_more_memory" },
    { bug_check_codes::invalid_cruntime_parameter, "invalid_cruntime_parameter" },
    { bug_check_codes::kmode_exception_not_handled, "kmode_exception_not_handled" },
    { bug_check_codes::overran_stack_buffer, "overran_stack_buffer" },
    { bug_check_codes::unexpected_exception_or_interrupt, "unexpected_exception_or_interrupt" },
    { bug_check_codes::vmx_error, "vmx_error" },
    { bug_check_codes::boot_services_unavailable, "BOOT_SERVICES_UNAVAILABLE" },
    { bug_check_codes::corrupted_machine_state, "corrupted_machine_state" },
    { bug_check_codes::corrupted_pe_header, "corrupted_pe_header" },
    { bug_check_codes::corrupted_pe_header, "corrupted_pe_header" },
    { bug_check_codes::no_matching_exception_handler, "no_matching_exception_handler" },
    { bug_check_codes::unwinding_non_cxx_frame, "unwinding_non_cxx_frame" },
    { bug_check_codes::corrupted_eh_unwind_data, "corrupted_eh_unwind_data" },
    { bug_check_codes::corrupted_exception_handler, "corrupted_exception_handler" },
  };

  void bug_check(const bug_check_codes code, const uint64_t arg0 = 0, const uint64_t arg1 = 0,
    const uint64_t arg2 = 0, const uint64_t arg3 = 0) noexcept;
}

```

`samples/template_app/enum_to_str.hpp`:

```hpp
#pragma once
#include <map>
#include <string_view>

namespace hh
{
  template<class T> std::map<T, std::string_view> enum_map;

  template<class T>
  std::string_view enum_to_str(T enum_value) noexcept
  {
    try
    {
      return enum_map<T>.at(enum_value);
    }
    catch (...)
    {
      return "UNKNOWN VALUE";
    }
  }
}

```

`samples/template_app/exc_common.cpp`:

```cpp
#include <Windows.h>
#include "exc_common.hpp"
#include "efi_stub.hpp"

namespace exc
{
  uintptr_t member_ptr::apply(uintptr_t obj) const noexcept
  {
    if (vbtable_ptr_offset_)
    {
      uintptr_t vbtable_ptr = obj + vbtable_ptr_offset_;
      uintptr_t vbtable = *reinterpret_cast<const uintptr_t*>(vbtable_ptr);
      obj = vbtable_ptr + *reinterpret_cast<const uint32_t*>(vbtable + vbase_offset_);
    }

    return obj + member_offset_;
  }

  member_ptr::member_ptr(uint32_t vbase_offset, uint32_t vbtable_ptr_offset, uint32_t member_offset) noexcept
    : vbase_offset_{ vbase_offset }, vbtable_ptr_offset_{ vbtable_ptr_offset }, member_offset_{ member_offset } {}

  uint64_t& frame_walk_context::gp(uint8_t idx) noexcept
  {
    constexpr int8_t conv[16]
    {
      -1, -1, -1, 0, -1, 1, 2, 3, -1, -1, -1, -1, 4, 5, 6, 7,
    };

    const int8_t offs = conv[idx];

    if (offs < 0)
    {
      terminate({ hh::bug_check_codes::corrupted_machine_state, offs });
    }

    return (&rbx)[offs];
  };

  void terminate(const bug_check_context bsod)
  {
    hh::bug_check(bsod.reason, bsod.arg_1, bsod.arg_2,
      bsod.arg_3, bsod.arg_4);
  }

  void* catch_info::get_exception_object() const noexcept
  {
    if (throw_info_if_owner)
    {
      return exception_object_or_link;
    }

    if (exception_object_or_link)
    {
      const auto* other = static_cast<const catch_info*>(exception_object_or_link);
      return other->exception_object_or_link;
    }

    return nullptr;
  }

  const throw_info* catch_info::get_throw_info() const noexcept
  {
    if (exception_object_or_link)
    {
      if (!throw_info_if_owner)
      {
        const auto* other = static_cast<const catch_info*>(this->exception_object_or_link);
        return other->throw_info_if_owner;
      }

      return throw_info_if_owner;
    }

    return nullptr;
  }

  static xmm_register& get_xmm(frame_walk_context& ctx, uint8_t idx) noexcept
  {
    if (idx < 6 || idx >= 16)
    {
      terminate({ hh::bug_check_codes::corrupted_machine_state, idx });
    }

    return (&ctx.xmm6)[idx - 6];
  }

  template <class Ty>
  Ty get_unwind_data_as(const unwind_info& unwind_info, uint32_t idx) noexcept
  {
    const auto* data = reinterpret_cast<const uint8_t*>(unwind_info.data + idx);
    const auto value_ptr = reinterpret_cast<const Ty*>(data);

    return *value_ptr;
  }

  frame_walk_pdata::frame_walk_pdata(const uint8_t* image_base) noexcept : image_base_(image_base)
  {
    const auto* dos_hdr = reinterpret_cast<const IMAGE_DOS_HEADER*>(image_base);

    do
    {
      BREAK_IF_FALSE(dos_hdr->e_magic == 0x5a4d);

      const auto* nt_header = reinterpret_cast<const IMAGE_NT_HEADERS*>(image_base_ + dos_hdr->e_lfanew);

      BREAK_IF_FALSE(nt_header->Signature == 0x4550);
      BREAK_IF_FALSE(nt_header->FileHeader.Machine == 0x8664);
      BREAK_IF_FALSE(nt_header->OptionalHeader.Magic == 0x20b);
      BREAK_IF_FALSE(nt_header->OptionalHeader.SizeOfHeaders >= dos_hdr->e_lfanew + sizeof(IMAGE_NT_HEADERS));
      BREAK_IF_FALSE(nt_header->OptionalHeader.SizeOfImage >= nt_header->OptionalHeader.SizeOfHeaders);

      BREAK_IF_FALSE(nt_header->OptionalHeader.NumberOfRvaAndSizes >= 4);
      BREAK_IF_FALSE(nt_header->OptionalHeader.DataDirectory[IMAGE_DIRECTORY_ENTRY_EXCEPTION].Size % sizeof(runtime_function) == 0);

      functions_ = reinterpret_cast<const runtime_function*>(image_base +
        nt_header->OptionalHeader.DataDirectory[IMAGE_DIRECTORY_ENTRY_EXCEPTION].VirtualAddress);
      function_count_ = nt_header->OptionalHeader.DataDirectory[IMAGE_DIRECTORY_ENTRY_EXCEPTION].Size / sizeof(runtime_function);
      image_size_ = nt_header->OptionalHeader.SizeOfImage;

      return;

    } while (false);

    terminate({ hh::bug_check_codes::corrupted_pe_header });
  }

  frame_walk_pdata frame_walk_pdata::for_this_image() noexcept
  {
    return frame_walk_pdata{ &__ImageBase };
  }

  void frame_walk_pdata::unwind(const unwind_info& unwind_info, frame_walk_context& ctx, machine_frame& mach) noexcept
  {
    bool rip_updated = false;
    for (uint32_t idx = 0; idx < unwind_info.code_count; ++idx)
    {
      switch (const auto& entry = unwind_info.entries[idx]; entry.code)
      {
        case unwind_code::push_non_volatile_reg:
        {
          ctx.gp(entry.info) = *reinterpret_cast<const uint64_t*>(mach.rsp);
          mach.rsp += 8;

          break;
        }

        case unwind_code::alloc_large:
        {
          if (!entry.info)
          {
            mach.rsp += unwind_info.data[++idx] * 8;
          }
          else
          {
            mach.rsp += unwind_info.data[idx + 1];
            idx += 2;
          }

          break;
        }

        case unwind_code::alloc_small:
        {
          mach.rsp += entry.info * 8 + 8;

          break;
        }

        case unwind_code::set_frame_pointer:
        {
          mach.rsp = ctx.gp(unwind_info.frame_reg) - unwind_info.frame_reg_disp * 16;

          break;
        }

        case unwind_code::save_non_volatile_reg:
        {
          ctx.gp(entry.info) = *reinterpret_cast<const uint64_t*>(mach.rsp + unwind_info.data[++idx] * 8);

          break;
        }

        case unwind_code::save_far_non_volatile_reg:
        {
          ctx.gp(entry.info) = *reinterpret_cast<const uint64_t*>(mach.rsp + get_unwind_data_as<uint32_t>(unwind_info, +idx));
          idx += 2;

          break;
        }

        case unwind_code::epilog:
        {
          idx += 1;

          break;
        }

        case unwind_code::reserved_07:
        {
          idx += 2;

          break;
        }

        case unwind_code::same_xmm_128:
        {
          get_xmm(ctx, entry.info) = *reinterpret_cast<const xmm_register*>(mach.rsp + unwind_info.data[++idx] * 16);

          break;
        }

        case unwind_code::save_far_xmm_128:
        {
          get_xmm(ctx, entry.info) = *reinterpret_cast<const xmm_register*>(mach.rsp + unwind_info.data[idx + 1]);
          idx += 2;

          break;
        }

        case unwind_code::push_machine_frame:
        {
          mach.rsp += static_cast<uint64_t>(entry.info) * 8;
          mach.rip = *reinterpret_cast<const uint8_t**>(mach.rsp);
          mach.rsp = *reinterpret_cast<const uint64_t*>(mach.rsp + 24);
          rip_updated = true;

          break;
        }
      }
    }

    if (!rip_updated)
    {
      mach.rip = *reinterpret_cast<const uint8_t**>(mach.rsp);
      mach.rsp += 8;
    }
  }

  const uint8_t* frame_walk_pdata::image_base() const noexcept
  {
    return image_base_;
  }

  bool frame_walk_pdata::contains_address(const uint8_t* addr) const noexcept
  {
    return image_base_ <= addr && addr - image_base_ < image_size_;
  }

  const runtime_function* frame_walk_pdata::find_function_entry(const uint8_t* addr) const noexcept
  {
    if (!contains_address(addr))
    {
      terminate({ hh::bug_check_codes::no_matching_exception_handler });
    }

    const relative_virtual_address pc_rva{ make_rva(addr, image_base_) };
    uint32_t left_bound{ 0 };
    uint32_t right_bound = function_count_;

    while (left_bound < right_bound)
    {
      const uint32_t idx = { left_bound + (right_bound - left_bound) / 2 };

      if (const auto* fn_ptr = functions_ + idx; pc_rva < fn_ptr->begin)
      {
        right_bound = idx;
      }
      else if (fn_ptr->end <= pc_rva)
      {
        left_bound = idx + 1;
      }
      else
      {
        return fn_ptr;
      }
    }

    return nullptr;
  }

  dispatcher_context make_context(void* cookie, throw_frame& frame, const frame_walk_pdata& pdata) noexcept
  {
    dispatcher_context ctx{};
    ctx.image_base = pdata.image_base();
    ctx.pdata = &pdata;
    ctx.throw_frame = &frame;
    ctx.cookie = cookie;

    return ctx;
  }

  void verify_seh_in_cxx_handler(NTSTATUS code, const void* addr, uint32_t flags, uint32_t unwind_info, const void* image_base) noexcept
  {
    if (const bool unwinding = exception_flag{ .unwinding = 1 }.all & flags; unwinding)
    {
      terminate({ hh::bug_check_codes::unwinding_non_cxx_frame, reinterpret_cast<int64_t>(addr), reinterpret_cast<int64_t>(image_base) });
    }
  }

  static void copy_to_catch_block(const uint8_t* image_base, const catchable_type* catchable,
    void* catch_var, void* exception_object) noexcept
  {
    if (catchable->properties.all & catchable_property{ .is_simple_type = 1 }.all)
    {
      memcpy(catch_var, exception_object, catchable->size);
    }
    else if (!catchable->copy_fn)
    {
      const uintptr_t address = catchable->offset.apply(reinterpret_cast<uintptr_t>(exception_object));
      memcpy(catch_var, reinterpret_cast<void*>(address), catchable->size);
    }
    else if (catchable->properties.all & catchable_property{ .has_virtual_base = 1 }.all)
    {
      auto* raw_copy_ctor = const_cast<uint8_t*>(image_base + catchable->copy_fn);
      auto* copy_ctor = reinterpret_cast<copy_ctor_virtual_base_t*>(raw_copy_ctor);
      copy_ctor(catch_var, exception_object, 1 /* is most derived */);
    }
    else
    {
      auto* raw_copy_ctor = const_cast<uint8_t*>(image_base + catchable->copy_fn);
      auto* copy_ctor = reinterpret_cast<copy_ctor_t*>(raw_copy_ctor);
      copy_ctor(catch_var, exception_object);
    }
  }

  static void transfer_to_catch_block(const uint8_t* image_base, catch_flag adjectives,
    const catchable_type* catchable, void* catch_var, void* exception_object) noexcept
  {
    if (!(catchable->properties.all & catchable_property{ .by_reference_only = 1 }.all) || adjectives.all & catch_flag{ .is_reference = 1 }.all)
    {
      if (!(adjectives.all & catch_flag{ .is_reference = 1 }.all))
      {
        copy_to_catch_block(image_base, catchable, catch_var, exception_object);
      }
      else
      {
        auto* catch_var_holder = static_cast<void**>(catch_var);
        *catch_var_holder = exception_object;
      }
    }
  }

  static bool process_catch_block_unchecked(const uint8_t* image_base, catch_flag adjectives,
    const type_info* match_type, void* catch_var, void* exception_object, const catchable_type_list* catchable_list) noexcept
  {
    const auto* catchables = catchable_list->types;

    for (uint32_t idx = 0; idx < catchable_list->count; ++idx)
    {
      const catchable_type* catchable = image_base + catchables[idx];

      if (const type_info* type_descriptor = image_base + catchable->desc; type_descriptor == match_type)
      {
        transfer_to_catch_block(image_base, adjectives, catchable, catch_var, exception_object);

        return true;
      }
    }

    return false;
  }

  bool process_catch_block(const uint8_t* image_base, catch_flag adjectives, const type_info* match_type, void* catch_var,
    void* exception_object, const throw_info& throw_info) noexcept
  {
    if (adjectives.all & catch_flag{ .is_ellipsis = 1 }.all)
    {
      return true;
    }

    /*
    * Returns false, if throw has one of IsConst, IsVolatile, or IsUnaligned
    * flags, and the catch block hasn't
    */
    if (throw_info.attributes.all & throw_flags{ {.is_const = 1, .is_volatile = 1, .is_unaligned = 1} }.all & (~adjectives.all))
    {
      return false;
    }

    return process_catch_block_unchecked(image_base, adjectives, match_type, catch_var, exception_object,
      image_base + throw_info.catchables);
  }

  void probe_for_exception(const frame_walk_pdata& pdata, throw_frame& frame) noexcept
  {
    dispatcher_context ctx = { make_context(&rethrow_probe_cookie, frame, pdata) };
    auto& [_, probe_ctx, probe_mach, ci] {frame};

    for (;;)
    {
      const unwind_info* unwind_info = execute_handler(ctx, probe_ctx, probe_mach);

      if (ci.exception_object_or_link)
      {
        break;
      }

      exc::frame_walk_pdata::unwind(*unwind_info, probe_ctx, probe_mach);
    }
  }
}

```

`samples/template_app/exc_common.hpp`:

```hpp
#pragma once
#include "type_info.hpp"
#include <cstdint>
#include <type_traits>
#include "efi_stub.hpp"

using NTSTATUS = long;

#define BREAK_IF_FALSE(cond) \
  if (!(cond))               \
    break

namespace exc
{
  extern "C" uint8_t __ImageBase;

  template <typename Ty, typename IntegralTy>
  Ty convert_narrow(IntegralTy value) noexcept
  {
    return static_cast<Ty>(value);
  }

  template <typename Ty>
  struct relative_virtual_address
  {
    uint32_t offset{ 0 };

    constexpr relative_virtual_address() = default;

    constexpr relative_virtual_address(uint32_t offset) noexcept
      : offset{ offset } {}

    relative_virtual_address(Ty* ptr, const void* base) noexcept
      : offset{ calculate_offset(ptr, base) } {}

    constexpr explicit operator bool() const noexcept
    {
      return static_cast<bool>(offset);
    }

    constexpr uint32_t value() const { return offset; }

    constexpr relative_virtual_address& operator+=(uint32_t rhs) noexcept
    {
      offset += rhs;
      return *this;
    }

    template <typename OtherTy, std::enable_if<std::is_convertible_v<OtherTy*, Ty*>, int> = 0>
    constexpr operator relative_virtual_address<OtherTy>() const noexcept
    {
      return relative_virtual_address<OtherTy>{ offset };
    }

    constexpr friend Ty* operator+(const void* base, relative_virtual_address<Ty> rva) noexcept
    {
      return reinterpret_cast<Ty*>(reinterpret_cast<uintptr_t>(base) + rva.value());
    }

    constexpr friend const uint8_t* operator-(Ty* ptr, relative_virtual_address<Ty> rva) noexcept
    {
      return reinterpret_cast<const uint8_t*>(reinterpret_cast<uintptr_t>(ptr) - rva.value());
    }

    constexpr friend relative_virtual_address operator+(relative_virtual_address lhs, uint32_t rhs) noexcept
    {
      return relative_virtual_address{ lhs.offset } += rhs;
    }

    constexpr friend bool operator==(const relative_virtual_address& lhs, const relative_virtual_address& rhs) noexcept
    {
      return lhs.offset == rhs.offset;
    }

    constexpr friend bool operator!=(relative_virtual_address const& lhs, relative_virtual_address const& rhs) noexcept
    {
      return !(lhs == rhs);
    }

    constexpr friend bool operator<(relative_virtual_address const& lhs, relative_virtual_address const& rhs) noexcept
    {
      return lhs.offset < rhs.offset;
    }

    constexpr friend bool operator<=(relative_virtual_address const& lhs, relative_virtual_address const& rhs) noexcept
    {
      return !(rhs < lhs);
    }

    constexpr friend bool operator>(relative_virtual_address const& lhs, relative_virtual_address const& rhs) noexcept
    {
      return rhs < lhs;
    }

    constexpr friend bool operator>=(relative_virtual_address const& lhs, relative_virtual_address const& rhs) noexcept
    {
      return !(lhs < rhs);
    }

    static uint32_t calculate_offset(Ty* ptr, const void* base) noexcept
    {
      return convert_narrow<uint32_t>(reinterpret_cast<uintptr_t>(ptr) - reinterpret_cast<uintptr_t>(base));
    }
  };

  union throw_flags
  {
    struct
    {
      uint32_t is_const : 1;
      uint32_t is_volatile : 1;
      uint32_t is_unaligned : 1;
      uint32_t is_pure : 1;
      uint32_t is_win_rt : 1;
    };

    uint32_t all;
  };

  class member_ptr
  {
  private:
    uint32_t vbase_offset_;
    uint32_t vbtable_ptr_offset_;
    uint32_t member_offset_;

  public:
    member_ptr(uint32_t vbase_offset, uint32_t vbtable_ptr_offset, uint32_t member_offset) noexcept;
    uintptr_t apply(uintptr_t obj) const noexcept;
  };

  union catchable_property
  {
    struct
    {
      uint32_t is_simple_type : 1;
      uint32_t by_reference_only : 1;
      uint32_t has_virtual_base : 1;
      uint32_t is_win_rt_handle : 1;
      uint32_t is_bad_alloc : 1;
    };

    uint32_t all;
  };

  struct catchable_type
  {
    // 0x01: simple type (can be copied by memmove), 0x02: can be caught by reference only, 0x04: has virtual bases
    catchable_property properties;
    relative_virtual_address<type_info const> desc;
    // how to cast the thrown object to this type
    member_ptr offset;
    // object size
    uint32_t size;
    // copy constructor address
    relative_virtual_address<uint8_t const> copy_fn;
  };

  struct catchable_type_list
  {
    uint32_t count;
    relative_virtual_address<const catchable_type> types[1];
  };

  struct throw_info
  {
    throw_flags attributes;
    // exception object destructor
    relative_virtual_address<void __fastcall(void*)> destroy_exc_obj;
    // forward compatibility handler
    relative_virtual_address<int(...)> compat_fn;
    // list of types that can catch this exception.
    // i.e. the actual type and all its ancestors.
    relative_virtual_address<const catchable_type_list> catchables;
  };

  __declspec(align(16)) struct xmm_register { unsigned char data[16]; };

  // Marked offsets are used by the nt!__C_specific_handler
  struct frame_walk_context
  {
    xmm_register xmm6;
    xmm_register xmm7;
    xmm_register xmm8;
    xmm_register xmm9;
    xmm_register xmm10;
    xmm_register xmm11;
    xmm_register xmm12;
    xmm_register xmm13;
    xmm_register xmm14;

    uint64_t padding1;            // 16-uint8_t aligned
    /*0x98*/ uint64_t dummy_rsp;  // 8-uint8_t aligned

    xmm_register xmm15;           // 16-uint8_t aligned

    uint64_t rbx;
    uint64_t rbp;
    uint64_t rsi;
    uint64_t rdi;
    uint64_t r12;
    uint64_t r13;
    uint64_t r14;
    uint64_t r15;

    uint64_t padding2;               // 16-uint8_t aligned
    /*0xf8*/ const uint8_t* dummy_rip;  // 8-uint8_t aligned

    uint64_t& gp(uint8_t idx) noexcept;
  };

  struct machine_frame
  {
    const uint8_t* rip;
    uint64_t cs;
    uint64_t eflags;
    uint64_t rsp;
    uint64_t ss;
  };

  struct catch_info
  {
    const uint8_t* continuation_address[2];
    uint8_t* primary_frame_ptr;
    void* exception_object_or_link;
    const throw_info* throw_info_if_owner;
    uint64_t unwind_context;

    [[nodiscard]] void* get_exception_object() const noexcept;
    [[nodiscard]] const throw_info* get_throw_info() const noexcept;
  };

  struct throw_frame
  {
    uint64_t red_zone[4];
    frame_walk_context ctx;
    machine_frame mach;
    catch_info catch_info;
  };

  enum class bug_check_reason
  {
    corrupted_machine_state,
    corrupted_pe_header,
    no_matching_exception_handler,
    unwinding_non_cxx_frame,
    corrupted_eh_unwind_data,
    corrupted_exception_handler
  };

  struct bug_check_context
  {
    hh::bug_check_codes reason;
    int64_t arg_1{ 0 }, arg_2{ 0 }, arg_3{ 0 }, arg_4{ 0 };
  };

  enum class unwind_code : uint8_t
  {
    push_non_volatile_reg = 0,      // 1
    alloc_large = 1,                // 2-3
    alloc_small = 2,                // 1
    set_frame_pointer = 3,          // 1
    save_non_volatile_reg = 4,      // 2
    save_far_non_volatile_reg = 5,  // 3
    epilog = 6,                     // 2
    reserved_07 = 7,                // 3 _07
    same_xmm_128 = 8,               // 2
    save_far_xmm_128 = 9,           // 3
    push_machine_frame = 10,        // 1
  };

  struct unwind_entry
  {
    uint8_t prolog_offset;
    unwind_code code : 4;
    uint8_t info : 4;
  };

  struct unwind_info
  {
    // unwinding info version
    uint8_t version : 3;
    uint8_t flags : 5;
    uint8_t prolog_size;
    // unwind entries count
    uint8_t code_count;
    // register number that used as frame pointer
    uint8_t frame_reg : 4;
    // size in 16 uint8_t blocks
    uint8_t frame_reg_disp : 4;
    union
    {
      unwind_entry entries[1];
      uint16_t data[1];
    };
  };

  struct runtime_function
  {
    /*0x00*/ relative_virtual_address<const uint8_t> begin;
    /*0x04*/ relative_virtual_address<const uint8_t> end;
    /*0x08*/ relative_virtual_address<const unwind_info> unwind_struct;
  };

  union handler_info
  {
    struct
    {
      uint32_t exception : 1;
      uint32_t unwind : 1;
      uint32_t has_alignment : 1;
    };

    uint32_t all;
  };

  union exception_flag
  {
    struct
    {
      uint32_t non_continuable : 1;
      uint32_t unwinding : 1;
      uint32_t exit_unwind : 1;
      uint32_t stack_invalid : 1;
      uint32_t nested_call : 1;
      uint32_t target_unwind : 1;
      uint32_t collided_unwing : 1;
    };

    uint32_t all;
  };

  struct exception_record
  {
    // exception code
    uint32_t code;
    // type and condition of exception handling
    exception_flag flags;
    // if exception occurs in exception handler here will be a pointer to another exception record
    exception_record* next;
    // instruction that produced exception
    const uint8_t* address;
    // number of parameters in exception_information array
    uint32_t parameter_count;
  };

  struct catch_frame
  {
    uint64_t red_zone[4];

    machine_frame mach;
    catch_info catch_info;
  };

  enum class exception_disposition
  {
    continue_execution = 0,
    continue_search = 1,
    nested = 2,
    collided = 3,
    cxx_handler = 0x154d3c64,
  };

  struct x64_cpu_context;
  struct symbol {};

  using x64_frame_handler_t = exception_disposition(exception_record* exception_record, uint8_t* frame_ptr, x64_cpu_context*, void* dispatcher_context);
  using copy_ctor_t = void(void* self, void* other);
  using copy_ctor_virtual_base_t = void(void* self, void* other, int is_most_derived);

  class frame_walk_pdata
  {
  private:
    const uint8_t* image_base_;
    const runtime_function* functions_;
    uint32_t function_count_;
    uint32_t image_size_;

  public:
    explicit frame_walk_pdata(const uint8_t* image_base) noexcept;
    [[nodiscard]] const uint8_t* image_base() const noexcept;
    bool contains_address(const uint8_t* addr) const noexcept;
    const runtime_function* find_function_entry(const uint8_t* addr) const noexcept;

    static void unwind(const unwind_info& unwind_info, frame_walk_context& ctx, machine_frame& mach) noexcept;
    static frame_walk_pdata for_this_image() noexcept;
  };

  // Marked offsets are used by the nt!__GSHandlerCheck and nt!__C_speficic_handler
  struct dispatcher_context
  {
    // return address is pushed to stack by 'call _CxxThrowException'
    /*0x0*/ const uint8_t* last_instruction;
    /*0x8*/ const uint8_t* image_base;
    /*0x10*/ const runtime_function* fn;
    const frame_walk_pdata* pdata;
    throw_frame* throw_frame;
    void* padding;
    const uint8_t* handler;
    // language specific data
    /*0x38*/ const void* extra_data;
    void* history_table;
    /*0x48*/ uint32_t scope_index;
    void* cookie;
  };

  struct frame_handler
  {
    x64_frame_handler_t* handler;
    const void* data;
  };

  union catch_flag
  {
    struct
    {
      uint32_t is_const : 1;
      uint32_t is_volatile : 1;
      uint32_t is_unaligned : 1;
      uint32_t is_reference : 1;
      uint32_t is_resumable : 1;
      uint32_t reserved_0 : 1;
      uint32_t is_ellipsis : 1;
      uint32_t reserved_1 : 24;
      uint32_t is_complus_eh : 1;
    };

    uint32_t all;
  };

  inline symbol unwind_cookie{};
  inline symbol rethrow_probe_cookie{};
  inline exception_record exc_record_cookie{ 0, {.unwinding = 1} };

  void terminate(const bug_check_context bsod);
  dispatcher_context make_context(void* cookie, throw_frame& frame, const frame_walk_pdata& pdata) noexcept;
  const unwind_info* execute_handler(dispatcher_context& ctx, frame_walk_context& cpu_ctx, machine_frame& mach) noexcept;
  extern "C" void verify_seh(NTSTATUS code, const void* addr, uint32_t flags) noexcept;
  void verify_seh_in_cxx_handler(NTSTATUS code, const void* addr, uint32_t flags, uint32_t unwind_info, const void* image_base) noexcept;
  bool process_catch_block(const uint8_t* image_base, catch_flag adjectives, const type_info* match_type, void* catch_var,
    void* exception_object, const throw_info& throw_info) noexcept;
  void probe_for_exception(const frame_walk_pdata& pdata, throw_frame& frame) noexcept;

  template <typename Ty>
  relative_virtual_address<Ty> make_rva(Ty* ptr, const void* base) noexcept
  {
    return relative_virtual_address<Ty>{ ptr, base };
  }

}

```

`samples/template_app/exc_dispatch.cpp`:

```cpp
#include "exc_common.hpp"
#include <intrin.h>
#include "efi_stub.hpp"

namespace exc
{
  frame_handler get_frame_handler(const uint8_t* image_base, const unwind_info& info, size_t unwind_node_count) noexcept {
    /*
    * Immediately after the array of unwind entries in memory is RVAs to the
    * exception handler and handler-specific data emitted by the compiler
    *
    * union {
    *      uint32_t exception_handler;
    *      uint32_t function_entry;
    * };
    * uint32_t exception_data[];
    *
    * Type of exception handler  Type of the associated data
    *   __C_specific_handler        Scope table
    *   __GSHandlerCheck            GS data
    *   __GSHandlerCheck_SEH        Scope table + GS data
    *   __CxxFrameHandler3          RVA to FuncInfo
    *   __CxxFrameHandler4          RVA to FuncInfo
    *   __GSHandlerCheck_EH         RVA to FuncInfo + GS data
    *
    * Also see
    * https://yurichev.com/mirrors/RE/Recon-2012-Skochinsky-Compiler-Internals.pdf
    */
    using handler_rva_t = relative_virtual_address<x64_frame_handler_t>;

    const auto* exception_handler_and_data = reinterpret_cast<const uint8_t*>(info.data + unwind_node_count);

    const auto* handler_rva = reinterpret_cast<const handler_rva_t*>(exception_handler_and_data);
    const uint8_t* data = exception_handler_and_data + sizeof(handler_rva_t);

    return { image_base + *handler_rva, data };
  }

  static void prepare_for_non_cxx_handler(dispatcher_context& ctx, frame_walk_context& cpu_ctx, machine_frame& mach) noexcept
  {
    cpu_ctx.dummy_rsp = mach.rsp;
    cpu_ctx.dummy_rip = mach.rip;

    ctx.last_instruction = mach.rip;
    ctx.history_table = nullptr;

    /*
    * We do not yet support the continuation of unwinding if an exception was
    * thrown in the SEH __finally block (this means that the destructor threw the
    * exception)
    */
    ctx.scope_index = 0;
  }

  const unwind_info* execute_handler(dispatcher_context& ctx, frame_walk_context& cpu_ctx, machine_frame& mach) noexcept
  {
    const auto& pdata = *ctx.pdata;
    const uint8_t* image_base = pdata.image_base();

    ctx.fn = pdata.find_function_entry(mach.rip);

    const unwind_info* unwind_struct = image_base + ctx.fn->unwind_struct;
    constexpr handler_info handler_mask = { {.exception = 1, .unwind = 1} };

    if (const handler_info flags = { .all = unwind_struct->flags }; flags.all & handler_mask.all)
    {
      // The number of active slots is always odd
      const auto unwind_slots = (static_cast<size_t>(unwind_struct->code_count) + 1ull) & ~1ull;

      const frame_handler temp = get_frame_handler(image_base, *unwind_struct, unwind_slots);

      x64_frame_handler_t* handler = temp.handler;
      const void* extra_data = temp.data;

      if (!handler)
      {
        hh::bug_check(hh::bug_check_codes::kmode_exception_not_handled);
      }

      ctx.extra_data = extra_data;

      const auto frame_ptr = reinterpret_cast<uint8_t*>(unwind_struct->frame_reg ? cpu_ctx.gp(unwind_struct->frame_reg) : mach.rsp);

      prepare_for_non_cxx_handler(ctx, cpu_ctx, mach);

      [[maybe_unused]] exception_disposition exc_action = handler(&exc_record_cookie, frame_ptr, reinterpret_cast<x64_cpu_context*>(&cpu_ctx), &ctx);
    }

    return unwind_struct;
  }

  extern "C" const uint8_t * __cxx_dispatch_exception(void* exception_object, const throw_info * throw_info, throw_frame & frame) noexcept
  {
    const frame_walk_pdata pdata = frame_walk_pdata::for_this_image();
    dispatcher_context ctx = make_context(&unwind_cookie, frame, pdata);
    frame_walk_context& cpu_ctx = frame.ctx;
    machine_frame& mach = frame.mach;

    catch_info& ci = frame.catch_info;
    ci.exception_object_or_link = exception_object;
    ci.throw_info_if_owner = throw_info;
    ci.primary_frame_ptr = nullptr;

    for (;;)
    {
      const auto* unwind_info = execute_handler(ctx, cpu_ctx, mach);

      if (ctx.handler)
      {
        return ctx.handler;
      }

      exc::frame_walk_pdata::unwind(*unwind_info, cpu_ctx, mach);
    }
  }

  void verify_seh(const NTSTATUS code, const void* addr, uint32_t flags) noexcept
  {
    if (const bool unwinding = exception_flag{ .all = flags }.all & exception_flag{ .unwinding = 1 }.all; unwinding)
    {
      terminate({ hh::bug_check_codes::unwinding_non_cxx_frame, code, reinterpret_cast<int64_t>(addr) });
    }
  }

  extern "C" void __cxx_destroy_exception(const catch_info& ci) noexcept
  {
    if (ci.throw_info_if_owner && ci.throw_info_if_owner->destroy_exc_obj)
    {
      const auto destructor = &__ImageBase + ci.throw_info_if_owner->destroy_exc_obj;
      destructor(ci.exception_object_or_link);
    }
  }

  extern "C" exception_disposition __cxx_call_catch_frame_handler(const exception_record* exception_record, uint8_t * frame_ptr,
                                                                  x64_cpu_context*, void* dispatcher_ctx)
  {
    if (exception_record != &exc_record_cookie)
    {
      verify_seh(exception_record->code, exception_record->address, exception_record->flags.all);
      return exception_disposition::continue_search;
    }

    auto* ctx = static_cast<dispatcher_context*>(dispatcher_ctx);
    auto* frame = reinterpret_cast<catch_frame*>(frame_ptr);

    catch_info& ci = ctx->throw_frame->catch_info;

    if (ctx->cookie == &rethrow_probe_cookie)
    {
      if (!frame->catch_info.exception_object_or_link)
      {
        terminate({ hh::bug_check_codes::corrupted_exception_handler,
          reinterpret_cast<int64_t>(ctx->cookie), reinterpret_cast<int64_t>(frame) });
      }

      if (frame->catch_info.throw_info_if_owner)
      {
        ci.exception_object_or_link = &frame->catch_info;
      }
      else
      {
        ci.exception_object_or_link = frame->catch_info.exception_object_or_link;
      }
    }
    else if (ctx->cookie == &unwind_cookie)
    {
      if (!ci.exception_object_or_link || ci.exception_object_or_link == &frame->catch_info)
      {
        ci.exception_object_or_link = frame->catch_info.exception_object_or_link;
        ci.throw_info_if_owner = frame->catch_info.throw_info_if_owner;
      }
      else
      {
        __cxx_destroy_exception(frame->catch_info);
      }

      ci.primary_frame_ptr = frame->catch_info.primary_frame_ptr;
      ci.unwind_context = frame->catch_info.unwind_context;
    }
    else
    {
      return exception_disposition::continue_search;
    }

    return exception_disposition::cxx_handler;
  }

  extern "C" exception_disposition __cxx_seh_frame_handler(const exception_record* exc_record, uint8_t*, x64_cpu_context*, void*)
  {
    if (exc_record != &exc_record_cookie)
    {
      verify_seh(exc_record->code, exc_record->address, exc_record->flags.all);
    }

    return exception_disposition::continue_search;
  }
}

```

`samples/template_app/fh3.cpp`:

```cpp
#include "exc_common.hpp"
#include <Windows.h>

namespace exc
{
  struct gs_handler_data
  {
    static constexpr uint32_t COOKIE_OFFSET_MASK = ~7u;

    uint32_t cookie_offset;
    int32_t aligned_base_offset;
    int32_t alignment;
  };

  struct handler_entry
  {
    uint32_t try_rva_low;
    uint32_t try_rva_high;

    union
    {
      relative_virtual_address<int32_t(void* ptrs, uint64_t frame_ptr)> filter;
      relative_virtual_address<void(bool, uint64_t frame_ptr)> unwinder;
    };

    uint32_t target_rva;
  };

  struct handler_data
  {
    uint32_t entry_count;
    handler_entry entries[1];
  };

  struct eh_node_catch
  {
    byte* primary_frame_ptr;
  };

  struct catch_handler
  {
    catch_flag adjectives;
    relative_virtual_address<const type_info> type_desc;
    relative_virtual_address<void> catch_object_offset;
    relative_virtual_address<const byte> handler;
    relative_virtual_address<const eh_node_catch> node_offset;
  };

  struct try_block
  {
    /*0x00*/ int32_t try_low;
    /*0x04*/ int32_t try_high;
    /*0x08*/ int32_t catch_high;
    /*0x0c*/ int32_t catch_count;
    /*0x10*/ relative_virtual_address<const catch_handler> catch_handlers;
  };

  struct eh_region
  {
    relative_virtual_address<const byte> first_ip;
    int32_t state;
  };

  struct alignas(8) eh_node
  {
    int32_t state;
    int32_t reserved;  // unused now
  };

  struct unwind_graph_edge
  {
    int32_t next;
    relative_virtual_address<const byte> cleanup_handler;
  };

  union eh_flag
  {
    struct
    {
      uint8_t compiled_with_ehs : 1;
      uint8_t reserved1 : 1;
      uint8_t is_noexcept : 1;
    };

    uint8_t all;
  };

  struct function_eh_info
  {
    /*0x00*/ uint32_t magic;  // MSVC's magic number
    /*0x04*/ uint32_t state_count;
    /*0x08*/ relative_virtual_address<const unwind_graph_edge> unwind_graph;
    /*0x0c*/ int32_t try_block_count;
    /*0x10*/ relative_virtual_address<const try_block> try_blocks;
    /*0x14*/ uint32_t region_count;
    /*0x18*/ relative_virtual_address<const eh_region> regions;
    /*0x1c*/ relative_virtual_address<eh_node> eh_node_offset;

    // `magic_num >= 0x19930521`
    /*0x20*/ uint32_t es_types;

    // `magic_num >= 0x19930522`
    /*0x24*/ eh_flag eh_flags;
  };

  struct eh_handler_data
  {
    relative_virtual_address<const function_eh_info> eh_info;
  };

  struct function_context
  {
    int32_t state;
    int32_t home_block_index;
  };

  static exception_disposition frame_handler(exception_record*, byte* frame_ptr,
    x64_cpu_context*, dispatcher_context* dispatcher_context) noexcept
  {
    if (dispatcher_context->cookie == &rethrow_probe_cookie)
    {
      return exception_disposition::cxx_handler;
    }

    if (dispatcher_context->cookie != &unwind_cookie)
    {
      return exception_disposition::continue_search;
    }

    auto* throw_frame = dispatcher_context->throw_frame;
    auto& catch_info = throw_frame->catch_info;
    auto* ctx = reinterpret_cast<function_context*>(catch_info.unwind_context);

    const byte* image_base = dispatcher_context->pdata->image_base();
    const auto eh_info_rva = *static_cast<const relative_virtual_address<const function_eh_info>*>(dispatcher_context->extra_data);

    const auto* eh_info = image_base + eh_info_rva;
    const auto try_blocks = image_base + eh_info->try_blocks;

    byte* primary_frame_ptr = catch_info.primary_frame_ptr;
    int32_t state;
    int32_t home_block_index;

    if (primary_frame_ptr < frame_ptr)
    {
      const auto pc_rva = make_rva(throw_frame->mach.rip, image_base);

      const auto regions = image_base + eh_info->regions;
      state = regions[eh_info->region_count - 1].state;

      for (uint32_t i = 1; i != eh_info->region_count; ++i)
      {
        if (pc_rva < regions[i].first_ip)
        {
          state = regions[i - 1].state;
          break;
        }
      }

      home_block_index = eh_info->try_block_count - 1;
    }
    else
    {
      state = ctx->state;
      home_block_index = ctx->home_block_index;
    }

    int32_t funclet_low_state = -1;

    if (primary_frame_ptr == frame_ptr)
    {
      home_block_index = -1;
    }
    else
    {
      // Identify the funclet we're currently in. If we're in a catch
      // funclet, locate the primary frame ptr and cache everything.
      for (; home_block_index > -1; --home_block_index)
      {
        if (const auto& try_block = try_blocks[home_block_index]; try_block.try_high < state && state <= try_block.catch_high)
        {
          if (primary_frame_ptr < frame_ptr)
          {
            const auto* catch_handlers = image_base + try_block.catch_handlers;

            for (int32_t idx = 0; idx < try_block.catch_count; ++idx)
            {
              if (const auto& catch_handler = catch_handlers[idx]; catch_handler.handler == dispatcher_context->fn->begin)
              {
                const auto* node = frame_ptr + catch_handler.node_offset;
                primary_frame_ptr = node->primary_frame_ptr;

                if (primary_frame_ptr < frame_ptr)
                {
                  terminate({hh::bug_check_codes::corrupted_exception_handler,
                    reinterpret_cast<int64_t>(primary_frame_ptr), reinterpret_cast<int64_t>(frame_ptr) });
                }

                break;
              }
            }
          }

          funclet_low_state = try_block.try_low;
          break;
        }
      }

      if (primary_frame_ptr < frame_ptr)
      {
        primary_frame_ptr = frame_ptr;
      }
    }

    int32_t target_state = funclet_low_state;
    const auto* throw_info = catch_info.get_throw_info();
    const catch_handler* target_catch_handler = nullptr;

    for (int32_t idx = home_block_index + 1; !target_catch_handler && idx < eh_info->try_block_count; ++idx)
    {
      if (const auto& try_block = try_blocks[idx]; try_block.try_low <= state && state <= try_block.try_high)
      {
        if (try_block.try_low < funclet_low_state)
        {
          continue;
        }

        if (!throw_info)
        {
          probe_for_exception(*dispatcher_context->pdata, *throw_frame);
          throw_info = catch_info.get_throw_info();
        }

        const auto* handlers = image_base + try_block.catch_handlers;
        for (int32_t handler_idx = 0; handler_idx < try_block.catch_count; ++handler_idx)
        {
          const auto& catch_block = handlers[handler_idx];

          if (!process_catch_block(image_base, catch_block.adjectives, image_base + catch_block.type_desc,
            primary_frame_ptr + catch_block.catch_object_offset, catch_info.get_exception_object(), *throw_info))
          {
            continue;
          }

          target_state = try_block.try_low - 1;
          target_catch_handler = &catch_block;
          dispatcher_context->handler = image_base + catch_block.handler;

          catch_info.primary_frame_ptr = primary_frame_ptr;
          ctx->home_block_index = home_block_index;
          ctx->state = try_block.try_low - 1;
          break;
        }
      }
    }

    if (home_block_index == -1 && !target_catch_handler && eh_info->eh_flags.is_noexcept)
    {
      terminate({ hh::bug_check_codes::corrupted_exception_handler, home_block_index, reinterpret_cast<int64_t>(target_catch_handler) });
    }

    if (target_state < funclet_low_state)
    {
      terminate({ hh::bug_check_codes::corrupted_eh_unwind_data, target_state, funclet_low_state });
    }

    const unwind_graph_edge* unwind_graph = image_base + eh_info->unwind_graph;
    while (state > target_state)
    {
      const auto& edge = unwind_graph[state];
      state = edge.next;

      if (edge.cleanup_handler)
      {
        const auto raw_funclet = const_cast<byte*>(image_base + edge.cleanup_handler);
        using cleanup_handler_t = uintptr_t(const byte*, const byte*);
        const auto cleanup_handler = reinterpret_cast<cleanup_handler_t*>(raw_funclet);
        cleanup_handler(raw_funclet, frame_ptr);
      }
    }

    return exception_disposition::cxx_handler;
  }

  extern "C" exception_disposition __CxxFrameHandler3(exception_record* exception_rec, byte* frame_ptr,
    x64_cpu_context* cpu_ctx, dispatcher_context* dispatcher_ctx) noexcept
  {
    if (exception_rec != &exc_record_cookie)
    {
      verify_seh_in_cxx_handler(exception_rec->code, exception_rec->address,
        exception_rec->flags.all,
        dispatcher_ctx->fn->unwind_struct.value(),
        dispatcher_ctx->image_base);

      return exception_disposition::continue_search;
    }

    return frame_handler(exception_rec, frame_ptr, cpu_ctx, dispatcher_ctx);
  }

  extern "C" exception_disposition __GSHandlerCheck_EH(exception_record* exception_rec, byte* frame_ptr,
    x64_cpu_context* cpu_ctx, dispatcher_context* ctx) noexcept
  {
    return __CxxFrameHandler3(exception_rec, frame_ptr, cpu_ctx, ctx);
  }
}

```

`samples/template_app/fh4.cpp`:

```cpp
#include "exc_common.hpp"
#include <Windows.h>

namespace exc
{
  struct gs_check_data
  {
    uint32_t _00;
  };

  struct gs4_data
  {
    relative_virtual_address<uint8_t> func_info;
    gs_check_data gs_check_data;
  };

  union attributes
  {
    struct
    {
      uint8_t is_catch_funclet : 1;
      uint8_t has_multiple_funclets : 1;
      uint8_t bbt : 1; // Flags set by Basic Block Transformations
      uint8_t has_unwind_map : 1;
      uint8_t has_try_block_map : 1;
      uint8_t ehs : 1;
      uint8_t is_noexcept : 1;
    };

    uint8_t all;
  };

  union catch_block_flag
  {
    struct
    {
      uint8_t has_type_flags : 1;
      uint8_t has_type_info : 1;
      uint8_t has_catch_var : 1;
      uint8_t image_rva : 1;
      uint8_t continuation_addr_count : 2; // 0x30
    };

    uint8_t all;
  };

  struct exc_info
  {
    attributes flags;
    uint32_t bbt_flags;
    relative_virtual_address<const uint8_t> unwind_graph;
    relative_virtual_address<const uint8_t> try_blocks;
    relative_virtual_address<const uint8_t> regions;
    relative_virtual_address<uint8_t*> primary_frame_ptr;
  };

  static int32_t read_int(const uint8_t** data) noexcept
  {
    // XXX alignment
    const int32_t result = *reinterpret_cast<const int32_t*>(*data);
    *data += 4;

    return result;
  }

  // delta decoding
  static uint32_t read_unsigned(const uint8_t** data) noexcept
  {
    const uint8_t enc_type{ static_cast<uint8_t>((*data)[0] & 0xf) };

    static constexpr uint8_t lengths[] =
    {
      1, 2, 1, 3, 1, 2, 1, 4, 1, 2, 1, 3, 1, 2, 1, 5,
    };

    static constexpr uint8_t shifts[] =
    {
      0x19, 0x12, 0x19, 0x0b, 0x19, 0x12, 0x19, 0x04,
      0x19, 0x12, 0x19, 0x0b, 0x19, 0x12, 0x19, 0x00,
    };

    const uint8_t length = lengths[enc_type];

    // XXX we're in UB land here
    uint32_t result{ *reinterpret_cast<const uint32_t*>(*data + length - 4) };
    result >>= shifts[enc_type];

    *data += length;
    return result;
  }

  template <typename Ty>
  static relative_virtual_address<Ty> read_rva(const uint8_t** data) noexcept
  {
    uint32_t offset = read_int(data);

    return relative_virtual_address<Ty>{offset};
  }

  struct unwind_edge
  {
    enum class type
    {
      trivial = 0,
      object_offset = 1,
      object_ptr_offset = 2,
      function = 3,
    };

    uint32_t target_offset;
    type target_type;
    relative_virtual_address<void()> destroy_fn;
    relative_virtual_address<void> object;

    static unwind_edge read(const uint8_t** p) noexcept
    {
      unwind_edge result;

      const uint32_t target_offset_and_type = read_unsigned(p);

      result.target_type = static_cast<unwind_edge::type>(target_offset_and_type & 3);
      result.target_offset = target_offset_and_type >> 2;
      result.destroy_fn = result.target_type != type::trivial ? read_rva<void()>(p) : 0;
      result.object = relative_virtual_address<void>(result.target_type == type::object_offset
        || result.target_type == type::object_ptr_offset ? read_unsigned(p) : 0);

      return result;
    }

    static void skip(const uint8_t** p) noexcept
    {
      (void)read(p);
    }
  };

  static int32_t lookup_region(const exc_info* eh_info, const uint8_t* image_base,
    relative_virtual_address<const uint8_t> fn, const uint8_t* control_pc) noexcept
  {
    if (!eh_info->regions)
    {
      return -1;
    }

    const auto pc = make_rva(control_pc, image_base + fn);
    const uint8_t* p = image_base + eh_info->regions;

    int32_t state = -1;
    const uint32_t region_count = read_unsigned(&p);
    relative_virtual_address<const uint8_t> fn_rva = 0;

    for (uint32_t idx = 0; idx != region_count; ++idx)
    {
      fn_rva += read_unsigned(&p);

      if (pc < fn_rva)
      {
        break;
      }

      state = read_unsigned(&p) - 1;
    }

    return state;
  }

  static void load_exception_info(exc_info& eh_info, const uint8_t* data, const uint8_t* image_base, const runtime_function& fn) noexcept
  {
    const attributes flags = { .all = *data++ };
    eh_info.flags = flags;

    if (flags.all & attributes{ .bbt = 1 }.all)
    {
      eh_info.bbt_flags = read_unsigned(&data);
    }

    if (flags.all & attributes{ .has_unwind_map = 1 }.all)
    {
      eh_info.unwind_graph = read_rva<const uint8_t>(&data);
    }

    if (flags.all & attributes{ .has_try_block_map = 1 }.all)
    {
      eh_info.try_blocks = read_rva<const uint8_t>(&data);
    }

    // Find the correct one if this is a separated segment
    if (flags.all & attributes{ .has_multiple_funclets = 1 }.all)
    {
      const uint8_t* funclet_map = image_base + read_rva<const uint8_t>(&data);

      const uint32_t count = read_unsigned(&funclet_map);

      // By default, an entry not found in the table corresponds to no
      // states associated with the segment
      eh_info.regions = 0;
      for (uint32_t idx = 0; idx != count; ++idx)
      {
        const auto fn_rva = read_rva<const void>(&funclet_map);
        const auto regions = read_rva<const uint8_t>(&funclet_map);

        if (fn_rva.value() == fn.begin.value())
        {
          eh_info.regions = regions;
          break;
        }
      }
    }
    // Otherwise, the table is directly encoded in the function info
    else
    {
      eh_info.regions = read_rva<const uint8_t>(&data);
    }

    if (flags.all & attributes{ .is_catch_funclet = 1 }.all)
    {
      eh_info.primary_frame_ptr = relative_virtual_address<uint8_t*>(read_unsigned(&data));
    }
  }

  void destroy_objects(const uint8_t* image_base, const relative_virtual_address<const uint8_t> unwind_graph_rva,
    uint8_t* frame_ptr, const int32_t initial_state, const int32_t final_state) noexcept
  {
    const uint8_t* unwind_graph = image_base + unwind_graph_rva;
    const uint32_t unwind_node_count = read_unsigned(&unwind_graph);

    if (initial_state < 0 || static_cast<uint32_t>(initial_state) >= unwind_node_count)
    {
      terminate({ hh::bug_check_codes::corrupted_eh_unwind_data, initial_state, unwind_node_count });
    }

    const uint8_t* current_edge = unwind_graph, * last_edge = current_edge;

    for (int32_t idx = 0; idx != initial_state; ++idx)
    {
      unwind_edge::skip(&current_edge);

      if (idx == final_state)
      {
        last_edge = current_edge;
      }
    }

    if (initial_state == final_state)
    {
      last_edge = current_edge;
    }

    for (;;)
    {
      const uint8_t* unwind_struct = current_edge;

      const uint32_t target_offset_and_type = read_unsigned(&unwind_struct);
      const uint32_t target_offset = target_offset_and_type >> 2;

      if (!target_offset)
      {
        terminate({ hh::bug_check_codes::corrupted_eh_unwind_data, initial_state, unwind_node_count, reinterpret_cast<int64_t>(current_edge) });
      }

      const auto edge_type = static_cast<unwind_edge::type>(target_offset_and_type & 3);
      switch (edge_type)
      {
        case unwind_edge::type::trivial:
        {
          break;
        }

        case unwind_edge::type::object_offset:
        {
          const auto destroy_fn = image_base + read_rva<void(uint8_t*)>(&unwind_struct);
          uint8_t* obj = frame_ptr + read_unsigned(&unwind_struct);
          destroy_fn(obj);

          break;
        }

        case unwind_edge::type::object_ptr_offset:
        {
          const auto destroy_fn = image_base + read_rva<void(uint8_t*)>(&unwind_struct);
          uint8_t* obj = *reinterpret_cast<uint8_t**>(frame_ptr + read_unsigned(&unwind_struct));
          destroy_fn(obj);

          break;
        }

        case unwind_edge::type::function:
        {
          const auto destroy_fn = image_base + read_rva<void(void*, uint8_t*)>(&unwind_struct);
          destroy_fn(reinterpret_cast<void*>(destroy_fn), frame_ptr);

          break;
        }
      }

      if (current_edge - last_edge < target_offset)
      {
        break;
      }

      current_edge -= target_offset;
    }
  }

  static exception_disposition fh(exception_record*, uint8_t* frame_ptr, x64_cpu_context*, dispatcher_context* ctx) noexcept
  {
    if (ctx->cookie == &rethrow_probe_cookie)
    {
      return exception_disposition::cxx_handler;
    }

    if (ctx->cookie != &unwind_cookie)
    {
      return exception_disposition::continue_search;
    }

    const uint8_t* image_base = ctx->pdata->image_base();
    throw_frame* throw_frame = ctx->throw_frame;
    catch_info& catch_info = throw_frame->catch_info;

    const auto* handler_data = static_cast<const gs4_data*>(ctx->extra_data);
    const uint8_t* compressed_data = image_base + handler_data->func_info;

    exc_info eh_info = {};
    load_exception_info(eh_info, compressed_data, image_base, *ctx->fn);

    uint8_t* primary_frame_ptr;
    int32_t initial_state;

    if (catch_info.primary_frame_ptr >= frame_ptr)
    {
      primary_frame_ptr = catch_info.primary_frame_ptr;
      initial_state = static_cast<int32_t>(catch_info.unwind_context);
    }
    else
    {
      initial_state = lookup_region(&eh_info, image_base, ctx->fn->begin, throw_frame->mach.rip);

      if (eh_info.flags.all & attributes{ .is_catch_funclet = 1 }.all)
      {
        primary_frame_ptr = *(frame_ptr + eh_info.primary_frame_ptr);
      }
      else
      {
        primary_frame_ptr = frame_ptr;
      }
    }

    int32_t target_state = -1;

    if (eh_info.try_blocks && initial_state >= 0)
    {
      const auto* throw_info = catch_info.get_throw_info();

      const uint8_t* p = image_base + eh_info.try_blocks;
      const uint32_t try_block_count = read_unsigned(&p);
      for (uint32_t try_block_idx = 0; try_block_idx != try_block_count; ++try_block_idx)
      {
        const uint32_t try_low = read_unsigned(&p);
        const uint32_t try_high = read_unsigned(&p);

        [[maybe_unused]] uint32_t catch_high = read_unsigned(&p);

        const auto handlers = read_rva<const uint8_t>(&p);

        if (try_low > static_cast<uint32_t>(initial_state) || static_cast<uint32_t>(initial_state) > try_high)
        {
          continue;
        }

        if (!throw_info)
        {
          probe_for_exception(*ctx->pdata, *throw_frame);
          throw_info = throw_frame->catch_info.get_throw_info();
        }

        const uint8_t* q{ image_base + handlers };
        const uint32_t handler_count = read_unsigned(&q);

        for (uint32_t handler_idx = 0; handler_idx != handler_count; ++handler_idx)
        {
          const catch_block_flag handler_flags = { .all = *q++ };
          const catch_flag type_flags =
          {
            (handler_flags.all & catch_block_flag{.has_type_flags = 1 }.all) ? catch_flag{.all = read_unsigned(&q) } : catch_flag{}
          };

          const relative_virtual_address<type_info const> type = handler_flags.all & catch_block_flag{ .has_type_info = 1 }.all
                                                                   ? read_rva<type_info const>(&q) : 0;

          const uint32_t continuation_addr_count = handler_flags.continuation_addr_count;

          const auto catch_var = handler_flags.all & catch_block_flag{ .has_catch_var = 1 }.all
            ? relative_virtual_address<void>{read_unsigned(&q)} : 0;

          const auto handler = read_rva<const uint8_t>(&q);

          if (handler_flags.all & catch_block_flag{ .image_rva = 1 }.all)
          {
            for (uint32_t k = 0; k != continuation_addr_count; ++k)
            {
              catch_info.continuation_address[k] = image_base + read_rva<const uint8_t>(&q);
            }
          }
          else
          {
            const uint8_t* fn = image_base + ctx->fn->begin;

            for (uint32_t k = 0; k != continuation_addr_count; ++k)
            {
              catch_info.continuation_address[k] = fn + read_unsigned(&q);
            }
          }

          if (process_catch_block(image_base, type_flags, image_base + type, primary_frame_ptr + catch_var,
            throw_frame->catch_info.get_exception_object(), *throw_info))
          {
            ctx->handler = image_base + handler;
            catch_info.primary_frame_ptr = primary_frame_ptr;
            target_state = try_low - 1;
            catch_info.unwind_context = target_state;

            break;
          }
        }

        if (ctx->handler)
        {
          break;
        }
      }
    }

    if (target_state < initial_state)
    {
      destroy_objects(image_base, eh_info.unwind_graph, frame_ptr, initial_state, target_state);
    }

    return exception_disposition::cxx_handler;
  }

  EXTERN_C exception_disposition __CxxFrameHandler4(exception_record* exc_record, uint8_t* frame_ptr,
    x64_cpu_context* cpu_ctx, dispatcher_context* dispatcher_ctx) noexcept
  {
    if (exc_record != &exc_record_cookie)
    {
      verify_seh_in_cxx_handler(exc_record->code, exc_record->address,
        exc_record->flags.all, dispatcher_ctx->fn->unwind_struct.value(), dispatcher_ctx->image_base);

      return exception_disposition::continue_search;
    }

    return fh(exc_record, frame_ptr, cpu_ctx, dispatcher_ctx);
  }

  EXTERN_C exception_disposition __GSHandlerCheck_EH4(exception_record* exc_record, uint8_t* frame_ptr,
    x64_cpu_context* cpu_ctx, dispatcher_context* ctx) noexcept
  {
    // No cookie check because driver will be manual mapped :)
    return __CxxFrameHandler4(exc_record, frame_ptr, cpu_ctx, ctx);
  }
}

```

`samples/template_app/globals.hpp`:

```hpp
#pragma once

namespace hh
{
  class memory_manager;

  namespace globals
  {
    inline bool boot_state = true;
    inline memory_manager* mem_manager = {};
    extern "C" unsigned char __ImageBase;
  }
}

```

`samples/template_app/main.cpp`:

```cpp
extern "C"
{
#include "..\..\edk2 libs\vshacks.h"
#include <Uefi.h>
#include <Library/UefiLib.h>
#include <Library/DebugLib.h>
#include <Library/MemoryAllocationLib.h>
#include <Library/BaseMemoryLib.h>
#include <Library/UefiBootServicesTableLib.h>
#include <Library/UefiRuntimeServicesTableLib.h>
#include <Library/ShellLib.h>
}

#include "uefi.hpp"
#include <new>
#include "memory_manager.hpp"
#include "type_info.hpp"
#include "common.hpp"
#include "globals.hpp"
#include <vector>

extern "C" EFI_GUID gEfiSampleDriverProtocolGuid = EFI_SAMPLE_DRIVER_PROTOCOL_GUID;

// We run on any UEFI Specification
extern "C" const UINT32 _gUefiDriverRevision = 0;

// Our name
extern "C" CHAR8 * gEfiCallerBaseName = const_cast<CHAR8*>("UEFI template app");

extern "C" EFI_STATUS EFIAPI UefiUnload(IN EFI_HANDLE ImageHandle)
{
  // This code should be compiled out and never called 

  return EFI_SUCCESS;
}

using namespace hh;

extern "C" EFI_STATUS EFIAPI UefiMain(IN EFI_HANDLE ImageHandle, IN EFI_SYSTEM_TABLE * SystemTable)
{
  dead_loop();

  globals::mem_manager = new tlsf_allocator{};

  {
    std::vector<int> nums;

    for (std::size_t j = 0; j < 1000; j++)
    {
      nums.push_back(j);
    }

    for (auto elem : nums)
    {
      Print(L"%d\n"_w, elem);
    }

    try
    {
      throw std::exception{ "test exception" };
    }
    catch (std::exception& e)
    {
      Print(L"%a\n"_w, e.what());
    }
  }

  delete globals::mem_manager;

  return EFI_SUCCESS;
}

```

`samples/template_app/memory_manager.hpp`:

```hpp
#pragma once
#include "delete_constructors.hpp"
#include "uefi.hpp"
#include "common.hpp"
#include "tlsf.h"
#include "globals.hpp"

namespace hh
{
  // Heap manager interface.
  class memory_manager abstract : non_relocatable
  {
  protected:
    volatile long spinlock_ = {};

  public:
    memory_manager() = default;
    virtual void* allocate(uint32_t allocation_size) = 0;
    virtual void* allocate_align(uint32_t allocation_size, std::align_val_t align) = 0;
    virtual void deallocate(void* ptr_to_allocation) = 0;
    virtual ~memory_manager() = default;
  };

  // Allocator with constant time allocation and deallocation. It fits perfectly for root mode allocations.
  template<unsigned int DefaultSize = common::page_size * 15000>
  class tlsf_allocator : public memory_manager
  {
  private:
    tlsf_t service_data_;
    size_t pool_size_;
    void* pool_ptr_;

  public:
    tlsf_allocator() : service_data_{}, pool_size_{ DefaultSize }, pool_ptr_{}
    {
      auto result = gBS->AllocatePool(EfiRuntimeServicesData, pool_size_, &pool_ptr_);

      if (EFI_ERROR(result))
      {
        throw std::exception{ "Failed to allocate pool for memory manager." };
      }

      service_data_ = tlsf_create_with_pool(pool_ptr_, pool_size_);
    }

    tlsf_allocator(size_t pool_size) : service_data_{}, pool_size_{ pool_size }, pool_ptr_{}
    {
      auto result = gBS->AllocatePool(EfiRuntimeServicesData, pool_size_, &pool_ptr_);

      if (EFI_ERROR(result))
      {
        throw std::exception{ __FUNCTION__": ""Failed to allocate pool for memory manager." };
      }

      service_data_ = tlsf_create_with_pool(pool_ptr_, pool_size_);
    }

    void* allocate(uint32_t allocation_size) noexcept override
    {
      common::spinlock_guard _{ &spinlock_ };
      return tlsf_malloc(service_data_, allocation_size);
    }

    void* allocate_align(uint32_t allocation_size, std::align_val_t align) noexcept override
    {
      common::spinlock_guard _{ &spinlock_ };
      return tlsf_memalign(service_data_, static_cast<size_t>(align), allocation_size);
    }

    void deallocate(void* ptr_to_allocation) noexcept override
    {
      common::spinlock_guard _{ &spinlock_ };
      tlsf_free(service_data_, ptr_to_allocation);
    }

    ~tlsf_allocator() noexcept override
    {
      if (globals::boot_state)
      {
        gBS->FreePool(pool_ptr_);
      }
    }
  };
}

```

`samples/template_app/template_app.vcxproj`:

```vcxproj
<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="DebugUEFI|Win32">
      <Configuration>DebugUEFI</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="DebugUEFI|x64">
      <Configuration>DebugUEFI</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>16.0</VCProjectVersion>
    <Keyword>Win32Proj</Keyword>
    <ProjectGuid>{8893fa1f-46fd-4ccc-9994-0729368d28fb}</ProjectGuid>
    <RootNamespace>helloworld</RootNamespace>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
    <ProjectName>template_app</ProjectName>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>Application</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>Application</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|Win32'" Label="Configuration">
    <ConfigurationType>Application</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>Application</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'" Label="Configuration">
    <ConfigurationType>Application</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>ClangCL</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
    <Import Project="$(VCTargetsPath)\BuildCustomizations\masm.props" />
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\samples.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\samples.props" />
  </ImportGroup>
  <ImportGroup Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|Win32'" Label="PropertySheets">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\samples.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\samples.props" />
  </ImportGroup>
  <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\samples.props" />
  </ImportGroup>
  <ImportGroup Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'" Label="PropertySheets">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
    <Import Project="..\samples.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <IncludePath>$(VC_IncludePath);$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <IncludePath>$(VC_IncludePath);$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|Win32'">
    <IncludePath>$(VC_IncludePath);$(IncludePath)</IncludePath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <IncludePath>$(VC_IncludePath);$(IncludePath);$(KM_IncludePath)</IncludePath>
    <LibraryPath>$(ProjectDir)..\..\edk2 libs\x64;$(ProjectDir)..\..\edk2 libs\x64\Release;$(LibraryPath)</LibraryPath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <IncludePath>$(IncludePath);</IncludePath>
    <LibraryPath>$(LibraryPath)</LibraryPath>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'">
    <IncludePath>$(IncludePath)</IncludePath>
    <LibraryPath>$(LibraryPath)</LibraryPath>
  </PropertyGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>WIN32;_DEBUG;_CONSOLE;%(PreprocessorDefinitions);_HAS_EXCEPTIONS=0;_AMD64_</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <LanguageStandard>stdcpplatest</LanguageStandard>
      <ExceptionHandling>Sync</ExceptionHandling>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <BasicRuntimeChecks />
      <RuntimeLibrary>
      </RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>EFI Application</SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
      <IgnoreAllDefaultLibraries>true</IgnoreAllDefaultLibraries>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_CONSOLE;%(PreprocessorDefinitions);_HAS_EXCEPTIONS=0;_AMD64_;_ITERATOR_DEBUG_LEVEL=0</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <LanguageStandard>stdcpplatest</LanguageStandard>
      <ExceptionHandling>Sync</ExceptionHandling>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>EFI Application</SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|Win32'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>WIN32;NDEBUG;_CONSOLE;%(PreprocessorDefinitions);_HAS_EXCEPTIONS=0;_AMD64_;_ITERATOR_DEBUG_LEVEL=0</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <LanguageStandard>stdcpplatest</LanguageStandard>
      <ExceptionHandling>Sync</ExceptionHandling>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>EFI Application</SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>_DEBUG;%(PreprocessorDefinitions);_HAS_EXCEPTIONS=0</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <LanguageStandard>stdcpplatest</LanguageStandard>
      <ExceptionHandling>Sync</ExceptionHandling>
      <RuntimeLibrary>
      </RuntimeLibrary>
      <BasicRuntimeChecks />
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <StructMemberAlignment>8Bytes</StructMemberAlignment>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <AdditionalOptions>/VERBOSE /Zc:sizedDealloc- %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>EFI Runtime</SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
      <IgnoreAllDefaultLibraries>true</IgnoreAllDefaultLibraries>
      <AdditionalDependencies>
      </AdditionalDependencies>
      <BaseAddress>0xD846000</BaseAddress>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>false</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_HAS_EXCEPTIONS=0;_AMD64_;AMD64;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <LanguageStandard>stdcpplatest</LanguageStandard>
      <ExceptionHandling>Sync</ExceptionHandling>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <InlineFunctionExpansion>OnlyExplicitInline</InlineFunctionExpansion>
      <ControlFlowGuard>false</ControlFlowGuard>
      <Optimization>MaxSpeed</Optimization>
      <OmitFramePointers>true</OmitFramePointers>
      <WholeProgramOptimization>false</WholeProgramOptimization>
      <StructMemberAlignment>8Bytes</StructMemberAlignment>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>EFI Runtime</SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
      <AdditionalDependencies>%(AdditionalDependencies)</AdditionalDependencies>
      <IgnoreAllDefaultLibraries>true</IgnoreAllDefaultLibraries>
      <BaseAddress>0xD846000</BaseAddress>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'">
    <ClCompile>
      <WarningLevel>Level3</WarningLevel>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>false</IntrinsicFunctions>
      <SDLCheck>false</SDLCheck>
      <PreprocessorDefinitions>NDEBUG;_HAS_EXCEPTIONS=0;_AMD64_;AMD64;HH_DEBUG=1;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ConformanceMode>true</ConformanceMode>
      <LanguageStandard>stdcpplatest</LanguageStandard>
      <ExceptionHandling>Sync</ExceptionHandling>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
      <ControlFlowGuard>false</ControlFlowGuard>
      <Optimization>Disabled</Optimization>
      <WholeProgramOptimization>false</WholeProgramOptimization>
      <StructMemberAlignment>8Bytes</StructMemberAlignment>
      <UndefinePreprocessorDefinitions>
      </UndefinePreprocessorDefinitions>
      <UndefineAllPreprocessorDefinitions>false</UndefineAllPreprocessorDefinitions>
      <AdditionalOptions>-gdwarf %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
    <Link>
      <SubSystem>EFI Runtime</SubSystem>
      <EnableCOMDATFolding>false</EnableCOMDATFolding>
      <OptimizeReferences>false</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
      <AdditionalDependencies>%(AdditionalDependencies)</AdditionalDependencies>
      <IgnoreAllDefaultLibraries>true</IgnoreAllDefaultLibraries>
      <LinkTimeCodeGeneration>Default</LinkTimeCodeGeneration>
      <BaseAddress>0xD846000</BaseAddress>
    </Link>
  </ItemDefinitionGroup>
  <ItemGroup>
    <ClCompile Include="common.cpp" />
    <ClCompile Include="cpp_support.cpp">
      <IntrinsicFunctions Condition="'$(Configuration)|$(Platform)'=='Release|x64'">false</IntrinsicFunctions>
      <IntrinsicFunctions Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'">false</IntrinsicFunctions>
      <WholeProgramOptimization Condition="'$(Configuration)|$(Platform)'=='Release|x64'">false</WholeProgramOptimization>
      <WholeProgramOptimization Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'">false</WholeProgramOptimization>
      <Optimization Condition="'$(Configuration)|$(Platform)'=='Release|x64'">MinSpace</Optimization>
      <Optimization Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'">MinSpace</Optimization>
    </ClCompile>
    <ClCompile Include="edk2_vars.c" />
    <ClCompile Include="efi_stub.cpp" />
    <ClCompile Include="exc_common.cpp" />
    <ClCompile Include="exc_dispatch.cpp" />
    <ClCompile Include="fh3.cpp" />
    <ClCompile Include="fh4.cpp" />
    <ClCompile Include="main.cpp" />
    <ClCompile Include="tlsf.c">
      <FileType>CppCode</FileType>
      <ExceptionHandling Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'">false</ExceptionHandling>
    </ClCompile>
    <ClCompile Include="type_info.cpp">
      <AdditionalOptions Condition="'$(Configuration)|$(Platform)'=='DebugUEFI|x64'">/GR- %(AdditionalOptions)</AdditionalOptions>
      <AdditionalOptions Condition="'$(Configuration)|$(Platform)'=='Release|x64'">/GR- %(AdditionalOptions)</AdditionalOptions>
    </ClCompile>
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="common.hpp" />
    <ClInclude Include="cpp_support.hpp" />
    <None Include="delete_constructors.hpp" />
    <None Include="drvproto.h" />
    <ClInclude Include="efi_stub.hpp" />
    <ClInclude Include="enum_to_str.hpp" />
    <ClInclude Include="exc_common.hpp" />
    <ClInclude Include="globals.hpp" />
    <ClInclude Include="memory_manager.hpp" />
    <ClInclude Include="tlsf.h" />
    <ClInclude Include="type_info.hpp" />
    <ClInclude Include="uefi.hpp" />
  </ItemGroup>
  <ItemGroup>
    <None Include=".editorconfig" />
    <MASM Include="throw_exception.asm">
      <FileType>Document</FileType>
    </MASM>
  </ItemGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
    <Import Project="$(VCTargetsPath)\BuildCustomizations\masm.targets" />
  </ImportGroup>
</Project>
```

`samples/template_app/template_app.vcxproj.filters`:

```filters
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <Filter Include="cpp">
      <UniqueIdentifier>{7b3ef7c6-4423-4c8c-8da7-3150d01619c7}</UniqueIdentifier>
    </Filter>
    <Filter Include="cpp\exceptions">
      <UniqueIdentifier>{a40113f2-974b-4fe6-9c10-0f1d12d4cfac}</UniqueIdentifier>
    </Filter>
    <Filter Include="tools">
      <UniqueIdentifier>{84709543-5a40-4890-8851-68a480580b03}</UniqueIdentifier>
    </Filter>
    <Filter Include="core">
      <UniqueIdentifier>{ee0705a1-d45b-48cc-853e-2f411e6c4c0c}</UniqueIdentifier>
    </Filter>
    <Filter Include="vshacks">
      <UniqueIdentifier>{faad686f-fc0d-438d-8356-ba5c7c50256f}</UniqueIdentifier>
    </Filter>
    <Filter Include="core\headers">
      <UniqueIdentifier>{9900e616-7951-4b4f-a70e-dd8dbcc34eac}</UniqueIdentifier>
    </Filter>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="main.cpp">
      <Filter>core</Filter>
    </ClCompile>
    <ClCompile Include="edk2_vars.c">
      <Filter>vshacks</Filter>
    </ClCompile>
    <ClCompile Include="exc_common.cpp">
      <Filter>cpp\exceptions</Filter>
    </ClCompile>
    <ClCompile Include="exc_dispatch.cpp">
      <Filter>cpp\exceptions</Filter>
    </ClCompile>
    <ClCompile Include="fh4.cpp">
      <Filter>cpp\exceptions</Filter>
    </ClCompile>
    <ClCompile Include="type_info.cpp">
      <Filter>cpp\exceptions</Filter>
    </ClCompile>
    <ClCompile Include="cpp_support.cpp">
      <Filter>cpp</Filter>
    </ClCompile>
    <ClCompile Include="efi_stub.cpp">
      <Filter>cpp</Filter>
    </ClCompile>
    <ClCompile Include="fh3.cpp">
      <Filter>cpp\exceptions</Filter>
    </ClCompile>
    <ClCompile Include="common.cpp">
      <Filter>tools</Filter>
    </ClCompile>
    <ClCompile Include="tlsf.c">
      <Filter>core</Filter>
    </ClCompile>
  </ItemGroup>
  <ItemGroup>
    <None Include=".editorconfig" />
    <None Include="delete_constructors.hpp">
      <Filter>tools</Filter>
    </None>
    <None Include="drvproto.h">
      <Filter>core\headers</Filter>
    </None>
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="efi_stub.hpp">
      <Filter>cpp</Filter>
    </ClInclude>
    <ClInclude Include="uefi.hpp">
      <Filter>cpp</Filter>
    </ClInclude>
    <ClInclude Include="cpp_support.hpp">
      <Filter>cpp</Filter>
    </ClInclude>
    <ClInclude Include="type_info.hpp">
      <Filter>cpp\exceptions</Filter>
    </ClInclude>
    <ClInclude Include="exc_common.hpp">
      <Filter>cpp\exceptions</Filter>
    </ClInclude>
    <ClInclude Include="common.hpp">
      <Filter>tools</Filter>
    </ClInclude>
    <ClInclude Include="memory_manager.hpp">
      <Filter>core\headers</Filter>
    </ClInclude>
    <ClInclude Include="tlsf.h">
      <Filter>core\headers</Filter>
    </ClInclude>
    <ClInclude Include="globals.hpp">
      <Filter>core\headers</Filter>
    </ClInclude>
    <ClInclude Include="enum_to_str.hpp">
      <Filter>core\headers</Filter>
    </ClInclude>
  </ItemGroup>
  <ItemGroup>
    <MASM Include="throw_exception.asm">
      <Filter>cpp\exceptions</Filter>
    </MASM>
  </ItemGroup>
</Project>
```

`samples/template_app/throw_exception.asm`:

```asm
; Licensed under the MIT License <http://opensource.org/licenses/MIT>.
; Copyright (c) 2019-2021 Martin Vejnar (avakar)
; Thanks to https://github.com/avakar/vcrtl

extern __cxx_dispatch_exception: proc
extern __cxx_destroy_exception: proc
extern __cxx_seh_frame_handler: proc
extern __cxx_call_catch_frame_handler: proc

; The stack frame of `__CxxThrowException` always contains
; the catch info structure defined below. During the unwind,
; the referenced exception object may be destroyed, or reused
; in case of a rethrow. Furthermore, the `primary_frame_ptr` and
; `unwind_context` are captured and can be used by the next C++ frame handler.

catch_info_t struct
	cont_addr_0              qword ?
	cont_addr_1              qword ?
	primary_frame_ptr        qword ?
	exception_object_or_link qword ?
	throw_info_if_owner      qword ?
	unwind_context           qword ?
catch_info_t ends

; The __CxxThrowException allocates `throw_fr` as its frame. This is
; a fairly large structure containing the non-volatile context of the calling
; function. `rip` and `rsp` are layed out in a machine frame format, so that
; they can be applied by the `iretq` instruction.
;
; The context starts out marked by `.allocstack`. However, once the context is
; unwound, the execution falls through to different funclet, in which the same
; frame structure is marked with `.pushframe` and a bunch of `.pushreg`s.
; At that point, it is safe to modify non-volatile registers -- this is the
; point at which the context is applied, save the machine frame.
;
; After that, through another fallthrough, the frame is transformed into
; a `catch_fr`, which is significantly smaller. `catch_info` and the machine
; frame stay in the same place. The exception object's copy constructor and
; then the catch handler funclet are called on top of this smaller stack.
;
; The stack looks like this.
;
;     /---------------------------\
;     | catch funclet             |
;     +---------------------------+
;     | __cxx_call_catch_handler  |
;     |                           |
;     | catch_fr:                 |
;     | 0x00: red zone            |
;     | 0x20: machine frame       |
;     | 0x48: catch info          |
;     | 0x68: contents of the     |
;     |       unwound frames,     |
;     |       including the live  |
;     |       exception object    |
;     +---------------------------+
;     | some other funclet        |
;     +---------------------------+
;     |                           |
;
; The catch funclet returns the address at which the execution should continue
; in the lower frame. We therefore update the `rip` in the machine frame
; and then `iretq`. This leaves the stack in the following state.
;
;     /---------------------------\
;     | some other funclet        |
;     +---------------------------+
;     |                           |

throw_fr struct
	p1 qword ?
	p2 qword ?
	p3 qword ?
	p4 qword ?

	$xmm6  oword ?		; 0x40
	$xmm7  oword ?		; 0x50
	$xmm8  oword ?		; 0x60
	$xmm9  oword ?		; 0x70
	$xmm10 oword ?		; 0x80
	$xmm11 oword ?		; 0x90
	$xmm12 oword ?		; 0xa0
	$xmm13 oword ?		; 0xb0
	$xmm14 oword ?		; 0xc0

	$padding1	qword ?	; 0xd0
	$dummy_rsp  qword ?	; 0xd8, used in _CONTEXT: 0x98

	$xmm15 oword ?		; 0xf0

	$rbx   qword ?		; 0x00
	$rbp   qword ?		; 0x08
	$rsi   qword ?		; 0x10
	$rdi   qword ?		; 0x18
	$r12   qword ?		; 0x20
	$r13   qword ?		; 0x28
	$r14   qword ?		; 0x30
	$r15   qword ?		; 0x38

	$padding2  qword ?		; 0x40
	$dummy_rip qword ?		; 0x48, used in _CONTEXT: 0xf8

	$rip   qword ?
	$cs    qword ?
	eflags qword ?
	$rsp   qword ?
	$ss    qword ?

	catch_info catch_info_t <>
throw_fr ends

catch_fr struct
	p1 qword ?
	p2 qword ?
	p3 qword ?
	p4 qword ?

	$rip   qword ?
	$cs    qword ?
	eflags qword ?
	$rsp   qword ?
	$ss    qword ?

	catch_info catch_info_t <>
catch_fr ends

.code

_CxxThrowException proc public frame: __cxx_seh_frame_handler
	; We receive two arguments, the pointer to the exception object
	; and a const pointer to `cxx_throw_info`. In case of a rethrow,
	; both of these are null.
	;
	; We need to
	;
	;  * walk the stack in the search of a catch handler,
	;  * unwind the frames along the way,
	;  * construct the catch variable for the handler (if any),
	;  * call the handler, and
	;  * destroy the exception object, unless another frame owns it.
	;
	; Most of the work is done by `__cxx_dispatch_exception`, which unwinds
	; the stack and fills in a catch info structure containing
	; everything we need to construct the catch var, call the handler,
	; and destroy the exception object.
	;
	; We must capture our caller's non-volatile context, then reapply it
	; after it is modified by the dispatcher.
	;
	; The layout of `throw_fr` is purpusfully made to contain a machine context
	; so that we can `iretq` to free the stack while keeping the .pdata-based
	; callstack valid at every point during the exception handling.

	mov r10, [rsp]
	lea r11, [rsp + 8]

	sub rsp, (sizeof throw_fr) - throw_fr.catch_info
	.allocstack (sizeof throw_fr) - throw_fr.catch_info

	; We'll be filling the frame gradually to keep rsp offsets small
	; and thus to keep the opcodes small.

	mov eax, ss
	push rax
	.allocstack 8

	push r11
	.allocstack 8

	pushfq
	.allocstack 8

	mov eax, cs
	push rax
	.allocstack 8

	push r10
	.allocstack 8

	sub rsp, 16     ; Skipping dummy_rip and padding2
	.allocstack 16

	push r15
	.allocstack 8
	push r14
	.allocstack 8
	push r13
	.allocstack 8
	push r12
	.allocstack 8
	push rdi
	.allocstack 8
	push rsi
	.allocstack 8
	push rbp
	.allocstack 8
	push rbx
	.allocstack 8

	sub rsp, throw_fr.$rbx
	.allocstack throw_fr.$rbx
.endprolog

	; We index via `rax`, which points into the middle of the xmm context.
	; This makes the offset fit in a signed uint8_t, making the opcodes shorter.
	base = throw_fr.$xmm11
	lea rax, [rsp + base]
	movdqa [rax - base + throw_fr.$xmm6], xmm6
	movdqa [rax - base + throw_fr.$xmm7], xmm7
	movdqa [rax - base + throw_fr.$xmm8], xmm8
	movdqa [rax - base + throw_fr.$xmm9], xmm9
	movdqa [rax - base + throw_fr.$xmm10], xmm10
	movdqa [rax - base + throw_fr.$xmm11], xmm11
	movdqa [rax - base + throw_fr.$xmm12], xmm12
	movdqa [rax - base + throw_fr.$xmm13], xmm13
	movdqa [rax - base + throw_fr.$xmm14], xmm14
	movdqa [rax - base + throw_fr.$xmm15], xmm15


	; The dispatcher walks the function frames on the stack and looks for
	; the C++ catch handler. During the walk it unwinds the frames.
	; If the handler is not found, the dispatcher MUST never return,
	; it should assert or bugcheck or whatever.
	;
	; Once the target frame is found and potentially partially unwound,
	; the dispatcher will construct the catch variable, if any.
	;
	; The function should be marked `noexcept` to make sure that a throw
	; in one of the destructors causes `std::terminate`, instead of
	; unwinding already unwound frames.
	;
	; The dispatcher receives as arguments
	;
	;  * the pointer to the exception object to throw,
	;  * the pointer to read-only `cxx_throw_info` structure,
	;  * the pointer to the throw frame object we just partially filled in.
	;
	;  Note that nothing except for the captured context is initialized.
	;
	;  Here, `rcx` and `rdx` are already filled by our caller.

	lea r8, [rsp]
	call __cxx_dispatch_exception

	; Here, `rax` contains the address of the catch handler funclet we'll be
	; calling later. We eventually need to move it to `rcx` for NLG notification
	; and it makes sense to do it here, since we need at least one more
	; instruction in this .pdata context.

	mov rcx, rax

	; Now that the dispatcher returned, the non-volatile context should be
	; modified to that of the catcher's frame and all the fields should be
	; filled in. We can now reclain some stack space, but we must keep
	; the exception object, which lives in the thrower's frame, alive.
	; Since the thrower is right below us, the best we can do is make our own
	; stack smaller.
	;
	; As such, we now immediately apply the non-volatile context and
	; free it from the stack, except for the machine frame. Given our .pdata
	; context, we mustn't modify non-volatile registers here. Instead, we fall
	; through to another funclet with a different .pdata setup.
_CxxThrowException endp

__cxx_eh_apply_context proc private frame: __cxx_seh_frame_handler
	; This function expects its frame to have already been allocated and that
	; essentially means that it shouldn't really be called.
	;
	; The .pdata for this function is setup so that the non-volatile context
	; filled in by the previous funclet is considered when walking the stack.
	; Through `.pushframe`, all stack frames above the catcher's become
	; part of our frame. All exceptions thrown from now on will not
	; unwind any unwound frames again. Futhermore, we can write
	; into the non-volatile registers without it affecting the callstack.
.pushframe
.pushreg r15
.pushreg r14
.pushreg r13
.pushreg r12
.pushreg rdi
.pushreg rsi
.pushreg rbp
.pushreg rbx
.allocstack throw_fr.$rbx
.savexmm128 xmm6, throw_fr.$xmm6
.savexmm128 xmm7, throw_fr.$xmm7
.savexmm128 xmm8, throw_fr.$xmm8
.savexmm128 xmm9, throw_fr.$xmm9
.savexmm128 xmm10, throw_fr.$xmm10
.savexmm128 xmm11, throw_fr.$xmm11
.savexmm128 xmm12, throw_fr.$xmm12
.savexmm128 xmm13, throw_fr.$xmm13
.savexmm128 xmm14, throw_fr.$xmm14
.savexmm128 xmm15, throw_fr.$xmm15
.endprolog

	base = throw_fr.$xmm11
	lea rax, [rsp + base]
	movdqa xmm6, [rax - base + throw_fr.$xmm6]
	movdqa xmm7, [rax - base + throw_fr.$xmm7]
	movdqa xmm8, [rax - base + throw_fr.$xmm8]
	movdqa xmm9, [rax - base + throw_fr.$xmm9]
	movdqa xmm10, [rax - base + throw_fr.$xmm10]
	movdqa xmm11, [rax - base + throw_fr.$xmm11]
	movdqa xmm12, [rax - base + throw_fr.$xmm12]
	movdqa xmm13, [rax - base + throw_fr.$xmm13]
	movdqa xmm14, [rax - base + throw_fr.$xmm14]
	movdqa xmm15, [rax - base + throw_fr.$xmm15]

	base = throw_fr.$rdi
	lea rax, [rax + base - throw_fr.$xmm11]
	mov rbx, [rax - base + throw_fr.$rbx]
	mov rbp, [rax - base + throw_fr.$rbp]
	mov rsi, [rax - base + throw_fr.$rsi]
	mov rdi, [rax - base + throw_fr.$rdi]
	mov r12, [rax - base + throw_fr.$r12]
	mov r13, [rax - base + throw_fr.$r13]
	mov r14, [rax - base + throw_fr.$r14]
	mov r15, [rax - base + throw_fr.$r15]

	; The following instruction will turn `throw_fr` into `catch_fr`,
	; essentially removing the non-volatile context, which has already been
	; applied, from the stack. Since we're moving the frame pointer, we must
	; change .pdata again.

	lea rsp, [rax - base + (sizeof throw_fr) - (sizeof catch_fr)]
__cxx_eh_apply_context endp

__cxx_call_catch_handler proc public frame: __cxx_call_catch_frame_handler
.pushframe
.allocstack catch_fr.$rip
.endprolog
	; We now have a small frame, so we can call the handler. Everything can
	; throw now and our frame handler must be ready to free the exception
	; object if it happens.
	;
	; It's unclear why the handler expects the frame pointer in `rdx` rather
	; than `rcx`. The Microsoft's implementation leave the handler's function
	; pointer in `rcx`, so we're going to follow suit, just to be sure.

	mov rdx, [rsp + catch_fr.catch_info.primary_frame_ptr]
	mov r8, 1
	call rcx

	; The handler returns the continuation address. Apply it to the machine
	; frame; this changes the callstack.

	cmp rax, 1
	ja _direct_continuation_address
	mov rax, [rsp + catch_fr.catch_info.cont_addr_0 + 8*rax]
_direct_continuation_address:

	mov [rsp + catch_fr.$rip], rax

	mov rcx, rax
	mov rdx, [rsp + catch_fr.catch_info.primary_frame_ptr]
	mov r8, 2

	; One more change of the current .pdata entry. Although
	; `__cxx_destroy_exception` is noexcept, we don't want any rethrow
	; probes to look at our frame while the exception object is being
	; destroyed.
__cxx_call_catch_handler endp

__cxx_call_exception_destructor proc private frame: __cxx_seh_frame_handler
.pushframe
.allocstack catch_fr.$rip
.endprolog
	; Now destroy the exception object.

	lea rcx, [rsp + catch_fr.catch_info]
	call __cxx_destroy_exception

	; We'd love to iretq here, but as usual, the deallocation of our frame
	; moves `rsp` and `iretq` can't be in the function's epilog.
	; One last switch of the .pdata context is necessary.

	add rsp, catch_fr.$rip
__cxx_call_exception_destructor endp

__cxx_continue_after_exception proc frame: __cxx_seh_frame_handler
.pushframe
.endprolog
	iretq
__cxx_continue_after_exception endp

end

```

`samples/template_app/tlsf.c`:

```c
#include <assert.h>
#include <limits.h>
#include <stddef.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "tlsf.h"

#if defined(__cplusplus)
#define tlsf_decl inline
#else
#define tlsf_decl static
#endif

/*
** Architecture-specific bit manipulation routines.
**
** TLSF achieves O(1) cost for malloc and free operations by limiting
** the search for a free block to a free list of guaranteed size
** adequate to fulfill the request, combined with efficient free list
** queries using bitmasks and architecture-specific bit-manipulation
** routines.
**
** Most modern processors provide instructions to count leading zeroes
** in a word, find the lowest and highest set bit, etc. These
** specific implementations will be used when available, falling back
** to a reasonably efficient generic implementation.
**
** NOTE: TLSF spec relies on ffs/fls returning value 0..31.
** ffs/fls return 1-32 by default, returning 0 for error.
*/

/*
** Detect whether or not we are building for a 32- or 64-bit (LP/LLP)
** architecture. There is no reliable portable method at compile-time.
*/
#if defined (__alpha__) || defined (__ia64__) || defined (__x86_64__) \
	|| defined (_WIN64) || defined (__LP64__) || defined (__LLP64__)
#define TLSF_64BIT
#endif

/*
** gcc 3.4 and above have builtin support, specialized for architecture.
** Some compilers masquerade as gcc; patchlevel test filters them out.
*/
#if defined (__GNUC__) && (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4)) \
	&& defined (__GNUC_PATCHLEVEL__)

#if defined (__SNC__)
/* SNC for Playstation 3. */

tlsf_decl int tlsf_ffs(unsigned int word)
{
	const unsigned int reverse = word & (~word + 1);
	const int bit = 32 - __builtin_clz(reverse);
	return bit - 1;
}

#else

tlsf_decl int tlsf_ffs(unsigned int word)
{
	return __builtin_ffs(word) - 1;
}

#endif

tlsf_decl int tlsf_fls(unsigned int word)
{
	const int bit = word ? 32 - __builtin_clz(word) : 0;
	return bit - 1;
}

#elif defined (_MSC_VER) && (_MSC_VER >= 1400) && (defined (_M_IX86) || defined (_M_X64))
/* Microsoft Visual C++ support on x86/X64 architectures. */

#include <intrin.h>

#pragma intrinsic(_BitScanReverse)
#pragma intrinsic(_BitScanForward)

tlsf_decl int tlsf_fls(unsigned int word)
{
	unsigned long index;
	return _BitScanReverse(&index, word) ? index : -1;
}

tlsf_decl int tlsf_ffs(unsigned int word)
{
	unsigned long index;
	return _BitScanForward(&index, word) ? index : -1;
}

#elif defined (_MSC_VER) && defined (_M_PPC)
/* Microsoft Visual C++ support on PowerPC architectures. */

#include <ppcintrinsics.h>

tlsf_decl int tlsf_fls(unsigned int word)
{
	const int bit = 32 - _CountLeadingZeros(word);
	return bit - 1;
}

tlsf_decl int tlsf_ffs(unsigned int word)
{
	const unsigned int reverse = word & (~word + 1);
	const int bit = 32 - _CountLeadingZeros(reverse);
	return bit - 1;
}

#elif defined (__ARMCC_VERSION)
/* RealView Compilation Tools for ARM */

tlsf_decl int tlsf_ffs(unsigned int word)
{
	const unsigned int reverse = word & (~word + 1);
	const int bit = 32 - __clz(reverse);
	return bit - 1;
}

tlsf_decl int tlsf_fls(unsigned int word)
{
	const int bit = word ? 32 - __clz(word) : 0;
	return bit - 1;
}

#elif defined (__ghs__)
/* Green Hills support for PowerPC */

#include <ppc_ghs.h>

tlsf_decl int tlsf_ffs(unsigned int word)
{
	const unsigned int reverse = word & (~word + 1);
	const int bit = 32 - __CLZ32(reverse);
	return bit - 1;
}

tlsf_decl int tlsf_fls(unsigned int word)
{
	const int bit = word ? 32 - __CLZ32(word) : 0;
	return bit - 1;
}

#else
/* Fall back to generic implementation. */

tlsf_decl int tlsf_fls_generic(unsigned int word)
{
	int bit = 32;

	if (!word) bit -= 1;
	if (!(word & 0xffff0000)) { word <<= 16; bit -= 16; }
	if (!(word & 0xff000000)) { word <<= 8; bit -= 8; }
	if (!(word & 0xf0000000)) { word <<= 4; bit -= 4; }
	if (!(word & 0xc0000000)) { word <<= 2; bit -= 2; }
	if (!(word & 0x80000000)) { word <<= 1; bit -= 1; }

	return bit;
}

/* Implement ffs in terms of fls. */
tlsf_decl int tlsf_ffs(unsigned int word)
{
	return tlsf_fls_generic(word & (~word + 1)) - 1;
}

tlsf_decl int tlsf_fls(unsigned int word)
{
	return tlsf_fls_generic(word) - 1;
}

#endif

/* Possibly 64-bit version of tlsf_fls. */
#if defined (TLSF_64BIT)
tlsf_decl int tlsf_fls_sizet(size_t size)
{
	int high = (int)(size >> 32);
	int bits = 0;
	if (high)
	{
		bits = 32 + tlsf_fls(high);
	}
	else
	{
		bits = tlsf_fls((int)size & 0xffffffff);

	}
	return bits;
}
#else
#define tlsf_fls_sizet tlsf_fls
#endif

#undef tlsf_decl

/*
** Constants.
*/

/* Public constants: may be modified. */
enum tlsf_public
{
	/* log2 of number of linear subdivisions of block sizes. Larger
	** values require more memory in the control structure. Values of
	** 4 or 5 are typical.
	*/
	SL_INDEX_COUNT_LOG2 = 5,
};

/* Private constants: do not modify. */
enum tlsf_private
{
#if defined (TLSF_64BIT)
	/* All allocation sizes and addresses are aligned to 8 bytes. */
	ALIGN_SIZE_LOG2 = 3,
#else
	/* All allocation sizes and addresses are aligned to 4 bytes. */
	ALIGN_SIZE_LOG2 = 2,
#endif
	ALIGN_SIZE = (1 << ALIGN_SIZE_LOG2),

	/*
	** We support allocations of sizes up to (1 << FL_INDEX_MAX) bits.
	** However, because we linearly subdivide the second-level lists, and
	** our minimum size granularity is 4 bytes, it doesn't make sense to
	** create first-level lists for sizes smaller than SL_INDEX_COUNT * 4,
	** or (1 << (SL_INDEX_COUNT_LOG2 + 2)) bytes, as there we will be
	** trying to split size ranges into more slots than we have available.
	** Instead, we calculate the minimum threshold size, and place all
	** blocks below that size into the 0th first-level list.
	*/

#if defined (TLSF_64BIT)
	/*
	** TODO: We can increase this to support larger sizes, at the expense
	** of more overhead in the TLSF structure.
	*/
	FL_INDEX_MAX = 32,
#else
	FL_INDEX_MAX = 30,
#endif
	SL_INDEX_COUNT = (1 << SL_INDEX_COUNT_LOG2),
	FL_INDEX_SHIFT = (SL_INDEX_COUNT_LOG2 + ALIGN_SIZE_LOG2),
	FL_INDEX_COUNT = (FL_INDEX_MAX - FL_INDEX_SHIFT + 1),

	SMALL_BLOCK_SIZE = (1 << FL_INDEX_SHIFT),
};

/*
** Cast and min/max macros.
*/

#define tlsf_cast(t, exp)	((t) (exp))
#define tlsf_min(a, b)		((a) < (b) ? (a) : (b))
#define tlsf_max(a, b)		((a) > (b) ? (a) : (b))

/*
** Set assert macro, if it has not been provided by the user.
*/
#if !defined (tlsf_assert)
#define tlsf_assert assert
#endif

/*
** Static assertion mechanism.
*/

#define _tlsf_glue2(x, y) x ## y
#define _tlsf_glue(x, y) _tlsf_glue2(x, y)
#define tlsf_static_assert(exp) \
	typedef char _tlsf_glue(static_assert, __LINE__) [(exp) ? 1 : -1]

/* This code has been tested on 32- and 64-bit (LP/LLP) architectures. */
tlsf_static_assert(sizeof(int) * CHAR_BIT == 32);
tlsf_static_assert(sizeof(size_t) * CHAR_BIT >= 32);
tlsf_static_assert(sizeof(size_t) * CHAR_BIT <= 64);

/* SL_INDEX_COUNT must be <= number of bits in sl_bitmap's storage type. */
tlsf_static_assert(sizeof(unsigned int) * CHAR_BIT >= SL_INDEX_COUNT);

/* Ensure we've properly tuned our sizes. */
tlsf_static_assert(ALIGN_SIZE == SMALL_BLOCK_SIZE / SL_INDEX_COUNT);

/*
** Data structures and associated constants.
*/

/*
** Block header structure.
**
** There are several implementation subtleties involved:
** - The prev_phys_block field is only valid if the previous block is free.
** - The prev_phys_block field is actually stored at the end of the
**   previous block. It appears at the beginning of this structure only to
**   simplify the implementation.
** - The next_free / prev_free fields are only valid if the block is free.
*/
typedef struct block_header_t
{
	/* Points to the previous physical block. */
	struct block_header_t* prev_phys_block;

	/* The size of this block, excluding the block header. */
	size_t size;

	/* Next and previous free blocks. */
	struct block_header_t* next_free;
	struct block_header_t* prev_free;
} block_header_t;

/*
** Since block sizes are always at least a multiple of 4, the two least
** significant bits of the size field are used to store the block status:
** - bit 0: whether block is busy or free
** - bit 1: whether previous block is busy or free
*/
static const size_t block_header_free_bit = 1 << 0;
static const size_t block_header_prev_free_bit = 1 << 1;

/*
** The size of the block header exposed to used blocks is the size field.
** The prev_phys_block field is stored *inside* the previous free block.
*/
static const size_t block_header_overhead = sizeof(size_t);

/* User data starts directly after the size field in a used block. */
static const size_t block_start_offset =
	offsetof(block_header_t, size) + sizeof(size_t);

/*
** A free block must be large enough to store its header minus the size of
** the prev_phys_block field, and no larger than the number of addressable
** bits for FL_INDEX.
*/
static const size_t block_size_min = 
	sizeof(block_header_t) - sizeof(block_header_t*);
static const size_t block_size_max = tlsf_cast(size_t, 1) << FL_INDEX_MAX;


/* The TLSF control structure. */
typedef struct control_t
{
	/* Empty lists point at this block to indicate they are free. */
	block_header_t block_null;

	/* Bitmaps for free lists. */
	unsigned int fl_bitmap;
	unsigned int sl_bitmap[FL_INDEX_COUNT];

	/* Head of free lists. */
	block_header_t* blocks[FL_INDEX_COUNT][SL_INDEX_COUNT];
} control_t;

/* A type used for casting when doing pointer arithmetic. */
typedef ptrdiff_t tlsfptr_t;

/*
** block_header_t member functions.
*/

static size_t block_size(const block_header_t* block)
{
	return block->size & ~(block_header_free_bit | block_header_prev_free_bit);
}

static void block_set_size(block_header_t* block, size_t size)
{
	const size_t oldsize = block->size;
	block->size = size | (oldsize & (block_header_free_bit | block_header_prev_free_bit));
}

static int block_is_last(const block_header_t* block)
{
	return block_size(block) == 0;
}

static int block_is_free(const block_header_t* block)
{
	return tlsf_cast(int, block->size & block_header_free_bit);
}

static void block_set_free(block_header_t* block)
{
	block->size |= block_header_free_bit;
}

static void block_set_used(block_header_t* block)
{
	block->size &= ~block_header_free_bit;
}

static int block_is_prev_free(const block_header_t* block)
{
	return tlsf_cast(int, block->size & block_header_prev_free_bit);
}

static void block_set_prev_free(block_header_t* block)
{
	block->size |= block_header_prev_free_bit;
}

static void block_set_prev_used(block_header_t* block)
{
	block->size &= ~block_header_prev_free_bit;
}

static block_header_t* block_from_ptr(const void* ptr)
{
	return tlsf_cast(block_header_t*,
		tlsf_cast(unsigned char*, ptr) - block_start_offset);
}

static void* block_to_ptr(const block_header_t* block)
{
	return tlsf_cast(void*,
		tlsf_cast(unsigned char*, block) + block_start_offset);
}

/* Return location of next block after block of given size. */
static block_header_t* offset_to_block(const void* ptr, size_t size)
{
	return tlsf_cast(block_header_t*, tlsf_cast(tlsfptr_t, ptr) + size);
}

/* Return location of previous block. */
static block_header_t* block_prev(const block_header_t* block)
{
	tlsf_assert(block_is_prev_free(block) && "previous block must be free");
	return block->prev_phys_block;
}

/* Return location of next existing block. */
static block_header_t* block_next(const block_header_t* block)
{
	block_header_t* next = offset_to_block(block_to_ptr(block),
		block_size(block) - block_header_overhead);
	tlsf_assert(!block_is_last(block));
	return next;
}

/* Link a new block with its physical neighbor, return the neighbor. */
static block_header_t* block_link_next(block_header_t* block)
{
	block_header_t* next = block_next(block);
	next->prev_phys_block = block;
	return next;
}

static void block_mark_as_free(block_header_t* block)
{
	/* Link the block to the next block, first. */
	block_header_t* next = block_link_next(block);
	block_set_prev_free(next);
	block_set_free(block);
}

static void block_mark_as_used(block_header_t* block)
{
	block_header_t* next = block_next(block);
	block_set_prev_used(next);
	block_set_used(block);
}

static size_t align_up(size_t x, size_t align)
{
	tlsf_assert(0 == (align & (align - 1)) && "must align to a power of two");
	return (x + (align - 1)) & ~(align - 1);
}

static size_t align_down(size_t x, size_t align)
{
	tlsf_assert(0 == (align & (align - 1)) && "must align to a power of two");
	return x - (x & (align - 1));
}

static void* align_ptr(const void* ptr, size_t align)
{
	const tlsfptr_t aligned =
		(tlsf_cast(tlsfptr_t, ptr) + (align - 1)) & ~(align - 1);
	tlsf_assert(0 == (align & (align - 1)) && "must align to a power of two");
	return tlsf_cast(void*, aligned);
}

/*
** Adjust an allocation size to be aligned to word size, and no smaller
** than internal minimum.
*/
static size_t adjust_request_size(size_t size, size_t align)
{
	size_t adjust = 0;
	if (size)
	{
		const size_t aligned = align_up(size, align);

		/* aligned sized must not exceed block_size_max or we'll go out of bounds on sl_bitmap */
		if (aligned < block_size_max) 
		{
			adjust = tlsf_max(aligned, block_size_min);
		}
	}
	return adjust;
}

/*
** TLSF utility functions. In most cases, these are direct translations of
** the documentation found in the white paper.
*/

static void mapping_insert(size_t size, int* fli, int* sli)
{
	int fl, sl;
	if (size < SMALL_BLOCK_SIZE)
	{
		/* Store small blocks in first list. */
		fl = 0;
		sl = tlsf_cast(int, size) / (SMALL_BLOCK_SIZE / SL_INDEX_COUNT);
	}
	else
	{
		fl = tlsf_fls_sizet(size);
		sl = tlsf_cast(int, size >> (fl - SL_INDEX_COUNT_LOG2)) ^ (1 << SL_INDEX_COUNT_LOG2);
		fl -= (FL_INDEX_SHIFT - 1);
	}
	*fli = fl;
	*sli = sl;
}

/* This version rounds up to the next block size (for allocations) */
static void mapping_search(size_t size, int* fli, int* sli)
{
	if (size >= SMALL_BLOCK_SIZE)
	{
		const size_t round = (1 << (tlsf_fls_sizet(size) - SL_INDEX_COUNT_LOG2)) - 1;
		size += round;
	}
	mapping_insert(size, fli, sli);
}

static block_header_t* search_suitable_block(control_t* control, int* fli, int* sli)
{
	int fl = *fli;
	int sl = *sli;

	/*
	** First, search for a block in the list associated with the given
	** fl/sl index.
	*/
	unsigned int sl_map = control->sl_bitmap[fl] & (~0U << sl);
	if (!sl_map)
	{
		/* No block exists. Search in the next largest first-level list. */
		const unsigned int fl_map = control->fl_bitmap & (~0U << (fl + 1));
		if (!fl_map)
		{
			/* No free blocks available, memory has been exhausted. */
			return 0;
		}

		fl = tlsf_ffs(fl_map);
		*fli = fl;
		sl_map = control->sl_bitmap[fl];
	}
	tlsf_assert(sl_map && "internal error - second level bitmap is null");
	sl = tlsf_ffs(sl_map);
	*sli = sl;

	/* Return the first block in the free list. */
	return control->blocks[fl][sl];
}

/* Remove a free block from the free list.*/
static void remove_free_block(control_t* control, block_header_t* block, int fl, int sl)
{
	block_header_t* prev = block->prev_free;
	block_header_t* next = block->next_free;
	tlsf_assert(prev && "prev_free field can not be null");
	tlsf_assert(next && "next_free field can not be null");
	next->prev_free = prev;
	prev->next_free = next;

	/* If this block is the head of the free list, set new head. */
	if (control->blocks[fl][sl] == block)
	{
		control->blocks[fl][sl] = next;

		/* If the new head is null, clear the bitmap. */
		if (next == &control->block_null)
		{
			control->sl_bitmap[fl] &= ~(1U << sl);

			/* If the second bitmap is now empty, clear the fl bitmap. */
			if (!control->sl_bitmap[fl])
			{
				control->fl_bitmap &= ~(1U << fl);
			}
		}
	}
}

/* Insert a free block into the free block list. */
static void insert_free_block(control_t* control, block_header_t* block, int fl, int sl)
{
	block_header_t* current = control->blocks[fl][sl];
	tlsf_assert(current && "free list cannot have a null entry");
	tlsf_assert(block && "cannot insert a null entry into the free list");
	block->next_free = current;
	block->prev_free = &control->block_null;
	current->prev_free = block;

	tlsf_assert(block_to_ptr(block) == align_ptr(block_to_ptr(block), ALIGN_SIZE)
		&& "block not aligned properly");
	/*
	** Insert the new block at the head of the list, and mark the first-
	** and second-level bitmaps appropriately.
	*/
	control->blocks[fl][sl] = block;
	control->fl_bitmap |= (1U << fl);
	control->sl_bitmap[fl] |= (1U << sl);
}

/* Remove a given block from the free list. */
static void block_remove(control_t* control, block_header_t* block)
{
	int fl, sl;
	mapping_insert(block_size(block), &fl, &sl);
	remove_free_block(control, block, fl, sl);
}

/* Insert a given block into the free list. */
static void block_insert(control_t* control, block_header_t* block)
{
	int fl, sl;
	mapping_insert(block_size(block), &fl, &sl);
	insert_free_block(control, block, fl, sl);
}

static int block_can_split(block_header_t* block, size_t size)
{
	return block_size(block) >= sizeof(block_header_t) + size;
}

/* Split a block into two, the second of which is free. */
static block_header_t* block_split(block_header_t* block, size_t size)
{
	/* Calculate the amount of space left in the remaining block. */
	block_header_t* remaining =
		offset_to_block(block_to_ptr(block), size - block_header_overhead);

	const size_t remain_size = block_size(block) - (size + block_header_overhead);

	tlsf_assert(block_to_ptr(remaining) == align_ptr(block_to_ptr(remaining), ALIGN_SIZE)
		&& "remaining block not aligned properly");

	tlsf_assert(block_size(block) == remain_size + size + block_header_overhead);
	block_set_size(remaining, remain_size);
	tlsf_assert(block_size(remaining) >= block_size_min && "block split with invalid size");

	block_set_size(block, size);
	block_mark_as_free(remaining);

	return remaining;
}

/* Absorb a free block's storage into an adjacent previous free block. */
static block_header_t* block_absorb(block_header_t* prev, block_header_t* block)
{
	tlsf_assert(!block_is_last(prev) && "previous block can't be last");
	/* Note: Leaves flags untouched. */
	prev->size += block_size(block) + block_header_overhead;
	block_link_next(prev);
	return prev;
}

/* Merge a just-freed block with an adjacent previous free block. */
static block_header_t* block_merge_prev(control_t* control, block_header_t* block)
{
	if (block_is_prev_free(block))
	{
		block_header_t* prev = block_prev(block);
		tlsf_assert(prev && "prev physical block can't be null");
		tlsf_assert(block_is_free(prev) && "prev block is not free though marked as such");
		block_remove(control, prev);
		block = block_absorb(prev, block);
	}

	return block;
}

/* Merge a just-freed block with an adjacent free block. */
static block_header_t* block_merge_next(control_t* control, block_header_t* block)
{
	block_header_t* next = block_next(block);
	tlsf_assert(next && "next physical block can't be null");

	if (block_is_free(next))
	{
		tlsf_assert(!block_is_last(block) && "previous block can't be last");
		block_remove(control, next);
		block = block_absorb(block, next);
	}

	return block;
}

/* Trim any trailing block space off the end of a block, return to pool. */
static void block_trim_free(control_t* control, block_header_t* block, size_t size)
{
	tlsf_assert(block_is_free(block) && "block must be free");
	if (block_can_split(block, size))
	{
		block_header_t* remaining_block = block_split(block, size);
		block_link_next(block);
		block_set_prev_free(remaining_block);
		block_insert(control, remaining_block);
	}
}

/* Trim any trailing block space off the end of a used block, return to pool. */
static void block_trim_used(control_t* control, block_header_t* block, size_t size)
{
	tlsf_assert(!block_is_free(block) && "block must be used");
	if (block_can_split(block, size))
	{
		/* If the next block is free, we must coalesce. */
		block_header_t* remaining_block = block_split(block, size);
		block_set_prev_used(remaining_block);

		remaining_block = block_merge_next(control, remaining_block);
		block_insert(control, remaining_block);
	}
}

static block_header_t* block_trim_free_leading(control_t* control, block_header_t* block, size_t size)
{
	block_header_t* remaining_block = block;
	if (block_can_split(block, size))
	{
		/* We want the 2nd block. */
		remaining_block = block_split(block, size - block_header_overhead);
		block_set_prev_free(remaining_block);

		block_link_next(block);
		block_insert(control, block);
	}

	return remaining_block;
}

static block_header_t* block_locate_free(control_t* control, size_t size)
{
	int fl = 0, sl = 0;
	block_header_t* block = 0;

	if (size)
	{
		mapping_search(size, &fl, &sl);
		
		/*
		** mapping_search can futz with the size, so for excessively large sizes it can sometimes wind up 
		** with indices that are off the end of the block array.
		** So, we protect against that here, since this is the only callsite of mapping_search.
		** Note that we don't need to check sl, since it comes from a modulo operation that guarantees it's always in range.
		*/
		if (fl < FL_INDEX_COUNT)
		{
			block = search_suitable_block(control, &fl, &sl);
		}
	}

	if (block)
	{
		tlsf_assert(block_size(block) >= size);
		remove_free_block(control, block, fl, sl);
	}

	return block;
}

static void* block_prepare_used(control_t* control, block_header_t* block, size_t size)
{
	void* p = 0;
	if (block)
	{
		tlsf_assert(size && "size must be non-zero");
		block_trim_free(control, block, size);
		block_mark_as_used(block);
		p = block_to_ptr(block);
	}
	return p;
}

/* Clear structure and point all empty lists at the null block. */
static void control_construct(control_t* control)
{
	int i, j;

	control->block_null.next_free = &control->block_null;
	control->block_null.prev_free = &control->block_null;

	control->fl_bitmap = 0;
	for (i = 0; i < FL_INDEX_COUNT; ++i)
	{
		control->sl_bitmap[i] = 0;
		for (j = 0; j < SL_INDEX_COUNT; ++j)
		{
			control->blocks[i][j] = &control->block_null;
		}
	}
}

/*
** Debugging utilities.
*/

typedef struct integrity_t
{
	int prev_status;
	int status;
} integrity_t;

#define tlsf_insist(x) { tlsf_assert(x); if (!(x)) { status--; } }

static void integrity_walker(void* ptr, size_t size, int used, void* user)
{
	block_header_t* block = block_from_ptr(ptr);
	integrity_t* integ = tlsf_cast(integrity_t*, user);
	const int this_prev_status = block_is_prev_free(block) ? 1 : 0;
	const int this_status = block_is_free(block) ? 1 : 0;
	const size_t this_block_size = block_size(block);

	int status = 0;
	(void)used;
	tlsf_insist(integ->prev_status == this_prev_status && "prev status incorrect");
	tlsf_insist(size == this_block_size && "block size incorrect");

	integ->prev_status = this_status;
	integ->status += status;
}

int tlsf_check(tlsf_t tlsf)
{
	int i, j;

	control_t* control = tlsf_cast(control_t*, tlsf);
	int status = 0;

	/* Check that the free lists and bitmaps are accurate. */
	for (i = 0; i < FL_INDEX_COUNT; ++i)
	{
		for (j = 0; j < SL_INDEX_COUNT; ++j)
		{
			const int fl_map = control->fl_bitmap & (1U << i);
			const int sl_list = control->sl_bitmap[i];
			const int sl_map = sl_list & (1U << j);
			const block_header_t* block = control->blocks[i][j];

			/* Check that first- and second-level lists agree. */
			if (!fl_map)
			{
				tlsf_insist(!sl_map && "second-level map must be null");
			}

			if (!sl_map)
			{
				tlsf_insist(block == &control->block_null && "block list must be null");
				continue;
			}

			/* Check that there is at least one free block. */
			tlsf_insist(sl_list && "no free blocks in second-level map");
			tlsf_insist(block != &control->block_null && "block should not be null");

			while (block != &control->block_null)
			{
				int fli, sli;
				tlsf_insist(block_is_free(block) && "block should be free");
				tlsf_insist(!block_is_prev_free(block) && "blocks should have coalesced");
				tlsf_insist(!block_is_free(block_next(block)) && "blocks should have coalesced");
				tlsf_insist(block_is_prev_free(block_next(block)) && "block should be free");
				tlsf_insist(block_size(block) >= block_size_min && "block not minimum size");

				mapping_insert(block_size(block), &fli, &sli);
				tlsf_insist(fli == i && sli == j && "block size indexed in wrong list");
				block = block->next_free;
			}
		}
	}

	return status;
}

#undef tlsf_insist

static void default_walker(void* ptr, size_t size, int used, void* user)
{
	(void)user;
  //KdPrint(("\t%p %a size: %x (%p)\n", ptr, used ? "used" : "free", (unsigned int)size, block_from_ptr(ptr)));
}

void tlsf_walk_pool(pool_t pool, tlsf_walker walker, void* user)
{
	tlsf_walker pool_walker = walker ? walker : default_walker;
	block_header_t* block =
		offset_to_block(pool, -(int)block_header_overhead);

	while (block && !block_is_last(block))
	{
		pool_walker(
			block_to_ptr(block),
			block_size(block),
			!block_is_free(block),
			user);
		block = block_next(block);
	}
}

size_t tlsf_block_size(void* ptr)
{
	size_t size = 0;
	if (ptr)
	{
		const block_header_t* block = block_from_ptr(ptr);
		size = block_size(block);
	}
	return size;
}

int tlsf_check_pool(pool_t pool)
{
	/* Check that the blocks are physically correct. */
	integrity_t integ = { 0, 0 };
	tlsf_walk_pool(pool, integrity_walker, &integ);

	return integ.status;
}

/*
** Size of the TLSF structures in a given memory block passed to
** tlsf_create, equal to the size of a control_t
*/
size_t tlsf_size(void)
{
	return sizeof(control_t);
}

size_t tlsf_align_size(void)
{
	return ALIGN_SIZE;
}

size_t tlsf_block_size_min(void)
{
	return block_size_min;
}

size_t tlsf_block_size_max(void)
{
	return block_size_max;
}

/*
** Overhead of the TLSF structures in a given memory block passed to
** tlsf_add_pool, equal to the overhead of a free block and the
** sentinel block.
*/
size_t tlsf_pool_overhead(void)
{
	return 2 * block_header_overhead;
}

size_t tlsf_alloc_overhead(void)
{
	return block_header_overhead;
}

pool_t tlsf_add_pool(tlsf_t tlsf, void* mem, size_t bytes)
{
	block_header_t* block;
	block_header_t* next;

	const size_t pool_overhead = tlsf_pool_overhead();
	const size_t pool_bytes = align_down(bytes - pool_overhead, ALIGN_SIZE);

	if (((ptrdiff_t)mem % ALIGN_SIZE) != 0)
	{
    //KdPrint(("tlsf_add_pool: Memory must be aligned by %u bytes.\n",
			//(unsigned int)ALIGN_SIZE));
		return 0;
	}

	if (pool_bytes < block_size_min || pool_bytes > block_size_max)
	{
#if defined (TLSF_64BIT)
		//KdPrint(("tlsf_add_pool: Memory size must be between 0x%x and 0x%x00 bytes.\n", 
			//(unsigned int)(pool_overhead + block_size_min),
			//(unsigned int)((pool_overhead + block_size_max) / 256)));
#else
    //KdPrint(("tlsf_add_pool: Memory size must be between %u and %u bytes.\n",
			//(unsigned int)(pool_overhead + block_size_min),
			//(unsigned int)(pool_overhead + block_size_max)));
#endif
		return 0;
	}

	/*
	** Create the main free block. Offset the start of the block slightly
	** so that the prev_phys_block field falls outside of the pool -
	** it will never be used.
	*/
	block = offset_to_block(mem, -(tlsfptr_t)block_header_overhead);
	block_set_size(block, pool_bytes);
	block_set_free(block);
	block_set_prev_used(block);
	block_insert(tlsf_cast(control_t*, tlsf), block);

	/* Split the block to create a zero-size sentinel block. */
	next = block_link_next(block);
	block_set_size(next, 0);
	block_set_used(next);
	block_set_prev_free(next);

	return mem;
}

void tlsf_remove_pool(tlsf_t tlsf, pool_t pool)
{
	control_t* control = tlsf_cast(control_t*, tlsf);
	block_header_t* block = offset_to_block(pool, -(int)block_header_overhead);

	int fl = 0, sl = 0;

	tlsf_assert(block_is_free(block) && "block should be free");
	tlsf_assert(!block_is_free(block_next(block)) && "next block should not be free");
	tlsf_assert(block_size(block_next(block)) == 0 && "next block size should be zero");

	mapping_insert(block_size(block), &fl, &sl);
	remove_free_block(control, block, fl, sl);
}

/*
** TLSF main interface.
*/

#if _DEBUG
int test_ffs_fls()
{
	/* Verify ffs/fls work properly. */
	int rv = 0;
	rv += (tlsf_ffs(0) == -1) ? 0 : 0x1;
	rv += (tlsf_fls(0) == -1) ? 0 : 0x2;
	rv += (tlsf_ffs(1) == 0) ? 0 : 0x4;
	rv += (tlsf_fls(1) == 0) ? 0 : 0x8;
	rv += (tlsf_ffs(0x80000000) == 31) ? 0 : 0x10;
	rv += (tlsf_ffs(0x80008000) == 15) ? 0 : 0x20;
	rv += (tlsf_fls(0x80000008) == 31) ? 0 : 0x40;
	rv += (tlsf_fls(0x7FFFFFFF) == 30) ? 0 : 0x80;

#if defined (TLSF_64BIT)
	rv += (tlsf_fls_sizet(0x80000000) == 31) ? 0 : 0x100;
	rv += (tlsf_fls_sizet(0x100000000) == 32) ? 0 : 0x200;
	rv += (tlsf_fls_sizet(0xffffffffffffffff) == 63) ? 0 : 0x400;
#endif

	if (rv)
	{
    //KdPrint(("test_ffs_fls: %x ffs/fls tests failed.\n", rv));
	}
	return rv;
}
#endif

tlsf_t tlsf_create(void* mem)
{
#if _DEBUG
	if (test_ffs_fls())
	{
		return 0;
	}
#endif

	if (((tlsfptr_t)mem % ALIGN_SIZE) != 0)
	{
    //KdPrint(("tlsf_create: Memory must be aligned to %u bytes.\n",
			//(unsigned int)ALIGN_SIZE));
		return 0;
	}

	control_construct(tlsf_cast(control_t*, mem));

	return tlsf_cast(tlsf_t, mem);
}

tlsf_t tlsf_create_with_pool(void* mem, size_t bytes)
{
	tlsf_t tlsf = tlsf_create(mem);
	tlsf_add_pool(tlsf, (char*)mem + tlsf_size(), bytes - tlsf_size());
	return tlsf;
}

void tlsf_destroy(tlsf_t tlsf)
{
	/* Nothing to do. */
	(void)tlsf;
}

pool_t tlsf_get_pool(tlsf_t tlsf)
{
	return tlsf_cast(pool_t, (char*)tlsf + tlsf_size());
}

void* tlsf_malloc(tlsf_t tlsf, size_t size)
{
	control_t* control = tlsf_cast(control_t*, tlsf);
	const size_t adjust = adjust_request_size(size, ALIGN_SIZE);
	block_header_t* block = block_locate_free(control, adjust);
	return block_prepare_used(control, block, adjust);
}

void* tlsf_memalign(tlsf_t tlsf, size_t align, size_t size)
{
	control_t* control = tlsf_cast(control_t*, tlsf);
	const size_t adjust = adjust_request_size(size, ALIGN_SIZE);

	/*
	** We must allocate an additional minimum block size bytes so that if
	** our free block will leave an alignment gap which is smaller, we can
	** trim a leading free block and release it back to the pool. We must
	** do this because the previous physical block is in use, therefore
	** the prev_phys_block field is not valid, and we can't simply adjust
	** the size of that block.
	*/
	const size_t gap_minimum = sizeof(block_header_t);
	const size_t size_with_gap = adjust_request_size(adjust + align + gap_minimum, align);

	/*
	** If alignment is less than or equals base alignment, we're done.
	** If we requested 0 bytes, return null, as tlsf_malloc(0) does.
	*/
	const size_t aligned_size = (adjust && align > ALIGN_SIZE) ? size_with_gap : adjust;

	block_header_t* block = block_locate_free(control, aligned_size);

	/* This can't be a static assert. */
	tlsf_assert(sizeof(block_header_t) == block_size_min + block_header_overhead);

	if (block)
	{
		void* ptr = block_to_ptr(block);
		void* aligned = align_ptr(ptr, align);
		size_t gap = tlsf_cast(size_t,
			tlsf_cast(tlsfptr_t, aligned) - tlsf_cast(tlsfptr_t, ptr));

		/* If gap size is too small, offset to next aligned boundary. */
		if (gap && gap < gap_minimum)
		{
			const size_t gap_remain = gap_minimum - gap;
			const size_t offset = tlsf_max(gap_remain, align);
			const void* next_aligned = tlsf_cast(void*,
				tlsf_cast(tlsfptr_t, aligned) + offset);

			aligned = align_ptr(next_aligned, align);
			gap = tlsf_cast(size_t,
				tlsf_cast(tlsfptr_t, aligned) - tlsf_cast(tlsfptr_t, ptr));
		}

		if (gap)
		{
			tlsf_assert(gap >= gap_minimum && "gap size too small");
			block = block_trim_free_leading(control, block, gap);
		}
	}

	return block_prepare_used(control, block, adjust);
}

void tlsf_free(tlsf_t tlsf, void* ptr)
{
	/* Don't attempt to free a NULL pointer. */
	if (ptr)
	{
		control_t* control = tlsf_cast(control_t*, tlsf);
		block_header_t* block = block_from_ptr(ptr);
		tlsf_assert(!block_is_free(block) && "block already marked as free");
		block_mark_as_free(block);
		block = block_merge_prev(control, block);
		block = block_merge_next(control, block);
		block_insert(control, block);
	}
}

/*
** The TLSF block information provides us with enough information to
** provide a reasonably intelligent implementation of realloc, growing or
** shrinking the currently allocated block as required.
**
** This routine handles the somewhat esoteric edge cases of realloc:
** - a non-zero size with a null pointer will behave like malloc
** - a zero size with a non-null pointer will behave like free
** - a request that cannot be satisfied will leave the original buffer
**   untouched
** - an extended buffer size will leave the newly-allocated area with
**   contents undefined
*/
void* tlsf_realloc(tlsf_t tlsf, void* ptr, size_t size)
{
	control_t* control = tlsf_cast(control_t*, tlsf);
	void* p = 0;

	/* Zero-size requests are treated as free. */
	if (ptr && size == 0)
	{
		tlsf_free(tlsf, ptr);
	}
	/* Requests with NULL pointers are treated as malloc. */
	else if (!ptr)
	{
		p = tlsf_malloc(tlsf, size);
	}
	else
	{
		block_header_t* block = block_from_ptr(ptr);
		block_header_t* next = block_next(block);

		const size_t cursize = block_size(block);
		const size_t combined = cursize + block_size(next) + block_header_overhead;
		const size_t adjust = adjust_request_size(size, ALIGN_SIZE);

		tlsf_assert(!block_is_free(block) && "block already marked as free");

		/*
		** If the next block is used, or when combined with the current
		** block, does not offer enough space, we must reallocate and copy.
		*/
		if (adjust > cursize && (!block_is_free(next) || adjust > combined))
		{
			p = tlsf_malloc(tlsf, size);
			if (p)
			{
				const size_t minsize = tlsf_min(cursize, size);
				memcpy(p, ptr, minsize);
				tlsf_free(tlsf, ptr);
			}
		}
		else
		{
			/* Do we need to expand to the next block? */
			if (adjust > cursize)
			{
				block_merge_next(control, block);
				block_mark_as_used(block);
			}

			/* Trim the resulting block and return the original pointer. */
			block_trim_used(control, block, adjust);
			p = ptr;
		}
	}

	return p;
}

```

`samples/template_app/tlsf.h`:

```h
#ifndef INCLUDED_tlsf
#define INCLUDED_tlsf

/*
** Two Level Segregated Fit memory allocator, version 3.1.
** Written by Matthew Conte
**	http://tlsf.baisoku.org
**
** Based on the original documentation by Miguel Masmano:
**	http://www.gii.upv.es/tlsf/main/docs
**
** This implementation was written to the specification
** of the document, therefore no GPL restrictions apply.
** 
** Copyright (c) 2006-2016, Matthew Conte
** All rights reserved.
** 
** Redistribution and use in source and binary forms, with or without
** modification, are permitted provided that the following conditions are met:
**     * Redistributions of source code must retain the above copyright
**       notice, this list of conditions and the following disclaimer.
**     * Redistributions in binary form must reproduce the above copyright
**       notice, this list of conditions and the following disclaimer in the
**       documentation and/or other materials provided with the distribution.
**     * Neither the name of the copyright holder nor the
**       names of its contributors may be used to endorse or promote products
**       derived from this software without specific prior written permission.
** 
** THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
** ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
** WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
** DISCLAIMED. IN NO EVENT SHALL MATTHEW CONTE BE LIABLE FOR ANY
** DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
** (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
** LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
** ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
** (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

#include <stddef.h>

#if defined(__cplusplus)
extern "C" {
#endif

/* tlsf_t: a TLSF structure. Can contain 1 to N pools. */
/* pool_t: a block of memory that TLSF can manage. */
typedef void* tlsf_t;
typedef void* pool_t;

/* Create/destroy a memory pool. */
tlsf_t tlsf_create(void* mem);
tlsf_t tlsf_create_with_pool(void* mem, size_t bytes);
void tlsf_destroy(tlsf_t tlsf);
pool_t tlsf_get_pool(tlsf_t tlsf);

/* Add/remove memory pools. */
pool_t tlsf_add_pool(tlsf_t tlsf, void* mem, size_t bytes);
void tlsf_remove_pool(tlsf_t tlsf, pool_t pool);

/* malloc/memalign/realloc/free replacements. */
void* tlsf_malloc(tlsf_t tlsf, size_t bytes);
void* tlsf_memalign(tlsf_t tlsf, size_t align, size_t bytes);
void* tlsf_realloc(tlsf_t tlsf, void* ptr, size_t size);
void tlsf_free(tlsf_t tlsf, void* ptr);

/* Returns internal block size, not original request size */
size_t tlsf_block_size(void* ptr);

/* Overheads/limits of internal structures. */
size_t tlsf_size(void);
size_t tlsf_align_size(void);
size_t tlsf_block_size_min(void);
size_t tlsf_block_size_max(void);
size_t tlsf_pool_overhead(void);
size_t tlsf_alloc_overhead(void);

/* Debugging. */
typedef void (*tlsf_walker)(void* ptr, size_t size, int used, void* user);
void tlsf_walk_pool(pool_t pool, tlsf_walker walker, void* user);
/* Returns nonzero if any internal consistency check fails. */
int tlsf_check(tlsf_t tlsf);
int tlsf_check_pool(pool_t pool);

#if defined(__cplusplus)
};
#endif

#endif

```

`samples/template_app/type_info.cpp`:

```cpp
#include "type_info.hpp"

type_info::type_info() noexcept : m_undecorated_name{ nullptr }, m_decorated_name{ "" }
{
}

type_info::~type_info() = default;

```

`samples/template_app/type_info.hpp`:

```hpp
class type_info
{
public:
  type_info(const type_info&) = delete;
  type_info& operator=(const type_info&) = delete;
  type_info(type_info&&) = delete;
  type_info& operator=(type_info&&) = delete;
  type_info() noexcept;
  virtual ~type_info();

private:
  const void* vftable;
  char* m_undecorated_name;
  const char m_decorated_name[1];
};

namespace exc
{
  using ::type_info;
}

```

`samples/template_app/uefi.hpp`:

```hpp
#pragma once

extern "C"
{
#include <Uefi.h>
#include <Library/UefiRuntimeServicesTableLib.h>
#include <Library/BaseLib.h>
#include <Library/UefiBootServicesTableLib.h>
#include <Library/UefiLib.h>
#include "drvproto.h"
}

// Don't delete this statement otherwise you will get a lot of build errors.
#undef _DEBUG

inline const UINT16* operator""_w(const wchar_t* str, size_t)
{
  return reinterpret_cast<const UINT16*>(str);
}

inline const short* operator""_c(const char* str, size_t)
{
  return reinterpret_cast<const short*>(str);
}

inline void dead_loop()
{
  volatile int i = 0;

  while (i != 1)
  {
    _asm("pause");
  }
}

template<class std_wstr>
UINTN Print(const std_wstr& str)
{
  if (str.data() != nullptr)
  {
    return Print(reinterpret_cast<const UINT16*>(str.data()));
  }

  return 0;
}

```